/**
 * Main Styles
 * Semantic CSS classes using Tailwind utilities
 */

@import './variables.css';
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Base Styles */
@layer base {
  * {
    @apply transition-colors duration-200;
  }

  html {
    background: transparent;
    width: 100%;
    max-width: 100vw;
  }

  body {
    @apply text-[var(--color-text-primary)] antialiased;
    @apply min-h-screen;
    background: transparent;
    width: 100%;
    max-width: 100vw;
    position: relative;
  }

  /* Demo pages only - prevent page scrolling */
  body.demo-page {
    overflow: hidden;
    height: 100vh;
  }

  #app {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    position: relative;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold text-[var(--color-text-primary)];
  }

  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }
  h4 { @apply text-xl; }

  a {
    @apply text-[var(--color-accent)] hover:text-[var(--color-accent-hover)];
    @apply transition-colors duration-[var(--transition-fast)];
  }
}

/* Layout Components */
@layer components {
  /* Container */
  .container-main {
    @apply max-w-[var(--container-max-width)] mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Header */
  .header {
    @apply sticky top-0 z-50;
    @apply backdrop-blur-md border-b border-[var(--color-border)];
    background-color: var(--color-bg-secondary);
    opacity: 0.95;
    height: var(--header-height);
  }

  .header-content {
    @apply flex items-center justify-between h-full;
  }

  /* Logo */
  .logo {
    @apply text-xl font-bold;
    @apply bg-gradient-to-r from-blue-500 to-purple-600;
    @apply bg-clip-text text-transparent;
  }

  /* Navigation */
  .nav {
    @apply flex space-x-6;
  }

  .nav-link {
    @apply text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)];
    @apply font-medium transition-colors duration-[var(--transition-fast)];
    @apply cursor-pointer;
  }

  .nav-link-active {
    @apply text-[var(--color-text-primary)] border-b-2 border-[var(--color-accent)];
  }

  /* Buttons */
  .btn {
    @apply px-4 py-2 rounded-[var(--radius-md)];
    @apply font-medium transition-all duration-[var(--transition-fast)];
    @apply cursor-pointer inline-flex items-center justify-center;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn;
    @apply bg-gradient-to-r from-purple-600 to-purple-800;
    @apply hover:from-purple-700 hover:to-purple-900;
    @apply text-white font-semibold;
    @apply transform hover:scale-105;
  }

  .btn-secondary {
    @apply btn;
    @apply bg-[var(--color-bg-secondary)] hover:bg-[var(--color-bg-tertiary)];
    @apply text-purple-600 dark:text-purple-400;
    @apply border-2 border-purple-600 dark:border-purple-400;
    @apply font-semibold;
  }

  .btn-icon {
    @apply p-2 rounded-[var(--radius-md)];
    @apply hover:bg-[var(--color-bg-tertiary)];
    @apply transition-colors duration-[var(--transition-fast)];
    @apply cursor-pointer flex items-center justify-center;
  }

  /* Cards */
  .card {
    @apply rounded-[var(--radius-lg)];
    @apply border border-[var(--color-border)];
    @apply p-6 shadow-[var(--shadow-sm)];
    @apply bg-white/50 dark:bg-gray-800/50;
  }

  .card-header {
    @apply mb-4 pb-4 border-b border-[var(--color-border)];
  }

  .card-title {
    @apply text-xl font-bold text-[var(--color-text-primary)];
  }

  .card-body {
    @apply text-[var(--color-text-secondary)];
  }

  /* Hero Section */
  .hero-section {
    @apply relative py-20 px-4;
  }

  .hero-container {
    @apply max-w-4xl mx-auto text-center;
  }

  .hero-title {
    @apply text-5xl md:text-6xl font-bold mb-6;
    @apply bg-gradient-to-r from-purple-600 to-blue-500;
    @apply bg-clip-text text-transparent;
  }

  .hero-subtitle {
    @apply text-xl md:text-2xl text-secondary mb-4;
  }

  .hero-description {
    @apply text-lg text-secondary mb-8 max-w-2xl mx-auto;
  }

  .hero-cta {
    @apply flex flex-col sm:flex-row gap-4 justify-center;
  }

  /* Features Grid */
  .features-section {
    @apply container-main section py-16;
  }

  .features-grid {
    @apply grid md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .feature-card {
    @apply card p-6;
    @apply hover:shadow-xl transition-shadow;
  }

  .feature-icon {
    @apply text-4xl mb-4;
  }

  .feature-title {
    @apply text-xl font-bold mb-2;
  }

  .feature-description {
    @apply text-secondary;
  }

  /* Code Example Card */
  .code-example-section {
    @apply container-main section py-16;
  }

  .code-example-container {
    @apply max-w-3xl mx-auto;
  }

  .code-example-card {
    @apply card overflow-hidden;
  }

  .code-example-header {
    @apply flex items-center justify-between px-6 py-3;
    @apply bg-[var(--color-bg-tertiary)];
    @apply border-b border-[var(--color-border)];
  }

  .code-example-title {
    @apply text-secondary font-mono text-sm;
  }

  .code-example-dots {
    @apply flex gap-2;
  }

  .code-dot {
    @apply w-3 h-3 rounded-full;
  }

  .code-dot-red {
    @apply code-dot bg-red-500;
  }

  .code-dot-yellow {
    @apply code-dot bg-yellow-500;
  }

  .code-dot-green {
    @apply code-dot bg-green-500;
  }

  /* Sections */
  .section {
    @apply py-12;
  }

  .section-header {
    @apply mb-8 text-center;
  }

  .section-title {
    @apply text-3xl font-bold mb-4 text-[var(--color-text-primary)];
  }

  .section-description {
    @apply text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto;
  }

  /* Page Container */
  .page {
    @apply pt-[var(--header-height)];
    @apply min-h-screen;
    background: transparent;
    width: 100%;
    max-width: 100vw;
  }

  /* Demo pages only - lock page to viewport */
  body.demo-page .page {
    overflow: hidden;
    height: 100vh;
    min-height: unset;
  }

  .page-content {
    @apply container-main py-8;
    background: transparent;
  }

  /* Footer */
  .footer {
    @apply bg-[var(--color-bg-secondary)] border-t border-[var(--color-border)];
    @apply py-8 mt-auto;
  }

  .footer-content {
    @apply text-center text-[var(--color-text-secondary)];
  }

  /* Demo Placeholder */
  .demo-placeholder {
    @apply card text-center py-24;
  }

  .demo-placeholder-text {
    @apply text-2xl font-bold text-[var(--color-text-primary)] mb-2;
  }

  .demo-placeholder-desc {
    @apply text-[var(--color-text-secondary)];
  }

  /* Utility Classes */
  .text-primary {
    @apply text-[var(--color-text-primary)];
  }

  .text-secondary {
    @apply text-[var(--color-text-secondary)];
  }

  .text-accent {
    @apply text-[var(--color-accent)];
  }

  .bg-primary {
    @apply bg-[var(--color-bg-primary)];
  }

  .bg-secondary {
    @apply bg-[var(--color-bg-secondary)];
  }

  .border-color {
    @apply border-[var(--color-border)];
  }
}

/* Alpine.js utilities */
[x-cloak] {
  @apply hidden;
}

.page-transition {
  animation: fadeIn 200ms ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Particles background */
#particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  background-color: #f9fafb; /* Light mode bg */
}

.dark #particles {
  background-color: #111827; /* Dark mode bg */
}

.content-wrapper {
  position: relative;
  z-index: 1;
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
}

/* Demo Page Layout */
.demo-layout {
  @apply flex flex-col lg:flex-row;
  /* Full viewport positioning - no gaps */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  width: 100%;
  max-width: 100vw;
}

/* Controls Panel */
.demo-controls {
  @apply fixed bottom-0 left-0 right-0 z-40;
  @apply lg:relative lg:w-[30%];
  @apply transform transition-transform duration-300 ease-in-out;
  @apply border-r-0 lg:border-r border-[var(--color-border)];
  @apply bg-white/30 dark:bg-gray-800/30;
  max-height: 80vh;
  min-width: 0; /* Prevent flex item from overflowing */
  max-width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}

@media (min-width: 1024px) {
  .demo-controls {
    max-height: 100vh;
  }
}

.demo-controls.mobile-hidden {
  @apply translate-y-full lg:translate-y-0;
}

.demo-controls.mobile-visible {
  @apply translate-y-0;
}

/* Graph Container */
.demo-graph {
  @apply flex-1 relative;
  @apply lg:w-[70%];
  @apply bg-white/95 dark:bg-gray-900/95;
  @apply overflow-hidden;
  height: 100%;
  min-width: 0; /* Prevent flex item from overflowing */
  max-width: 100%;
}

/* Mobile Toggle Button */
.demo-controls-toggle {
  @apply fixed bottom-4 right-4 z-50;
  @apply lg:hidden;
  @apply btn-primary;
  @apply shadow-lg;
  @apply w-14 h-14 rounded-full;
  @apply flex items-center justify-center;
}

/* Loading Overlay */
.demo-loading {
  @apply absolute inset-0 flex items-center justify-center;
  @apply backdrop-blur-sm z-50;
  background-color: var(--color-bg-secondary);
  opacity: 0.9;
}

.demo-loading-spinner {
  @apply inline-block animate-spin rounded-full;
  @apply h-16 w-16 border-4 border-purple-600 border-t-transparent;
}

/* Controls Content */
.demo-controls-content {
  @apply p-6;
  position: relative;
}

@media (min-width: 1024px) {
  .demo-controls-content {
    padding-top: calc(var(--header-height) + 1.5rem);
  }
}

.demo-controls-content > * + * {
  @apply mt-4;
}

.demo-controls-content > .demo-controls-section + .demo-controls-section {
  @apply mt-6;
}

.demo-controls-header {
  @apply mb-4;
}

.demo-controls-title {
  @apply text-2xl font-bold text-primary mb-2;
}

.demo-controls-description {
  @apply text-secondary;
}

.demo-controls-section {
  @apply space-y-3;
}

.demo-controls-section-title {
  @apply text-lg font-semibold text-primary mb-3;
}

/* Info Box Variants */
.info-box {
  @apply rounded-lg p-4;
}

.info-box-blue {
  @apply info-box bg-blue-50 dark:bg-blue-900/30;
}

.info-box-yellow {
  @apply info-box bg-yellow-50/30 dark:bg-yellow-900/30;
}

.info-box-purple {
  @apply info-box bg-purple-50 dark:bg-purple-900/30;
}

.info-box-green {
  @apply info-box bg-green-50 dark:bg-green-900/30;
}

/* ===========================================
   Documentation Page Styles
   =========================================== */

/* Docs Section */
.docs-section {
  @apply mb-12;
}

.docs-section-header {
  @apply text-3xl font-bold mb-8 flex items-center;
}

.docs-section-header-icon {
  @apply mr-3;
}

.docs-section-intro {
  @apply text-xl text-secondary mb-8;
}

/* Docs Cards */
.docs-card {
  @apply card p-8 mb-8;
}

.docs-card-compact {
  @apply card p-6;
}

.docs-card-title {
  @apply text-2xl font-bold text-accent mb-4;
}

.docs-card-title-blue {
  @apply text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4;
}

.docs-card-title-green {
  @apply text-2xl font-bold text-green-600 dark:text-green-400 mb-4;
}

.docs-card-title-yellow {
  @apply text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-4;
}

.docs-card-title-purple {
  @apply text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4;
}

.docs-card-title-indigo {
  @apply text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4;
}

.docs-card-title-pink {
  @apply text-2xl font-bold text-pink-600 dark:text-pink-400 mb-4;
}

.docs-card-title-orange {
  @apply text-2xl font-bold text-orange-600 dark:text-orange-400 mb-4;
}

.docs-card-title-red {
  @apply text-2xl font-bold text-red-600 dark:text-red-400 mb-4;
}

.docs-card-title-teal {
  @apply text-2xl font-bold text-teal-600 dark:text-teal-400 mb-4;
}

.docs-card-title-gray {
  @apply text-2xl font-bold text-gray-600 dark:text-gray-400 mb-4;
}

.docs-card-title-sm {
  @apply text-xl font-bold mb-3;
}

.docs-card-description {
  @apply text-secondary mb-6;
}

/* Docs Subsections */
.docs-subsection-title {
  @apply text-xl font-bold mb-3;
}

.docs-subsection-title-accent {
  @apply text-xl font-bold text-accent mb-3;
}

.docs-subsection-title-lg {
  @apply text-lg font-bold mb-3;
}

/* Method/API Documentation */
.docs-method-list {
  @apply space-y-3 mb-6;
}

.docs-method-item {
  @apply border-l-4 border-[var(--color-accent)] pl-4 py-2;
}

.docs-method-item-blue {
  @apply border-l-4 border-blue-500 pl-4 py-2;
}

.docs-method-item-green {
  @apply border-l-4 border-green-500 pl-4 py-2;
}

.docs-method-item-yellow {
  @apply border-l-4 border-yellow-500 pl-4 py-2;
}

.docs-method-item-purple {
  @apply border-l-4 border-purple-500 pl-4 py-2;
}

.docs-method-name {
  @apply text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded;
}

.docs-method-description {
  @apply text-secondary text-sm mt-1;
}

.docs-method-returns {
  @apply text-xs text-accent mt-1;
}

/* Inline Code */
.docs-code-inline {
  @apply text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded;
}

.docs-code-inline-xs {
  @apply text-xs bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded;
}

/* Code Blocks (non-highlighted) */
.docs-code-block {
  @apply bg-gray-900 rounded-lg p-4 mb-6;
}

.docs-code-block-text {
  @apply text-sm text-gray-200;
}

.docs-code-block-green {
  @apply text-green-400;
}

/* Options/Config Box */
.docs-options-box {
  @apply bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4;
}

.docs-options-title {
  @apply font-semibold mb-2;
}

.docs-options-list {
  @apply space-y-1 text-sm;
}

.docs-options-code {
  @apply text-xs;
}

/* Feature Badge */
.docs-feature-badge {
  @apply font-mono text-xs px-2 py-1 rounded mr-3;
  @apply bg-purple-100 dark:bg-purple-900/50;
  @apply text-purple-700 dark:text-purple-300;
}

.docs-feature-item {
  @apply flex items-start;
}

.docs-feature-description {
  @apply text-secondary text-sm;
}

/* Table of Contents */
.docs-toc {
  @apply card mb-12 p-6;
}

.docs-toc-title {
  @apply text-2xl font-bold mb-4;
}

.docs-toc-grid {
  @apply grid md:grid-cols-3 gap-4;
}

.docs-toc-link {
  @apply flex items-center text-accent hover:underline;
}

.docs-toc-icon {
  @apply mr-2;
}

/* Docs Page Header */
.docs-page-header {
  @apply section-header mb-12;
}

.docs-page-title {
  @apply text-5xl font-bold mb-4;
}

/* Feature Grid (for layouts) */
.docs-feature-grid {
  @apply grid md:grid-cols-2 gap-6;
}

.docs-feature-grid-item {
  @apply grid md:grid-cols-2 gap-4;
}

/* Complexity/Notes text */
.docs-complexity {
  @apply text-sm text-gray-600 dark:text-gray-400 mb-2;
}

.docs-best-for {
  @apply text-sm text-accent mb-4;
}

.docs-warning {
  @apply text-sm text-red-600 dark:text-red-400 mb-4;
}

.docs-note {
  @apply text-sm text-accent mb-8;
}

/* Tip Box */
.docs-tip-box {
  @apply card p-6 mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800;
}

/* Footer */
.docs-footer {
  @apply text-center pt-12 pb-6 border-t border-[var(--color-border)];
}

.docs-footer-link {
  @apply text-purple-600 dark:text-purple-400 hover:underline;
}

/* ===========================================
   Family/Demo Page Styles
   =========================================== */

/* Action Buttons - Base */
.action-btn {
  @apply px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm text-white;
}

.action-btn-pink {
  @apply action-btn bg-pink-600 hover:bg-pink-700;
}

.action-btn-amber {
  @apply action-btn bg-amber-700 hover:bg-amber-800;
}

.action-btn-blue {
  @apply action-btn bg-blue-600 hover:bg-blue-700;
}

.action-btn-cyan {
  @apply action-btn bg-cyan-600 hover:bg-cyan-700;
}

.action-btn-orange {
  @apply action-btn bg-orange-600 hover:bg-orange-700;
}

.action-btn-purple {
  @apply action-btn bg-purple-600 hover:bg-purple-700;
}

.action-btn-rose {
  @apply action-btn bg-rose-600 hover:bg-rose-700;
}

.action-btn-teal {
  @apply action-btn bg-teal-600 hover:bg-teal-700;
}

.action-btn-gray {
  @apply action-btn bg-gray-600 hover:bg-gray-700;
}

.action-btn-emerald {
  @apply action-btn bg-emerald-600 hover:bg-emerald-700;
}

.action-btn-indigo {
  @apply action-btn bg-indigo-600 hover:bg-indigo-700;
}

.action-btn-violet {
  @apply action-btn bg-violet-600 hover:bg-violet-700;
}

.action-btn-fuchsia {
  @apply action-btn bg-fuchsia-600 hover:bg-fuchsia-700;
}

.action-btn-red {
  @apply action-btn bg-red-600 hover:bg-red-700;
}

.action-btn-disabled {
  @apply disabled:bg-gray-400 disabled:cursor-not-allowed;
}

/* Info Box Titles */
.info-box-title {
  @apply text-lg font-semibold mb-2;
}

.info-box-title-green {
  @apply info-box-title text-green-900 dark:text-green-300;
}

.info-box-title-blue {
  @apply info-box-title text-blue-900 dark:text-blue-300;
}

/* Info Box Text */
.info-box-text-green {
  @apply text-sm text-green-800 dark:text-green-200;
}

.info-box-text-blue {
  @apply text-sm text-blue-800 dark:text-blue-200;
}

.info-box-text-yellow {
  @apply text-xs text-yellow-800 dark:text-yellow-200;
}

/* Status Section */
.status-section {
  @apply sticky top-0 z-20 backdrop-blur-md pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden;
  @apply border-b border-[var(--color-border)];
  background-color: rgba(255, 255, 255, 0.98);
}

.dark .status-section {
  background-color: rgba(31, 41, 55, 0.98);
}

.status-box {
  @apply bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm;
  @apply border border-[var(--color-border)];
}

.status-empty {
  @apply text-secondary text-center py-2;
}

.status-message {
  @apply flex items-start space-x-2;
}

.status-message-success {
  @apply status-message text-green-600 dark:text-green-400;
}

.status-message-error {
  @apply status-message text-red-600 dark:text-red-400;
}

.status-message-info {
  @apply status-message text-blue-600 dark:text-blue-400;
}

.status-icon {
  @apply flex-shrink-0 mt-0.5;
}

.status-text {
  @apply flex-1 break-words;
}

/* Button Grid */
.btn-grid {
  @apply grid grid-cols-2 gap-2;
}

/* Section with Border */
.controls-section-bordered {
  @apply demo-controls-section border-t border-[var(--color-border)] pt-4;
}

/* Legend */
.legend-list {
  @apply space-y-2 text-sm;
}

.legend-item {
  @apply flex items-center gap-2;
}

.legend-dot {
  @apply w-4 h-4 rounded-full;
}

.legend-text {
  @apply text-gray-700 dark:text-gray-300;
}

/* Render Mode Toggle */
.render-mode-container {
  @apply flex flex-wrap gap-2 mb-3;
}

.render-mode-label {
  @apply flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px];
}

.render-mode-label-active {
  @apply border-green-500 bg-green-50 dark:bg-green-900/20;
}

.render-mode-label-inactive {
  @apply border-gray-300 dark:border-gray-600 hover:border-green-300;
}

.render-mode-radio {
  @apply text-green-600 focus:ring-green-500;
}

.render-mode-icon {
  @apply text-xl;
}

.render-mode-text {
  @apply text-sm font-medium text-gray-700 dark:text-gray-300;
}

/* Loading Overlay */
.loading-overlay {
  @apply absolute inset-0 flex items-center justify-center z-10;
  @apply bg-white/90 dark:bg-gray-900/90;
}

.loading-spinner {
  @apply inline-block animate-spin rounded-full h-12 w-12 border-4 border-green-600 border-t-transparent mb-4;
}

/* Legend Title */
.legend-title {
  @apply text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3;
}
