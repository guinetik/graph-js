(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function si(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Le={},Gs=[],Et=()=>{},Ll=()=>!1,Pn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oi=t=>t.startsWith("onUpdate:"),He=Object.assign,ni=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Qd=Object.prototype.hasOwnProperty,Ne=(t,e)=>Qd.call(t,e),pe=Array.isArray,Ms=t=>Mo(t)==="[object Map]",Dn=t=>Mo(t)==="[object Set]",Wi=t=>Mo(t)==="[object Date]",ye=t=>typeof t=="function",De=t=>typeof t=="string",xt=t=>typeof t=="symbol",Ie=t=>t!==null&&typeof t=="object",El=t=>(Ie(t)||ye(t))&&ye(t.then)&&ye(t.catch),Rl=Object.prototype.toString,Mo=t=>Rl.call(t),eu=t=>Mo(t).slice(8,-1),Pl=t=>Mo(t)==="[object Object]",ri=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fo=si(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gn=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},tu=/-\w/g,mt=Gn(t=>t.replace(tu,e=>e.slice(1).toUpperCase())),su=/\B([A-Z])/g,gs=Gn(t=>t.replace(su,"-$1").toLowerCase()),Mn=Gn(t=>t.charAt(0).toUpperCase()+t.slice(1)),or=Gn(t=>t?`on${Mn(t)}`:""),ls=(t,e)=>!Object.is(t,e),sn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Dl=(t,e,s,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:s})},fn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ou=t=>{const e=De(t)?Number(t):NaN;return isNaN(e)?t:e};let Ui;const Fn=()=>Ui||(Ui=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zn(t){if(pe(t)){const e={};for(let s=0;s<t.length;s++){const o=t[s],n=De(o)?au(o):zn(o);if(n)for(const r in n)e[r]=n[r]}return e}else if(De(t)||Ie(t))return t}const nu=/;(?![^(]*\))/g,ru=/:([^]+)/,iu=/\/\*[^]*?\*\//g;function au(t){const e={};return t.replace(iu,"").split(nu).forEach(s=>{if(s){const o=s.split(ru);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function dt(t){let e="";if(De(t))e=t;else if(pe(t))for(let s=0;s<t.length;s++){const o=dt(t[s]);o&&(e+=o+" ")}else if(Ie(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const lu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cu=si(lu);function Gl(t){return!!t||t===""}function du(t,e){if(t.length!==e.length)return!1;let s=!0;for(let o=0;s&&o<t.length;o++)s=Ws(t[o],e[o]);return s}function Ws(t,e){if(t===e)return!0;let s=Wi(t),o=Wi(e);if(s||o)return s&&o?t.getTime()===e.getTime():!1;if(s=xt(t),o=xt(e),s||o)return t===e;if(s=pe(t),o=pe(e),s||o)return s&&o?du(t,e):!1;if(s=Ie(t),o=Ie(e),s||o){if(!s||!o)return!1;const n=Object.keys(t).length,r=Object.keys(e).length;if(n!==r)return!1;for(const i in t){const a=t.hasOwnProperty(i),c=e.hasOwnProperty(i);if(a&&!c||!a&&c||!Ws(t[i],e[i]))return!1}}return String(t)===String(e)}function uu(t,e){return t.findIndex(s=>Ws(s,e))}const Ml=t=>!!(t&&t.__v_isRef===!0),m=t=>De(t)?t:t==null?"":pe(t)||Ie(t)&&(t.toString===Rl||!ye(t.toString))?Ml(t)?m(t.value):JSON.stringify(t,Fl,2):String(t),Fl=(t,e)=>Ml(e)?Fl(t,e.value):Ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[o,n],r)=>(s[nr(o,r)+" =>"]=n,s),{})}:Dn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>nr(s))}:xt(e)?nr(e):Ie(e)&&!pe(e)&&!Pl(e)?String(e):e,nr=(t,e="")=>{var s;return xt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class hu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rt,!e&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=rt;try{return rt=this,e()}finally{rt=s}}}on(){++this._on===1&&(this.prevScope=rt,rt=this)}off(){this._on>0&&--this._on===0&&(rt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function fu(){return rt}let Ee;const rr=new WeakSet;class zl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rt&&rt.active&&rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rr.has(this)&&(rr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$l(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zi(this),Ol(this);const e=Ee,s=vt;Ee=this,vt=!0;try{return this.fn()}finally{Vl(this),Ee=e,vt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)li(e);this.deps=this.depsTail=void 0,Zi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ar(this)&&this.run()}get dirty(){return Ar(this)}}let Bl=0,go,po;function $l(t,e=!1){if(t.flags|=8,e){t.next=po,po=t;return}t.next=go,go=t}function ii(){Bl++}function ai(){if(--Bl>0)return;if(po){let e=po;for(po=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;go;){let e=go;for(go=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=s}}if(t)throw t}function Ol(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Vl(t){let e,s=t.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),li(o),gu(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}t.deps=e,t.depsTail=s}function Ar(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Hl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Hl(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wo)||(t.globalVersion=wo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ar(t))))return;t.flags|=2;const e=t.dep,s=Ee,o=vt;Ee=t,vt=!0;try{Ol(t);const n=t.fn(t._value);(e.version===0||ls(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ee=s,vt=o,Vl(t),t.flags&=-3}}function li(t,e=!1){const{dep:s,prevSub:o,nextSub:n}=t;if(o&&(o.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=o,t.nextSub=void 0),s.subs===t&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)li(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function gu(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let vt=!0;const Wl=[];function Jt(){Wl.push(vt),vt=!1}function Kt(){const t=Wl.pop();vt=t===void 0?!0:t}function Zi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Ee;Ee=void 0;try{e()}finally{Ee=s}}}let wo=0;class pu{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ci{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ee||!vt||Ee===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ee)s=this.activeLink=new pu(Ee,this),Ee.deps?(s.prevDep=Ee.depsTail,Ee.depsTail.nextDep=s,Ee.depsTail=s):Ee.deps=Ee.depsTail=s,Ul(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Ee.depsTail,s.nextDep=void 0,Ee.depsTail.nextDep=s,Ee.depsTail=s,Ee.deps===s&&(Ee.deps=o)}return s}trigger(e){this.version++,wo++,this.notify(e)}notify(e){ii();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ai()}}}function Ul(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)Ul(o)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Nr=new WeakMap,ks=Symbol(""),Sr=Symbol(""),_o=Symbol("");function Ze(t,e,s){if(vt&&Ee){let o=Nr.get(t);o||Nr.set(t,o=new Map);let n=o.get(s);n||(o.set(s,n=new ci),n.map=o,n.key=s),n.track()}}function Zt(t,e,s,o,n,r){const i=Nr.get(t);if(!i){wo++;return}const a=c=>{c&&c.trigger()};if(ii(),e==="clear")i.forEach(a);else{const c=pe(t),d=c&&ri(s);if(c&&s==="length"){const u=Number(o);i.forEach((h,f)=>{(f==="length"||f===_o||!xt(f)&&f>=u)&&a(h)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),d&&a(i.get(_o)),e){case"add":c?d&&a(i.get("length")):(a(i.get(ks)),Ms(t)&&a(i.get(Sr)));break;case"delete":c||(a(i.get(ks)),Ms(t)&&a(i.get(Sr)));break;case"set":Ms(t)&&a(i.get(ks));break}}ai()}function Ts(t){const e=Ce(t);return e===t?e:(Ze(e,"iterate",_o),gt(t)?e:e.map(We))}function Bn(t){return Ze(t=Ce(t),"iterate",_o),t}const mu={__proto__:null,[Symbol.iterator](){return ir(this,Symbol.iterator,We)},concat(...t){return Ts(this).concat(...t.map(e=>pe(e)?Ts(e):e))},entries(){return ir(this,"entries",t=>(t[1]=We(t[1]),t))},every(t,e){return Ft(this,"every",t,e,void 0,arguments)},filter(t,e){return Ft(this,"filter",t,e,s=>s.map(We),arguments)},find(t,e){return Ft(this,"find",t,e,We,arguments)},findIndex(t,e){return Ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ft(this,"findLast",t,e,We,arguments)},findLastIndex(t,e){return Ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return ar(this,"includes",t)},indexOf(...t){return ar(this,"indexOf",t)},join(t){return Ts(this).join(t)},lastIndexOf(...t){return ar(this,"lastIndexOf",t)},map(t,e){return Ft(this,"map",t,e,void 0,arguments)},pop(){return to(this,"pop")},push(...t){return to(this,"push",t)},reduce(t,...e){return ji(this,"reduce",t,e)},reduceRight(t,...e){return ji(this,"reduceRight",t,e)},shift(){return to(this,"shift")},some(t,e){return Ft(this,"some",t,e,void 0,arguments)},splice(...t){return to(this,"splice",t)},toReversed(){return Ts(this).toReversed()},toSorted(t){return Ts(this).toSorted(t)},toSpliced(...t){return Ts(this).toSpliced(...t)},unshift(...t){return to(this,"unshift",t)},values(){return ir(this,"values",We)}};function ir(t,e,s){const o=Bn(t),n=o[e]();return o!==t&&!gt(t)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const yu=Array.prototype;function Ft(t,e,s,o,n,r){const i=Bn(t),a=i!==t&&!gt(t),c=i[e];if(c!==yu[e]){const h=c.apply(t,r);return a?We(h):h}let d=s;i!==t&&(a?d=function(h,f){return s.call(this,We(h),f,t)}:s.length>2&&(d=function(h,f){return s.call(this,h,f,t)}));const u=c.call(i,d,o);return a&&n?n(u):u}function ji(t,e,s,o){const n=Bn(t);let r=s;return n!==t&&(gt(t)?s.length>3&&(r=function(i,a,c){return s.call(this,i,a,c,t)}):r=function(i,a,c){return s.call(this,i,We(a),c,t)}),n[e](r,...o)}function ar(t,e,s){const o=Ce(t);Ze(o,"iterate",_o);const n=o[e](...s);return(n===-1||n===!1)&&hi(s[0])?(s[0]=Ce(s[0]),o[e](...s)):n}function to(t,e,s=[]){Jt(),ii();const o=Ce(t)[e].apply(t,s);return ai(),Kt(),o}const bu=si("__proto__,__v_isRef,__isVue"),Zl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xt));function vu(t){xt(t)||(t=String(t));const e=Ce(this);return Ze(e,"has",t),e.hasOwnProperty(t)}class jl{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,o){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return o===(n?r?Tu:Kl:r?Jl:Yl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const i=pe(e);if(!n){let c;if(i&&(c=mu[s]))return c;if(s==="hasOwnProperty")return vu}const a=Reflect.get(e,s,Ve(e)?e:o);if((xt(s)?Zl.has(s):bu(s))||(n||Ze(e,"get",s),r))return a;if(Ve(a)){const c=i&&ri(s)?a:a.value;return n&&Ie(c)?Tr(c):c}return Ie(a)?n?Tr(a):$n(a):a}}class Xl extends jl{constructor(e=!1){super(!1,e)}set(e,s,o,n){let r=e[s];if(!this._isShallow){const c=ds(r);if(!gt(o)&&!ds(o)&&(r=Ce(r),o=Ce(o)),!pe(e)&&Ve(r)&&!Ve(o))return c||(r.value=o),!0}const i=pe(e)&&ri(s)?Number(s)<e.length:Ne(e,s),a=Reflect.set(e,s,o,Ve(e)?e:n);return e===Ce(n)&&(i?ls(o,r)&&Zt(e,"set",s,o):Zt(e,"add",s,o)),a}deleteProperty(e,s){const o=Ne(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&o&&Zt(e,"delete",s,void 0),n}has(e,s){const o=Reflect.has(e,s);return(!xt(s)||!Zl.has(s))&&Ze(e,"has",s),o}ownKeys(e){return Ze(e,"iterate",pe(e)?"length":ks),Reflect.ownKeys(e)}}class xu extends jl{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const wu=new Xl,_u=new xu,Cu=new Xl(!0);const Ir=t=>t,Wo=t=>Reflect.getPrototypeOf(t);function ku(t,e,s){return function(...o){const n=this.__v_raw,r=Ce(n),i=Ms(r),a=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,d=n[t](...o),u=s?Ir:e?gn:We;return!e&&Ze(r,"iterate",c?Sr:ks),{next(){const{value:h,done:f}=d.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Uo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Au(t,e){const s={get(n){const r=this.__v_raw,i=Ce(r),a=Ce(n);t||(ls(n,a)&&Ze(i,"get",n),Ze(i,"get",a));const{has:c}=Wo(i),d=e?Ir:t?gn:We;if(c.call(i,n))return d(r.get(n));if(c.call(i,a))return d(r.get(a));r!==i&&r.get(n)},get size(){const n=this.__v_raw;return!t&&Ze(Ce(n),"iterate",ks),n.size},has(n){const r=this.__v_raw,i=Ce(r),a=Ce(n);return t||(ls(n,a)&&Ze(i,"has",n),Ze(i,"has",a)),n===a?r.has(n):r.has(n)||r.has(a)},forEach(n,r){const i=this,a=i.__v_raw,c=Ce(a),d=e?Ir:t?gn:We;return!t&&Ze(c,"iterate",ks),a.forEach((u,h)=>n.call(r,d(u),d(h),i))}};return He(s,t?{add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear")}:{add(n){!e&&!gt(n)&&!ds(n)&&(n=Ce(n));const r=Ce(this);return Wo(r).has.call(r,n)||(r.add(n),Zt(r,"add",n,n)),this},set(n,r){!e&&!gt(r)&&!ds(r)&&(r=Ce(r));const i=Ce(this),{has:a,get:c}=Wo(i);let d=a.call(i,n);d||(n=Ce(n),d=a.call(i,n));const u=c.call(i,n);return i.set(n,r),d?ls(r,u)&&Zt(i,"set",n,r):Zt(i,"add",n,r),this},delete(n){const r=Ce(this),{has:i,get:a}=Wo(r);let c=i.call(r,n);c||(n=Ce(n),c=i.call(r,n)),a&&a.call(r,n);const d=r.delete(n);return c&&Zt(r,"delete",n,void 0),d},clear(){const n=Ce(this),r=n.size!==0,i=n.clear();return r&&Zt(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ku(n,t,e)}),s}function di(t,e){const s=Au(t,e);return(o,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?o:Reflect.get(Ne(s,n)&&n in o?s:o,n,r)}const Nu={get:di(!1,!1)},Su={get:di(!1,!0)},Iu={get:di(!0,!1)};const Yl=new WeakMap,Jl=new WeakMap,Kl=new WeakMap,Tu=new WeakMap;function Lu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eu(t){return t.__v_skip||!Object.isExtensible(t)?0:Lu(eu(t))}function $n(t){return ds(t)?t:ui(t,!1,wu,Nu,Yl)}function ql(t){return ui(t,!1,Cu,Su,Jl)}function Tr(t){return ui(t,!0,_u,Iu,Kl)}function ui(t,e,s,o,n){if(!Ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Eu(t);if(r===0)return t;const i=n.get(t);if(i)return i;const a=new Proxy(t,r===2?o:s);return n.set(t,a),a}function Fs(t){return ds(t)?Fs(t.__v_raw):!!(t&&t.__v_isReactive)}function ds(t){return!!(t&&t.__v_isReadonly)}function gt(t){return!!(t&&t.__v_isShallow)}function hi(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Ru(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Dl(t,"__v_skip",!0),t}const We=t=>Ie(t)?$n(t):t,gn=t=>Ie(t)?Tr(t):t;function Ve(t){return t?t.__v_isRef===!0:!1}function re(t){return Ql(t,!1)}function Pu(t){return Ql(t,!0)}function Ql(t,e){return Ve(t)?t:new Du(t,e)}class Du{constructor(e,s){this.dep=new ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Ce(e),this._value=s?e:We(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,o=this.__v_isShallow||gt(e)||ds(e);e=o?e:Ce(e),ls(e,s)&&(this._rawValue=e,this._value=o?e:We(e),this.dep.trigger())}}function g(t){return Ve(t)?t.value:t}const Gu={get:(t,e,s)=>e==="__v_raw"?t:g(Reflect.get(t,e,s)),set:(t,e,s,o)=>{const n=t[e];return Ve(n)&&!Ve(s)?(n.value=s,!0):Reflect.set(t,e,s,o)}};function ec(t){return Fs(t)?t:new Proxy(t,Gu)}class Mu{constructor(e,s,o){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return $l(this,!0),!0}get value(){const e=this.dep.track();return Hl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Fu(t,e,s=!1){let o,n;return ye(t)?o=t:(o=t.get,n=t.set),new Mu(o,n,s)}const Zo={},pn=new WeakMap;let vs;function zu(t,e=!1,s=vs){if(s){let o=pn.get(s);o||pn.set(s,o=[]),o.push(t)}}function Bu(t,e,s=Le){const{immediate:o,deep:n,once:r,scheduler:i,augmentJob:a,call:c}=s,d=x=>n?x:gt(x)||n===!1||n===0?jt(x,1):jt(x);let u,h,f,p,y=!1,b=!1;if(Ve(t)?(h=()=>t.value,y=gt(t)):Fs(t)?(h=()=>d(t),y=!0):pe(t)?(b=!0,y=t.some(x=>Fs(x)||gt(x)),h=()=>t.map(x=>{if(Ve(x))return x.value;if(Fs(x))return d(x);if(ye(x))return c?c(x,2):x()})):ye(t)?e?h=c?()=>c(t,2):t:h=()=>{if(f){Jt();try{f()}finally{Kt()}}const x=vs;vs=u;try{return c?c(t,3,[p]):t(p)}finally{vs=x}}:h=Et,e&&n){const x=h,D=n===!0?1/0:n;h=()=>jt(x(),D)}const k=fu(),w=()=>{u.stop(),k&&k.active&&ni(k.effects,u)};if(r&&e){const x=e;e=(...D)=>{x(...D),w()}}let A=b?new Array(t.length).fill(Zo):Zo;const I=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const D=u.run();if(n||y||(b?D.some((Z,H)=>ls(Z,A[H])):ls(D,A))){f&&f();const Z=vs;vs=u;try{const H=[D,A===Zo?void 0:b&&A[0]===Zo?[]:A,p];A=D,c?c(e,3,H):e(...H)}finally{vs=Z}}}else u.run()};return a&&a(I),u=new zl(h),u.scheduler=i?()=>i(I,!1):I,p=x=>zu(x,!1,u),f=u.onStop=()=>{const x=pn.get(u);if(x){if(c)c(x,4);else for(const D of x)D();pn.delete(u)}},e?o?I(!0):A=u.run():i?i(I.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function jt(t,e=1/0,s){if(e<=0||!Ie(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Ve(t))jt(t.value,e,s);else if(pe(t))for(let o=0;o<t.length;o++)jt(t[o],e,s);else if(Dn(t)||Ms(t))t.forEach(o=>{jt(o,e,s)});else if(Pl(t)){for(const o in t)jt(t[o],e,s);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&jt(t[o],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fo(t,e,s,o){try{return o?t(...o):t()}catch(n){On(n,e,s)}}function wt(t,e,s,o){if(ye(t)){const n=Fo(t,e,s,o);return n&&El(n)&&n.catch(r=>{On(r,e,s)}),n}if(pe(t)){const n=[];for(let r=0;r<t.length;r++)n.push(wt(t[r],e,s,o));return n}}function On(t,e,s,o=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Le;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,c,d)===!1)return}a=a.parent}if(r){Jt(),Fo(r,null,10,[t,c,d]),Kt();return}}$u(t,s,n,o,i)}function $u(t,e,s,o=!0,n=!1){if(n)throw t;console.error(t)}const Qe=[];let It=-1;const zs=[];let os=null,Rs=0;const tc=Promise.resolve();let mn=null;function qs(t){const e=mn||tc;return t?e.then(this?t.bind(this):t):e}function Ou(t){let e=It+1,s=Qe.length;for(;e<s;){const o=e+s>>>1,n=Qe[o],r=Co(n);r<t||r===t&&n.flags&2?e=o+1:s=o}return e}function fi(t){if(!(t.flags&1)){const e=Co(t),s=Qe[Qe.length-1];!s||!(t.flags&2)&&e>=Co(s)?Qe.push(t):Qe.splice(Ou(e),0,t),t.flags|=1,sc()}}function sc(){mn||(mn=tc.then(nc))}function Vu(t){pe(t)?zs.push(...t):os&&t.id===-1?os.splice(Rs+1,0,t):t.flags&1||(zs.push(t),t.flags|=1),sc()}function Xi(t,e,s=It+1){for(;s<Qe.length;s++){const o=Qe[s];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Qe.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function oc(t){if(zs.length){const e=[...new Set(zs)].sort((s,o)=>Co(s)-Co(o));if(zs.length=0,os){os.push(...e);return}for(os=e,Rs=0;Rs<os.length;Rs++){const s=os[Rs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}os=null,Rs=0}}const Co=t=>t.id==null?t.flags&2?-1:1/0:t.id;function nc(t){try{for(It=0;It<Qe.length;It++){const e=Qe[It];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Fo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;It<Qe.length;It++){const e=Qe[It];e&&(e.flags&=-2)}It=-1,Qe.length=0,oc(),mn=null,(Qe.length||zs.length)&&nc()}}let Ue=null,rc=null;function yn(t){const e=Ue;return Ue=t,rc=t&&t.type.__scopeId||null,e}function Fe(t,e=Ue,s){if(!e||t._n)return t;const o=(...n)=>{o._d&&xn(-1);const r=yn(e);let i;try{i=t(...n)}finally{yn(r),o._d&&xn(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function et(t,e){if(Ue===null)return t;const s=jn(Ue),o=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[r,i,a,c=Le]=e[n];r&&(ye(r)&&(r={mounted:r,updated:r}),r.deep&&jt(i),o.push({dir:r,instance:s,value:i,oldValue:void 0,arg:a,modifiers:c}))}return t}function ps(t,e,s,o){const n=t.dirs,r=e&&e.dirs;for(let i=0;i<n.length;i++){const a=n[i];r&&(a.oldValue=r[i].value);let c=a.dir[o];c&&(Jt(),wt(c,s,8,[t.el,a,t,e]),Kt())}}const ic=Symbol("_vte"),ac=t=>t.__isTeleport,mo=t=>t&&(t.disabled||t.disabled===""),Yi=t=>t&&(t.defer||t.defer===""),Ji=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ki=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Lr=(t,e)=>{const s=t&&t.to;return De(s)?e?e(s):null:s},lc={name:"Teleport",__isTeleport:!0,process(t,e,s,o,n,r,i,a,c,d){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:y,createText:b,createComment:k}}=d,w=mo(e.props);let{shapeFlag:A,children:I,dynamicChildren:x}=e;if(t==null){const D=e.el=b(""),Z=e.anchor=b("");p(D,s,o),p(Z,s,o);const H=(W,Y)=>{A&16&&u(I,W,Y,n,r,i,a,c)},Q=()=>{const W=e.target=Lr(e.props,y),Y=cc(W,e,b,p);W&&(i!=="svg"&&Ji(W)?i="svg":i!=="mathml"&&Ki(W)&&(i="mathml"),n&&n.isCE&&(n.ce._teleportTargets||(n.ce._teleportTargets=new Set)).add(W),w||(H(W,Y),on(e,!1)))};w&&(H(s,Z),on(e,!0)),Yi(e.props)?(e.el.__isMounted=!1,Ke(()=>{Q(),delete e.el.__isMounted},r)):Q()}else{if(Yi(e.props)&&t.el.__isMounted===!1){Ke(()=>{lc.process(t,e,s,o,n,r,i,a,c,d)},r);return}e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,Z=e.target=t.target,H=e.targetAnchor=t.targetAnchor,Q=mo(t.props),W=Q?s:Z,Y=Q?D:H;if(i==="svg"||Ji(Z)?i="svg":(i==="mathml"||Ki(Z))&&(i="mathml"),x?(f(t.dynamicChildren,x,W,n,r,i,a),mi(t,e,!0)):c||h(t,e,W,Y,n,r,i,a,!1),w)Q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):jo(e,s,D,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=Lr(e.props,y);V&&jo(e,V,null,d,0)}else Q&&jo(e,Z,H,d,1);on(e,w)}},remove(t,e,s,{um:o,o:{remove:n}},r){const{shapeFlag:i,children:a,anchor:c,targetStart:d,targetAnchor:u,target:h,props:f}=t;if(h&&(n(d),n(u)),r&&n(c),i&16){const p=r||!mo(f);for(let y=0;y<a.length;y++){const b=a[y];o(b,e,s,p,!!b.dynamicChildren)}}},move:jo,hydrate:Hu};function jo(t,e,s,{o:{insert:o},m:n},r=2){r===0&&o(t.targetAnchor,e,s);const{el:i,anchor:a,shapeFlag:c,children:d,props:u}=t,h=r===2;if(h&&o(i,e,s),(!h||mo(u))&&c&16)for(let f=0;f<d.length;f++)n(d[f],e,s,2);h&&o(a,e,s)}function Hu(t,e,s,o,n,r,{o:{nextSibling:i,parentNode:a,querySelector:c,insert:d,createText:u}},h){function f(b,k,w,A){k.anchor=h(i(b),k,a(b),s,o,n,r),k.targetStart=w,k.targetAnchor=A}const p=e.target=Lr(e.props,c),y=mo(e.props);if(p){const b=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)f(t,e,b,b&&i(b));else{e.anchor=i(t);let k=b;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")e.targetStart=k;else if(k.data==="teleport anchor"){e.targetAnchor=k,p._lpa=e.targetAnchor&&i(e.targetAnchor);break}}k=i(k)}e.targetAnchor||cc(p,e,u,d),h(b&&i(b),e,p,s,o,n,r)}on(e,y)}else y&&e.shapeFlag&16&&f(t,e,t,i(t));return e.anchor&&i(e.anchor)}const Wu=lc;function on(t,e){const s=t.ctx;if(s&&s.ut){let o,n;for(e?(o=t.el,n=t.anchor):(o=t.targetStart,n=t.targetAnchor);o&&o!==n;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function cc(t,e,s,o){const n=e.targetStart=s(""),r=e.targetAnchor=s("");return n[ic]=r,t&&(o(n,t),o(r,t)),r}const Wt=Symbol("_leaveCb"),Xo=Symbol("_enterCb");function Uu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qs(()=>{t.isMounted=!0}),bc(()=>{t.isUnmounting=!0}),t}const ft=[Function,Array],dc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},uc=t=>{const e=t.subTree;return e.component?uc(e.component):e},Zu={name:"BaseTransition",props:dc,setup(t,{slots:e}){const s=Oc(),o=Uu();return()=>{const n=e.default&&gc(e.default(),!0);if(!n||!n.length)return;const r=hc(n),i=Ce(t),{mode:a}=i;if(o.isLeaving)return lr(r);const c=qi(r);if(!c)return lr(r);let d=Er(c,i,o,s,h=>d=h);c.type!==Xe&&ko(c,d);let u=s.subTree&&qi(s.subTree);if(u&&u.type!==Xe&&!ws(u,c)&&uc(s).type!==Xe){let h=Er(u,i,o,s);if(ko(u,h),a==="out-in"&&c.type!==Xe)return o.isLeaving=!0,h.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,u=void 0},lr(r);a==="in-out"&&c.type!==Xe?h.delayLeave=(f,p,y)=>{const b=fc(o,u);b[String(u.key)]=u,f[Wt]=()=>{p(),f[Wt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{y(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function hc(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Xe){e=s;break}}return e}const ju=Zu;function fc(t,e){const{leavingVNodes:s}=t;let o=s.get(e.type);return o||(o=Object.create(null),s.set(e.type,o)),o}function Er(t,e,s,o,n){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:k,onAppear:w,onAfterAppear:A,onAppearCancelled:I}=e,x=String(t.key),D=fc(s,t),Z=(W,Y)=>{W&&wt(W,o,9,Y)},H=(W,Y)=>{const V=Y[1];Z(W,Y),pe(W)?W.every(R=>R.length<=1)&&V():W.length<=1&&V()},Q={mode:i,persisted:a,beforeEnter(W){let Y=c;if(!s.isMounted)if(r)Y=k||c;else return;W[Wt]&&W[Wt](!0);const V=D[x];V&&ws(t,V)&&V.el[Wt]&&V.el[Wt](),Z(Y,[W])},enter(W){let Y=d,V=u,R=h;if(!s.isMounted)if(r)Y=w||d,V=A||u,R=I||h;else return;let M=!1;const C=W[Xo]=G=>{M||(M=!0,G?Z(R,[W]):Z(V,[W]),Q.delayedLeave&&Q.delayedLeave(),W[Xo]=void 0)};Y?H(Y,[W,C]):C()},leave(W,Y){const V=String(t.key);if(W[Xo]&&W[Xo](!0),s.isUnmounting)return Y();Z(f,[W]);let R=!1;const M=W[Wt]=C=>{R||(R=!0,Y(),C?Z(b,[W]):Z(y,[W]),W[Wt]=void 0,D[V]===t&&delete D[V])};D[V]=t,p?H(p,[W,M]):M()},clone(W){const Y=Er(W,e,s,o,n);return n&&n(Y),Y}};return Q}function lr(t){if(Vn(t))return t=hs(t),t.children=null,t}function qi(t){if(!Vn(t))return ac(t.type)&&t.children?hc(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&ye(s.default))return s.default()}}function ko(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ko(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gc(t,e=!1,s){let o=[],n=0;for(let r=0;r<t.length;r++){let i=t[r];const a=s==null?i.key:String(s)+String(i.key!=null?i.key:r);i.type===Pe?(i.patchFlag&128&&n++,o=o.concat(gc(i.children,e,a))):(e||i.type!==Xe)&&o.push(a!=null?hs(i,{key:a}):i)}if(n>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function pc(t,e){return ye(t)?He({name:t.name},e,{setup:t}):t}function mc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const bn=new WeakMap;function yo(t,e,s,o,n=!1){if(pe(t)){t.forEach((y,b)=>yo(y,e&&(pe(e)?e[b]:e),s,o,n));return}if(Bs(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&yo(t,e,s,o.component.subTree);return}const r=o.shapeFlag&4?jn(o.component):o.el,i=n?null:r,{i:a,r:c}=t,d=e&&e.r,u=a.refs===Le?a.refs={}:a.refs,h=a.setupState,f=Ce(h),p=h===Le?Ll:y=>Ne(f,y);if(d!=null&&d!==c){if(Qi(e),De(d))u[d]=null,p(d)&&(h[d]=null);else if(Ve(d)){d.value=null;const y=e;y.k&&(u[y.k]=null)}}if(ye(c))Fo(c,a,12,[i,u]);else{const y=De(c),b=Ve(c);if(y||b){const k=()=>{if(t.f){const w=y?p(c)?h[c]:u[c]:c.value;if(n)pe(w)&&ni(w,r);else if(pe(w))w.includes(r)||w.push(r);else if(y)u[c]=[r],p(c)&&(h[c]=u[c]);else{const A=[r];c.value=A,t.k&&(u[t.k]=A)}}else y?(u[c]=i,p(c)&&(h[c]=i)):b&&(c.value=i,t.k&&(u[t.k]=i))};if(i){const w=()=>{k(),bn.delete(t)};w.id=-1,bn.set(t,w),Ke(w,s)}else Qi(t),k()}}}function Qi(t){const e=bn.get(t);e&&(e.flags|=8,bn.delete(t))}Fn().requestIdleCallback;Fn().cancelIdleCallback;const Bs=t=>!!t.type.__asyncLoader,Vn=t=>t.type.__isKeepAlive;function Xu(t,e){yc(t,"a",e)}function Yu(t,e){yc(t,"da",e)}function yc(t,e,s=Ye){const o=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Hn(e,o,s),s){let n=s.parent;for(;n&&n.parent;)Vn(n.parent.vnode)&&Ju(o,e,s,n),n=n.parent}}function Ju(t,e,s,o){const n=Hn(e,t,o,!0);Wn(()=>{ni(o[e],n)},s)}function Hn(t,e,s=Ye,o=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...i)=>{Jt();const a=zo(s),c=wt(e,s,t,i);return a(),Kt(),c});return o?n.unshift(r):n.push(r),r}}const Qt=t=>(e,s=Ye)=>{(!So||t==="sp")&&Hn(t,(...o)=>e(...o),s)},Ku=Qt("bm"),Qs=Qt("m"),qu=Qt("bu"),Qu=Qt("u"),bc=Qt("bum"),Wn=Qt("um"),eh=Qt("sp"),th=Qt("rtg"),sh=Qt("rtc");function oh(t,e=Ye){Hn("ec",t,e)}const vc="components";function Rr(t,e){return wc(vc,t,!0,e)||t}const xc=Symbol.for("v-ndc");function nh(t){return De(t)?wc(vc,t,!1)||t:t||xc}function wc(t,e,s=!0,o=!1){const n=Ue||Ye;if(n){const r=n.type;{const a=Uh(r,!1);if(a&&(a===e||a===mt(e)||a===Mn(mt(e))))return r}const i=ea(n[t]||r[t],e)||ea(n.appContext[t],e);return!i&&o?r:i}}function ea(t,e){return t&&(t[e]||t[mt(e)]||t[Mn(mt(e))])}function cs(t,e,s,o){let n;const r=s,i=pe(t);if(i||De(t)){const a=i&&Fs(t);let c=!1,d=!1;a&&(c=!gt(t),d=ds(t),t=Bn(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(c?d?gn(We(t[u])):We(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,r)}else if(Ie(t))if(t[Symbol.iterator])n=Array.from(t,(a,c)=>e(a,c,void 0,r));else{const a=Object.keys(t);n=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const u=a[c];n[c]=e(t[u],u,c,r)}}else n=[];return n}function Pr(t,e,s={},o,n){if(Ue.ce||Ue.parent&&Bs(Ue.parent)&&Ue.parent.ce){const d=Object.keys(s).length>0;return e!=="default"&&(s.name=e),O(),us(Pe,null,[xe("slot",s,o)],d?-2:64)}let r=t[e];r&&r._c&&(r._d=!1),O();const i=r&&_c(r(s)),a=s.key||i&&i.key,c=us(Pe,{key:(a&&!xt(a)?a:`_${e}`)+(!i&&o?"_fb":"")},i||[],i&&t._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function _c(t){return t.some(e=>No(e)?!(e.type===Xe||e.type===Pe&&!_c(e.children)):!0)?t:null}const Dr=t=>t?Vc(t)?jn(t):Dr(t.parent):null,bo=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dr(t.parent),$root:t=>Dr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>kc(t),$forceUpdate:t=>t.f||(t.f=()=>{fi(t.update)}),$nextTick:t=>t.n||(t.n=qs.bind(t.proxy)),$watch:t=>Ah.bind(t)}),cr=(t,e)=>t!==Le&&!t.__isScriptSetup&&Ne(t,e),rh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:r,accessCache:i,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return o[e];case 2:return n[e];case 4:return s[e];case 3:return r[e]}else{if(cr(o,e))return i[e]=1,o[e];if(n!==Le&&Ne(n,e))return i[e]=2,n[e];if((d=t.propsOptions[0])&&Ne(d,e))return i[e]=3,r[e];if(s!==Le&&Ne(s,e))return i[e]=4,s[e];Gr&&(i[e]=0)}}const u=bo[e];let h,f;if(u)return e==="$attrs"&&Ze(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==Le&&Ne(s,e))return i[e]=4,s[e];if(f=c.config.globalProperties,Ne(f,e))return f[e]},set({_:t},e,s){const{data:o,setupState:n,ctx:r}=t;return cr(n,e)?(n[e]=s,!0):o!==Le&&Ne(o,e)?(o[e]=s,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:o,appContext:n,propsOptions:r,type:i}},a){let c,d;return!!(s[a]||t!==Le&&a[0]!=="$"&&Ne(t,a)||cr(e,a)||(c=r[0])&&Ne(c,a)||Ne(o,a)||Ne(bo,a)||Ne(n.config.globalProperties,a)||(d=i.__cssModules)&&d[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ta(t){return pe(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Gr=!0;function ih(t){const e=kc(t),s=t.proxy,o=t.ctx;Gr=!1,e.beforeCreate&&sa(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:i,watch:a,provide:c,inject:d,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:y,activated:b,deactivated:k,beforeDestroy:w,beforeUnmount:A,destroyed:I,unmounted:x,render:D,renderTracked:Z,renderTriggered:H,errorCaptured:Q,serverPrefetch:W,expose:Y,inheritAttrs:V,components:R,directives:M,filters:C}=e;if(d&&ah(d,o,null),i)for(const F in i){const U=i[F];ye(U)&&(o[F]=U.bind(s))}if(n){const F=n.call(s,s);Ie(F)&&(t.data=$n(F))}if(Gr=!0,r)for(const F in r){const U=r[F],oe=ye(U)?U.bind(s,s):ye(U.get)?U.get.bind(s,s):Et,ce=!ye(U)&&ye(U.set)?U.set.bind(s):Et,X=tt({get:oe,set:ce});Object.defineProperty(o,F,{enumerable:!0,configurable:!0,get:()=>X.value,set:ie=>X.value=ie})}if(a)for(const F in a)Cc(a[F],o,s,F);if(c){const F=ye(c)?c.call(s):c;Reflect.ownKeys(F).forEach(U=>{nn(U,F[U])})}u&&sa(u,t,"c");function T(F,U){pe(U)?U.forEach(oe=>F(oe.bind(s))):U&&F(U.bind(s))}if(T(Ku,h),T(Qs,f),T(qu,p),T(Qu,y),T(Xu,b),T(Yu,k),T(oh,Q),T(sh,Z),T(th,H),T(bc,A),T(Wn,x),T(eh,W),pe(Y))if(Y.length){const F=t.exposed||(t.exposed={});Y.forEach(U=>{Object.defineProperty(F,U,{get:()=>s[U],set:oe=>s[U]=oe,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===Et&&(t.render=D),V!=null&&(t.inheritAttrs=V),R&&(t.components=R),M&&(t.directives=M),W&&mc(t)}function ah(t,e,s=Et){pe(t)&&(t=Mr(t));for(const o in t){const n=t[o];let r;Ie(n)?"default"in n?r=Rt(n.from||o,n.default,!0):r=Rt(n.from||o):r=Rt(n),Ve(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):e[o]=r}}function sa(t,e,s){wt(pe(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,s)}function Cc(t,e,s,o){let n=o.includes(".")?Mc(s,o):()=>s[o];if(De(t)){const r=e[t];ye(r)&&pt(n,r)}else if(ye(t))pt(n,t.bind(s));else if(Ie(t))if(pe(t))t.forEach(r=>Cc(r,e,s,o));else{const r=ye(t.handler)?t.handler.bind(s):e[t.handler];ye(r)&&pt(n,r,t)}}function kc(t){const e=t.type,{mixins:s,extends:o}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:i}}=t.appContext,a=r.get(e);let c;return a?c=a:!n.length&&!s&&!o?c=e:(c={},n.length&&n.forEach(d=>vn(c,d,i,!0)),vn(c,e,i)),Ie(e)&&r.set(e,c),c}function vn(t,e,s,o=!1){const{mixins:n,extends:r}=e;r&&vn(t,r,s,!0),n&&n.forEach(i=>vn(t,i,s,!0));for(const i in e)if(!(o&&i==="expose")){const a=lh[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const lh={data:oa,props:na,emits:na,methods:co,computed:co,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:co,directives:co,watch:dh,provide:oa,inject:ch};function oa(t,e){return e?t?function(){return He(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function ch(t,e){return co(Mr(t),Mr(e))}function Mr(t){if(pe(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Je(t,e){return t?[...new Set([].concat(t,e))]:e}function co(t,e){return t?He(Object.create(null),t,e):e}function na(t,e){return t?pe(t)&&pe(e)?[...new Set([...t,...e])]:He(Object.create(null),ta(t),ta(e??{})):e}function dh(t,e){if(!t)return e;if(!e)return t;const s=He(Object.create(null),t);for(const o in e)s[o]=Je(t[o],e[o]);return s}function Ac(){return{app:null,config:{isNativeTag:Ll,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uh=0;function hh(t,e){return function(o,n=null){ye(o)||(o=He({},o)),n!=null&&!Ie(n)&&(n=null);const r=Ac(),i=new WeakSet,a=[];let c=!1;const d=r.app={_uid:uh++,_component:o,_props:n,_container:null,_context:r,_instance:null,version:jh,get config(){return r.config},set config(u){},use(u,...h){return i.has(u)||(u&&ye(u.install)?(i.add(u),u.install(d,...h)):ye(u)&&(i.add(u),u(d,...h))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,h){return h?(r.components[u]=h,d):r.components[u]},directive(u,h){return h?(r.directives[u]=h,d):r.directives[u]},mount(u,h,f){if(!c){const p=d._ceVNode||xe(o,n);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(p,u,f),c=!0,d._container=u,u.__vue_app__=d,jn(p.component)}},onUnmount(u){a.push(u)},unmount(){c&&(wt(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(u,h){return r.provides[u]=h,d},runWithContext(u){const h=$s;$s=d;try{return u()}finally{$s=h}}};return d}}let $s=null;function nn(t,e){if(Ye){let s=Ye.provides;const o=Ye.parent&&Ye.parent.provides;o===s&&(s=Ye.provides=Object.create(o)),s[t]=e}}function Rt(t,e,s=!1){const o=Oc();if(o||$s){let n=$s?$s._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&ye(e)?e.call(o&&o.proxy):e}}const Nc={},Sc=()=>Object.create(Nc),Ic=t=>Object.getPrototypeOf(t)===Nc;function fh(t,e,s,o=!1){const n={},r=Sc();t.propsDefaults=Object.create(null),Tc(t,e,n,r);for(const i in t.propsOptions[0])i in n||(n[i]=void 0);s?t.props=o?n:ql(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function gh(t,e,s,o){const{props:n,attrs:r,vnode:{patchFlag:i}}=t,a=Ce(n),[c]=t.propsOptions;let d=!1;if((o||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Un(t.emitsOptions,f))continue;const p=e[f];if(c)if(Ne(r,f))p!==r[f]&&(r[f]=p,d=!0);else{const y=mt(f);n[y]=Fr(c,a,y,p,t,!1)}else p!==r[f]&&(r[f]=p,d=!0)}}}else{Tc(t,e,n,r)&&(d=!0);let u;for(const h in a)(!e||!Ne(e,h)&&((u=gs(h))===h||!Ne(e,u)))&&(c?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=Fr(c,a,h,void 0,t,!0)):delete n[h]);if(r!==a)for(const h in r)(!e||!Ne(e,h))&&(delete r[h],d=!0)}d&&Zt(t.attrs,"set","")}function Tc(t,e,s,o){const[n,r]=t.propsOptions;let i=!1,a;if(e)for(let c in e){if(fo(c))continue;const d=e[c];let u;n&&Ne(n,u=mt(c))?!r||!r.includes(u)?s[u]=d:(a||(a={}))[u]=d:Un(t.emitsOptions,c)||(!(c in o)||d!==o[c])&&(o[c]=d,i=!0)}if(r){const c=Ce(s),d=a||Le;for(let u=0;u<r.length;u++){const h=r[u];s[h]=Fr(n,c,h,d[h],t,!Ne(d,h))}}return i}function Fr(t,e,s,o,n,r){const i=t[s];if(i!=null){const a=Ne(i,"default");if(a&&o===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&ye(c)){const{propsDefaults:d}=n;if(s in d)o=d[s];else{const u=zo(n);o=d[s]=c.call(null,e),u()}}else o=c;n.ce&&n.ce._setProp(s,o)}i[0]&&(r&&!a?o=!1:i[1]&&(o===""||o===gs(s))&&(o=!0))}return o}const ph=new WeakMap;function Lc(t,e,s=!1){const o=s?ph:e.propsCache,n=o.get(t);if(n)return n;const r=t.props,i={},a=[];let c=!1;if(!ye(t)){const u=h=>{c=!0;const[f,p]=Lc(h,e,!0);He(i,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!c)return Ie(t)&&o.set(t,Gs),Gs;if(pe(r))for(let u=0;u<r.length;u++){const h=mt(r[u]);ra(h)&&(i[h]=Le)}else if(r)for(const u in r){const h=mt(u);if(ra(h)){const f=r[u],p=i[h]=pe(f)||ye(f)?{type:f}:He({},f),y=p.type;let b=!1,k=!0;if(pe(y))for(let w=0;w<y.length;++w){const A=y[w],I=ye(A)&&A.name;if(I==="Boolean"){b=!0;break}else I==="String"&&(k=!1)}else b=ye(y)&&y.name==="Boolean";p[0]=b,p[1]=k,(b||Ne(p,"default"))&&a.push(h)}}const d=[i,a];return Ie(t)&&o.set(t,d),d}function ra(t){return t[0]!=="$"&&!fo(t)}const gi=t=>t==="_"||t==="_ctx"||t==="$stable",pi=t=>pe(t)?t.map(Tt):[Tt(t)],mh=(t,e,s)=>{if(e._n)return e;const o=Fe((...n)=>pi(e(...n)),s);return o._c=!1,o},Ec=(t,e,s)=>{const o=t._ctx;for(const n in t){if(gi(n))continue;const r=t[n];if(ye(r))e[n]=mh(n,r,o);else if(r!=null){const i=pi(r);e[n]=()=>i}}},Rc=(t,e)=>{const s=pi(e);t.slots.default=()=>s},Pc=(t,e,s)=>{for(const o in e)(s||!gi(o))&&(t[o]=e[o])},yh=(t,e,s)=>{const o=t.slots=Sc();if(t.vnode.shapeFlag&32){const n=e._;n?(Pc(o,e,s),s&&Dl(o,"_",n,!0)):Ec(e,o)}else e&&Rc(t,e)},bh=(t,e,s)=>{const{vnode:o,slots:n}=t;let r=!0,i=Le;if(o.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:Pc(n,e,s):(r=!e.$stable,Ec(e,n)),i=e}else e&&(Rc(t,e),i={default:1});if(r)for(const a in n)!gi(a)&&i[a]==null&&delete n[a]},Ke=Ph;function vh(t){return xh(t)}function xh(t,e){const s=Fn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:r,createElement:i,createText:a,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Et,insertStaticContent:y}=t,b=(v,_,N,B=null,$=null,z=null,se=void 0,L=null,E=!!_.dynamicChildren)=>{if(v===_)return;v&&!ws(v,_)&&(B=S(v),ie(v,$,z,!0),v=null),_.patchFlag===-2&&(E=!1,_.dynamicChildren=null);const{type:P,ref:fe,shapeFlag:ne}=_;switch(P){case Zn:k(v,_,N,B);break;case Xe:w(v,_,N,B);break;case ur:v==null&&A(_,N,B,se);break;case Pe:R(v,_,N,B,$,z,se,L,E);break;default:ne&1?D(v,_,N,B,$,z,se,L,E):ne&6?M(v,_,N,B,$,z,se,L,E):(ne&64||ne&128)&&P.process(v,_,N,B,$,z,se,L,E,ue)}fe!=null&&$?yo(fe,v&&v.ref,z,_||v,!_):fe==null&&v&&v.ref!=null&&yo(v.ref,null,z,v,!0)},k=(v,_,N,B)=>{if(v==null)o(_.el=a(_.children),N,B);else{const $=_.el=v.el;_.children!==v.children&&d($,_.children)}},w=(v,_,N,B)=>{v==null?o(_.el=c(_.children||""),N,B):_.el=v.el},A=(v,_,N,B)=>{[v.el,v.anchor]=y(v.children,_,N,B,v.el,v.anchor)},I=({el:v,anchor:_},N,B)=>{let $;for(;v&&v!==_;)$=f(v),o(v,N,B),v=$;o(_,N,B)},x=({el:v,anchor:_})=>{let N;for(;v&&v!==_;)N=f(v),n(v),v=N;n(_)},D=(v,_,N,B,$,z,se,L,E)=>{_.type==="svg"?se="svg":_.type==="math"&&(se="mathml"),v==null?Z(_,N,B,$,z,se,L,E):W(v,_,$,z,se,L,E)},Z=(v,_,N,B,$,z,se,L)=>{let E,P;const{props:fe,shapeFlag:ne,transition:he,dirs:me}=v;if(E=v.el=i(v.type,z,fe&&fe.is,fe),ne&8?u(E,v.children):ne&16&&Q(v.children,E,null,B,$,dr(v,z),se,L),me&&ps(v,null,B,"created"),H(E,v,v.scopeId,se,B),fe){for(const K in fe)K!=="value"&&!fo(K)&&r(E,K,null,fe[K],z,B);"value"in fe&&r(E,"value",null,fe.value,z),(P=fe.onVnodeBeforeMount)&&St(P,B,v)}me&&ps(v,null,B,"beforeMount");const J=wh($,he);J&&he.beforeEnter(E),o(E,_,N),((P=fe&&fe.onVnodeMounted)||J||me)&&Ke(()=>{P&&St(P,B,v),J&&he.enter(E),me&&ps(v,null,B,"mounted")},$)},H=(v,_,N,B,$)=>{if(N&&p(v,N),B)for(let z=0;z<B.length;z++)p(v,B[z]);if($){let z=$.subTree;if(_===z||zc(z.type)&&(z.ssContent===_||z.ssFallback===_)){const se=$.vnode;H(v,se,se.scopeId,se.slotScopeIds,$.parent)}}},Q=(v,_,N,B,$,z,se,L,E=0)=>{for(let P=E;P<v.length;P++){const fe=v[P]=L?ns(v[P]):Tt(v[P]);b(null,fe,_,N,B,$,z,se,L)}},W=(v,_,N,B,$,z,se)=>{const L=_.el=v.el;let{patchFlag:E,dynamicChildren:P,dirs:fe}=_;E|=v.patchFlag&16;const ne=v.props||Le,he=_.props||Le;let me;if(N&&ms(N,!1),(me=he.onVnodeBeforeUpdate)&&St(me,N,_,v),fe&&ps(_,v,N,"beforeUpdate"),N&&ms(N,!0),(ne.innerHTML&&he.innerHTML==null||ne.textContent&&he.textContent==null)&&u(L,""),P?Y(v.dynamicChildren,P,L,N,B,dr(_,$),z):se||U(v,_,L,null,N,B,dr(_,$),z,!1),E>0){if(E&16)V(L,ne,he,N,$);else if(E&2&&ne.class!==he.class&&r(L,"class",null,he.class,$),E&4&&r(L,"style",ne.style,he.style,$),E&8){const J=_.dynamicProps;for(let K=0;K<J.length;K++){const le=J[K],Re=ne[le],Oe=he[le];(Oe!==Re||le==="value")&&r(L,le,Re,Oe,$,N)}}E&1&&v.children!==_.children&&u(L,_.children)}else!se&&P==null&&V(L,ne,he,N,$);((me=he.onVnodeUpdated)||fe)&&Ke(()=>{me&&St(me,N,_,v),fe&&ps(_,v,N,"updated")},B)},Y=(v,_,N,B,$,z,se)=>{for(let L=0;L<_.length;L++){const E=v[L],P=_[L],fe=E.el&&(E.type===Pe||!ws(E,P)||E.shapeFlag&198)?h(E.el):N;b(E,P,fe,null,B,$,z,se,!0)}},V=(v,_,N,B,$)=>{if(_!==N){if(_!==Le)for(const z in _)!fo(z)&&!(z in N)&&r(v,z,_[z],null,$,B);for(const z in N){if(fo(z))continue;const se=N[z],L=_[z];se!==L&&z!=="value"&&r(v,z,L,se,$,B)}"value"in N&&r(v,"value",_.value,N.value,$)}},R=(v,_,N,B,$,z,se,L,E)=>{const P=_.el=v?v.el:a(""),fe=_.anchor=v?v.anchor:a("");let{patchFlag:ne,dynamicChildren:he,slotScopeIds:me}=_;me&&(L=L?L.concat(me):me),v==null?(o(P,N,B),o(fe,N,B),Q(_.children||[],N,fe,$,z,se,L,E)):ne>0&&ne&64&&he&&v.dynamicChildren?(Y(v.dynamicChildren,he,N,$,z,se,L),(_.key!=null||$&&_===$.subTree)&&mi(v,_,!0)):U(v,_,N,fe,$,z,se,L,E)},M=(v,_,N,B,$,z,se,L,E)=>{_.slotScopeIds=L,v==null?_.shapeFlag&512?$.ctx.activate(_,N,B,se,E):C(_,N,B,$,z,se,E):G(v,_,E)},C=(v,_,N,B,$,z,se)=>{const L=v.component=$h(v,B,$);if(Vn(v)&&(L.ctx.renderer=ue),Oh(L,!1,se),L.asyncDep){if($&&$.registerDep(L,T,se),!v.el){const E=L.subTree=xe(Xe);w(null,E,_,N),v.placeholder=E.el}}else T(L,v,_,N,$,z,se)},G=(v,_,N)=>{const B=_.component=v.component;if(Eh(v,_,N))if(B.asyncDep&&!B.asyncResolved){F(B,_,N);return}else B.next=_,B.update();else _.el=v.el,B.vnode=_},T=(v,_,N,B,$,z,se)=>{const L=()=>{if(v.isMounted){let{next:ne,bu:he,u:me,parent:J,vnode:K}=v;{const At=Dc(v);if(At){ne&&(ne.el=K.el,F(v,ne,se)),At.asyncDep.then(()=>{v.isUnmounted||L()});return}}let le=ne,Re;ms(v,!1),ne?(ne.el=K.el,F(v,ne,se)):ne=K,he&&sn(he),(Re=ne.props&&ne.props.onVnodeBeforeUpdate)&&St(Re,J,ne,K),ms(v,!0);const Oe=aa(v),kt=v.subTree;v.subTree=Oe,b(kt,Oe,h(kt.el),S(kt),v,$,z),ne.el=Oe.el,le===null&&Rh(v,Oe.el),me&&Ke(me,$),(Re=ne.props&&ne.props.onVnodeUpdated)&&Ke(()=>St(Re,J,ne,K),$)}else{let ne;const{el:he,props:me}=_,{bm:J,m:K,parent:le,root:Re,type:Oe}=v,kt=Bs(_);ms(v,!1),J&&sn(J),!kt&&(ne=me&&me.onVnodeBeforeMount)&&St(ne,le,_),ms(v,!0);{Re.ce&&Re.ce._def.shadowRoot!==!1&&Re.ce._injectChildStyle(Oe);const At=v.subTree=aa(v);b(null,At,N,B,v,$,z),_.el=At.el}if(K&&Ke(K,$),!kt&&(ne=me&&me.onVnodeMounted)){const At=_;Ke(()=>St(ne,le,At),$)}(_.shapeFlag&256||le&&Bs(le.vnode)&&le.vnode.shapeFlag&256)&&v.a&&Ke(v.a,$),v.isMounted=!0,_=N=B=null}};v.scope.on();const E=v.effect=new zl(L);v.scope.off();const P=v.update=E.run.bind(E),fe=v.job=E.runIfDirty.bind(E);fe.i=v,fe.id=v.uid,E.scheduler=()=>fi(fe),ms(v,!0),P()},F=(v,_,N)=>{_.component=v;const B=v.vnode.props;v.vnode=_,v.next=null,gh(v,_.props,B,N),bh(v,_.children,N),Jt(),Xi(v),Kt()},U=(v,_,N,B,$,z,se,L,E=!1)=>{const P=v&&v.children,fe=v?v.shapeFlag:0,ne=_.children,{patchFlag:he,shapeFlag:me}=_;if(he>0){if(he&128){ce(P,ne,N,B,$,z,se,L,E);return}else if(he&256){oe(P,ne,N,B,$,z,se,L,E);return}}me&8?(fe&16&&ge(P,$,z),ne!==P&&u(N,ne)):fe&16?me&16?ce(P,ne,N,B,$,z,se,L,E):ge(P,$,z,!0):(fe&8&&u(N,""),me&16&&Q(ne,N,B,$,z,se,L,E))},oe=(v,_,N,B,$,z,se,L,E)=>{v=v||Gs,_=_||Gs;const P=v.length,fe=_.length,ne=Math.min(P,fe);let he;for(he=0;he<ne;he++){const me=_[he]=E?ns(_[he]):Tt(_[he]);b(v[he],me,N,null,$,z,se,L,E)}P>fe?ge(v,$,z,!0,!1,ne):Q(_,N,B,$,z,se,L,E,ne)},ce=(v,_,N,B,$,z,se,L,E)=>{let P=0;const fe=_.length;let ne=v.length-1,he=fe-1;for(;P<=ne&&P<=he;){const me=v[P],J=_[P]=E?ns(_[P]):Tt(_[P]);if(ws(me,J))b(me,J,N,null,$,z,se,L,E);else break;P++}for(;P<=ne&&P<=he;){const me=v[ne],J=_[he]=E?ns(_[he]):Tt(_[he]);if(ws(me,J))b(me,J,N,null,$,z,se,L,E);else break;ne--,he--}if(P>ne){if(P<=he){const me=he+1,J=me<fe?_[me].el:B;for(;P<=he;)b(null,_[P]=E?ns(_[P]):Tt(_[P]),N,J,$,z,se,L,E),P++}}else if(P>he)for(;P<=ne;)ie(v[P],$,z,!0),P++;else{const me=P,J=P,K=new Map;for(P=J;P<=he;P++){const ct=_[P]=E?ns(_[P]):Tt(_[P]);ct.key!=null&&K.set(ct.key,P)}let le,Re=0;const Oe=he-J+1;let kt=!1,At=0;const eo=new Array(Oe);for(P=0;P<Oe;P++)eo[P]=0;for(P=me;P<=ne;P++){const ct=v[P];if(Re>=Oe){ie(ct,$,z,!0);continue}let Nt;if(ct.key!=null)Nt=K.get(ct.key);else for(le=J;le<=he;le++)if(eo[le-J]===0&&ws(ct,_[le])){Nt=le;break}Nt===void 0?ie(ct,$,z,!0):(eo[Nt-J]=P+1,Nt>=At?At=Nt:kt=!0,b(ct,_[Nt],N,null,$,z,se,L,E),Re++)}const Oi=kt?_h(eo):Gs;for(le=Oi.length-1,P=Oe-1;P>=0;P--){const ct=J+P,Nt=_[ct],Vi=_[ct+1],Hi=ct+1<fe?Vi.el||Vi.placeholder:B;eo[P]===0?b(null,Nt,N,Hi,$,z,se,L,E):kt&&(le<0||P!==Oi[le]?X(Nt,N,Hi,2):le--)}}},X=(v,_,N,B,$=null)=>{const{el:z,type:se,transition:L,children:E,shapeFlag:P}=v;if(P&6){X(v.component.subTree,_,N,B);return}if(P&128){v.suspense.move(_,N,B);return}if(P&64){se.move(v,_,N,ue);return}if(se===Pe){o(z,_,N);for(let ne=0;ne<E.length;ne++)X(E[ne],_,N,B);o(v.anchor,_,N);return}if(se===ur){I(v,_,N);return}if(B!==2&&P&1&&L)if(B===0)L.beforeEnter(z),o(z,_,N),Ke(()=>L.enter(z),$);else{const{leave:ne,delayLeave:he,afterLeave:me}=L,J=()=>{v.ctx.isUnmounted?n(z):o(z,_,N)},K=()=>{z._isLeaving&&z[Wt](!0),ne(z,()=>{J(),me&&me()})};he?he(z,J,K):K()}else o(z,_,N)},ie=(v,_,N,B=!1,$=!1)=>{const{type:z,props:se,ref:L,children:E,dynamicChildren:P,shapeFlag:fe,patchFlag:ne,dirs:he,cacheIndex:me}=v;if(ne===-2&&($=!1),L!=null&&(Jt(),yo(L,null,N,v,!0),Kt()),me!=null&&(_.renderCache[me]=void 0),fe&256){_.ctx.deactivate(v);return}const J=fe&1&&he,K=!Bs(v);let le;if(K&&(le=se&&se.onVnodeBeforeUnmount)&&St(le,_,v),fe&6)ae(v.component,N,B);else{if(fe&128){v.suspense.unmount(N,B);return}J&&ps(v,null,_,"beforeUnmount"),fe&64?v.type.remove(v,_,N,ue,B):P&&!P.hasOnce&&(z!==Pe||ne>0&&ne&64)?ge(P,_,N,!1,!0):(z===Pe&&ne&384||!$&&fe&16)&&ge(E,_,N),B&&Se(v)}(K&&(le=se&&se.onVnodeUnmounted)||J)&&Ke(()=>{le&&St(le,_,v),J&&ps(v,null,_,"unmounted")},N)},Se=v=>{const{type:_,el:N,anchor:B,transition:$}=v;if(_===Pe){we(N,B);return}if(_===ur){x(v);return}const z=()=>{n(N),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(v.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:L}=$,E=()=>se(N,z);L?L(v.el,z,E):E()}else z()},we=(v,_)=>{let N;for(;v!==_;)N=f(v),n(v),v=N;n(_)},ae=(v,_,N)=>{const{bum:B,scope:$,job:z,subTree:se,um:L,m:E,a:P}=v;ia(E),ia(P),B&&sn(B),$.stop(),z&&(z.flags|=8,ie(se,v,_,N)),L&&Ke(L,_),Ke(()=>{v.isUnmounted=!0},_)},ge=(v,_,N,B=!1,$=!1,z=0)=>{for(let se=z;se<v.length;se++)ie(v[se],_,N,B,$)},S=v=>{if(v.shapeFlag&6)return S(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const _=f(v.anchor||v.el),N=_&&_[ic];return N?f(N):_};let q=!1;const ee=(v,_,N)=>{v==null?_._vnode&&ie(_._vnode,null,null,!0):b(_._vnode||null,v,_,null,null,null,N),_._vnode=v,q||(q=!0,Xi(),oc(),q=!1)},ue={p:b,um:ie,m:X,r:Se,mt:C,mc:Q,pc:U,pbc:Y,n:S,o:t};return{render:ee,hydrate:void 0,createApp:hh(ee)}}function dr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ms({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function mi(t,e,s=!1){const o=t.children,n=e.children;if(pe(o)&&pe(n))for(let r=0;r<o.length;r++){const i=o[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=ns(n[r]),a.el=i.el),!s&&a.patchFlag!==-2&&mi(i,a)),a.type===Zn&&a.patchFlag!==-1&&(a.el=i.el),a.type===Xe&&!a.el&&(a.el=i.el)}}function _h(t){const e=t.slice(),s=[0];let o,n,r,i,a;const c=t.length;for(o=0;o<c;o++){const d=t[o];if(d!==0){if(n=s[s.length-1],t[n]<d){e[o]=n,s.push(o);continue}for(r=0,i=s.length-1;r<i;)a=r+i>>1,t[s[a]]<d?r=a+1:i=a;d<t[s[r]]&&(r>0&&(e[o]=s[r-1]),s[r]=o)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=e[i];return s}function Dc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dc(e)}function ia(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ch=Symbol.for("v-scx"),kh=()=>Rt(Ch);function pt(t,e,s){return Gc(t,e,s)}function Gc(t,e,s=Le){const{immediate:o,deep:n,flush:r,once:i}=s,a=He({},s),c=e&&o||!e&&r!=="post";let d;if(So){if(r==="sync"){const p=kh();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=Et,p.resume=Et,p.pause=Et,p}}const u=Ye;a.call=(p,y,b)=>wt(p,u,y,b);let h=!1;r==="post"?a.scheduler=p=>{Ke(p,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(p,y)=>{y?p():fi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=Bu(t,e,a);return So&&(d?d.push(f):c&&f()),f}function Ah(t,e,s){const o=this.proxy,n=De(t)?t.includes(".")?Mc(o,t):()=>o[t]:t.bind(o,o);let r;ye(e)?r=e:(r=e.handler,s=e);const i=zo(this),a=Gc(n,r.bind(o),s);return i(),a}function Mc(t,e){const s=e.split(".");return()=>{let o=t;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const Nh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mt(e)}Modifiers`]||t[`${gs(e)}Modifiers`];function Sh(t,e,...s){if(t.isUnmounted)return;const o=t.vnode.props||Le;let n=s;const r=e.startsWith("update:"),i=r&&Nh(o,e.slice(7));i&&(i.trim&&(n=s.map(u=>De(u)?u.trim():u)),i.number&&(n=s.map(fn)));let a,c=o[a=or(e)]||o[a=or(mt(e))];!c&&r&&(c=o[a=or(gs(e))]),c&&wt(c,t,6,n);const d=o[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,wt(d,t,6,n)}}const Ih=new WeakMap;function Fc(t,e,s=!1){const o=s?Ih:e.emitsCache,n=o.get(t);if(n!==void 0)return n;const r=t.emits;let i={},a=!1;if(!ye(t)){const c=d=>{const u=Fc(d,e,!0);u&&(a=!0,He(i,u))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!a?(Ie(t)&&o.set(t,null),null):(pe(r)?r.forEach(c=>i[c]=null):He(i,r),Ie(t)&&o.set(t,i),i)}function Un(t,e){return!t||!Pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,gs(e))||Ne(t,e))}function aa(t){const{type:e,vnode:s,proxy:o,withProxy:n,propsOptions:[r],slots:i,attrs:a,emit:c,render:d,renderCache:u,props:h,data:f,setupState:p,ctx:y,inheritAttrs:b}=t,k=yn(t);let w,A;try{if(s.shapeFlag&4){const x=n||o,D=x;w=Tt(d.call(D,x,u,h,p,f,y)),A=a}else{const x=e;w=Tt(x.length>1?x(h,{attrs:a,slots:i,emit:c}):x(h,null)),A=e.props?a:Th(a)}}catch(x){vo.length=0,On(x,t,1),w=xe(Xe)}let I=w;if(A&&b!==!1){const x=Object.keys(A),{shapeFlag:D}=I;x.length&&D&7&&(r&&x.some(oi)&&(A=Lh(A,r)),I=hs(I,A,!1,!0))}return s.dirs&&(I=hs(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&ko(I,s.transition),w=I,yn(k),w}const Th=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pn(s))&&((e||(e={}))[s]=t[s]);return e},Lh=(t,e)=>{const s={};for(const o in t)(!oi(o)||!(o.slice(9)in e))&&(s[o]=t[o]);return s};function Eh(t,e,s){const{props:o,children:n,component:r}=t,{props:i,children:a,patchFlag:c}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?la(o,i,d):!!i;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(i[f]!==o[f]&&!Un(d,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?la(o,i,d):!0:!!i;return!1}function la(t,e,s){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const r=o[n];if(e[r]!==t[r]&&!Un(s,r))return!0}return!1}function Rh({vnode:t,parent:e},s){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=s,e=e.parent;else break}}const zc=t=>t.__isSuspense;function Ph(t,e){e&&e.pendingBranch?pe(t)?e.effects.push(...t):e.effects.push(t):Vu(t)}const Pe=Symbol.for("v-fgt"),Zn=Symbol.for("v-txt"),Xe=Symbol.for("v-cmt"),ur=Symbol.for("v-stc"),vo=[];let ut=null;function O(t=!1){vo.push(ut=t?null:[])}function Dh(){vo.pop(),ut=vo[vo.length-1]||null}let Ao=1;function xn(t,e=!1){Ao+=t,t<0&&ut&&e&&(ut.hasOnce=!0)}function Bc(t){return t.dynamicChildren=Ao>0?ut||Gs:null,Dh(),Ao>0&&ut&&ut.push(t),t}function j(t,e,s,o,n,r){return Bc(l(t,e,s,o,n,r,!0))}function us(t,e,s,o,n){return Bc(xe(t,e,s,o,n,!0))}function No(t){return t?t.__v_isVNode===!0:!1}function ws(t,e){return t.type===e.type&&t.key===e.key}const $c=({key:t})=>t??null,rn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Ve(t)||ye(t)?{i:Ue,r:t,k:e,f:!!s}:t:null);function l(t,e=null,s=null,o=0,n=null,r=t===Pe?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$c(e),ref:e&&rn(e),scopeId:rc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ue};return a?(yi(c,s),r&128&&t.normalize(c)):s&&(c.shapeFlag|=De(s)?8:16),Ao>0&&!i&&ut&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&ut.push(c),c}const xe=Gh;function Gh(t,e=null,s=null,o=0,n=null,r=!1){if((!t||t===xc)&&(t=Xe),No(t)){const a=hs(t,e,!0);return s&&yi(a,s),Ao>0&&!r&&ut&&(a.shapeFlag&6?ut[ut.indexOf(t)]=a:ut.push(a)),a.patchFlag=-2,a}if(Zh(t)&&(t=t.__vccOpts),e){e=Mh(e);let{class:a,style:c}=e;a&&!De(a)&&(e.class=dt(a)),Ie(c)&&(hi(c)&&!pe(c)&&(c=He({},c)),e.style=zn(c))}const i=De(t)?1:zc(t)?128:ac(t)?64:Ie(t)?4:ye(t)?2:0;return l(t,e,s,o,n,i,r,!0)}function Mh(t){return t?hi(t)||Ic(t)?He({},t):t:null}function hs(t,e,s=!1,o=!1){const{props:n,ref:r,patchFlag:i,children:a,transition:c}=t,d=e?Fh(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&$c(d),ref:e&&e.ref?s&&r?pe(r)?r.concat(rn(e)):[r,rn(e)]:rn(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hs(t.ssContent),ssFallback:t.ssFallback&&hs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&o&&ko(u,c.clone(u)),u}function be(t=" ",e=0){return xe(Zn,null,t,e)}function Te(t="",e=!1){return e?(O(),us(Xe,null,t)):xe(Xe,null,t)}function Tt(t){return t==null||typeof t=="boolean"?xe(Xe):pe(t)?xe(Pe,null,t.slice()):No(t)?ns(t):xe(Zn,null,String(t))}function ns(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hs(t)}function yi(t,e){let s=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(pe(e))s=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),yi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ic(e)?e._ctx=Ue:n===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Ue},s=32):(e=String(e),o&64?(s=16,e=[be(e)]):s=8);t.children=e,t.shapeFlag|=s}function Fh(...t){const e={};for(let s=0;s<t.length;s++){const o=t[s];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=dt([e.class,o.class]));else if(n==="style")e.style=zn([e.style,o.style]);else if(Pn(n)){const r=e[n],i=o[n];i&&r!==i&&!(pe(r)&&r.includes(i))&&(e[n]=r?[].concat(r,i):i)}else n!==""&&(e[n]=o[n])}return e}function St(t,e,s,o=null){wt(t,e,7,[s,o])}const zh=Ac();let Bh=0;function $h(t,e,s){const o=t.type,n=(e?e.appContext:t.appContext)||zh,r={uid:Bh++,vnode:t,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lc(o,n),emitsOptions:Fc(o,n),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:o.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Sh.bind(null,r),t.ce&&t.ce(r),r}let Ye=null;const Oc=()=>Ye||Ue;let wn,zr;{const t=Fn(),e=(s,o)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(o),r=>{n.length>1?n.forEach(i=>i(r)):n[0](r)}};wn=e("__VUE_INSTANCE_SETTERS__",s=>Ye=s),zr=e("__VUE_SSR_SETTERS__",s=>So=s)}const zo=t=>{const e=Ye;return wn(t),t.scope.on(),()=>{t.scope.off(),wn(e)}},ca=()=>{Ye&&Ye.scope.off(),wn(null)};function Vc(t){return t.vnode.shapeFlag&4}let So=!1;function Oh(t,e=!1,s=!1){e&&zr(e);const{props:o,children:n}=t.vnode,r=Vc(t);fh(t,o,r,e),yh(t,n,s||e);const i=r?Vh(t,e):void 0;return e&&zr(!1),i}function Vh(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rh);const{setup:o}=s;if(o){Jt();const n=t.setupContext=o.length>1?Wh(t):null,r=zo(t),i=Fo(o,t,0,[t.props,n]),a=El(i);if(Kt(),r(),(a||t.sp)&&!Bs(t)&&mc(t),a){if(i.then(ca,ca),e)return i.then(c=>{da(t,c)}).catch(c=>{On(c,t,0)});t.asyncDep=i}else da(t,i)}else Hc(t)}function da(t,e,s){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ie(e)&&(t.setupState=ec(e)),Hc(t)}function Hc(t,e,s){const o=t.type;t.render||(t.render=o.render||Et);{const n=zo(t);Jt();try{ih(t)}finally{Kt(),n()}}}const Hh={get(t,e){return Ze(t,"get",""),t[e]}};function Wh(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Hh),slots:t.slots,emit:t.emit,expose:e}}function jn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ec(Ru(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in bo)return bo[s](t)},has(e,s){return s in e||s in bo}})):t.proxy}function Uh(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function Zh(t){return ye(t)&&"__vccOpts"in t}const tt=(t,e)=>Fu(t,e,So);function bi(t,e,s){try{xn(-1);const o=arguments.length;return o===2?Ie(e)&&!pe(e)?No(e)?xe(t,null,[e]):xe(t,e):xe(t,null,e):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&No(s)&&(s=[s]),xe(t,e,s))}finally{xn(1)}}const jh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;const ua=typeof window<"u"&&window.trustedTypes;if(ua)try{Br=ua.createPolicy("vue",{createHTML:t=>t})}catch{}const Wc=Br?t=>Br.createHTML(t):t=>t,Xh="http://www.w3.org/2000/svg",Yh="http://www.w3.org/1998/Math/MathML",Vt=typeof document<"u"?document:null,ha=Vt&&Vt.createElement("template"),Jh={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,o)=>{const n=e==="svg"?Vt.createElementNS(Xh,t):e==="mathml"?Vt.createElementNS(Yh,t):s?Vt.createElement(t,{is:s}):Vt.createElement(t);return t==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:t=>Vt.createTextNode(t),createComment:t=>Vt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,o,n,r){const i=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{ha.innerHTML=Wc(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=ha.content;if(o==="svg"||o==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},es="transition",so="animation",Io=Symbol("_vtc"),Uc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kh=He({},dc,Uc),qh=t=>(t.displayName="Transition",t.props=Kh,t),fa=qh((t,{slots:e})=>bi(ju,Qh(t),e)),ys=(t,e=[])=>{pe(t)?t.forEach(s=>s(...e)):t&&t(...e)},ga=t=>t?pe(t)?t.some(e=>e.length>1):t.length>1:!1;function Qh(t){const e={};for(const R in t)R in Uc||(e[R]=t[R]);if(t.css===!1)return e;const{name:s="v",type:o,duration:n,enterFromClass:r=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=r,appearActiveClass:d=i,appearToClass:u=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,y=ef(n),b=y&&y[0],k=y&&y[1],{onBeforeEnter:w,onEnter:A,onEnterCancelled:I,onLeave:x,onLeaveCancelled:D,onBeforeAppear:Z=w,onAppear:H=A,onAppearCancelled:Q=I}=e,W=(R,M,C,G)=>{R._enterCancelled=G,bs(R,M?u:a),bs(R,M?d:i),C&&C()},Y=(R,M)=>{R._isLeaving=!1,bs(R,h),bs(R,p),bs(R,f),M&&M()},V=R=>(M,C)=>{const G=R?H:A,T=()=>W(M,R,C);ys(G,[M,T]),pa(()=>{bs(M,R?c:r),zt(M,R?u:a),ga(G)||ma(M,o,b,T)})};return He(e,{onBeforeEnter(R){ys(w,[R]),zt(R,r),zt(R,i)},onBeforeAppear(R){ys(Z,[R]),zt(R,c),zt(R,d)},onEnter:V(!1),onAppear:V(!0),onLeave(R,M){R._isLeaving=!0;const C=()=>Y(R,M);zt(R,h),R._enterCancelled?(zt(R,f),va(R)):(va(R),zt(R,f)),pa(()=>{R._isLeaving&&(bs(R,h),zt(R,p),ga(x)||ma(R,o,k,C))}),ys(x,[R,C])},onEnterCancelled(R){W(R,!1,void 0,!0),ys(I,[R])},onAppearCancelled(R){W(R,!0,void 0,!0),ys(Q,[R])},onLeaveCancelled(R){Y(R),ys(D,[R])}})}function ef(t){if(t==null)return null;if(Ie(t))return[hr(t.enter),hr(t.leave)];{const e=hr(t);return[e,e]}}function hr(t){return ou(t)}function zt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Io]||(t[Io]=new Set)).add(e)}function bs(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const s=t[Io];s&&(s.delete(e),s.size||(t[Io]=void 0))}function pa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let tf=0;function ma(t,e,s,o){const n=t._endId=++tf,r=()=>{n===t._endId&&o()};if(s!=null)return setTimeout(r,s);const{type:i,timeout:a,propCount:c}=sf(t,e);if(!i)return o();const d=i+"end";let u=0;const h=()=>{t.removeEventListener(d,f),r()},f=p=>{p.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(d,f)}function sf(t,e){const s=window.getComputedStyle(t),o=y=>(s[y]||"").split(", "),n=o(`${es}Delay`),r=o(`${es}Duration`),i=ya(n,r),a=o(`${so}Delay`),c=o(`${so}Duration`),d=ya(a,c);let u=null,h=0,f=0;e===es?i>0&&(u=es,h=i,f=r.length):e===so?d>0&&(u=so,h=d,f=c.length):(h=Math.max(i,d),u=h>0?i>d?es:so:null,f=u?u===es?r.length:c.length:0);const p=u===es&&/\b(?:transform|all)(?:,|$)/.test(o(`${es}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function ya(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,o)=>ba(s)+ba(t[o])))}function ba(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function va(t){return(t?t.ownerDocument:document).body.offsetHeight}function of(t,e,s){const o=t[Io];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const _n=Symbol("_vod"),Zc=Symbol("_vsh"),Yo={name:"show",beforeMount(t,{value:e},{transition:s}){t[_n]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):oo(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:o}){!e!=!s&&(o?e?(o.beforeEnter(t),oo(t,!0),o.enter(t)):o.leave(t,()=>{oo(t,!1)}):oo(t,e))},beforeUnmount(t,{value:e}){oo(t,e)}};function oo(t,e){t.style.display=e?t[_n]:"none",t[Zc]=!e}const nf=Symbol(""),rf=/(?:^|;)\s*display\s*:/;function af(t,e,s){const o=t.style,n=De(s);let r=!1;if(s&&!n){if(e)if(De(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&an(o,a,"")}else for(const i in e)s[i]==null&&an(o,i,"");for(const i in s)i==="display"&&(r=!0),an(o,i,s[i])}else if(n){if(e!==s){const i=o[nf];i&&(s+=";"+i),o.cssText=s,r=rf.test(s)}}else e&&t.removeAttribute("style");_n in t&&(t[_n]=r?o.display:"",t[Zc]&&(o.display="none"))}const xa=/\s*!important$/;function an(t,e,s){if(pe(s))s.forEach(o=>an(t,e,o));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const o=lf(t,e);xa.test(s)?t.setProperty(gs(o),s.replace(xa,""),"important"):t[o]=s}}const wa=["Webkit","Moz","ms"],fr={};function lf(t,e){const s=fr[e];if(s)return s;let o=mt(e);if(o!=="filter"&&o in t)return fr[e]=o;o=Mn(o);for(let n=0;n<wa.length;n++){const r=wa[n]+o;if(r in t)return fr[e]=r}return e}const _a="http://www.w3.org/1999/xlink";function Ca(t,e,s,o,n,r=cu(e)){o&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(_a,e.slice(6,e.length)):t.setAttributeNS(_a,e,s):s==null||r&&!Gl(s)?t.removeAttribute(e):t.setAttribute(e,r?"":xt(s)?String(s):s)}function ka(t,e,s,o,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Wc(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Gl(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(n||e)}function is(t,e,s,o){t.addEventListener(e,s,o)}function cf(t,e,s,o){t.removeEventListener(e,s,o)}const Aa=Symbol("_vei");function df(t,e,s,o,n=null){const r=t[Aa]||(t[Aa]={}),i=r[e];if(o&&i)i.value=o;else{const[a,c]=uf(e);if(o){const d=r[e]=gf(o,n);is(t,a,d,c)}else i&&(cf(t,a,i,c),r[e]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function uf(t){let e;if(Na.test(t)){e={};let o;for(;o=t.match(Na);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gs(t.slice(2)),e]}let gr=0;const hf=Promise.resolve(),ff=()=>gr||(hf.then(()=>gr=0),gr=Date.now());function gf(t,e){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;wt(pf(o,s.value),e,5,[o])};return s.value=t,s.attached=ff(),s}function pf(t,e){if(pe(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const Sa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mf=(t,e,s,o,n,r)=>{const i=n==="svg";e==="class"?of(t,o,i):e==="style"?af(t,s,o):Pn(e)?oi(e)||df(t,e,s,o,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yf(t,e,o,i))?(ka(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ca(t,e,o,i,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!De(o))?ka(t,mt(e),o,r,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Ca(t,e,o,i))};function yf(t,e,s,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sa(e)&&ye(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Sa(e)&&De(s)?!1:e in t}const Us=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pe(e)?s=>sn(e,s):e};function bf(t){t.target.composing=!0}function Ia(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yt=Symbol("_assign"),Ta={created(t,{modifiers:{lazy:e,trim:s,number:o}},n){t[Yt]=Us(n);const r=o||n.props&&n.props.type==="number";is(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),r&&(a=fn(a)),t[Yt](a)}),s&&is(t,"change",()=>{t.value=t.value.trim()}),e||(is(t,"compositionstart",bf),is(t,"compositionend",Ia),is(t,"change",Ia))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:o,trim:n,number:r}},i){if(t[Yt]=Us(i),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?fn(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(o&&e===s||n&&t.value.trim()===c)||(t.value=c))}},$r={created(t,{value:e},s){t.checked=Ws(e,s.props.value),t[Yt]=Us(s),is(t,"change",()=>{t[Yt](To(t))})},beforeUpdate(t,{value:e,oldValue:s},o){t[Yt]=Us(o),e!==s&&(t.checked=Ws(e,o.props.value))}},Zs={deep:!0,created(t,{value:e,modifiers:{number:s}},o){const n=Dn(e);is(t,"change",()=>{const r=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?fn(To(i)):To(i));t[Yt](t.multiple?n?new Set(r):r:r[0]),t._assigning=!0,qs(()=>{t._assigning=!1})}),t[Yt]=Us(o)},mounted(t,{value:e}){La(t,e)},beforeUpdate(t,e,s){t[Yt]=Us(s)},updated(t,{value:e}){t._assigning||La(t,e)}};function La(t,e){const s=t.multiple,o=pe(e);if(!(s&&!o&&!Dn(e))){for(let n=0,r=t.options.length;n<r;n++){const i=t.options[n],a=To(i);if(s)if(o){const c=typeof a;c==="string"||c==="number"?i.selected=e.some(d=>String(d)===String(a)):i.selected=uu(e,a)>-1}else i.selected=e.has(a);else if(Ws(To(i),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function To(t){return"_value"in t?t._value:t.value}const vf=["ctrl","shift","alt","meta"],xf={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vf.some(s=>t[`${s}Key`]&&!e.includes(s))},jc=(t,e)=>{const s=t._withMods||(t._withMods={}),o=e.join(".");return s[o]||(s[o]=((n,...r)=>{for(let i=0;i<e.length;i++){const a=xf[e[i]];if(a&&a(n,e))return}return t(n,...r)}))},wf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},no=(t,e)=>{const s=t._withKeys||(t._withKeys={}),o=e.join(".");return s[o]||(s[o]=(n=>{if(!("key"in n))return;const r=gs(n.key);if(e.some(i=>i===r||wf[i]===r))return t(n)}))},_f=He({patchProp:mf},Jh);let Ea;function Cf(){return Ea||(Ea=vh(_f))}const kf=((...t)=>{const e=Cf().createApp(...t),{mount:s}=e;return e.mount=o=>{const n=Nf(o);if(!n)return;const r=e._component;!ye(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=s(n,!1,Af(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e});function Af(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Nf(t){return De(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ps=typeof document<"u";function Xc(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sf(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Xc(t.default)}const Ae=Object.assign;function pr(t,e){const s={};for(const o in e){const n=e[o];s[o]=_t(n)?n.map(t):t(n)}return s}const xo=()=>{},_t=Array.isArray;function Ra(t,e){const s={};for(const o in t)s[o]=o in e?e[o]:t[o];return s}const Yc=/#/g,If=/&/g,Tf=/\//g,Lf=/=/g,Ef=/\?/g,Jc=/\+/g,Rf=/%5B/g,Pf=/%5D/g,Kc=/%5E/g,Df=/%60/g,qc=/%7B/g,Gf=/%7C/g,Qc=/%7D/g,Mf=/%20/g;function vi(t){return t==null?"":encodeURI(""+t).replace(Gf,"|").replace(Rf,"[").replace(Pf,"]")}function Ff(t){return vi(t).replace(qc,"{").replace(Qc,"}").replace(Kc,"^")}function Or(t){return vi(t).replace(Jc,"%2B").replace(Mf,"+").replace(Yc,"%23").replace(If,"%26").replace(Df,"`").replace(qc,"{").replace(Qc,"}").replace(Kc,"^")}function zf(t){return Or(t).replace(Lf,"%3D")}function Bf(t){return vi(t).replace(Yc,"%23").replace(Ef,"%3F")}function $f(t){return Bf(t).replace(Tf,"%2F")}function Lo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Of=/\/$/,Vf=t=>t.replace(Of,"");function mr(t,e,s="/"){let o,n={},r="",i="";const a=e.indexOf("#");let c=e.indexOf("?");return c=a>=0&&c>a?-1:c,c>=0&&(o=e.slice(0,c),r=e.slice(c,a>0?a:e.length),n=t(r.slice(1))),a>=0&&(o=o||e.slice(0,a),i=e.slice(a,e.length)),o=Zf(o??e,s),{fullPath:o+r+i,path:o,query:n,hash:Lo(i)}}function Hf(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Pa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Wf(t,e,s){const o=e.matched.length-1,n=s.matched.length-1;return o>-1&&o===n&&js(e.matched[o],s.matched[n])&&ed(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function js(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ed(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Uf(t[s],e[s]))return!1;return!0}function Uf(t,e){return _t(t)?Da(t,e):_t(e)?Da(e,t):t===e}function Da(t,e){return _t(e)?t.length===e.length&&t.every((s,o)=>s===e[o]):t.length===1&&t[0]===e}function Zf(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),o=t.split("/"),n=o[o.length-1];(n===".."||n===".")&&o.push("");let r=s.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+o.slice(i).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Vr=(function(t){return t.pop="pop",t.push="push",t})({}),yr=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function jf(t){if(!t)if(Ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Vf(t)}const Xf=/^[^#]+#/;function Yf(t,e){return t.replace(Xf,"#")+e}function Jf(t,e){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-s.left-(e.left||0),top:o.top-s.top-(e.top||0)}}const Xn=()=>({left:window.scrollX,top:window.scrollY});function Kf(t){let e;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Jf(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ga(t,e){return(history.state?history.state.position-e:-1)+t}const Hr=new Map;function qf(t,e){Hr.set(t,e)}function Qf(t){const e=Hr.get(t);return Hr.delete(t),e}function eg(t){return typeof t=="string"||t&&typeof t=="object"}function td(t){return typeof t=="string"||typeof t=="symbol"}let Ge=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const sd=Symbol("");Ge.MATCHER_NOT_FOUND+"",Ge.NAVIGATION_GUARD_REDIRECT+"",Ge.NAVIGATION_ABORTED+"",Ge.NAVIGATION_CANCELLED+"",Ge.NAVIGATION_DUPLICATED+"";function Xs(t,e){return Ae(new Error,{type:t,[sd]:!0},e)}function Bt(t,e){return t instanceof Error&&sd in t&&(e==null||!!(t.type&e))}const tg=["params","query","hash"];function sg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of tg)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function og(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<s.length;++o){const n=s[o].replace(Jc," "),r=n.indexOf("="),i=Lo(r<0?n:n.slice(0,r)),a=r<0?null:Lo(n.slice(r+1));if(i in e){let c=e[i];_t(c)||(c=e[i]=[c]),c.push(a)}else e[i]=a}return e}function Ma(t){let e="";for(let s in t){const o=t[s];if(s=zf(s),o==null){o!==void 0&&(e+=(e.length?"&":"")+s);continue}(_t(o)?o.map(n=>n&&Or(n)):[o&&Or(o)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+s,n!=null&&(e+="="+n))})}return e}function ng(t){const e={};for(const s in t){const o=t[s];o!==void 0&&(e[s]=_t(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return e}const rg=Symbol(""),Fa=Symbol(""),xi=Symbol(""),wi=Symbol(""),Wr=Symbol("");function ro(){let t=[];function e(o){return t.push(o),()=>{const n=t.indexOf(o);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function rs(t,e,s,o,n,r=i=>i()){const i=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((a,c)=>{const d=f=>{f===!1?c(Xs(Ge.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?c(f):eg(f)?c(Xs(Ge.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(i&&o.enterCallbacks[n]===i&&typeof f=="function"&&i.push(f),a())},u=r(()=>t.call(o&&o.instances[n],e,s,d));let h=Promise.resolve(u);t.length<3&&(h=h.then(d)),h.catch(f=>c(f))})}function br(t,e,s,o,n=r=>r()){const r=[];for(const i of t)for(const a in i.components){let c=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Xc(c)){const d=(c.__vccOpts||c)[e];d&&r.push(rs(d,s,o,i,a,n))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=Sf(u)?u.default:u;i.mods[a]=u,i.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&rs(f,s,o,i,a,n)()}))}}return r}function ig(t,e){const s=[],o=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let i=0;i<r;i++){const a=e.matched[i];a&&(t.matched.find(d=>js(d,a))?o.push(a):s.push(a));const c=t.matched[i];c&&(e.matched.find(d=>js(d,c))||n.push(c))}return[s,o,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ag=()=>location.protocol+"//"+location.host;function od(t,e){const{pathname:s,search:o,hash:n}=e,r=t.indexOf("#");if(r>-1){let i=n.includes(t.slice(r))?t.slice(r).length:1,a=n.slice(i);return a[0]!=="/"&&(a="/"+a),Pa(a,"")}return Pa(s,t)+o+n}function lg(t,e,s,o){let n=[],r=[],i=null;const a=({state:f})=>{const p=od(t,location),y=s.value,b=e.value;let k=0;if(f){if(s.value=p,e.value=f,i&&i===y){i=null;return}k=b?f.position-b.position:0}else o(p);n.forEach(w=>{w(s.value,y,{delta:k,type:Vr.pop,direction:k?k>0?yr.forward:yr.back:yr.unknown})})};function c(){i=s.value}function d(f){n.push(f);const p=()=>{const y=n.indexOf(f);y>-1&&n.splice(y,1)};return r.push(p),p}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Ae({},f.state,{scroll:Xn()}),"")}}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:c,listen:d,destroy:h}}function za(t,e,s,o=!1,n=!1){return{back:t,current:e,forward:s,replaced:o,position:window.history.length,scroll:n?Xn():null}}function cg(t){const{history:e,location:s}=window,o={value:od(t,s)},n={value:e.state};n.value||r(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+c:ag()+t+c;try{e[u?"replaceState":"pushState"](d,"",f),n.value=d}catch(p){console.error(p),s[u?"replace":"assign"](f)}}function i(c,d){r(c,Ae({},e.state,za(n.value.back,c,n.value.forward,!0),d,{position:n.value.position}),!0),o.value=c}function a(c,d){const u=Ae({},n.value,e.state,{forward:c,scroll:Xn()});r(u.current,u,!0),r(c,Ae({},za(o.value,c,null),{position:u.position+1},d),!1),o.value=c}return{location:o,state:n,push:a,replace:i}}function dg(t){t=jf(t);const e=cg(t),s=lg(t,e.state,e.location,e.replace);function o(r,i=!0){i||s.pauseListeners(),history.go(r)}const n=Ae({location:"",base:t,go:o,createHref:Yf.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let _s=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Be=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Be||{});const ug={type:_s.Static,value:""},hg=/[a-zA-Z0-9_]/;function fg(t){if(!t)return[[]];if(t==="/")return[[ug]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${d}": ${p}`)}let s=Be.Static,o=s;const n=[];let r;function i(){r&&n.push(r),r=[]}let a=0,c,d="",u="";function h(){d&&(s===Be.Static?r.push({type:_s.Static,value:d}):s===Be.Param||s===Be.ParamRegExp||s===Be.ParamRegExpEnd?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:_s.Param,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function f(){d+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&s!==Be.ParamRegExp){o=s,s=Be.EscapeNext;continue}switch(s){case Be.Static:c==="/"?(d&&h(),i()):c===":"?(h(),s=Be.Param):f();break;case Be.EscapeNext:f(),s=o;break;case Be.Param:c==="("?s=Be.ParamRegExp:hg.test(c)?f():(h(),s=Be.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case Be.ParamRegExp:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:s=Be.ParamRegExpEnd:u+=c;break;case Be.ParamRegExpEnd:h(),s=Be.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===Be.ParamRegExp&&e(`Unfinished custom RegExp for param "${d}"`),h(),i(),n}const Ba="[^/]+?",gg={sensitive:!1,strict:!1,start:!0,end:!0};var qe=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(qe||{});const pg=/[.+*?^${}()[\]/\\]/g;function mg(t,e){const s=Ae({},gg,e),o=[];let n=s.start?"^":"";const r=[];for(const d of t){const u=d.length?[]:[qe.Root];s.strict&&!d.length&&(n+="/");for(let h=0;h<d.length;h++){const f=d[h];let p=qe.Segment+(s.sensitive?qe.BonusCaseSensitive:0);if(f.type===_s.Static)h||(n+="/"),n+=f.value.replace(pg,"\\$&"),p+=qe.Static;else if(f.type===_s.Param){const{value:y,repeatable:b,optional:k,regexp:w}=f;r.push({name:y,repeatable:b,optional:k});const A=w||Ba;if(A!==Ba){p+=qe.BonusCustomRegExp;try{`${A}`}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${A}): `+x.message)}}let I=b?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;h||(I=k&&d.length<2?`(?:/${I})`:"/"+I),k&&(I+="?"),n+=I,p+=qe.Dynamic,k&&(p+=qe.BonusOptional),b&&(p+=qe.BonusRepeatable),A===".*"&&(p+=qe.BonusWildcard)}u.push(p)}o.push(u)}if(s.strict&&s.end){const d=o.length-1;o[d][o[d].length-1]+=qe.BonusStrict}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const i=new RegExp(n,s.sensitive?"":"i");function a(d){const u=d.match(i),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",y=r[f-1];h[y.name]=p&&y.repeatable?p.split("/"):p}return h}function c(d){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===_s.Static)u+=p.value;else if(p.type===_s.Param){const{value:y,repeatable:b,optional:k}=p,w=y in d?d[y]:"";if(_t(w)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const A=_t(w)?w.join("/"):w;if(!A)if(k)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=A}}return u||"/"}return{re:i,score:o,keys:r,parse:a,stringify:c}}function yg(t,e){let s=0;for(;s<t.length&&s<e.length;){const o=e[s]-t[s];if(o)return o;s++}return t.length<e.length?t.length===1&&t[0]===qe.Static+qe.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===qe.Static+qe.Segment?1:-1:0}function nd(t,e){let s=0;const o=t.score,n=e.score;for(;s<o.length&&s<n.length;){const r=yg(o[s],n[s]);if(r)return r;s++}if(Math.abs(n.length-o.length)===1){if($a(o))return 1;if($a(n))return-1}return n.length-o.length}function $a(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bg={strict:!1,end:!0,sensitive:!1};function vg(t,e,s){const o=mg(fg(t.path),s),n=Ae(o,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function xg(t,e){const s=[],o=new Map;e=Ra(bg,e);function n(h){return o.get(h)}function r(h,f,p){const y=!p,b=Va(h);b.aliasOf=p&&p.record;const k=Ra(e,h),w=[b];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of x)w.push(Va(Ae({},b,{components:p?p.record.components:b.components,path:D,aliasOf:p?p.record:b})))}let A,I;for(const x of w){const{path:D}=x;if(f&&D[0]!=="/"){const Z=f.record.path,H=Z[Z.length-1]==="/"?"":"/";x.path=f.record.path+(D&&H+D)}if(A=vg(x,f,k),p?p.alias.push(A):(I=I||A,I!==A&&I.alias.push(A),y&&h.name&&!Ha(A)&&i(h.name)),rd(A)&&c(A),b.children){const Z=b.children;for(let H=0;H<Z.length;H++)r(Z[H],A,p&&p.children[H])}p=p||A}return I?()=>{i(I)}:xo}function i(h){if(td(h)){const f=o.get(h);f&&(o.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&o.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return s}function c(h){const f=Cg(h,s);s.splice(f,0,h),h.record.name&&!Ha(h)&&o.set(h.record.name,h)}function d(h,f){let p,y={},b,k;if("name"in h&&h.name){if(p=o.get(h.name),!p)throw Xs(Ge.MATCHER_NOT_FOUND,{location:h});k=p.record.name,y=Ae(Oa(f.params,p.keys.filter(I=>!I.optional).concat(p.parent?p.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),h.params&&Oa(h.params,p.keys.map(I=>I.name))),b=p.stringify(y)}else if(h.path!=null)b=h.path,p=s.find(I=>I.re.test(b)),p&&(y=p.parse(b),k=p.record.name);else{if(p=f.name?o.get(f.name):s.find(I=>I.re.test(f.path)),!p)throw Xs(Ge.MATCHER_NOT_FOUND,{location:h,currentLocation:f});k=p.record.name,y=Ae({},f.params,h.params),b=p.stringify(y)}const w=[];let A=p;for(;A;)w.unshift(A.record),A=A.parent;return{name:k,path:b,params:y,matched:w,meta:_g(w)}}t.forEach(h=>r(h));function u(){s.length=0,o.clear()}return{addRoute:r,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Oa(t,e){const s={};for(const o of e)o in t&&(s[o]=t[o]);return s}function Va(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:wg(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function wg(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const o in t.components)e[o]=typeof s=="object"?s[o]:s;return e}function Ha(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _g(t){return t.reduce((e,s)=>Ae(e,s.meta),{})}function Cg(t,e){let s=0,o=e.length;for(;s!==o;){const r=s+o>>1;nd(t,e[r])<0?o=r:s=r+1}const n=kg(t);return n&&(o=e.lastIndexOf(n,o-1)),o}function kg(t){let e=t;for(;e=e.parent;)if(rd(e)&&nd(t,e)===0)return e}function rd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wa(t){const e=Rt(xi),s=Rt(wi),o=tt(()=>{const c=g(t.to);return e.resolve(c)}),n=tt(()=>{const{matched:c}=o.value,{length:d}=c,u=c[d-1],h=s.matched;if(!u||!h.length)return-1;const f=h.findIndex(js.bind(null,u));if(f>-1)return f;const p=Ua(c[d-2]);return d>1&&Ua(u)===p&&h[h.length-1].path!==p?h.findIndex(js.bind(null,c[d-2])):f}),r=tt(()=>n.value>-1&&Tg(s.params,o.value.params)),i=tt(()=>n.value>-1&&n.value===s.matched.length-1&&ed(s.params,o.value.params));function a(c={}){if(Ig(c)){const d=e[g(t.replace)?"replace":"push"](g(t.to)).catch(xo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:tt(()=>o.value.href),isActive:r,isExactActive:i,navigate:a}}function Ag(t){return t.length===1?t[0]:t}const Ng=pc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wa,setup(t,{slots:e}){const s=$n(Wa(t)),{options:o}=Rt(xi),n=tt(()=>({[Za(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[Za(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&Ag(e.default(s));return t.custom?r:bi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},r)}}}),Sg=Ng;function Ig(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Tg(t,e){for(const s in e){const o=e[s],n=t[s];if(typeof o=="string"){if(o!==n)return!1}else if(!_t(n)||n.length!==o.length||o.some((r,i)=>r!==n[i]))return!1}return!0}function Ua(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Za=(t,e,s)=>t??e??s,Lg=pc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const o=Rt(Wr),n=tt(()=>t.route||o.value),r=Rt(Fa,0),i=tt(()=>{let d=g(r);const{matched:u}=n.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),a=tt(()=>n.value.matched[i.value]);nn(Fa,tt(()=>i.value+1)),nn(rg,a),nn(Wr,n);const c=re();return pt(()=>[c.value,a.value,t.name],([d,u,h],[f,p,y])=>{u&&(u.instances[h]=d,p&&p!==u&&d&&d===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),d&&u&&(!p||!js(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=n.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return ja(s.default,{Component:f,route:d});const p=h.props[u],y=p?p===!0?d.params:typeof p=="function"?p(d):p:null,k=bi(f,Ae({},y,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return ja(s.default,{Component:k,route:d})||k}}});function ja(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Eg=Lg;function Rg(t){const e=xg(t.routes,t),s=t.parseQuery||og,o=t.stringifyQuery||Ma,n=t.history,r=ro(),i=ro(),a=ro(),c=Pu(ts);let d=ts;Ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pr.bind(null,S=>""+S),h=pr.bind(null,$f),f=pr.bind(null,Lo);function p(S,q){let ee,ue;return td(S)?(ee=e.getRecordMatcher(S),ue=q):ue=S,e.addRoute(ue,ee)}function y(S){const q=e.getRecordMatcher(S);q&&e.removeRoute(q)}function b(){return e.getRoutes().map(S=>S.record)}function k(S){return!!e.getRecordMatcher(S)}function w(S,q){if(q=Ae({},q||c.value),typeof S=="string"){const N=mr(s,S,q.path),B=e.resolve({path:N.path},q),$=n.createHref(N.fullPath);return Ae(N,B,{params:f(B.params),hash:Lo(N.hash),redirectedFrom:void 0,href:$})}let ee;if(S.path!=null)ee=Ae({},S,{path:mr(s,S.path,q.path).path});else{const N=Ae({},S.params);for(const B in N)N[B]==null&&delete N[B];ee=Ae({},S,{params:h(N)}),q.params=h(q.params)}const ue=e.resolve(ee,q),de=S.hash||"";ue.params=u(f(ue.params));const v=Hf(o,Ae({},S,{hash:Ff(de),path:ue.path})),_=n.createHref(v);return Ae({fullPath:v,hash:de,query:o===Ma?ng(S.query):S.query||{}},ue,{redirectedFrom:void 0,href:_})}function A(S){return typeof S=="string"?mr(s,S,c.value.path):Ae({},S)}function I(S,q){if(d!==S)return Xs(Ge.NAVIGATION_CANCELLED,{from:q,to:S})}function x(S){return H(S)}function D(S){return x(Ae(A(S),{replace:!0}))}function Z(S,q){const ee=S.matched[S.matched.length-1];if(ee&&ee.redirect){const{redirect:ue}=ee;let de=typeof ue=="function"?ue(S,q):ue;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=A(de):{path:de},de.params={}),Ae({query:S.query,hash:S.hash,params:de.path!=null?{}:S.params},de)}}function H(S,q){const ee=d=w(S),ue=c.value,de=S.state,v=S.force,_=S.replace===!0,N=Z(ee,ue);if(N)return H(Ae(A(N),{state:typeof N=="object"?Ae({},de,N.state):de,force:v,replace:_}),q||ee);const B=ee;B.redirectedFrom=q;let $;return!v&&Wf(o,ue,ee)&&($=Xs(Ge.NAVIGATION_DUPLICATED,{to:B,from:ue}),X(ue,ue,!0,!1)),($?Promise.resolve($):Y(B,ue)).catch(z=>Bt(z)?Bt(z,Ge.NAVIGATION_GUARD_REDIRECT)?z:ce(z):U(z,B,ue)).then(z=>{if(z){if(Bt(z,Ge.NAVIGATION_GUARD_REDIRECT))return H(Ae({replace:_},A(z.to),{state:typeof z.to=="object"?Ae({},de,z.to.state):de,force:v}),q||B)}else z=R(B,ue,!0,_,de);return V(B,ue,z),z})}function Q(S,q){const ee=I(S,q);return ee?Promise.reject(ee):Promise.resolve()}function W(S){const q=we.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(S):S()}function Y(S,q){let ee;const[ue,de,v]=ig(S,q);ee=br(ue.reverse(),"beforeRouteLeave",S,q);for(const N of ue)N.leaveGuards.forEach(B=>{ee.push(rs(B,S,q))});const _=Q.bind(null,S,q);return ee.push(_),ge(ee).then(()=>{ee=[];for(const N of r.list())ee.push(rs(N,S,q));return ee.push(_),ge(ee)}).then(()=>{ee=br(de,"beforeRouteUpdate",S,q);for(const N of de)N.updateGuards.forEach(B=>{ee.push(rs(B,S,q))});return ee.push(_),ge(ee)}).then(()=>{ee=[];for(const N of v)if(N.beforeEnter)if(_t(N.beforeEnter))for(const B of N.beforeEnter)ee.push(rs(B,S,q));else ee.push(rs(N.beforeEnter,S,q));return ee.push(_),ge(ee)}).then(()=>(S.matched.forEach(N=>N.enterCallbacks={}),ee=br(v,"beforeRouteEnter",S,q,W),ee.push(_),ge(ee))).then(()=>{ee=[];for(const N of i.list())ee.push(rs(N,S,q));return ee.push(_),ge(ee)}).catch(N=>Bt(N,Ge.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function V(S,q,ee){a.list().forEach(ue=>W(()=>ue(S,q,ee)))}function R(S,q,ee,ue,de){const v=I(S,q);if(v)return v;const _=q===ts,N=Ps?history.state:{};ee&&(ue||_?n.replace(S.fullPath,Ae({scroll:_&&N&&N.scroll},de)):n.push(S.fullPath,de)),c.value=S,X(S,q,ee,_),ce()}let M;function C(){M||(M=n.listen((S,q,ee)=>{if(!ae.listening)return;const ue=w(S),de=Z(ue,ae.currentRoute.value);if(de){H(Ae(de,{replace:!0,force:!0}),ue).catch(xo);return}d=ue;const v=c.value;Ps&&qf(Ga(v.fullPath,ee.delta),Xn()),Y(ue,v).catch(_=>Bt(_,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_CANCELLED)?_:Bt(_,Ge.NAVIGATION_GUARD_REDIRECT)?(H(Ae(A(_.to),{force:!0}),ue).then(N=>{Bt(N,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&!ee.delta&&ee.type===Vr.pop&&n.go(-1,!1)}).catch(xo),Promise.reject()):(ee.delta&&n.go(-ee.delta,!1),U(_,ue,v))).then(_=>{_=_||R(ue,v,!1),_&&(ee.delta&&!Bt(_,Ge.NAVIGATION_CANCELLED)?n.go(-ee.delta,!1):ee.type===Vr.pop&&Bt(_,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),V(ue,v,_)}).catch(xo)}))}let G=ro(),T=ro(),F;function U(S,q,ee){ce(S);const ue=T.list();return ue.length?ue.forEach(de=>de(S,q,ee)):console.error(S),Promise.reject(S)}function oe(){return F&&c.value!==ts?Promise.resolve():new Promise((S,q)=>{G.add([S,q])})}function ce(S){return F||(F=!S,C(),G.list().forEach(([q,ee])=>S?ee(S):q()),G.reset()),S}function X(S,q,ee,ue){const{scrollBehavior:de}=t;if(!Ps||!de)return Promise.resolve();const v=!ee&&Qf(Ga(S.fullPath,0))||(ue||!ee)&&history.state&&history.state.scroll||null;return qs().then(()=>de(S,q,v)).then(_=>_&&Kf(_)).catch(_=>U(_,S,q))}const ie=S=>n.go(S);let Se;const we=new Set,ae={currentRoute:c,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:b,resolve:w,options:t,push:x,replace:D,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:r.add,beforeResolve:i.add,afterEach:a.add,onError:T.add,isReady:oe,install(S){S.component("RouterLink",Sg),S.component("RouterView",Eg),S.config.globalProperties.$router=ae,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>g(c)}),Ps&&!Se&&c.value===ts&&(Se=!0,x(n.location).catch(ue=>{}));const q={};for(const ue in ts)Object.defineProperty(q,ue,{get:()=>c.value[ue],enumerable:!0});S.provide(xi,ae),S.provide(wi,ql(q)),S.provide(Wr,c);const ee=S.unmount;we.add(S),S.unmount=function(){we.delete(S),we.size<1&&(d=ts,M&&M(),M=null,c.value=ts,Se=!1,F=!1),ee()}}};function ge(S){return S.reduce((q,ee)=>q.then(()=>W(ee)),Promise.resolve())}return ae}function Pg(t){return Rt(wi)}const Ls={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},Dg="info",Xa="sandbox_logging_filters",Ya=["themeswitcher","codemirroreditor","editoradapter"];let Gg=class{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||Dg,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=Ls[this.level.toUpperCase()]??Ls.INFO,this.loggingManager=e.loggingManager,this.console=e.console||console,this.component&&this.loggingManager&&this.loggingManager.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&Ls[e.toUpperCase()]<=this.currentLevel;const s=!this.component||!this.loggingManager||this.loggingManager.isComponentEnabled(this.component);return this.enabled&&s&&Ls[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>this.redactValue(s)):e}redactValue(e){if(typeof e=="string")return e.replace(/\b[a-zA-Z0-9_-]{20,}\b/g,"[REDACTED]");if(Array.isArray(e))return e.map(s=>this.redactValue(s));if(e&&typeof e=="object"&&e.constructor===Object){const s={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=this.redactValue(e[o]));return s}return e}formatMessage(e,...s){const o=this.prefix?`[${this.prefix}] `:"",n=this.redactArgs(s);return[o+e,...n]}error(e,...s){this.shouldLog("error")&&this.console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&this.console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&this.console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&this.console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&this.console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const o=this.redactSecrets;this.redactSecrets=!0;const n=this.formatMessage(e,...s);this.redactSecrets=o,this.console.trace(...n)}}table(e,s){if(this.shouldLog("info")){const o=this.prefix?`[${this.prefix}]`:"";o&&this.console.log(o),this.console.table(e,s)}}group(e){this.shouldLog("info")&&this.console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&this.console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&this.console.groupEnd()}time(e){this.shouldLog("debug")&&this.console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&this.console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=Ls[e.toUpperCase()]??Ls.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}};class Mg{constructor(e={}){this.storage=e.storage,this.console=e.console||console,this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.registeredComponents=new Set,this.storage&&this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),this.console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),this.console.log(" Logging disabled for ALL components (errors still show)")}status(){this.console.log(" Logging Status:"),this.console.log("  Global enabled:",this.globalEnabled),this.console.log("  Allow all:",this.allowAll),this.console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){this.console.log(" Available components to filter:"),Array.from(this.registeredComponents).sort().forEach(e=>{const s=this.isComponentEnabled(e);this.console.log(`  ${s?"":""} ${e}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents.add(e)}saveToStorage(){if(this.storage)try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};this.storage.setItem(Xa,JSON.stringify(e))}catch{}}loadFromStorage(){if(this.storage)try{const e=this.storage.getItem(Xa),s=JSON.parse(e||"{}");this.allowedComponents=new Set(s.allowedComponents||[]),this.allowAll=s.allowAll||!1,this.globalEnabled=s.globalEnabled!==!1,e||(this.allowedComponents=new Set(Ya))}catch{this.allowedComponents=new Set(Ya)}}}let id=class{getItem(e){throw new Error("StorageAdapter.getItem must be implemented")}setItem(e,s){throw new Error("StorageAdapter.setItem must be implemented")}removeItem(e){throw new Error("StorageAdapter.removeItem must be implemented")}},Fg=class extends id{constructor(){super(),this.storage=new Map}getItem(e){return this.storage.get(e)??null}setItem(e,s){this.storage.set(e,s)}removeItem(e){this.storage.delete(e)}};class zg extends id{getItem(e){try{return localStorage.getItem(e)}catch{return null}}setItem(e,s){try{localStorage.setItem(e,s)}catch{}}removeItem(e){try{localStorage.removeItem(e)}catch{}}}function Bg(){return typeof localStorage<"u"?new zg:new Fg}class ad{getGlobal(){throw new Error("GlobalAdapter.getGlobal must be implemented")}setGlobalProperty(e,s){throw new Error("GlobalAdapter.setGlobalProperty must be implemented")}hasGlobalProperty(e){throw new Error("GlobalAdapter.hasGlobalProperty must be implemented")}}class $g extends ad{getGlobal(){return window}setGlobalProperty(e,s){window[e]=s}hasGlobalProperty(e){return e in window}}class Og extends ad{getGlobal(){return globalThis}setGlobalProperty(e,s){globalThis[e]=s}hasGlobalProperty(e){return e in globalThis}}function Vg(){return typeof window<"u"?new $g:new Og}const Hg=Bg(),Wg=Vg(),xs=new Mg({storage:Hg,console});typeof window<"u"&&Wg.setGlobalProperty("logFilter",{enable:(...t)=>xs.enable(...t),disable:(...t)=>xs.disable(...t),enableAll:()=>xs.enableAll(),disableAll:()=>xs.disableAll(),status:()=>xs.status(),list:()=>xs.listComponents()});function $e(t={}){return new Gg({...t,loggingManager:xs})}const Ug=$e({prefix:"i18n",level:"info"}),Ur={en:{nav:{home:"Home",showcase:"Features Showcase",explorer:"Network Explorer",family:"Family Tree",docs:"Documentation"},common:{loading:"Loading...",error:"Error",success:"Success",darkMode:"Toggle dark mode",language:"Language"},footer:{madeBy:"Made with",by:"by",license:"MIT License"},home:{hero:{title:"Modern Network Analysis for JavaScript",subtitle:"Powerful graph theory and network analysis with worker-first architecture",description:"Analyze social networks, family trees, and complex graphs with ease. Fast parallel computation, comprehensive metrics, and beautiful visualizations - all in pure JavaScript.",cta:"Get Started",github:"View on GitHub"},features:[{icon:"",title:"Network Analytics",description:"Compute centrality metrics, clustering coefficients, and graph-level statistics with comprehensive analysis tools"},{icon:"",title:"Interactive Explorer",description:"Explore networks with drag-and-drop, zoom, pan, and real-time analysis of nodes and communities"},{icon:"",title:"Multiple Layouts",description:"11 layout algorithms including force-directed, Kamada-Kawai, spectral, and hierarchical layouts"},{icon:"",title:"Worker Performance",description:"Non-blocking UI with web workers for parallel computation on large graphs with thousands of nodes"},{icon:"",title:"Community Detection",description:"Find clusters and groups in networks using Louvain algorithm with modularity optimization"},{icon:"",title:"Rich Metrics",description:"Degree, betweenness, eigenvector, clustering, closeness, and more statistical features"}],code:{title:"Quick Start Example",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`}},docs:{title:"Documentation",subtitle:"Complete API reference for @guinetik/graph-js",sections:{quickStart:"Quick Start",coreClasses:"Core Classes",adapters:"Data Adapters",layouts:"Graph Layouts",community:"Community Detection",examples:"Usage Examples"},quickStart:{title:"Quick Start",install:"Installation",installCmd:"npm install @guinetik/graph-js",basicUsage:"Basic Usage",description:"Get started with network analysis in just a few lines of code."},graph:{title:"Graph",description:"Core graph data structure using adjacency maps for efficient operations.",methods:"Methods",methodsList:{addNode:{name:"addNode(nodeId)",description:"Add a single node to the graph"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Add multiple nodes from an array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Add an edge between two nodes"},removeNode:{name:"removeNode(nodeId)",description:"Remove a node and all its edges"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Get array of neighbor node IDs"},hasEdge:{name:"hasEdge(source, target)",description:"Check if edge exists"},numberOfNodes:{name:"numberOfNodes()",description:"Get total number of nodes"}}},networkStats:{title:"NetworkStats",description:"Main class for analyzing networks and calculating statistical metrics. All computation happens in web workers for optimal performance.",constructor:"Constructor",constructorParams:{verbose:"Enable detailed logging (default: true)",maxWorkers:"Maximum number of workers (default: auto-detect CPU cores)",taskTimeout:"Task timeout in milliseconds (default: 60000)",workerScript:"Custom worker script path for bundlers like Vite"},analyze:{title:"analyze() Method",description:"Compute network statistics for all nodes"},features:{title:"Available Features",degree:"Number of connections per node",eigenvector:"Influence based on connection quality (like PageRank)",eigenvectorLaplacian:"Laplacian eigenvector centrality (for spectral layouts)",betweenness:"Bridge importance between groups",clustering:"How densely connected neighbors are",closeness:"Average distance to all other nodes in the network",cliques:"Number of complete subgraphs containing the node",egoDensity:"Density of the node's immediate neighborhood",modularity:"Community assignment (Louvain algorithm)"}},adapters:{title:"Data Adapters",description:"Convert between various graph formats and the standard GraphData format. All adapters use static methods.",csv:{title:"CSVAdapter",description:"Load and convert CSV files to graph format. Supports edge lists and node property files.",methods:"Methods",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Parse CSV edge list. Options: header (default: true), delimiter (default: ","), weighted (default: true)',returns:"Returns GraphData with nodes and edges"},fromNodes:{name:"fromNodes(csvText, options)",description:"Parse CSV node properties",returns:"Returns array of NodeData objects"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Async method to fetch and parse CSV from URLs",returns:"Returns Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Export edges to CSV string",returns:"Returns CSV string"},toNodes:{name:"toNodes(graphData, options)",description:"Export nodes to CSV string",returns:"Returns CSV string"}}},json:{title:"JSONAdapter",description:"Support for D3.js, Cytoscape, and other JSON formats. Auto-detects format.",methods:"Methods",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Convert D3.js force-directed format (with "links") to GraphData',returns:"Returns GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Convert Cytoscape.js format to GraphData",returns:"Returns GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Auto-detect format (GraphData, D3, Cytoscape, NetworkX)",returns:"Returns GraphData"},toD3:{name:"toD3(graphData)",description:'Convert to D3.js format with "links" property',returns:"Returns D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Convert to Cytoscape.js format",returns:"Returns CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Async method to fetch and parse JSON",returns:"Returns Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Python NetworkX interoperability. Supports node-link and adjacency formats.",methods:"Methods",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Convert NetworkX node-link format (most common)",returns:"Returns GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Convert NetworkX adjacency format",returns:"Returns GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Convert to node-link format. Options: directed (default: false), multigraph (default: false)",returns:"Returns NetworkX node-link data"},toAdjacency:{name:"toAdjacency(graphData)",description:"Convert to adjacency format",returns:"Returns array of node objects with adjacency lists"}}}},layouts:{title:"Graph Layouts",description:"Position nodes in 2D space using various algorithms. All layouts use async computation in Web Workers for optimal performance.",note:"All layout methods are async and return Promise<Object> with node positions {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Spring-electrical model using Fruchterman-Reingold algorithm. Good for general-purpose network visualization.",complexity:"Time Complexity: O(iterations  V)",bestFor:"Best for: General networks, social graphs",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Number of simulation steps (default: 50)",k:"Optimal distance between nodes (default: auto-calculated)",scale:"Scale factor for positions (default: 1)",center:"Center point {x, y} (default: {x:0, y:0})",initialPositions:"Starting positions (default: random)",threshold:"Convergence threshold (default: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Energy minimization based on all-pairs shortest paths. Produces aesthetically pleasing layouts.",complexity:"Time Complexity: O(V + iterations  V)",bestFor:"Best for: Small-medium graphs (<1000 nodes), trees, planar graphs",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Maximum iterations (default: 1000)",scale:"Scale factor (default: 1)",center:"Center point (default: {x:0, y:0})",initialPositions:"Starting positions (default: circular)",threshold:"Convergence threshold (default: 1e-4)",K:"Spring constant scaling (default: auto)"}},spectral:{title:"SpectralLayout",description:"Uses Laplacian eigenvectors as coordinates. Excellent for visualizing community structure.",complexity:"Time Complexity: O(V) using pre-computed eigenvectors",bestFor:"Best for: Community visualization, graph topology",requires:'Requires: "eigenvector-laplacian" statistic must be pre-computed',constructor:"new SpectralLayout(graph, options)",options:{scale:"Scale factor (default: 100)",center:"Center point (default: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Positions nodes in a circle. Simple and clean for small networks.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Small networks, cycle graphs",constructor:"new CircularLayout(graph, options)",options:{scale:"Circle radius (default: 100)",center:"Center point (default: {x:0, y:0})",sortBy:"Optional sort function for node order"}},shell:{title:"ShellLayout",description:"Concentric circles based on node degree. High-degree nodes in center.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Hub-and-spoke networks, star graphs",requires:'Requires: "degree" statistic must be pre-computed',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Archimedean spiral pattern. Aesthetically pleasing for ordered data.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Sequential or temporal networks",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Breadth-first search layers. Shows distance from root node.",complexity:"Time Complexity: O(V + E)",bestFor:"Best for: Trees, hierarchies, showing propagation",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Two-layer layout for bipartite graphs.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Two-mode networks, actor-event data",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Random positions. Useful as starting point for other layouts.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Initial positions, testing",constructor:"new RandomLayout(graph, options)"},usage:"Usage Pattern",usageDescription:"All layouts follow the same async pattern"},community:{title:"Community Detection",description:"Detect communities (clusters) in networks using various algorithms. All computation runs in Web Workers.",mainClass:{title:"CommunityDetection",description:"Main class for detecting communities in graphs",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detect communities using specified algorithm. Algorithm can be instance or string ("louvain")',returns:"Returns Promise<CommunityResult> with communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calculate modularity score for a partition",returns:"Returns number (-1 to 1, higher is better)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Convenience method for direct detection from GraphData",returns:"Returns Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Get array of node IDs in a specific community"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Get object mapping communityId to array of node IDs"}}},louvain:{title:"LouvainAlgorithm",description:"Fast modularity optimization using the Louvain method. The most popular community detection algorithm.",complexity:"Time Complexity: O(V log V)",bestFor:"Best for: Large networks, general-purpose community detection",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Resolution parameter for modularity (default: 1.0). Higher values find smaller communities.",maxIterations:"Maximum iterations (default: 100)"}},result:{title:"CommunityResult",description:"Result object returned by community detection",properties:{communities:"Object mapping nodeId to communityId (number)",modularity:"Modularity score (-1 to 1, typically 0.3-0.7 for good partitions)",numCommunities:"Number of communities found",algorithm:"Algorithm name used",metadata:"Optional additional information"}},customAlgorithm:{title:"Custom Algorithms",description:"Extend CommunityAlgorithm base class to create your own algorithms",note:"Implement the detect() method and configure worker module path"}},examples:{title:"Usage Examples",description:"Complete code examples for common use cases",basic:{title:"Basic Network Analysis",description:"Analyze a simple network and compute centrality metrics"},csv:{title:"Loading CSV Data",description:"Import network data from CSV files and analyze"},json:{title:"Working with JSON",description:"Convert between JSON formats (D3, Cytoscape, NetworkX)"},layout:{title:"Applying Layouts",description:"Position nodes using layout algorithms"},community:{title:"Community Detection",description:"Find communities using Louvain algorithm"},complete:{title:"Complete Workflow",description:"End-to-end example: load data, analyze, layout, detect communities"}}},showcase:{title:"Features Showcase",description:"Explore all the features of @guinetik/graph-js",header:{title:" Interactive Network Graph",subtitle:"Explore network analysis in real-time. Add nodes, remove them, and watch the graph update dynamically."},whatIs:{title:"What is this?",description:"This interactive visualization demonstrates <strong>network analysis</strong>. Node size represents centrality: larger nodes are more influential in the network."},status:{title:"Status",ready:"Ready for operations",hover:"Hover over nodes to see details"},controls:{title:"Controls",addRandom:"Add a random node connected to a random existing node",addToSelected:"Add a node connected to {name}",selectNodeFirst:"Select a node first",removeRandom:"Remove a random node"},dataLoading:{title:"Load Dataset",choose:"Choose Dataset:",default:"Default Inline (15 nodes)",karate:"Karate Club JSON (34 nodes)",miserables:"Les Misrables CSV (77 nodes)",loadButton:" Load Dataset",loading:" Loading..."},networkAnalysis:{title:" Network Analysis (Node Sizes)",description:"<strong>Uses @guinetik/graph-js:</strong> Computes centrality metrics in web workers for optimal performance.",metricsTitle:"Metrics to Calculate",degreeCentrality:"Degree Centrality",betweennessCentrality:"Betweenness Centrality",clusteringCoefficient:"Clustering Coefficient",eigenvectorCentrality:"Eigenvector Centrality",eigenvectorLaplacian:"Eigenvector (Laplacian) - for Spectral layout",nodeSizeLabel:"Node Size Based On:",selectMetric:"-- Select a metric --",analyzeButton:" Analyze Network",analyzingButton:" Analyzing...",degreeName:"Degree",betweennessName:"Betweenness",clusteringName:"Clustering",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Layout Algorithm"},communityDetection:{title:" Community Detection",communitiesFound:"Communities Found:",modularity:"Modularity:",nodeColorsAssignments:"Node colors represent community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = centrality",color:" <strong>Color</strong> = group/community"},buttons:{add:"Add",toSelected:"To Selected",remove:"Remove"},messages:{loadingGraph:"Loading graph...",loadingDataset:"Loading {dataset} dataset...",loadingDatasetName:"Loading {name} dataset...",analyzing:"Analyzing network using workers...",applyingLayout:"Applying {layout} layout...",detectingCommunities:"Detecting communities using {algorithm}...",loadedDataset:" Loaded {name} dataset ({nodes} nodes, {edges} edges)",failedToLoadDataset:" Failed to load dataset: {error}",addedNode:' Added node "{nodeId}" connected to "{connectedTo}"',noNodeSelected:" No node selected. Click on a node to select it first.",noNodesToRemove:" No nodes to remove",removedNode:' Removed node "{nodeId}"',analysisComplete:" Analysis complete! Computed {count} node metrics using web workers",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty"},layoutPicker:{chooseLayout:"Choose Layout:",applyButton:" Apply Layout",applyingButton:" Applying..."},communityPicker:{chooseAlgorithm:"Choose Algorithm:",detectButton:" Detect Communities",detectingButton:" Detecting..."}},explorer:{title:"Network Explorer",description:"Interactive network analysis and visualization",header:{title:" Network Explorer",subtitle:"Explore sample networks and upload your own files. Supports CSV, JSON, and NetworkX formats."},parallelComputation:{title:" Parallel Computation Demo",description:"This demo showcases <strong>Web Workers</strong> for parallel network analysis. Large networks are processed across multiple CPU cores for faster computation.",workersSupported:" Workers Supported",workersNotSupported:" Workers Not Supported",cores:"cores"},status:{title:"Status",ready:"Ready for operations",loadNetwork:"Load a network to begin"},dataLoading:{title:"Data Loading",sampleNetworks:" Sample Networks",uploadFile:" Upload File",chooseNetwork:"Choose Network:",chooseCity:"-- Choose a city --",caruaru:"Caruaru (~130 edges, small)",rj:"Rio de Janeiro (~1,900 edges, medium)",niteroi:"Niteri (~18,500 edges, large)",loadNetwork:" Load Network",loading:" Loading...",fileFormat:"File Format:",edgesCSV:"Edges CSV (Required):",nodesCSV:"Nodes CSV (Optional):",edgeCSVFormat:"<strong>Edge CSV format:</strong> source,target,weight<br><strong>Node CSV format:</strong> id,group,label,...",jsonFile:"JSON File:",networkxFile:"NetworkX JSON File:",jsonSupports:"Supports: Standard (nodes/edges), D3 (nodes/links), Cytoscape, or raw edge list array",networkxSupports:"Supports: node-link format, adjacency format",loadUploadedFile:" Load Uploaded File",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (edge list)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Network Statistics",nodes:"Nodes",edges:"Edges",avgDegree:"Avg Degree",analysisTime:"Analysis Time",communities:"Communities",modularity:"Modularity",usingParallel:" Using parallel computation",workersActive:"workers active",singleThreaded:" Single-threaded mode",networkTooSmall:"Network too small for workers"},networkAnalysis:{title:" Network Analysis (Node Sizes)"},layoutAlgorithm:{title:" Layout Algorithm",requiresAnalysis:"requires analysis"},graphStats:{title:" Graph Statistics",density:"Density:",diameter:"Diameter:",avgClustering:"Avg Clustering:",avgPathLength:"Avg Path Length:",components:"Components:",avgDegree:"Avg Degree:",calculated:"Calculated alongside node metrics"},communityDetection:{title:" Community Detection (Node Colors)",algorithm:"Algorithm:"},communityResults:{title:" Community Detection Results",communitiesFound:"Communities Found:",modularityScore:"Modularity Score:",computationTime:"Computation Time:",algorithm:"Algorithm:",nodeColorsRepresent:"Node colors represent their community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = selected metric",color:" <strong>Color</strong> = community"},messages:{loadingNetworkData:"Loading network data...",loadedNetwork:" Loaded {name} ({nodes} nodes, {edges} edges)",failedToLoadNetwork:" Failed to load network: {error}",loadingUploadedFile:"Loading uploaded file...",loadedFile:" Loaded {fileName} ({nodes} nodes, {edges} edges)",failedToLoadFile:" Failed to load file: {error}",analyzingNetwork:"Analyzing network using workers...",analysisComplete:" Analysis complete! Computed {count} node metrics",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",applyingLayout:"Applying {layout} layout...",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty",detectingCommunities:"Detecting communities using {algorithm}...",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed"}},family:{title:"Family Tree",subtitle:"Build and visualize your family tree interactively",description:"Visualize family relationships",header:{title:" Family Tree Builder",subtitle:"Build and visualize your family tree interactively. Start with yourself and add relatives to see the network grow."},whatIs:{title:"What is this?",description:"A network visualization of family relationships. Each color represents a different relationship type. The tree auto-saves to your browser's storage every 30 seconds."},status:{title:"Status",ready:"Ready for operations",clickToAdd:"Click buttons to add relatives"},addRelatives:{title:"Add Relatives",parents:" Parents",grandparents:" Grandparents",sibling:" Sibling",nieceNephew:" Niece/Nephew",uncleAunt:" Uncle/Aunt",cousin:" Cousin",partner:" Partner",child:" Child"},actions:{title:"Actions",saveFamily:" Save Family",saveImage:" Save as Image",lockGraph:" Lock Graph",unlockGraph:" Unlock Graph",undo:" Undo",redo:" Redo",resetTree:" Reset Tree"},renderNodes:{title:" Render Nodes",colors:" Colors",avatars:" Avatars",colorsDesc:"Nodes colored by relationship type.",avatarsDesc:"Nodes shown as emoji avatars (if set)."},networkAnalysis:{title:" Network Analysis (Node Sizes)"},relationshipColors:{title:"Relationship Colors",you:"You",parents:"Parents",siblings:"Siblings",unclesAunts:"Uncles/Aunts",cousins:"Cousins",grandparents:"Grandparents",nieces:"Nieces/Nephews",partners:"Partners/Spouses",children:"Children"},layoutAlgorithm:{title:" Layout Algorithm"},instructions:{title:" How to use",dragNodes:" <strong>Drag nodes</strong> to arrange your tree",autoSaves:" <strong>Auto-saves</strong> every 30 seconds",lock:" <strong>Lock</strong> to freeze positions",download:" <strong>Download</strong> as PNG image",analyze:" <strong>Analyze</strong> to size nodes by centrality metrics",layouts:" <strong>Apply layouts</strong> to visualize your tree differently",undoRedo:" <strong>Undo/Redo</strong> with buttons or Ctrl+Z / Ctrl+Y (up to 10 actions)"},dialogs:{selectOption:"Select an option",addParents:"Add Parents",addSibling:"Add Sibling",addGrandparents:"Add Grandparents",addUncleAunt:"Add Uncle/Aunt",addCousin:"Add Cousin",addChild:"Add Child",addNieceNephew:"Add Niece/Nephew",addPartner:"Add Partner/Spouse",fields:{motherName:"Mother Name",motherAvatar:"Mother Avatar (optional)",fatherName:"Father Name",fatherAvatar:"Father Avatar (optional)",siblingName:"Sibling Name",gender:"Gender",avatar:"Avatar (optional)",parentsSide:"Parent's Side",grandmotherName:"Grandmother Name",grandmotherAvatar:"Grandmother Avatar (optional)",grandfatherName:"Grandfather Name",grandfatherAvatar:"Grandfather Avatar (optional)",name:"Name",uncleAuntField:"Uncle/Aunt",sibling:"Sibling",parent:"Parent",partnerOf:"Partner Of"},genderOptions:{male:"Male",female:"Female",other:"Other"},placeholders:{mother:" Type an emoji",father:" Type an emoji",avatar:" Type an emoji",grandmother:" Type an emoji",grandfather:" Type an emoji"}},operations:{errors:{atLeastOneParent:"At least one parent name is required",onlyOneParentSlot:"Only one parent slot available. Added only the mother.",siblingNameRequired:"Sibling name is required",genderRequired:"Gender is required",graphNotInitialized:"Graph not initialized",failedToAddSibling:"Failed to add sibling",parentNotFound:"Parent not found",atLeastOneGrandparent:"At least one grandparent name is required",onlyOneGrandparentSlot:"Only one grandparent slot available for this parent. Added only the grandmother.",failedToAddGrandparents:"Failed to add grandparents",uncleAuntNameRequired:"Uncle/aunt name is required",failedToAddUncleAunt:"Failed to add uncle/aunt",cousinNameRequired:"Cousin name is required",failedToAddCousin:"Failed to add cousin",childNameRequired:"Child name is required",failedToAddChild:"Failed to add child",nieceNephewNameRequired:"Niece/nephew name is required",failedToAddNieceNephew:"Failed to add niece/nephew",partnerNameRequired:"Partner name is required",personNotFound:"Person not found",alreadyHasPartner:"already has a partner!"},success:{parentAdded:"Parent(s) added successfully",siblingAdded:"Sibling added successfully",grandparentsAdded:"Grandparent(s) added successfully",uncleAuntAdded:"Uncle/Aunt added successfully",cousinAdded:"Cousin added successfully",childAdded:"Child added successfully",nieceNephewAdded:"Niece/Nephew added successfully",partnerAdded:"Partner added successfully"},validation:{noParents:"You must add parents first before adding grandparents",noUnclesAunts:"You must add uncles/aunts first before adding cousins",noSiblings:"You must add siblings first before adding nieces/nephews",maxParents:"You already have 2 parents added. You cannot add more than 2 parents.",notEligibleForPartner:"No eligible people available for partners"}},storage:{saved:"Family tree saved!",loaded:"Family tree loaded",reset:"Family tree reset",error:"Error saving family tree"},history:{undone:"Action undone",redone:"Action redone",nothingToUndo:"Nothing to undo",nothingToRedo:"Nothing to redo"},relationships:{yourPartner:"Your Partner/Spouse",partnerOf:"'s Partner",yourChild:"Your child",siblingChild:"'s child (your niece/nephew)",cousinChild:"'s child (your cousin's child)",grandchild:"'s child (your grandchild)",siblingInLaw:"'s partner (your sibling-in-law)",childInLaw:"'s partner (your child-in-law)"},dropdownOptions:{yourChild:"Your child",childTemplate:"{name}'s child",nieceNephewTemplate:"{name}'s child (your niece/nephew)",cousinChildTemplate:"{name}'s child (your cousin's child)",grandchildTemplate:"{name}'s child (your grandchild)",partnerTemplate:"{name}'s partner",siblingPartnerTemplate:"{name}'s partner (your sibling-in-law)",childPartnerTemplate:"{name}'s partner (your child-in-law)",parentSideTemplate:"{name}'s sibling",uncleAuntChildTemplate:"{name}'s child",siblingChildTemplate:"{name}'s child"}}},pt:{nav:{home:"Incio",showcase:"Demonstrao",explorer:"Explorador de Redes",family:"rvore Genealgica",docs:"Documentao"},common:{loading:"Carregando...",error:"Erro",success:"Sucesso",darkMode:"Alternar modo escuro",language:"Idioma"},footer:{madeBy:"Feito com",by:"por",license:"Licena MIT"},showcase:{title:"Demonstrao",description:"Explore todos os recursos de @guinetik/graph-js",header:{title:" Grafo de Rede Interativo",subtitle:"Explore anlise de redes em tempo real. Adicione ns, remova-os e veja o grafo se atualizar dinamicamente."},whatIs:{title:"O que  isto?",description:"Esta visualizao interativa demonstra <strong>anlise de redes</strong>. O tamanho do n representa centralidade: ns maiores so mais influentes na rede."},status:{title:"Status",ready:"Pronto para operaes",hover:"Passe o mouse sobre ns para ver detalhes"},controls:{title:"Controles",addRandom:"Adicionar um n aleatrio conectado a um n existente aleatrio",addToSelected:"Adicionar um n conectado a {name}",selectNodeFirst:"Selecione um n primeiro",removeRandom:"Remover um n aleatrio"},dataLoading:{title:"Carregar Conjunto de Dados",choose:"Escolha um Conjunto de Dados:",default:"Padro Embutido (15 ns)",karate:"Karate Club JSON (34 ns)",miserables:"Os Miserveis CSV (77 ns)",loadButton:" Carregar Conjunto de Dados",loading:" Carregando..."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)",description:"<strong>Usa @guinetik/graph-js:</strong> Calcula mtricas de centralidade em web workers para desempenho ideal.",metricsTitle:"Mtricas para Calcular",degreeCentrality:"Centralidade de Grau",betweennessCentrality:"Centralidade de Intermediao",clusteringCoefficient:"Coeficiente de Agrupamento",eigenvectorCentrality:"Centralidade de Eigenvector",eigenvectorLaplacian:"Eigenvector (Laplaciano) - para layout Espectral",nodeSizeLabel:"Tamanho do N Baseado Em:",selectMetric:"-- Selecione uma mtrica --",analyzeButton:" Analisar Rede",analyzingButton:" Analisando...",degreeName:"Grau",betweennessName:"Intermediao",clusteringName:"Agrupamento",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Algoritmo de Layout"},communityDetection:{title:" Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularity:"Modularidade:",nodeColorsAssignments:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = centralidade",color:" <strong>Cor</strong> = grupo/comunidade"},buttons:{add:"Adicionar",toSelected:"Para Selecionado",remove:"Remover"},messages:{loadingGraph:"Carregando grafo...",loadingDataset:"Carregando conjunto de dados {dataset}...",loadingDatasetName:"Carregando conjunto de dados {name}...",analyzing:"Analisando rede usando workers...",applyingLayout:"Aplicando layout {layout}...",detectingCommunities:"Detectando comunidades usando {algorithm}...",loadedDataset:" Conjunto de dados {name} carregado ({nodes} ns, {edges} arestas)",failedToLoadDataset:" Falha ao carregar conjunto de dados: {error}",addedNode:' N "{nodeId}" adicionado conectado a "{connectedTo}"',noNodeSelected:" Nenhum n selecionado. Clique em um n para selecion-lo primeiro.",noNodesToRemove:" Nenhum n para remover",removedNode:' N "{nodeId}" removido',analysisComplete:" Anlise completa! Computadas {count} mtricas de ns usando web workers",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio"},layoutPicker:{chooseLayout:"Escolha o Layout:",applyButton:" Aplicar Layout",applyingButton:" Aplicando..."},communityPicker:{chooseAlgorithm:"Escolha o Algoritmo:",detectButton:" Detectar Comunidades",detectingButton:" Detectando..."}},home:{hero:{title:"Anlise de Redes Moderna para JavaScript",subtitle:"Teoria de grafos e anlise de redes poderosa com arquitetura worker-first",description:"Analise redes sociais, rvores genealgicas e grafos complexos com facilidade. Computao paralela rpida, mtricas abrangentes e visualizaes bonitas - tudo em JavaScript puro.",cta:"Comear",github:"Ver no GitHub"},features:[{icon:"",title:"Anlise de Redes",description:"Calcule mtricas de centralidade, coeficientes de agrupamento e estatsticas de grafo com ferramentas de anlise abrangentes"},{icon:"",title:"Explorador Interativo",description:"Explore redes com arrastar e soltar, zoom, pan e anlise em tempo real de ns e comunidades"},{icon:"",title:"Mltiplos Layouts",description:"11 algoritmos de layout incluindo force-directed, Kamada-Kawai, spectral e layouts hierrquicos"},{icon:"",title:"Performance com Workers",description:"UI no bloqueante com web workers para computao paralela em grafos grandes com milhares de ns"},{icon:"",title:"Deteco de Comunidades",description:"Encontre clusters e grupos em redes usando algoritmo Louvain com otimizao de modularidade"},{icon:"",title:"Mtricas Ricas",description:"Grau, intermediao, eigenvector, agrupamento, proximidade e mais recursos estatsticos"}],code:{title:"Exemplo de Incio Rpido",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Anlise executada em workers para desempenho ideal!`}},docs:{title:"Documentao",subtitle:"Referncia completa da API para @guinetik/graph-js",sections:{quickStart:"Incio Rpido",coreClasses:"Classes Principais",adapters:"Adaptadores de Dados",layouts:"Layouts de Grafos",community:"Deteco de Comunidades",examples:"Exemplos de Uso"},quickStart:{title:"Incio Rpido",install:"Instalao",installCmd:"npm install @guinetik/graph-js",basicUsage:"Uso Bsico",description:"Comece com anlise de redes em apenas algumas linhas de cdigo."},graph:{title:"Graph",description:"Estrutura de dados de grafo principal usando mapas de adjacncia.",methods:"Mtodos",methodsList:{addNode:{name:"addNode(nodeId)",description:"Adicionar um n ao grafo"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Adicionar mltiplos ns de um array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Adicionar uma aresta entre dois ns"},removeNode:{name:"removeNode(nodeId)",description:"Remover um n e todas as suas arestas"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Obter array de IDs de ns vizinhos"},hasEdge:{name:"hasEdge(source, target)",description:"Verificar se aresta existe"},numberOfNodes:{name:"numberOfNodes()",description:"Obter nmero total de ns"}}},networkStats:{title:"NetworkStats",description:"Classe principal para analisar redes e calcular mtricas estatsticas. Toda computao acontece em web workers para desempenho ideal.",constructor:"Construtor",constructorParams:{verbose:"Ativar logging detalhado (padro: true)",maxWorkers:"Nmero mximo de workers (padro: detecta ncleos da CPU automaticamente)",taskTimeout:"Timeout de tarefa em milissegundos (padro: 60000)",workerScript:"Caminho personalizado do script worker para bundlers como Vite"},analyze:{title:"Mtodo analyze()",description:"Computar estatsticas de rede para todos os ns"},features:{title:"Recursos Disponveis",degree:"Nmero de conexes por n",eigenvector:"Influncia baseada na qualidade das conexes (como PageRank)",eigenvectorLaplacian:"Centralidade eigenvector Laplaciano (para layouts espectrais)",betweenness:"Importncia de ponte entre grupos",clustering:"Quo densamente conectados esto os vizinhos",closeness:"Distncia mdia para todos os outros ns na rede",cliques:"Nmero de subgrafos completos contendo o n",egoDensity:"Densidade da vizinhana imediata do n",modularity:"Atribuio de comunidade (algoritmo Louvain)"}},adapters:{title:"Adaptadores de Dados",description:"Converter entre vrios formatos de grafo e o formato padro GraphData. Todos os adaptadores usam mtodos estticos.",csv:{title:"CSVAdapter",description:"Carregar e converter arquivos CSV para formato de grafo. Suporta listas de arestas e arquivos de propriedades de ns.",methods:"Mtodos",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Analisar lista de arestas CSV. Opes: header (padro: true), delimiter (padro: ","), weighted (padro: true)',returns:"Retorna GraphData com ns e arestas"},fromNodes:{name:"fromNodes(csvText, options)",description:"Analisar propriedades de ns CSV",returns:"Retorna array de objetos NodeData"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Mtodo assncrono para buscar e analisar CSV de URLs",returns:"Retorna Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Exportar arestas para string CSV",returns:"Retorna string CSV"},toNodes:{name:"toNodes(graphData, options)",description:"Exportar ns para string CSV",returns:"Retorna string CSV"}}},json:{title:"JSONAdapter",description:"Suporte para D3.js, Cytoscape e outros formatos JSON. Detecta formato automaticamente.",methods:"Mtodos",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Converter formato D3.js force-directed (com "links") para GraphData',returns:"Retorna GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Converter formato Cytoscape.js para GraphData",returns:"Retorna GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Detectar formato automaticamente (GraphData, D3, Cytoscape, NetworkX)",returns:"Retorna GraphData"},toD3:{name:"toD3(graphData)",description:'Converter para formato D3.js com propriedade "links"',returns:"Retorna D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Converter para formato Cytoscape.js",returns:"Retorna CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Mtodo assncrono para buscar e analisar JSON",returns:"Retorna Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Interoperabilidade com Python NetworkX. Suporta formatos node-link e adjacncia.",methods:"Mtodos",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Converter formato NetworkX node-link (mais comum)",returns:"Retorna GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Converter formato de adjacncia NetworkX",returns:"Retorna GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Converter para formato node-link. Opes: directed (padro: false), multigraph (padro: false)",returns:"Retorna dados node-link NetworkX"},toAdjacency:{name:"toAdjacency(graphData)",description:"Converter para formato de adjacncia",returns:"Retorna array de objetos de ns com listas de adjacncia"}}}},layouts:{title:"Layouts de Grafos",description:"Posicionar ns no espao 2D usando vrios algoritmos. Todos os layouts usam computao assncrona em Web Workers para desempenho ideal.",note:"Todos os mtodos de layout so assncronos e retornam Promise<Object> com posies de ns {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Modelo spring-eltrico usando algoritmo Fruchterman-Reingold. Bom para visualizao geral de redes.",complexity:"Complexidade de Tempo: O(iterations  V)",bestFor:"Melhor para: Redes gerais, grafos sociais",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Nmero de passos de simulao (padro: 50)",k:"Distncia tima entre ns (padro: auto-calculado)",scale:"Fator de escala para posies (padro: 1)",center:"Ponto central {x, y} (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: aleatrio)",threshold:"Limiar de convergncia (padro: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Minimizao de energia baseada em caminhos mais curtos. Produz layouts esteticamente agradveis.",complexity:"Complexidade de Tempo: O(V + iterations  V)",bestFor:"Melhor para: Grafos pequenos-mdios (<1000 ns), rvores, grafos planares",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Mximo de iteraes (padro: 1000)",scale:"Fator de escala (padro: 1)",center:"Ponto central (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: circular)",threshold:"Limiar de convergncia (padro: 1e-4)",K:"Escala de constante de mola (padro: auto)"}},spectral:{title:"SpectralLayout",description:"Usa autovetores Laplacianos como coordenadas. Excelente para visualizar estrutura de comunidades.",complexity:"Complexidade de Tempo: O(V) usando autovetores pr-computados",bestFor:"Melhor para: Visualizao de comunidades, topologia de grafo",requires:'Requer: estatstica "eigenvector-laplacian" deve ser pr-computada',constructor:"new SpectralLayout(graph, options)",options:{scale:"Fator de escala (padro: 100)",center:"Ponto central (padro: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Posiciona ns em crculo. Simples e limpo para redes pequenas.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes pequenas, grafos cclicos",constructor:"new CircularLayout(graph, options)",options:{scale:"Raio do crculo (padro: 100)",center:"Ponto central (padro: {x:0, y:0})",sortBy:"Funo de ordenao opcional para ordem dos ns"}},shell:{title:"ShellLayout",description:"Crculos concntricos baseados no grau do n. Ns de alto grau no centro.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes hub-and-spoke, grafos estrela",requires:'Requer: estatstica "degree" deve ser pr-computada',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Padro de espiral arquimediana. Esteticamente agradvel para dados ordenados.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes sequenciais ou temporais",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Camadas de busca em largura. Mostra distncia do n raiz.",complexity:"Complexidade de Tempo: O(V + E)",bestFor:"Melhor para: rvores, hierarquias, mostrando propagao",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Layout de duas camadas para grafos bipartidos.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes de dois modos, dados ator-evento",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Posies aleatrias. til como ponto de partida para outros layouts.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Posies iniciais, testes",constructor:"new RandomLayout(graph, options)"},usage:"Padro de Uso",usageDescription:"Todos os layouts seguem o mesmo padro assncrono"},community:{title:"Deteco de Comunidades",description:"Detectar comunidades (clusters) em redes usando vrios algoritmos. Toda computao  executada em Web Workers.",mainClass:{title:"CommunityDetection",description:"Classe principal para detectar comunidades em grafos",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detectar comunidades usando algoritmo especificado. Algoritmo pode ser instncia ou string ("louvain")',returns:"Retorna Promise<CommunityResult> com communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calcular pontuao de modularidade para uma partio",returns:"Retorna number (-1 a 1, maior  melhor)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Mtodo de convenincia para deteco direta de GraphData",returns:"Retorna Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Obter array de IDs de ns em uma comunidade especfica"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Obter objeto mapeando communityId para array de IDs de ns"}}},louvain:{title:"LouvainAlgorithm",description:"Otimizao rpida de modularidade usando o mtodo Louvain. O algoritmo de deteco de comunidades mais popular.",complexity:"Complexidade de Tempo: O(V log V)",bestFor:"Melhor para: Redes grandes, deteco de comunidades de uso geral",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Parmetro de resoluo para modularidade (padro: 1.0). Valores maiores encontram comunidades menores.",maxIterations:"Mximo de iteraes (padro: 100)"}},result:{title:"CommunityResult",description:"Objeto de resultado retornado pela deteco de comunidades",properties:{communities:"Objeto mapeando nodeId para communityId (nmero)",modularity:"Pontuao de modularidade (-1 a 1, tipicamente 0.3-0.7 para boas parties)",numCommunities:"Nmero de comunidades encontradas",algorithm:"Nome do algoritmo usado",metadata:"Informaes adicionais opcionais"}},customAlgorithm:{title:"Algoritmos Personalizados",description:"Estender classe base CommunityAlgorithm para criar seus prprios algoritmos",note:"Implementar o mtodo detect() e configurar caminho do mdulo worker"}},examples:{title:"Exemplos de Uso",description:"Exemplos de cdigo completos para casos de uso comuns",basic:{title:"Anlise Bsica de Redes",description:"Analisar uma rede simples e computar mtricas de centralidade"},csv:{title:"Carregando Dados CSV",description:"Importar dados de rede de arquivos CSV e analisar"},json:{title:"Trabalhando com JSON",description:"Converter entre formatos JSON (D3, Cytoscape, NetworkX)"},layout:{title:"Aplicando Layouts",description:"Posicionar ns usando algoritmos de layout"},community:{title:"Deteco de Comunidades",description:"Encontrar comunidades usando algoritmo Louvain"},complete:{title:"Fluxo Completo",description:"Exemplo ponta a ponta: carregar dados, analisar, aplicar layout, detectar comunidades"}}},explorer:{title:"Explorador de Redes",description:"Anlise e visualizao interativa de redes",header:{title:" Explorador de Redes",subtitle:"Explore redes de exemplo e carregue seus prprios arquivos. Suporta formatos CSV, JSON e NetworkX."},parallelComputation:{title:" Demonstrao de Computao Paralela",description:"Esta demonstrao apresenta <strong>Web Workers</strong> para anlise de redes paralela. Redes grandes so processadas em mltiplos ncleos de CPU para computao mais rpida.",workersSupported:" Workers Suportados",workersNotSupported:" Workers No Suportados",cores:"ncleos"},status:{title:"Status",ready:"Pronto para operaes",loadNetwork:"Carregue uma rede para comear"},dataLoading:{title:"Carregamento de Dados",sampleNetworks:" Redes de Exemplo",uploadFile:" Carregar Arquivo",chooseNetwork:"Escolha uma Rede:",chooseCity:"-- Escolha uma cidade --",caruaru:"Caruaru (~130 arestas, pequena)",rj:"Rio de Janeiro (~1.900 arestas, mdia)",niteroi:"Niteri (~18.500 arestas, grande)",loadNetwork:" Carregar Rede",loading:" Carregando...",fileFormat:"Formato do Arquivo:",edgesCSV:"CSV de Arestas (Obrigatrio):",nodesCSV:"CSV de Ns (Opcional):",edgeCSVFormat:"<strong>Formato CSV de arestas:</strong> source,target,weight<br><strong>Formato CSV de ns:</strong> id,group,label,...",jsonFile:"Arquivo JSON:",networkxFile:"Arquivo JSON NetworkX:",jsonSupports:"Suporta: Padro (nodes/edges), D3 (nodes/links), Cytoscape, ou array de lista de arestas",networkxSupports:"Suporta: formato node-link, formato adjacency",loadUploadedFile:" Carregar Arquivo Enviado",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (lista de arestas)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Estatsticas da Rede",nodes:"Ns",edges:"Arestas",avgDegree:"Grau Mdio",analysisTime:"Tempo de Anlise",communities:"Comunidades",modularity:"Modularidade",usingParallel:" Usando computao paralela",workersActive:"workers ativos",singleThreaded:" Modo single-thread",networkTooSmall:"Rede muito pequena para workers"},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},layoutAlgorithm:{title:" Algoritmo de Layout",requiresAnalysis:"requer anlise"},graphStats:{title:" Estatsticas do Grafo",density:"Densidade:",diameter:"Dimetro:",avgClustering:"Agrupamento Mdio:",avgPathLength:"Comprimento Mdio do Caminho:",components:"Componentes:",avgDegree:"Grau Mdio:",calculated:"Calculado junto com mtricas de ns"},communityDetection:{title:" Deteco de Comunidades (Cores dos Ns)",algorithm:"Algoritmo:"},communityResults:{title:" Resultados da Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularityScore:"Pontuao de Modularidade:",computationTime:"Tempo de Computao:",algorithm:"Algoritmo:",nodeColorsRepresent:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = mtrica selecionada",color:" <strong>Cor</strong> = comunidade"},messages:{loadingNetworkData:"Carregando dados da rede...",loadedNetwork:" {name} carregada ({nodes} ns, {edges} arestas)",failedToLoadNetwork:" Falha ao carregar rede: {error}",loadingUploadedFile:"Carregando arquivo enviado...",loadedFile:" {fileName} carregado ({nodes} ns, {edges} arestas)",failedToLoadFile:" Falha ao carregar arquivo: {error}",analyzingNetwork:"Analisando rede usando workers...",analysisComplete:" Anlise completa! Computadas {count} mtricas de ns",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",applyingLayout:"Aplicando layout {layout}...",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio",detectingCommunities:"Detectando comunidades usando {algorithm}...",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou"}},family:{title:"rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente",description:"Visualize relaes familiares",header:{title:" Construtor de rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente. Comece com voc mesmo e adicione parentes para ver a rede crescer."},whatIs:{title:"O que  isso?",description:"Uma visualizao de rede de relaes familiares. Cada cor representa um tipo de relao diferente. A rvore  salva automaticamente no armazenamento do seu navegador a cada 30 segundos."},status:{title:"Status",ready:"Pronto para operaes",clickToAdd:"Clique nos botes para adicionar parentes"},addRelatives:{title:"Adicionar Parentes",parents:" Pais",grandparents:" Avs",sibling:" Irm/Irmo",nieceNephew:" Sobrinha/Sobrinho",uncleAunt:" Tio/Tia",cousin:" Primo/Prima",partner:" Parceiro/Parceira",child:" Filho/Filha"},actions:{title:"Aes",saveFamily:" Salvar Famlia",saveImage:" Salvar como Imagem",lockGraph:" Bloquear Grafo",unlockGraph:" Desbloquear Grafo",undo:" Desfazer",redo:" Refazer",resetTree:" Redefinir rvore"},renderNodes:{title:" Renderizar Ns",colors:" Cores",avatars:" Avatares",colorsDesc:"Ns coloridos por tipo de relao.",avatarsDesc:"Ns mostrados como avatares emoji (se definido)."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},relationshipColors:{title:"Cores de Relao",you:"Voc",parents:"Pais",siblings:"Irmos",unclesAunts:"Tios/Tias",cousins:"Primos/Primas",grandparents:"Avs",nieces:"Sobrinhas/Sobrinhos",partners:"Parceiros/Parceiras",children:"Filhos/Filhas"},layoutAlgorithm:{title:" Algoritmo de Layout"},instructions:{title:" Como usar",dragNodes:" <strong>Arraste ns</strong> para organizar sua rvore",autoSaves:" <strong>Salva automaticamente</strong> a cada 30 segundos",lock:" <strong>Bloqueie</strong> para congelar posies",download:" <strong>Baixe</strong> como imagem PNG",analyze:" <strong>Analise</strong> para dimensionar ns por mtricas de centralidade",layouts:" <strong>Aplique layouts</strong> para visualizar sua rvore de forma diferente",undoRedo:" <strong>Desfazer/Refazer</strong> com botes ou Ctrl+Z / Ctrl+Y (at 10 aes)"},dialogs:{selectOption:"Selecione uma opo",addParents:"Adicionar Pais",addSibling:"Adicionar Irm/Irmo",addGrandparents:"Adicionar Avs",addUncleAunt:"Adicionar Tio/Tia",addCousin:"Adicionar Primo/Prima",addChild:"Adicionar Filho/Filha",addNieceNephew:"Adicionar Sobrinha/Sobrinho",addPartner:"Adicionar Parceiro/Parceira",fields:{motherName:"Nome da Me",motherAvatar:"Avatar da Me (opcional)",fatherName:"Nome do Pai",fatherAvatar:"Avatar do Pai (opcional)",siblingName:"Nome do Irm/Irmo",gender:"Gnero",avatar:"Avatar (opcional)",parentsSide:"Lado do Pai/Me",grandmotherName:"Nome da Av",grandmotherAvatar:"Avatar da Av (opcional)",grandfatherName:"Nome do Av",grandfatherAvatar:"Avatar do Av (opcional)",name:"Nome",uncleAuntField:"Tio/Tia",sibling:"Irm/Irmo",parent:"Pai/Me",partnerOf:"Parceiro/Parceira De"},genderOptions:{male:"Masculino",female:"Feminino",other:"Outro"},placeholders:{mother:" Digite um emoji",father:" Digite um emoji",avatar:" Digite um emoji",grandmother:" Digite um emoji",grandfather:" Digite um emoji"}},operations:{errors:{atLeastOneParent:"Pelo menos um nome de pai  necessrio",onlyOneParentSlot:"Apenas um slot de pai disponvel. Adicionada apenas a me.",siblingNameRequired:"Nome do irm/irmo  obrigatrio",genderRequired:"Gnero  obrigatrio",graphNotInitialized:"Grafo no inicializado",failedToAddSibling:"Falha ao adicionar irm/irmo",parentNotFound:"Pai/Me no encontrado",atLeastOneGrandparent:"Pelo menos um nome de av  necessrio",onlyOneGrandparentSlot:"Apenas um slot de av disponvel para este pai. Adicionada apenas a av.",failedToAddGrandparents:"Falha ao adicionar avs",uncleAuntNameRequired:"Nome do tio/tia  obrigatrio",failedToAddUncleAunt:"Falha ao adicionar tio/tia",cousinNameRequired:"Nome do primo/prima  obrigatrio",failedToAddCousin:"Falha ao adicionar primo/prima",childNameRequired:"Nome do filho/filha  obrigatrio",failedToAddChild:"Falha ao adicionar filho/filha",nieceNephewNameRequired:"Nome do sobrinha/sobrinho  obrigatrio",failedToAddNieceNephew:"Falha ao adicionar sobrinha/sobrinho",partnerNameRequired:"Nome do parceiro/parceira  obrigatrio",personNotFound:"Pessoa no encontrada",alreadyHasPartner:"j tem um parceiro/parceira!"},success:{parentAdded:"Pais adicionados com sucesso",siblingAdded:"Irm(o) adicionado(a) com sucesso",grandparentsAdded:"Avs adicionados com sucesso",uncleAuntAdded:"Tio(a) adicionado(a) com sucesso",cousinAdded:"Primo(a) adicionado(a) com sucesso",childAdded:"Filho(a) adicionado(a) com sucesso",nieceNephewAdded:"Sobrinho(a) adicionado(a) com sucesso",partnerAdded:"Parceiro(a) adicionado(a) com sucesso"},validation:{noParents:"Voc deve adicionar pais primeiro antes de adicionar avs",noUnclesAunts:"Voc deve adicionar tios/tias primeiro antes de adicionar primos",noSiblings:"Voc deve adicionar irmos primeiro antes de adicionar sobrinhos",maxParents:"Voc j tem 2 pais adicionados. Voc no pode adicionar mais de 2 pais.",notEligibleForPartner:"Nenhuma pessoa disponvel para parceiros"}},storage:{saved:"rvore genealgica salva!",loaded:"rvore genealgica carregada",reset:"rvore genealgica redefinida",error:"Erro ao salvar rvore genealgica"},history:{undone:"Ao desfeita",redone:"Ao refeita",nothingToUndo:"Nada para desfazer",nothingToRedo:"Nada para refazer"},relationships:{yourPartner:"Seu Parceiro/Parceira",partnerOf:"'s Parceiro/Parceira",yourChild:"Seu filho/filha",siblingChild:"'s filho/filha (seu sobrinha/sobrinho)",cousinChild:"'s filho/filha (filho/filha do seu primo/prima)",grandchild:"'s filho/filha (seu neto/neta)",siblingInLaw:"'s parceiro/parceira (seu cunhado/cunhada)",childInLaw:"'s parceiro/parceira (seu genro/nora)"},dropdownOptions:{yourChild:"Seu filho/filha",childTemplate:"Filho(a) de {name}",nieceNephewTemplate:"Filho(a) de {name} (seu sobrinho(a))",cousinChildTemplate:"Filho(a) de {name} (filho(a) do seu primo(a))",grandchildTemplate:"Filho(a) de {name} (seu neto(a))",partnerTemplate:"Parceiro(a) de {name}",siblingPartnerTemplate:"Parceiro(a) de {name} (seu cunhado(a))",childPartnerTemplate:"Parceiro(a) de {name} (seu genro/nora)",parentSideTemplate:"Irm(o) de {name}",uncleAuntChildTemplate:"Filho(a) de {name}",siblingChildTemplate:"Filho(a) de {name}"}}}};function ld(t,e,s={}){const o=e.split(".");let n=Ur[t];for(const r of o)if(n=n?.[r],n===void 0)return Ug.warn("Translation not found",{key:e,lang:t}),e;return typeof n=="string"&&Object.keys(s).length>0?n.replace(/\{(\w+)\}/g,(r,i)=>s[i]!==void 0?s[i]:r):n}const Zg=$e({prefix:"useI18n",level:"info"}),io=re(localStorage.getItem("lang")||"en");function Dt(){return{lang:io,t:(s,o={})=>{const n=s.split(".");let r=Ur[io.value];for(const i of n)if(r=r?.[i],r===void 0)return Zg.warn("Translation not found",{key:s,lang:io.value}),s;return typeof r=="string"&&Object.keys(o).length>0?r.replace(/\{(\w+)\}/g,(i,a)=>o[a]!==void 0?o[a]:i):r},changeLanguage:s=>{io.value=s,localStorage.setItem("lang",s)},translations:tt(()=>Ur[io.value])}}const Os=re(localStorage.getItem("darkMode")==="true"),jg=()=>{Os.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};pt(Os,()=>{localStorage.setItem("darkMode",Os.value),jg()},{immediate:!0});function Xg(){return{darkMode:Os,toggleDarkMode:()=>{Os.value=!Os.value}}}function Yg(){const t=document.getElementById("particles");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const s=[],o=100,n=150;class r{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t.width)&&(this.vx*=-1),(this.y<0||this.y>t.height)&&(this.vy*=-1)}draw(){const c=document.documentElement.classList.contains("dark");e.fillStyle=c?"rgba(167, 139, 250, 0.6)":"rgba(139, 92, 246, 0.5)",e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill()}}for(let a=0;a<o;a++)s.push(new r);function i(){e.clearRect(0,0,t.width,t.height),s.forEach(c=>{c.update(),c.draw()});const a=document.documentElement.classList.contains("dark");s.forEach((c,d)=>{s.slice(d+1).forEach(u=>{const h=c.x-u.x,f=c.y-u.y,p=Math.sqrt(h*h+f*f);if(p<n){const y=(1-p/n)*.4;e.strokeStyle=a?`rgba(167, 139, 250, ${y})`:`rgba(139, 92, 246, ${y})`,e.lineWidth=1.5,e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(u.x,u.y),e.stroke()}})}),requestAnimationFrame(i)}i(),window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight})}const Jg={class:"content-wrapper"},Kg={class:"header"},qg={class:"container-main header-content"},Qg={class:"flex items-center gap-4"},ep={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tp={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},sp={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},op={class:"nav hidden md:flex"},np={class:"hidden md:flex items-center space-x-4"},rp=["title"],ip={key:0,class:"text-xl"},ap={key:1,class:"text-xl"},lp={class:"flex flex-col h-full p-6"},cp={class:"flex flex-col space-y-2 mb-8"},dp={class:"border-t border-[var(--color-border)] pt-6 space-y-4"},up={class:"block text-sm font-medium mb-2"},hp={class:"text-2xl"},fp={class:"page"},gp={key:0,class:"footer"},pp={class:"container-main footer-content"},mp={class:"mb-2"},yp={class:"text-sm"},bp={__name:"App",setup(t){const e=Pg(),{lang:s,t:o,changeLanguage:n}=Dt(),{darkMode:r,toggleDarkMode:i}=Xg(),a=re(!1),c=()=>{a.value=!a.value},d=()=>{a.value=!1},u=tt(()=>["showcase","explorer","family"].includes(e.name));return pt(u,h=>{h?document.body.classList.add("demo-page"):document.body.classList.remove("demo-page")},{immediate:!0}),Qs(()=>{Yg()}),(h,f)=>{const p=Rr("router-link"),y=Rr("router-view");return O(),j(Pe,null,[f[16]||(f[16]=l("canvas",{id:"particles"},null,-1)),l("div",Jg,[l("header",Kg,[l("div",qg,[l("div",Qg,[xe(p,{to:"/",class:"logo"},{default:Fe(()=>[...f[7]||(f[7]=[be(" @guinetik/graph-js ",-1)])]),_:1})]),l("button",{onClick:c,class:"md:hidden btn-icon","aria-label":"Toggle menu"},[(O(),j("svg",ep,[a.value?(O(),j("path",sp)):(O(),j("path",tp))]))]),l("nav",op,[xe(p,{to:"/showcase",class:"nav-link","active-class":"nav-link-active"},{default:Fe(()=>[be(m(g(o)("nav.showcase")),1)]),_:1}),xe(p,{to:"/explorer",class:"nav-link","active-class":"nav-link-active"},{default:Fe(()=>[be(m(g(o)("nav.explorer")),1)]),_:1}),xe(p,{to:"/family",class:"nav-link","active-class":"nav-link-active"},{default:Fe(()=>[be(m(g(o)("nav.family")),1)]),_:1}),xe(p,{to:"/docs",class:"nav-link","active-class":"nav-link-active"},{default:Fe(()=>[be(m(g(o)("nav.docs")),1)]),_:1})]),l("div",np,[et(l("select",{"onUpdate:modelValue":f[0]||(f[0]=b=>Ve(s)?s.value=b:null),onChange:f[1]||(f[1]=b=>g(n)(g(s))),class:"px-3 py-1 rounded-md bg-secondary text-primary border border-color text-sm"},[...f[8]||(f[8]=[l("option",{value:"en"},"EN",-1),l("option",{value:"pt"},"PT",-1)])],544),[[Zs,g(s)]]),l("button",{onClick:f[2]||(f[2]=(...b)=>g(i)&&g(i)(...b)),class:"btn-icon",title:g(o)("common.darkMode")},[g(r)?(O(),j("span",ap,"")):(O(),j("span",ip,""))],8,rp),f[9]||(f[9]=l("a",{href:"https://github.com/guinetik/js-network-stats",target:"_blank",class:"btn-icon",title:"View on GitHub"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[l("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])]),xe(fa,{name:"mobile-menu"},{default:Fe(()=>[a.value?(O(),j("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:d},[f[14]||(f[14]=l("div",{class:"absolute inset-0 bg-black/50"},null,-1)),l("div",{class:"absolute top-0 right-0 bottom-0 w-72 bg-[var(--color-bg-primary)] shadow-xl",onClick:f[6]||(f[6]=jc(()=>{},["stop"]))},[l("div",lp,[l("div",{class:"flex justify-between items-center mb-8"},[f[11]||(f[11]=l("h2",{class:"text-xl font-bold"},"Menu",-1)),l("button",{onClick:d,class:"btn-icon"},[...f[10]||(f[10]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l("nav",cp,[xe(p,{to:"/showcase",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:d},{default:Fe(()=>[be(m(g(o)("nav.showcase")),1)]),_:1}),xe(p,{to:"/explorer",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:d},{default:Fe(()=>[be(m(g(o)("nav.explorer")),1)]),_:1}),xe(p,{to:"/family",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:d},{default:Fe(()=>[be(m(g(o)("nav.family")),1)]),_:1}),xe(p,{to:"/docs",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:d},{default:Fe(()=>[be(m(g(o)("nav.docs")),1)]),_:1})]),l("div",dp,[l("div",null,[l("label",up,m(g(o)("common.language")),1),et(l("select",{"onUpdate:modelValue":f[3]||(f[3]=b=>Ve(s)?s.value=b:null),onChange:f[4]||(f[4]=b=>g(n)(g(s))),class:"w-full px-3 py-2 rounded-md bg-secondary text-primary border border-color"},[...f[12]||(f[12]=[l("option",{value:"en"},"English",-1),l("option",{value:"pt"},"Portugus",-1)])],544),[[Zs,g(s)]])]),l("button",{onClick:f[5]||(f[5]=(...b)=>g(i)&&g(i)(...b)),class:"w-full flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[l("span",null,m(g(o)("common.darkMode")),1),l("span",hp,m(g(r)?"":""),1)]),f[13]||(f[13]=l("a",{href:"https://github.com/guinetik/js-network-stats",target:"_blank",class:"flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[l("span",null,"View on GitHub"),l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[l("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])])])):Te("",!0)]),_:1}),l("main",fp,[xe(y,null,{default:Fe(({Component:b})=>[xe(fa,{name:"page-transition",mode:"out-in"},{default:Fe(()=>[(O(),us(nh(b)))]),_:2},1024)]),_:1})]),u.value?Te("",!0):(O(),j("footer",gp,[l("div",pp,[l("p",mp,[be(m(g(o)("footer.madeBy"))+"  "+m(g(o)("footer.by"))+" ",1),f[15]||(f[15]=l("a",{href:"https://github.com/guinetik",target:"_blank",class:"text-accent"},"@guinetik",-1))]),l("p",yp,m(g(o)("footer.license")),1)])]))])],64)}}},vp={class:"relative"},xp={class:"relative py-20 px-4"},wp={class:"max-w-4xl mx-auto text-center"},_p={class:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent"},Cp={class:"text-xl md:text-2xl text-secondary mb-4"},kp={class:"text-lg text-secondary mb-8 max-w-2xl mx-auto"},Ap={class:"flex flex-col sm:flex-row gap-4 justify-center"},Np={href:"https://github.com/guinetik/js-network-stats",target:"_blank",class:"btn-secondary"},Sp={class:"container-main section py-16"},Ip={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},Tp={class:"text-4xl mb-4"},Lp={class:"text-xl font-bold mb-2"},Ep={class:"text-secondary"},Rp={class:"container-main section py-16"},Pp={class:"max-w-3xl mx-auto"},Dp={class:"card overflow-hidden"},Gp={class:"flex items-center justify-between px-6 py-3 bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]"},Mp={class:"text-secondary font-mono text-sm"},Fp={class:"p-6 overflow-x-auto bg-gray-900 text-gray-100"},zp={class:"text-sm"},Bp={__name:"HomePage",setup(t){const{t:e}=Dt();return(s,o)=>{const n=Rr("router-link");return O(),j("div",vp,[l("div",xp,[l("div",wp,[l("h1",_p,m(g(e)("home.hero.title")),1),l("p",Cp,m(g(e)("home.hero.subtitle")),1),l("p",kp,m(g(e)("home.hero.description")),1),l("div",Ap,[xe(n,{to:"/showcase",class:"btn-primary"},{default:Fe(()=>[be("  "+m(g(e)("home.hero.cta")),1)]),_:1}),l("a",Np,"  "+m(g(e)("home.hero.github")),1)])])]),l("div",Sp,[l("div",Ip,[(O(!0),j(Pe,null,cs(g(e)("home.features"),(r,i)=>(O(),j("div",{key:i,class:"card p-6 hover:shadow-xl transition-shadow"},[l("div",Tp,m(r.icon),1),l("h3",Lp,m(r.title),1),l("p",Ep,m(r.description),1)]))),128))])]),l("div",Rp,[l("div",Pp,[l("div",Dp,[l("div",Gp,[l("span",Mp,m(g(e)("home.code.title")),1),o[0]||(o[0]=l("div",{class:"flex gap-2"},[l("div",{class:"w-3 h-3 rounded-full bg-red-500"}),l("div",{class:"w-3 h-3 rounded-full bg-yellow-500"}),l("div",{class:"w-3 h-3 rounded-full bg-green-500"})],-1))]),l("pre",Fp,[l("code",zp,m(g(e)("home.code.snippet")),1)])])])])])}}},$p={class:"demo-layout"},Op={class:"demo-controls-content"},Vp={class:"demo-graph"},Hp=["aria-label"],Wp={key:0,class:"text-2xl"},Up={key:1,class:"text-2xl"},_i={__name:"DemoLayout",setup(t,{expose:e}){const s=re(!1),o=()=>{s.value=!s.value};return e({toggleControls:o,controlsVisible:s}),(n,r)=>(O(),j("div",$p,[l("aside",{class:dt(["demo-controls",s.value?"mobile-visible":"mobile-hidden"])},[l("div",Op,[Pr(n.$slots,"controls")])],2),l("main",Vp,[Pr(n.$slots,"graph")]),l("button",{onClick:o,class:"demo-controls-toggle lg:hidden","aria-label":s.value?"Close controls":"Open controls"},[s.value?(O(),j("span",Up,"")):(O(),j("span",Wp,""))],8,Hp)]))}},Bo=(t,e)=>{const s=t.__vccOpts||t;for(const[o,n]of e)s[o]=n;return s},Zp={class:"layout-picker"},jp={class:"space-y-2"},Xp={class:"block text-sm font-medium text-secondary"},Yp=["value","disabled"],Jp=["value"],Kp=["disabled"],qp={key:0},Qp={key:1},em={key:0,class:"info-box-yellow mt-3"},tm={class:"text-xs text-yellow-800 dark:text-yellow-200"},sm={__name:"LayoutPicker",props:{modelValue:{type:String,required:!0},availableLayouts:{type:Array,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","apply"],setup(t,{emit:e}){const{t:s}=Dt(),o=t,n=tt(()=>o.availableLayouts.find(r=>r.id===o.modelValue));return(r,i)=>(O(),j("div",Zp,[l("div",jp,[l("label",Xp,m(g(s)("showcase.layoutPicker.chooseLayout")),1),l("select",{value:t.modelValue,onInput:i[0]||(i[0]=a=>r.$emit("update:modelValue",a.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(O(!0),j(Pe,null,cs(t.availableLayouts,a=>(O(),j("option",{key:a.id,value:a.id},m(a.name),9,Jp))),128))],40,Yp)]),l("button",{onClick:i[1]||(i[1]=a=>r.$emit("apply")),disabled:t.disabled||t.loading,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.loading?(O(),j("span",Qp,m(g(s)("showcase.layoutPicker.applyingButton")),1)):(O(),j("span",qp,m(g(s)("showcase.layoutPicker.applyButton")),1))],8,Kp),t.modelValue!=="none"&&n.value?(O(),j("div",em,[l("p",tm,[l("strong",null,m(n.value.name)+":",1),be(" "+m(n.value.description),1)])])):Te("",!0)]))}},Ci=Bo(sm,[["__scopeId","data-v-07e2a7ed"]]),om={class:"community-picker"},nm={class:"space-y-2"},rm={class:"block text-sm font-medium text-secondary"},im=["value","disabled"],am=["value"],lm=["disabled"],cm={key:0},dm={key:1},um={__name:"CommunityPicker",props:{modelValue:{type:String,required:!0},availableAlgorithms:{type:Array,required:!0},detecting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue","detect"],setup(t,{emit:e}){const{t:s}=Dt();return(o,n)=>(O(),j("div",om,[l("div",nm,[l("label",rm,m(t.label||g(s)("showcase.communityPicker.chooseAlgorithm")),1),l("select",{value:t.modelValue,onInput:n[0]||(n[0]=r=>o.$emit("update:modelValue",r.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(O(!0),j(Pe,null,cs(t.availableAlgorithms,r=>(O(),j("option",{key:r.id,value:r.id},m(r.name),9,am))),128))],40,im)]),l("button",{onClick:n[1]||(n[1]=r=>o.$emit("detect")),disabled:t.disabled||t.detecting,class:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.detecting?(O(),j("span",dm,m(g(s)("showcase.communityPicker.detectingButton")),1)):(O(),j("span",cm,m(g(s)("showcase.communityPicker.detectButton")),1))],8,lm),Pr(o.$slots,"results",{},void 0,!0)]))}},cd=Bo(um,[["__scopeId","data-v-ee371306"]]),hm={class:"network-analysis"},fm={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 space-y-2 mb-3"},gm={class:"text-sm font-semibold text-primary"},pm={class:"space-y-2"},mm={class:"flex items-center gap-2 text-sm"},ym=["checked"],bm={class:"text-secondary"},vm={class:"flex items-center gap-2 text-sm"},xm=["checked"],wm={class:"text-secondary"},_m={class:"flex items-center gap-2 text-sm"},Cm=["checked"],km={class:"text-secondary"},Am={class:"flex items-center gap-2 text-sm"},Nm=["checked"],Sm={class:"text-secondary"},Im={key:0,class:"flex items-center gap-2 text-sm"},Tm=["checked"],Lm={class:"text-secondary"},Em={class:"space-y-2 mb-3"},Rm={class:"block text-sm font-medium text-secondary"},Pm=["value","disabled"],Dm={value:""},Gm={key:0,value:"degree"},Mm={key:1,value:"betweenness"},Fm={key:2,value:"clustering"},zm={key:3,value:"eigenvector"},Bm=["disabled"],$m={key:0},Om={key:1},Vm={key:0,class:"mt-2"},Hm={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Wm={class:"text-xs text-secondary mt-1 text-center"},Um={__name:"NetworkAnalysis",props:{selectedMetrics:{type:Array,required:!0},sizeMetric:{type:String,default:""},analyzing:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},progress:{type:Number,default:0},showSpectralMetric:{type:Boolean,default:!1}},emits:["update:selectedMetrics","update:sizeMetric","analyze"],setup(t,{emit:e}){const{t:s}=Dt(),o=t,n=e,r=(i,a)=>{let c=[...o.selectedMetrics];a?c.includes(i)||c.push(i):c=c.filter(d=>d!==i),n("update:selectedMetrics",c)};return(i,a)=>(O(),j("div",hm,[l("div",fm,[l("h3",gm,m(g(s)("showcase.networkAnalysis.metricsTitle")),1),l("div",pm,[l("label",mm,[l("input",{type:"checkbox",checked:t.selectedMetrics.includes("degree"),onChange:a[0]||(a[0]=c=>r("degree",c.target.checked)),class:"rounded"},null,40,ym),l("span",bm,m(g(s)("showcase.networkAnalysis.degreeCentrality")),1)]),l("label",vm,[l("input",{type:"checkbox",checked:t.selectedMetrics.includes("betweenness"),onChange:a[1]||(a[1]=c=>r("betweenness",c.target.checked)),class:"rounded"},null,40,xm),l("span",wm,m(g(s)("showcase.networkAnalysis.betweennessCentrality")),1)]),l("label",_m,[l("input",{type:"checkbox",checked:t.selectedMetrics.includes("clustering"),onChange:a[2]||(a[2]=c=>r("clustering",c.target.checked)),class:"rounded"},null,40,Cm),l("span",km,m(g(s)("showcase.networkAnalysis.clusteringCoefficient")),1)]),l("label",Am,[l("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector"),onChange:a[3]||(a[3]=c=>r("eigenvector",c.target.checked)),class:"rounded"},null,40,Nm),l("span",Sm,m(g(s)("showcase.networkAnalysis.eigenvectorCentrality")),1)]),t.showSpectralMetric?(O(),j("label",Im,[l("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector-laplacian"),onChange:a[4]||(a[4]=c=>r("eigenvector-laplacian",c.target.checked)),class:"rounded"},null,40,Tm),l("span",Lm,m(g(s)("showcase.networkAnalysis.eigenvectorLaplacian")),1)])):Te("",!0)])]),l("div",Em,[l("label",Rm,m(g(s)("showcase.networkAnalysis.nodeSizeLabel")),1),l("select",{value:t.sizeMetric,onInput:a[5]||(a[5]=c=>i.$emit("update:sizeMetric",c.target.value)),disabled:t.disabled||t.selectedMetrics.length===0,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[l("option",Dm,m(g(s)("showcase.networkAnalysis.selectMetric")),1),t.selectedMetrics.includes("degree")?(O(),j("option",Gm,m(g(s)("showcase.networkAnalysis.degreeName")),1)):Te("",!0),t.selectedMetrics.includes("betweenness")?(O(),j("option",Mm,m(g(s)("showcase.networkAnalysis.betweennessName")),1)):Te("",!0),t.selectedMetrics.includes("clustering")?(O(),j("option",Fm,m(g(s)("showcase.networkAnalysis.clusteringName")),1)):Te("",!0),t.selectedMetrics.includes("eigenvector")?(O(),j("option",zm,m(g(s)("showcase.networkAnalysis.eigenvectorName")),1)):Te("",!0)],40,Pm)]),l("button",{onClick:a[6]||(a[6]=c=>i.$emit("analyze")),disabled:t.disabled||t.analyzing||t.selectedMetrics.length===0,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors"},[t.analyzing?(O(),j("span",Om,m(g(s)("showcase.networkAnalysis.analyzingButton")),1)):(O(),j("span",$m,m(g(s)("showcase.networkAnalysis.analyzeButton")),1))],8,Bm),t.analyzing&&t.progress>0?(O(),j("div",Vm,[l("div",Hm,[l("div",{class:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:zn({width:`${t.progress*100}%`})},null,4)]),l("p",Wm,m(Math.round(t.progress*100))+"% ",1)])):Te("",!0)]))}},ki=Bo(Um,[["__scopeId","data-v-80f04fb0"]]);function ln(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zm(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dd(t){let e,s,o;t.length!==2?(e=ln,s=(a,c)=>ln(t(a),c),o=(a,c)=>t(a)-c):(e=t===ln||t===Zm?t:jm,s=t,o=t);function n(a,c,d=0,u=a.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(a[h],c)<0?d=h+1:u=h}while(d<u)}return d}function r(a,c,d=0,u=a.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(a[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function i(a,c,d=0,u=a.length){const h=n(a,c,d,u-1);return h>d&&o(a[h-1],c)>-o(a[h],c)?h-1:h}return{left:n,center:i,right:r}}function jm(){return 0}function Xm(t){return t===null?NaN:+t}const Ym=dd(ln),Jm=Ym.right;dd(Xm).center;class Ja extends Map{constructor(e,s=Qm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[o,n]of e)this.set(o,n)}get(e){return super.get(Ka(this,e))}has(e){return super.has(Ka(this,e))}set(e,s){return super.set(Km(this,e),s)}delete(e){return super.delete(qm(this,e))}}function Ka({_intern:t,_key:e},s){const o=e(s);return t.has(o)?t.get(o):s}function Km({_intern:t,_key:e},s){const o=e(s);return t.has(o)?t.get(o):(t.set(o,s),s)}function qm({_intern:t,_key:e},s){const o=e(s);return t.has(o)&&(s=t.get(o),t.delete(o)),s}function Qm(t){return t!==null&&typeof t=="object"?t.valueOf():t}const e0=Math.sqrt(50),t0=Math.sqrt(10),s0=Math.sqrt(2);function Cn(t,e,s){const o=(e-t)/Math.max(0,s),n=Math.floor(Math.log10(o)),r=o/Math.pow(10,n),i=r>=e0?10:r>=t0?5:r>=s0?2:1;let a,c,d;return n<0?(d=Math.pow(10,-n)/i,a=Math.round(t*d),c=Math.round(e*d),a/d<t&&++a,c/d>e&&--c,d=-d):(d=Math.pow(10,n)*i,a=Math.round(t/d),c=Math.round(e/d),a*d<t&&++a,c*d>e&&--c),c<a&&.5<=s&&s<2?Cn(t,e,s*2):[a,c,d]}function o0(t,e,s){if(e=+e,t=+t,s=+s,!(s>0))return[];if(t===e)return[t];const o=e<t,[n,r,i]=o?Cn(e,t,s):Cn(t,e,s);if(!(r>=n))return[];const a=r-n+1,c=new Array(a);if(o)if(i<0)for(let d=0;d<a;++d)c[d]=(r-d)/-i;else for(let d=0;d<a;++d)c[d]=(r-d)*i;else if(i<0)for(let d=0;d<a;++d)c[d]=(n+d)/-i;else for(let d=0;d<a;++d)c[d]=(n+d)*i;return c}function Zr(t,e,s){return e=+e,t=+t,s=+s,Cn(t,e,s)[2]}function n0(t,e,s){e=+e,t=+t,s=+s;const o=e<t,n=o?Zr(e,t,s):Zr(t,e,s);return(o?-1:1)*(n<0?1/-n:n)}var r0={value:()=>{}};function $o(){for(var t=0,e=arguments.length,s={},o;t<e;++t){if(!(o=arguments[t]+"")||o in s||/[\s.]/.test(o))throw new Error("illegal type: "+o);s[o]=[]}return new cn(s)}function cn(t){this._=t}function i0(t,e){return t.trim().split(/^|\s+/).map(function(s){var o="",n=s.indexOf(".");if(n>=0&&(o=s.slice(n+1),s=s.slice(0,n)),s&&!e.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:o}})}cn.prototype=$o.prototype={constructor:cn,on:function(t,e){var s=this._,o=i0(t+"",s),n,r=-1,i=o.length;if(arguments.length<2){for(;++r<i;)if((n=(t=o[r]).type)&&(n=a0(s[n],t.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<i;)if(n=(t=o[r]).type)s[n]=qa(s[n],t.name,e);else if(e==null)for(n in s)s[n]=qa(s[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new cn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var s=new Array(n),o=0,n,r;o<n;++o)s[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,s)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],n=0,r=o.length;n<r;++n)o[n].value.apply(e,s)}};function a0(t,e){for(var s=0,o=t.length,n;s<o;++s)if((n=t[s]).name===e)return n.value}function qa(t,e,s){for(var o=0,n=t.length;o<n;++o)if(t[o].name===e){t[o]=r0,t=t.slice(0,o).concat(t.slice(o+1));break}return s!=null&&t.push({name:e,value:s}),t}var jr="http://www.w3.org/1999/xhtml";const Qa={svg:"http://www.w3.org/2000/svg",xhtml:jr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(t){var e=t+="",s=e.indexOf(":");return s>=0&&(e=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),Qa.hasOwnProperty(e)?{space:Qa[e],local:t}:t}function l0(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===jr&&e.documentElement.namespaceURI===jr?e.createElement(t):e.createElementNS(s,t)}}function c0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ud(t){var e=Yn(t);return(e.local?c0:l0)(e)}function d0(){}function Ai(t){return t==null?d0:function(){return this.querySelector(t)}}function u0(t){typeof t!="function"&&(t=Ai(t));for(var e=this._groups,s=e.length,o=new Array(s),n=0;n<s;++n)for(var r=e[n],i=r.length,a=o[n]=new Array(i),c,d,u=0;u<i;++u)(c=r[u])&&(d=t.call(c,c.__data__,u,r))&&("__data__"in c&&(d.__data__=c.__data__),a[u]=d);return new ht(o,this._parents)}function h0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function f0(){return[]}function hd(t){return t==null?f0:function(){return this.querySelectorAll(t)}}function g0(t){return function(){return h0(t.apply(this,arguments))}}function p0(t){typeof t=="function"?t=g0(t):t=hd(t);for(var e=this._groups,s=e.length,o=[],n=[],r=0;r<s;++r)for(var i=e[r],a=i.length,c,d=0;d<a;++d)(c=i[d])&&(o.push(t.call(c,c.__data__,d,i)),n.push(c));return new ht(o,n)}function fd(t){return function(){return this.matches(t)}}function gd(t){return function(e){return e.matches(t)}}var m0=Array.prototype.find;function y0(t){return function(){return m0.call(this.children,t)}}function b0(){return this.firstElementChild}function v0(t){return this.select(t==null?b0:y0(typeof t=="function"?t:gd(t)))}var x0=Array.prototype.filter;function w0(){return Array.from(this.children)}function _0(t){return function(){return x0.call(this.children,t)}}function C0(t){return this.selectAll(t==null?w0:_0(typeof t=="function"?t:gd(t)))}function k0(t){typeof t!="function"&&(t=fd(t));for(var e=this._groups,s=e.length,o=new Array(s),n=0;n<s;++n)for(var r=e[n],i=r.length,a=o[n]=[],c,d=0;d<i;++d)(c=r[d])&&t.call(c,c.__data__,d,r)&&a.push(c);return new ht(o,this._parents)}function pd(t){return new Array(t.length)}function A0(){return new ht(this._enter||this._groups.map(pd),this._parents)}function kn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}kn.prototype={constructor:kn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function N0(t){return function(){return t}}function S0(t,e,s,o,n,r){for(var i=0,a,c=e.length,d=r.length;i<d;++i)(a=e[i])?(a.__data__=r[i],o[i]=a):s[i]=new kn(t,r[i]);for(;i<c;++i)(a=e[i])&&(n[i]=a)}function I0(t,e,s,o,n,r,i){var a,c,d=new Map,u=e.length,h=r.length,f=new Array(u),p;for(a=0;a<u;++a)(c=e[a])&&(f[a]=p=i.call(c,c.__data__,a,e)+"",d.has(p)?n[a]=c:d.set(p,c));for(a=0;a<h;++a)p=i.call(t,r[a],a,r)+"",(c=d.get(p))?(o[a]=c,c.__data__=r[a],d.delete(p)):s[a]=new kn(t,r[a]);for(a=0;a<u;++a)(c=e[a])&&d.get(f[a])===c&&(n[a]=c)}function T0(t){return t.__data__}function L0(t,e){if(!arguments.length)return Array.from(this,T0);var s=e?I0:S0,o=this._parents,n=this._groups;typeof t!="function"&&(t=N0(t));for(var r=n.length,i=new Array(r),a=new Array(r),c=new Array(r),d=0;d<r;++d){var u=o[d],h=n[d],f=h.length,p=E0(t.call(u,u&&u.__data__,d,o)),y=p.length,b=a[d]=new Array(y),k=i[d]=new Array(y),w=c[d]=new Array(f);s(u,h,b,k,w,p,e);for(var A=0,I=0,x,D;A<y;++A)if(x=b[A]){for(A>=I&&(I=A+1);!(D=k[I])&&++I<y;);x._next=D||null}}return i=new ht(i,o),i._enter=a,i._exit=c,i}function E0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function R0(){return new ht(this._exit||this._groups.map(pd),this._parents)}function P0(t,e,s){var o=this.enter(),n=this,r=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(n=e(n),n&&(n=n.selection())),s==null?r.remove():s(r),o&&n?o.merge(n).order():n}function D0(t){for(var e=t.selection?t.selection():t,s=this._groups,o=e._groups,n=s.length,r=o.length,i=Math.min(n,r),a=new Array(n),c=0;c<i;++c)for(var d=s[c],u=o[c],h=d.length,f=a[c]=new Array(h),p,y=0;y<h;++y)(p=d[y]||u[y])&&(f[y]=p);for(;c<n;++c)a[c]=s[c];return new ht(a,this._parents)}function G0(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var o=t[e],n=o.length-1,r=o[n],i;--n>=0;)(i=o[n])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function M0(t){t||(t=F0);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var s=this._groups,o=s.length,n=new Array(o),r=0;r<o;++r){for(var i=s[r],a=i.length,c=n[r]=new Array(a),d,u=0;u<a;++u)(d=i[u])&&(c[u]=d);c.sort(e)}return new ht(n,this._parents).order()}function F0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function z0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function B0(){return Array.from(this)}function $0(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var o=t[e],n=0,r=o.length;n<r;++n){var i=o[n];if(i)return i}return null}function O0(){let t=0;for(const e of this)++t;return t}function V0(){return!this.node()}function H0(t){for(var e=this._groups,s=0,o=e.length;s<o;++s)for(var n=e[s],r=0,i=n.length,a;r<i;++r)(a=n[r])&&t.call(a,a.__data__,r,n);return this}function W0(t){return function(){this.removeAttribute(t)}}function U0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Z0(t,e){return function(){this.setAttribute(t,e)}}function j0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X0(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function Y0(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function J0(t,e){var s=Yn(t);if(arguments.length<2){var o=this.node();return s.local?o.getAttributeNS(s.space,s.local):o.getAttribute(s)}return this.each((e==null?s.local?U0:W0:typeof e=="function"?s.local?Y0:X0:s.local?j0:Z0)(s,e))}function md(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function K0(t){return function(){this.style.removeProperty(t)}}function q0(t,e,s){return function(){this.style.setProperty(t,e,s)}}function Q0(t,e,s){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,s)}}function ey(t,e,s){return arguments.length>1?this.each((e==null?K0:typeof e=="function"?Q0:q0)(t,e,s??"")):Ys(this.node(),t)}function Ys(t,e){return t.style.getPropertyValue(e)||md(t).getComputedStyle(t,null).getPropertyValue(e)}function ty(t){return function(){delete this[t]}}function sy(t,e){return function(){this[t]=e}}function oy(t,e){return function(){var s=e.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function ny(t,e){return arguments.length>1?this.each((e==null?ty:typeof e=="function"?oy:sy)(t,e)):this.node()[t]}function yd(t){return t.trim().split(/^|\s+/)}function Ni(t){return t.classList||new bd(t)}function bd(t){this._node=t,this._names=yd(t.getAttribute("class")||"")}bd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function vd(t,e){for(var s=Ni(t),o=-1,n=e.length;++o<n;)s.add(e[o])}function xd(t,e){for(var s=Ni(t),o=-1,n=e.length;++o<n;)s.remove(e[o])}function ry(t){return function(){vd(this,t)}}function iy(t){return function(){xd(this,t)}}function ay(t,e){return function(){(e.apply(this,arguments)?vd:xd)(this,t)}}function ly(t,e){var s=yd(t+"");if(arguments.length<2){for(var o=Ni(this.node()),n=-1,r=s.length;++n<r;)if(!o.contains(s[n]))return!1;return!0}return this.each((typeof e=="function"?ay:e?ry:iy)(s,e))}function cy(){this.textContent=""}function dy(t){return function(){this.textContent=t}}function uy(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hy(t){return arguments.length?this.each(t==null?cy:(typeof t=="function"?uy:dy)(t)):this.node().textContent}function fy(){this.innerHTML=""}function gy(t){return function(){this.innerHTML=t}}function py(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function my(t){return arguments.length?this.each(t==null?fy:(typeof t=="function"?py:gy)(t)):this.node().innerHTML}function yy(){this.nextSibling&&this.parentNode.appendChild(this)}function by(){return this.each(yy)}function vy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xy(){return this.each(vy)}function wy(t){var e=typeof t=="function"?t:ud(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _y(){return null}function Cy(t,e){var s=typeof t=="function"?t:ud(t),o=e==null?_y:typeof e=="function"?e:Ai(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),o.apply(this,arguments)||null)})}function ky(){var t=this.parentNode;t&&t.removeChild(this)}function Ay(){return this.each(ky)}function Ny(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Iy(t){return this.select(t?Sy:Ny)}function Ty(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ly(t){return function(e){t.call(this,e,this.__data__)}}function Ey(t){return t.trim().split(/^|\s+/).map(function(e){var s="",o=e.indexOf(".");return o>=0&&(s=e.slice(o+1),e=e.slice(0,o)),{type:e,name:s}})}function Ry(t){return function(){var e=this.__on;if(e){for(var s=0,o=-1,n=e.length,r;s<n;++s)r=e[s],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++o]=r;++o?e.length=o:delete this.__on}}}function Py(t,e,s){return function(){var o=this.__on,n,r=Ly(e);if(o){for(var i=0,a=o.length;i<a;++i)if((n=o[i]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=r,n.options=s),n.value=e;return}}this.addEventListener(t.type,r,s),n={type:t.type,name:t.name,value:e,listener:r,options:s},o?o.push(n):this.__on=[n]}}function Dy(t,e,s){var o=Ey(t+""),n,r=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,d=a.length,u;c<d;++c)for(n=0,u=a[c];n<r;++n)if((i=o[n]).type===u.type&&i.name===u.name)return u.value}return}for(a=e?Py:Ry,n=0;n<r;++n)this.each(a(o[n],e,s));return this}function wd(t,e,s){var o=md(t),n=o.CustomEvent;typeof n=="function"?n=new n(e,s):(n=o.document.createEvent("Event"),s?(n.initEvent(e,s.bubbles,s.cancelable),n.detail=s.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function Gy(t,e){return function(){return wd(this,t,e)}}function My(t,e){return function(){return wd(this,t,e.apply(this,arguments))}}function Fy(t,e){return this.each((typeof e=="function"?My:Gy)(t,e))}function*zy(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var o=t[e],n=0,r=o.length,i;n<r;++n)(i=o[n])&&(yield i)}var _d=[null];function ht(t,e){this._groups=t,this._parents=e}function Oo(){return new ht([[document.documentElement]],_d)}function By(){return this}ht.prototype=Oo.prototype={constructor:ht,select:u0,selectAll:p0,selectChild:v0,selectChildren:C0,filter:k0,data:L0,enter:A0,exit:R0,join:P0,merge:D0,selection:By,order:G0,sort:M0,call:z0,nodes:B0,node:$0,size:O0,empty:V0,each:H0,attr:J0,style:ey,property:ny,classed:ly,text:hy,html:my,raise:by,lower:xy,append:wy,insert:Cy,remove:Ay,clone:Iy,datum:Ty,on:Dy,dispatch:Fy,[Symbol.iterator]:zy};function it(t){return typeof t=="string"?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],_d)}function $y(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ht(t,e){if(t=$y(t),e===void 0&&(e=t.currentTarget),e){var s=e.ownerSVGElement||e;if(s.createSVGPoint){var o=s.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,o=o.matrixTransform(e.getScreenCTM().inverse()),[o.x,o.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}}return[t.pageX,t.pageY]}const Oy={passive:!1},Eo={capture:!0,passive:!1};function vr(t){t.stopImmediatePropagation()}function Vs(t){t.preventDefault(),t.stopImmediatePropagation()}function Cd(t){var e=t.document.documentElement,s=it(t).on("dragstart.drag",Vs,Eo);"onselectstart"in e?s.on("selectstart.drag",Vs,Eo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function kd(t,e){var s=t.document.documentElement,o=it(t).on("dragstart.drag",null);e&&(o.on("click.drag",Vs,Eo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in s?o.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const Jo=t=>()=>t;function Xr(t,{sourceEvent:e,subject:s,target:o,identifier:n,active:r,x:i,y:a,dx:c,dy:d,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}Xr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Vy(t){return!t.ctrlKey&&!t.button}function Hy(){return this.parentNode}function Wy(t,e){return e??{x:t.x,y:t.y}}function Uy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zy(){var t=Vy,e=Hy,s=Wy,o=Uy,n={},r=$o("start","drag","end"),i=0,a,c,d,u,h=0;function f(x){x.on("mousedown.drag",p).filter(o).on("touchstart.drag",k).on("touchmove.drag",w,Oy).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,D){if(!(u||!t.call(this,x,D))){var Z=I(this,e.call(this,x,D),x,D,"mouse");Z&&(it(x.view).on("mousemove.drag",y,Eo).on("mouseup.drag",b,Eo),Cd(x.view),vr(x),d=!1,a=x.clientX,c=x.clientY,Z("start",x))}}function y(x){if(Vs(x),!d){var D=x.clientX-a,Z=x.clientY-c;d=D*D+Z*Z>h}n.mouse("drag",x)}function b(x){it(x.view).on("mousemove.drag mouseup.drag",null),kd(x.view,d),Vs(x),n.mouse("end",x)}function k(x,D){if(t.call(this,x,D)){var Z=x.changedTouches,H=e.call(this,x,D),Q=Z.length,W,Y;for(W=0;W<Q;++W)(Y=I(this,H,x,D,Z[W].identifier,Z[W]))&&(vr(x),Y("start",x,Z[W]))}}function w(x){var D=x.changedTouches,Z=D.length,H,Q;for(H=0;H<Z;++H)(Q=n[D[H].identifier])&&(Vs(x),Q("drag",x,D[H]))}function A(x){var D=x.changedTouches,Z=D.length,H,Q;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),H=0;H<Z;++H)(Q=n[D[H].identifier])&&(vr(x),Q("end",x,D[H]))}function I(x,D,Z,H,Q,W){var Y=r.copy(),V=Ht(W||Z,D),R,M,C;if((C=s.call(x,new Xr("beforestart",{sourceEvent:Z,target:f,identifier:Q,active:i,x:V[0],y:V[1],dx:0,dy:0,dispatch:Y}),H))!=null)return R=C.x-V[0]||0,M=C.y-V[1]||0,function G(T,F,U){var oe=V,ce;switch(T){case"start":n[Q]=G,ce=i++;break;case"end":delete n[Q],--i;case"drag":V=Ht(U||F,D),ce=i;break}Y.call(T,x,new Xr(T,{sourceEvent:F,subject:C,target:f,identifier:Q,active:ce,x:V[0]+R,y:V[1]+M,dx:V[0]-oe[0],dy:V[1]-oe[1],dispatch:Y}),H)}}return f.filter=function(x){return arguments.length?(t=typeof x=="function"?x:Jo(!!x),f):t},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:Jo(x),f):e},f.subject=function(x){return arguments.length?(s=typeof x=="function"?x:Jo(x),f):s},f.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:Jo(!!x),f):o},f.on=function(){var x=r.on.apply(r,arguments);return x===r?f:x},f.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,f):Math.sqrt(h)},f}function Si(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function Ad(t,e){var s=Object.create(t.prototype);for(var o in e)s[o]=e[o];return s}function Vo(){}var Ro=.7,An=1/Ro,Hs="\\s*([+-]?\\d+)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jy=/^#([0-9a-f]{3,8})$/,Xy=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),Yy=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),Jy=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${Po}\\)$`),Ky=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${Po}\\)$`),qy=new RegExp(`^hsl\\(${Po},${Pt},${Pt}\\)$`),Qy=new RegExp(`^hsla\\(${Po},${Pt},${Pt},${Po}\\)$`),el={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Si(Vo,Ss,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tl,formatHex:tl,formatHex8:eb,formatHsl:tb,formatRgb:sl,toString:sl});function tl(){return this.rgb().formatHex()}function eb(){return this.rgb().formatHex8()}function tb(){return Nd(this).formatHsl()}function sl(){return this.rgb().formatRgb()}function Ss(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=jy.exec(t))?(s=e[1].length,e=parseInt(e[1],16),s===6?ol(e):s===3?new at(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?Ko(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?Ko(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xy.exec(t))?new at(e[1],e[2],e[3],1):(e=Yy.exec(t))?new at(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jy.exec(t))?Ko(e[1],e[2],e[3],e[4]):(e=Ky.exec(t))?Ko(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qy.exec(t))?il(e[1],e[2]/100,e[3]/100,1):(e=Qy.exec(t))?il(e[1],e[2]/100,e[3]/100,e[4]):el.hasOwnProperty(t)?ol(el[t]):t==="transparent"?new at(NaN,NaN,NaN,0):null}function ol(t){return new at(t>>16&255,t>>8&255,t&255,1)}function Ko(t,e,s,o){return o<=0&&(t=e=s=NaN),new at(t,e,s,o)}function sb(t){return t instanceof Vo||(t=Ss(t)),t?(t=t.rgb(),new at(t.r,t.g,t.b,t.opacity)):new at}function Yr(t,e,s,o){return arguments.length===1?sb(t):new at(t,e,s,o??1)}function at(t,e,s,o){this.r=+t,this.g=+e,this.b=+s,this.opacity=+o}Si(at,Yr,Ad(Vo,{brighter(t){return t=t==null?An:Math.pow(An,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new at(As(this.r),As(this.g),As(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nl,formatHex:nl,formatHex8:ob,formatRgb:rl,toString:rl}));function nl(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function ob(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function rl(){const t=Nn(this.opacity);return`${t===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${t===1?")":`, ${t})`}`}function Nn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function As(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cs(t){return t=As(t),(t<16?"0":"")+t.toString(16)}function il(t,e,s,o){return o<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new bt(t,e,s,o)}function Nd(t){if(t instanceof bt)return new bt(t.h,t.s,t.l,t.opacity);if(t instanceof Vo||(t=Ss(t)),!t)return new bt;if(t instanceof bt)return t;t=t.rgb();var e=t.r/255,s=t.g/255,o=t.b/255,n=Math.min(e,s,o),r=Math.max(e,s,o),i=NaN,a=r-n,c=(r+n)/2;return a?(e===r?i=(s-o)/a+(s<o)*6:s===r?i=(o-e)/a+2:i=(e-s)/a+4,a/=c<.5?r+n:2-r-n,i*=60):a=c>0&&c<1?0:i,new bt(i,a,c,t.opacity)}function nb(t,e,s,o){return arguments.length===1?Nd(t):new bt(t,e,s,o??1)}function bt(t,e,s,o){this.h=+t,this.s=+e,this.l=+s,this.opacity=+o}Si(bt,nb,Ad(Vo,{brighter(t){return t=t==null?An:Math.pow(An,t),new bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,o=s+(s<.5?s:1-s)*e,n=2*s-o;return new at(xr(t>=240?t-240:t+120,n,o),xr(t,n,o),xr(t<120?t+240:t-120,n,o),this.opacity)},clamp(){return new bt(al(this.h),qo(this.s),qo(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nn(this.opacity);return`${t===1?"hsl(":"hsla("}${al(this.h)}, ${qo(this.s)*100}%, ${qo(this.l)*100}%${t===1?")":`, ${t})`}`}}));function al(t){return t=(t||0)%360,t<0?t+360:t}function qo(t){return Math.max(0,Math.min(1,t||0))}function xr(t,e,s){return(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)*255}const Ii=t=>()=>t;function rb(t,e){return function(s){return t+s*e}}function ib(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(o){return Math.pow(t+o*e,s)}}function ab(t){return(t=+t)==1?Sd:function(e,s){return s-e?ib(e,s,t):Ii(isNaN(e)?s:e)}}function Sd(t,e){var s=e-t;return s?rb(t,s):Ii(isNaN(t)?e:t)}const Sn=(function t(e){var s=ab(e);function o(n,r){var i=s((n=Yr(n)).r,(r=Yr(r)).r),a=s(n.g,r.g),c=s(n.b,r.b),d=Sd(n.opacity,r.opacity);return function(u){return n.r=i(u),n.g=a(u),n.b=c(u),n.opacity=d(u),n+""}}return o.gamma=t,o})(1);function lb(t,e){e||(e=[]);var s=t?Math.min(e.length,t.length):0,o=e.slice(),n;return function(r){for(n=0;n<s;++n)o[n]=t[n]*(1-r)+e[n]*r;return o}}function cb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function db(t,e){var s=e?e.length:0,o=t?Math.min(s,t.length):0,n=new Array(o),r=new Array(s),i;for(i=0;i<o;++i)n[i]=Jn(t[i],e[i]);for(;i<s;++i)r[i]=e[i];return function(a){for(i=0;i<o;++i)r[i]=n[i](a);return r}}function ub(t,e){var s=new Date;return t=+t,e=+e,function(o){return s.setTime(t*(1-o)+e*o),s}}function yt(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function hb(t,e){var s={},o={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?s[n]=Jn(t[n],e[n]):o[n]=e[n];return function(r){for(n in s)o[n]=s[n](r);return o}}var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(Jr.source,"g");function fb(t){return function(){return t}}function gb(t){return function(e){return t(e)+""}}function Id(t,e){var s=Jr.lastIndex=wr.lastIndex=0,o,n,r,i=-1,a=[],c=[];for(t=t+"",e=e+"";(o=Jr.exec(t))&&(n=wr.exec(e));)(r=n.index)>s&&(r=e.slice(s,r),a[i]?a[i]+=r:a[++i]=r),(o=o[0])===(n=n[0])?a[i]?a[i]+=n:a[++i]=n:(a[++i]=null,c.push({i,x:yt(o,n)})),s=wr.lastIndex;return s<e.length&&(r=e.slice(s),a[i]?a[i]+=r:a[++i]=r),a.length<2?c[0]?gb(c[0].x):fb(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)a[(h=c[u]).i]=h.x(d);return a.join("")})}function Jn(t,e){var s=typeof e,o;return e==null||s==="boolean"?Ii(e):(s==="number"?yt:s==="string"?(o=Ss(e))?(e=o,Sn):Id:e instanceof Ss?Sn:e instanceof Date?ub:cb(e)?lb:Array.isArray(e)?db:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hb:yt)(t,e)}function Td(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}var ll=180/Math.PI,Kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ld(t,e,s,o,n,r){var i,a,c;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(c=t*s+e*o)&&(s-=t*c,o-=e*c),(a=Math.sqrt(s*s+o*o))&&(s/=a,o/=a,c/=a),t*o<e*s&&(t=-t,e=-e,c=-c,i=-i),{translateX:n,translateY:r,rotate:Math.atan2(e,t)*ll,skewX:Math.atan(c)*ll,scaleX:i,scaleY:a}}var Qo;function pb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Kr:Ld(e.a,e.b,e.c,e.d,e.e,e.f)}function mb(t){return t==null||(Qo||(Qo=document.createElementNS("http://www.w3.org/2000/svg","g")),Qo.setAttribute("transform",t),!(t=Qo.transform.baseVal.consolidate()))?Kr:(t=t.matrix,Ld(t.a,t.b,t.c,t.d,t.e,t.f))}function Ed(t,e,s,o){function n(d){return d.length?d.pop()+" ":""}function r(d,u,h,f,p,y){if(d!==h||u!==f){var b=p.push("translate(",null,e,null,s);y.push({i:b-4,x:yt(d,h)},{i:b-2,x:yt(u,f)})}else(h||f)&&p.push("translate("+h+e+f+s)}function i(d,u,h,f){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),f.push({i:h.push(n(h)+"rotate(",null,o)-2,x:yt(d,u)})):u&&h.push(n(h)+"rotate("+u+o)}function a(d,u,h,f){d!==u?f.push({i:h.push(n(h)+"skewX(",null,o)-2,x:yt(d,u)}):u&&h.push(n(h)+"skewX("+u+o)}function c(d,u,h,f,p,y){if(d!==h||u!==f){var b=p.push(n(p)+"scale(",null,",",null,")");y.push({i:b-4,x:yt(d,h)},{i:b-2,x:yt(u,f)})}else(h!==1||f!==1)&&p.push(n(p)+"scale("+h+","+f+")")}return function(d,u){var h=[],f=[];return d=t(d),u=t(u),r(d.translateX,d.translateY,u.translateX,u.translateY,h,f),i(d.rotate,u.rotate,h,f),a(d.skewX,u.skewX,h,f),c(d.scaleX,d.scaleY,u.scaleX,u.scaleY,h,f),d=u=null,function(p){for(var y=-1,b=f.length,k;++y<b;)h[(k=f[y]).i]=k.x(p);return h.join("")}}}var yb=Ed(pb,"px, ","px)","deg)"),bb=Ed(mb,", ",")",")"),vb=1e-12;function cl(t){return((t=Math.exp(t))+1/t)/2}function xb(t){return((t=Math.exp(t))-1/t)/2}function wb(t){return((t=Math.exp(2*t))-1)/(t+1)}const _b=(function t(e,s,o){function n(r,i){var a=r[0],c=r[1],d=r[2],u=i[0],h=i[1],f=i[2],p=u-a,y=h-c,b=p*p+y*y,k,w;if(b<vb)w=Math.log(f/d)/e,k=function(H){return[a+H*p,c+H*y,d*Math.exp(e*H*w)]};else{var A=Math.sqrt(b),I=(f*f-d*d+o*b)/(2*d*s*A),x=(f*f-d*d-o*b)/(2*f*s*A),D=Math.log(Math.sqrt(I*I+1)-I),Z=Math.log(Math.sqrt(x*x+1)-x);w=(Z-D)/e,k=function(H){var Q=H*w,W=cl(D),Y=d/(s*A)*(W*wb(e*Q+D)-xb(D));return[a+Y*p,c+Y*y,d*W/cl(e*Q+D)]}}return k.duration=w*1e3*e/Math.SQRT2,k}return n.rho=function(r){var i=Math.max(.001,+r),a=i*i,c=a*a;return t(i,a,c)},n})(Math.SQRT2,2,4);var Js=0,uo=0,ao=0,Rd=1e3,In,ho,Tn=0,Is=0,Kn=0,Do=typeof performance=="object"&&performance.now?performance:Date,Pd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ti(){return Is||(Pd(Cb),Is=Do.now()+Kn)}function Cb(){Is=0}function Ln(){this._call=this._time=this._next=null}Ln.prototype=Li.prototype={constructor:Ln,restart:function(t,e,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?Ti():+s)+(e==null?0:+e),!this._next&&ho!==this&&(ho?ho._next=this:In=this,ho=this),this._call=t,this._time=s,qr()},stop:function(){this._call&&(this._call=null,this._time=1/0,qr())}};function Li(t,e,s){var o=new Ln;return o.restart(t,e,s),o}function kb(){Ti(),++Js;for(var t=In,e;t;)(e=Is-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Js}function dl(){Is=(Tn=Do.now())+Kn,Js=uo=0;try{kb()}finally{Js=0,Nb(),Is=0}}function Ab(){var t=Do.now(),e=t-Tn;e>Rd&&(Kn-=e,Tn=t)}function Nb(){for(var t,e=In,s,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(s=e._next,e._next=null,e=t?t._next=s:In=s);ho=t,qr(o)}function qr(t){if(!Js){uo&&(uo=clearTimeout(uo));var e=t-Is;e>24?(t<1/0&&(uo=setTimeout(dl,t-Do.now()-Kn)),ao&&(ao=clearInterval(ao))):(ao||(Tn=Do.now(),ao=setInterval(Ab,Rd)),Js=1,Pd(dl))}}function ul(t,e,s){var o=new Ln;return e=e==null?0:+e,o.restart(n=>{o.stop(),t(n+e)},e,s),o}var Sb=$o("start","end","cancel","interrupt"),Ib=[],Dd=0,hl=1,Qr=2,dn=3,fl=4,ei=5,un=6;function qn(t,e,s,o,n,r){var i=t.__transition;if(!i)t.__transition={};else if(s in i)return;Tb(t,s,{name:e,index:o,group:n,on:Sb,tween:Ib,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Dd})}function Ei(t,e){var s=Ct(t,e);if(s.state>Dd)throw new Error("too late; already scheduled");return s}function Gt(t,e){var s=Ct(t,e);if(s.state>dn)throw new Error("too late; already running");return s}function Ct(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function Tb(t,e,s){var o=t.__transition,n;o[e]=s,s.timer=Li(r,0,s.time);function r(d){s.state=hl,s.timer.restart(i,s.delay,s.time),s.delay<=d&&i(d-s.delay)}function i(d){var u,h,f,p;if(s.state!==hl)return c();for(u in o)if(p=o[u],p.name===s.name){if(p.state===dn)return ul(i);p.state===fl?(p.state=un,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[u]):+u<e&&(p.state=un,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[u])}if(ul(function(){s.state===dn&&(s.state=fl,s.timer.restart(a,s.delay,s.time),a(d))}),s.state=Qr,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Qr){for(s.state=dn,n=new Array(f=s.tween.length),u=0,h=-1;u<f;++u)(p=s.tween[u].value.call(t,t.__data__,s.index,s.group))&&(n[++h]=p);n.length=h+1}}function a(d){for(var u=d<s.duration?s.ease.call(null,d/s.duration):(s.timer.restart(c),s.state=ei,1),h=-1,f=n.length;++h<f;)n[h].call(t,u);s.state===ei&&(s.on.call("end",t,t.__data__,s.index,s.group),c())}function c(){s.state=un,s.timer.stop(),delete o[e];for(var d in o)return;delete t.__transition}}function hn(t,e){var s=t.__transition,o,n,r=!0,i;if(s){e=e==null?null:e+"";for(i in s){if((o=s[i]).name!==e){r=!1;continue}n=o.state>Qr&&o.state<ei,o.state=un,o.timer.stop(),o.on.call(n?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete s[i]}r&&delete t.__transition}}function Lb(t){return this.each(function(){hn(this,t)})}function Eb(t,e){var s,o;return function(){var n=Gt(this,t),r=n.tween;if(r!==s){o=s=r;for(var i=0,a=o.length;i<a;++i)if(o[i].name===e){o=o.slice(),o.splice(i,1);break}}n.tween=o}}function Rb(t,e,s){var o,n;if(typeof s!="function")throw new Error;return function(){var r=Gt(this,t),i=r.tween;if(i!==o){n=(o=i).slice();for(var a={name:e,value:s},c=0,d=n.length;c<d;++c)if(n[c].name===e){n[c]=a;break}c===d&&n.push(a)}r.tween=n}}function Pb(t,e){var s=this._id;if(t+="",arguments.length<2){for(var o=Ct(this.node(),s).tween,n=0,r=o.length,i;n<r;++n)if((i=o[n]).name===t)return i.value;return null}return this.each((e==null?Eb:Rb)(s,t,e))}function Ri(t,e,s){var o=t._id;return t.each(function(){var n=Gt(this,o);(n.value||(n.value={}))[e]=s.apply(this,arguments)}),function(n){return Ct(n,o).value[e]}}function Gd(t,e){var s;return(typeof e=="number"?yt:e instanceof Ss?Sn:(s=Ss(e))?(e=s,Sn):Id)(t,e)}function Db(t){return function(){this.removeAttribute(t)}}function Gb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mb(t,e,s){var o,n=s+"",r;return function(){var i=this.getAttribute(t);return i===n?null:i===o?r:r=e(o=i,s)}}function Fb(t,e,s){var o,n=s+"",r;return function(){var i=this.getAttributeNS(t.space,t.local);return i===n?null:i===o?r:r=e(o=i,s)}}function zb(t,e,s){var o,n,r;return function(){var i,a=s(this),c;return a==null?void this.removeAttribute(t):(i=this.getAttribute(t),c=a+"",i===c?null:i===o&&c===n?r:(n=c,r=e(o=i,a)))}}function Bb(t,e,s){var o,n,r;return function(){var i,a=s(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),c=a+"",i===c?null:i===o&&c===n?r:(n=c,r=e(o=i,a)))}}function $b(t,e){var s=Yn(t),o=s==="transform"?bb:Gd;return this.attrTween(t,typeof e=="function"?(s.local?Bb:zb)(s,o,Ri(this,"attr."+t,e)):e==null?(s.local?Gb:Db)(s):(s.local?Fb:Mb)(s,o,e))}function Ob(t,e){return function(s){this.setAttribute(t,e.call(this,s))}}function Vb(t,e){return function(s){this.setAttributeNS(t.space,t.local,e.call(this,s))}}function Hb(t,e){var s,o;function n(){var r=e.apply(this,arguments);return r!==o&&(s=(o=r)&&Vb(t,r)),s}return n._value=e,n}function Wb(t,e){var s,o;function n(){var r=e.apply(this,arguments);return r!==o&&(s=(o=r)&&Ob(t,r)),s}return n._value=e,n}function Ub(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;var o=Yn(t);return this.tween(s,(o.local?Hb:Wb)(o,e))}function Zb(t,e){return function(){Ei(this,t).delay=+e.apply(this,arguments)}}function jb(t,e){return e=+e,function(){Ei(this,t).delay=e}}function Xb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zb:jb)(e,t)):Ct(this.node(),e).delay}function Yb(t,e){return function(){Gt(this,t).duration=+e.apply(this,arguments)}}function Jb(t,e){return e=+e,function(){Gt(this,t).duration=e}}function Kb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yb:Jb)(e,t)):Ct(this.node(),e).duration}function qb(t,e){if(typeof e!="function")throw new Error;return function(){Gt(this,t).ease=e}}function Qb(t){var e=this._id;return arguments.length?this.each(qb(e,t)):Ct(this.node(),e).ease}function ev(t,e){return function(){var s=e.apply(this,arguments);if(typeof s!="function")throw new Error;Gt(this,t).ease=s}}function tv(t){if(typeof t!="function")throw new Error;return this.each(ev(this._id,t))}function sv(t){typeof t!="function"&&(t=fd(t));for(var e=this._groups,s=e.length,o=new Array(s),n=0;n<s;++n)for(var r=e[n],i=r.length,a=o[n]=[],c,d=0;d<i;++d)(c=r[d])&&t.call(c,c.__data__,d,r)&&a.push(c);return new qt(o,this._parents,this._name,this._id)}function ov(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,o=e.length,n=s.length,r=Math.min(o,n),i=new Array(o),a=0;a<r;++a)for(var c=e[a],d=s[a],u=c.length,h=i[a]=new Array(u),f,p=0;p<u;++p)(f=c[p]||d[p])&&(h[p]=f);for(;a<o;++a)i[a]=e[a];return new qt(i,this._parents,this._name,this._id)}function nv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var s=e.indexOf(".");return s>=0&&(e=e.slice(0,s)),!e||e==="start"})}function rv(t,e,s){var o,n,r=nv(e)?Ei:Gt;return function(){var i=r(this,t),a=i.on;a!==o&&(n=(o=a).copy()).on(e,s),i.on=n}}function iv(t,e){var s=this._id;return arguments.length<2?Ct(this.node(),s).on.on(t):this.each(rv(s,t,e))}function av(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}function lv(){return this.on("end.remove",av(this._id))}function cv(t){var e=this._name,s=this._id;typeof t!="function"&&(t=Ai(t));for(var o=this._groups,n=o.length,r=new Array(n),i=0;i<n;++i)for(var a=o[i],c=a.length,d=r[i]=new Array(c),u,h,f=0;f<c;++f)(u=a[f])&&(h=t.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),d[f]=h,qn(d[f],e,s,f,d,Ct(u,s)));return new qt(r,this._parents,e,s)}function dv(t){var e=this._name,s=this._id;typeof t!="function"&&(t=hd(t));for(var o=this._groups,n=o.length,r=[],i=[],a=0;a<n;++a)for(var c=o[a],d=c.length,u,h=0;h<d;++h)if(u=c[h]){for(var f=t.call(u,u.__data__,h,c),p,y=Ct(u,s),b=0,k=f.length;b<k;++b)(p=f[b])&&qn(p,e,s,b,f,y);r.push(f),i.push(u)}return new qt(r,i,e,s)}var uv=Oo.prototype.constructor;function hv(){return new uv(this._groups,this._parents)}function fv(t,e){var s,o,n;return function(){var r=Ys(this,t),i=(this.style.removeProperty(t),Ys(this,t));return r===i?null:r===s&&i===o?n:n=e(s=r,o=i)}}function Md(t){return function(){this.style.removeProperty(t)}}function gv(t,e,s){var o,n=s+"",r;return function(){var i=Ys(this,t);return i===n?null:i===o?r:r=e(o=i,s)}}function pv(t,e,s){var o,n,r;return function(){var i=Ys(this,t),a=s(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Ys(this,t))),i===c?null:i===o&&c===n?r:(n=c,r=e(o=i,a))}}function mv(t,e){var s,o,n,r="style."+e,i="end."+r,a;return function(){var c=Gt(this,t),d=c.on,u=c.value[r]==null?a||(a=Md(e)):void 0;(d!==s||n!==u)&&(o=(s=d).copy()).on(i,n=u),c.on=o}}function yv(t,e,s){var o=(t+="")=="transform"?yb:Gd;return e==null?this.styleTween(t,fv(t,o)).on("end.style."+t,Md(t)):typeof e=="function"?this.styleTween(t,pv(t,o,Ri(this,"style."+t,e))).each(mv(this._id,t)):this.styleTween(t,gv(t,o,e),s).on("end.style."+t,null)}function bv(t,e,s){return function(o){this.style.setProperty(t,e.call(this,o),s)}}function vv(t,e,s){var o,n;function r(){var i=e.apply(this,arguments);return i!==n&&(o=(n=i)&&bv(t,i,s)),o}return r._value=e,r}function xv(t,e,s){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,vv(t,e,s??""))}function wv(t){return function(){this.textContent=t}}function _v(t){return function(){var e=t(this);this.textContent=e??""}}function Cv(t){return this.tween("text",typeof t=="function"?_v(Ri(this,"text",t)):wv(t==null?"":t+""))}function kv(t){return function(e){this.textContent=t.call(this,e)}}function Av(t){var e,s;function o(){var n=t.apply(this,arguments);return n!==s&&(e=(s=n)&&kv(n)),e}return o._value=t,o}function Nv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Av(t))}function Sv(){for(var t=this._name,e=this._id,s=Fd(),o=this._groups,n=o.length,r=0;r<n;++r)for(var i=o[r],a=i.length,c,d=0;d<a;++d)if(c=i[d]){var u=Ct(c,e);qn(c,t,s,d,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qt(o,this._parents,t,s)}function Iv(){var t,e,s=this,o=s._id,n=s.size();return new Promise(function(r,i){var a={value:i},c={value:function(){--n===0&&r()}};s.each(function(){var d=Gt(this,o),u=d.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),d.on=e}),n===0&&r()})}var Tv=0;function qt(t,e,s,o){this._groups=t,this._parents=e,this._name=s,this._id=o}function Fd(){return++Tv}var $t=Oo.prototype;qt.prototype={constructor:qt,select:cv,selectAll:dv,selectChild:$t.selectChild,selectChildren:$t.selectChildren,filter:sv,merge:ov,selection:hv,transition:Sv,call:$t.call,nodes:$t.nodes,node:$t.node,size:$t.size,empty:$t.empty,each:$t.each,on:iv,attr:$b,attrTween:Ub,style:yv,styleTween:xv,text:Cv,textTween:Nv,remove:lv,tween:Pb,delay:Xb,duration:Kb,ease:Qb,easeVarying:tv,end:Iv,[Symbol.iterator]:$t[Symbol.iterator]};function Lv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ev={time:null,delay:0,duration:250,ease:Lv};function Rv(t,e){for(var s;!(s=t.__transition)||!(s=s[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return s}function Pv(t){var e,s;t instanceof qt?(e=t._id,t=t._name):(e=Fd(),(s=Ev).time=Ti(),t=t==null?null:t+"");for(var o=this._groups,n=o.length,r=0;r<n;++r)for(var i=o[r],a=i.length,c,d=0;d<a;++d)(c=i[d])&&qn(c,t,e,d,i,s||Rv(c,e));return new qt(o,this._parents,t,e)}Oo.prototype.interrupt=Lb;Oo.prototype.transition=Pv;function gl(t,e){var s,o=1;t==null&&(t=0),e==null&&(e=0);function n(){var r,i=s.length,a,c=0,d=0;for(r=0;r<i;++r)a=s[r],c+=a.x,d+=a.y;for(c=(c/i-t)*o,d=(d/i-e)*o,r=0;r<i;++r)a=s[r],a.x-=c,a.y-=d}return n.initialize=function(r){s=r},n.x=function(r){return arguments.length?(t=+r,n):t},n.y=function(r){return arguments.length?(e=+r,n):e},n.strength=function(r){return arguments.length?(o=+r,n):o},n}function Dv(t){const e=+this._x.call(null,t),s=+this._y.call(null,t);return zd(this.cover(e,s),e,s,t)}function zd(t,e,s,o){if(isNaN(e)||isNaN(s))return t;var n,r=t._root,i={data:o},a=t._x0,c=t._y0,d=t._x1,u=t._y1,h,f,p,y,b,k,w,A;if(!r)return t._root=i,t;for(;r.length;)if((b=e>=(h=(a+d)/2))?a=h:d=h,(k=s>=(f=(c+u)/2))?c=f:u=f,n=r,!(r=r[w=k<<1|b]))return n[w]=i,t;if(p=+t._x.call(null,r.data),y=+t._y.call(null,r.data),e===p&&s===y)return i.next=r,n?n[w]=i:t._root=i,t;do n=n?n[w]=new Array(4):t._root=new Array(4),(b=e>=(h=(a+d)/2))?a=h:d=h,(k=s>=(f=(c+u)/2))?c=f:u=f;while((w=k<<1|b)===(A=(y>=f)<<1|p>=h));return n[A]=r,n[w]=i,t}function Gv(t){var e,s,o=t.length,n,r,i=new Array(o),a=new Array(o),c=1/0,d=1/0,u=-1/0,h=-1/0;for(s=0;s<o;++s)isNaN(n=+this._x.call(null,e=t[s]))||isNaN(r=+this._y.call(null,e))||(i[s]=n,a[s]=r,n<c&&(c=n),n>u&&(u=n),r<d&&(d=r),r>h&&(h=r));if(c>u||d>h)return this;for(this.cover(c,d).cover(u,h),s=0;s<o;++s)zd(this,i[s],a[s],t[s]);return this}function Mv(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var s=this._x0,o=this._y0,n=this._x1,r=this._y1;if(isNaN(s))n=(s=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{for(var i=n-s||1,a=this._root,c,d;s>t||t>=n||o>e||e>=r;)switch(d=(e<o)<<1|t<s,c=new Array(4),c[d]=a,a=c,i*=2,d){case 0:n=s+i,r=o+i;break;case 1:s=n-i,r=o+i;break;case 2:n=s+i,o=r-i;break;case 3:s=n-i,o=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=s,this._y0=o,this._x1=n,this._y1=r,this}function Fv(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function zv(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function st(t,e,s,o,n){this.node=t,this.x0=e,this.y0=s,this.x1=o,this.y1=n}function Bv(t,e,s){var o,n=this._x0,r=this._y0,i,a,c,d,u=this._x1,h=this._y1,f=[],p=this._root,y,b;for(p&&f.push(new st(p,n,r,u,h)),s==null?s=1/0:(n=t-s,r=e-s,u=t+s,h=e+s,s*=s);y=f.pop();)if(!(!(p=y.node)||(i=y.x0)>u||(a=y.y0)>h||(c=y.x1)<n||(d=y.y1)<r))if(p.length){var k=(i+c)/2,w=(a+d)/2;f.push(new st(p[3],k,w,c,d),new st(p[2],i,w,k,d),new st(p[1],k,a,c,w),new st(p[0],i,a,k,w)),(b=(e>=w)<<1|t>=k)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-b],f[f.length-1-b]=y)}else{var A=t-+this._x.call(null,p.data),I=e-+this._y.call(null,p.data),x=A*A+I*I;if(x<s){var D=Math.sqrt(s=x);n=t-D,r=e-D,u=t+D,h=e+D,o=p.data}}return o}function $v(t){if(isNaN(u=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,s=this._root,o,n,r,i=this._x0,a=this._y0,c=this._x1,d=this._y1,u,h,f,p,y,b,k,w;if(!s)return this;if(s.length)for(;;){if((y=u>=(f=(i+c)/2))?i=f:c=f,(b=h>=(p=(a+d)/2))?a=p:d=p,e=s,!(s=s[k=b<<1|y]))return this;if(!s.length)break;(e[k+1&3]||e[k+2&3]||e[k+3&3])&&(o=e,w=k)}for(;s.data!==t;)if(n=s,!(s=s.next))return this;return(r=s.next)&&delete s.next,n?(r?n.next=r:delete n.next,this):e?(r?e[k]=r:delete e[k],(s=e[0]||e[1]||e[2]||e[3])&&s===(e[3]||e[2]||e[1]||e[0])&&!s.length&&(o?o[w]=s:this._root=s),this):(this._root=r,this)}function Ov(t){for(var e=0,s=t.length;e<s;++e)this.remove(t[e]);return this}function Vv(){return this._root}function Hv(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Wv(t){var e=[],s,o=this._root,n,r,i,a,c;for(o&&e.push(new st(o,this._x0,this._y0,this._x1,this._y1));s=e.pop();)if(!t(o=s.node,r=s.x0,i=s.y0,a=s.x1,c=s.y1)&&o.length){var d=(r+a)/2,u=(i+c)/2;(n=o[3])&&e.push(new st(n,d,u,a,c)),(n=o[2])&&e.push(new st(n,r,u,d,c)),(n=o[1])&&e.push(new st(n,d,i,a,u)),(n=o[0])&&e.push(new st(n,r,i,d,u))}return this}function Uv(t){var e=[],s=[],o;for(this._root&&e.push(new st(this._root,this._x0,this._y0,this._x1,this._y1));o=e.pop();){var n=o.node;if(n.length){var r,i=o.x0,a=o.y0,c=o.x1,d=o.y1,u=(i+c)/2,h=(a+d)/2;(r=n[0])&&e.push(new st(r,i,a,u,h)),(r=n[1])&&e.push(new st(r,u,a,c,h)),(r=n[2])&&e.push(new st(r,i,h,u,d)),(r=n[3])&&e.push(new st(r,u,h,c,d))}s.push(o)}for(;o=s.pop();)t(o.node,o.x0,o.y0,o.x1,o.y1);return this}function Zv(t){return t[0]}function jv(t){return arguments.length?(this._x=t,this):this._x}function Xv(t){return t[1]}function Yv(t){return arguments.length?(this._y=t,this):this._y}function Pi(t,e,s){var o=new Di(e??Zv,s??Xv,NaN,NaN,NaN,NaN);return t==null?o:o.addAll(t)}function Di(t,e,s,o,n,r){this._x=t,this._y=e,this._x0=s,this._y0=o,this._x1=n,this._y1=r,this._root=void 0}function pl(t){for(var e={data:t.data},s=e;t=t.next;)s=s.next={data:t.data};return e}var ot=Pi.prototype=Di.prototype;ot.copy=function(){var t=new Di(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,s,o;if(!e)return t;if(!e.length)return t._root=pl(e),t;for(s=[{source:e,target:t._root=new Array(4)}];e=s.pop();)for(var n=0;n<4;++n)(o=e.source[n])&&(o.length?s.push({source:o,target:e.target[n]=new Array(4)}):e.target[n]=pl(o));return t};ot.add=Dv;ot.addAll=Gv;ot.cover=Mv;ot.data=Fv;ot.extent=zv;ot.find=Bv;ot.remove=$v;ot.removeAll=Ov;ot.root=Vv;ot.size=Hv;ot.visit=Wv;ot.visitAfter=Uv;ot.x=jv;ot.y=Yv;function Ns(t){return function(){return t}}function as(t){return(t()-.5)*1e-6}function Jv(t){return t.x+t.vx}function Kv(t){return t.y+t.vy}function qv(t){var e,s,o,n=1,r=1;typeof t!="function"&&(t=Ns(t==null?1:+t));function i(){for(var d,u=e.length,h,f,p,y,b,k,w=0;w<r;++w)for(h=Pi(e,Jv,Kv).visitAfter(a),d=0;d<u;++d)f=e[d],b=s[f.index],k=b*b,p=f.x+f.vx,y=f.y+f.vy,h.visit(A);function A(I,x,D,Z,H){var Q=I.data,W=I.r,Y=b+W;if(Q){if(Q.index>f.index){var V=p-Q.x-Q.vx,R=y-Q.y-Q.vy,M=V*V+R*R;M<Y*Y&&(V===0&&(V=as(o),M+=V*V),R===0&&(R=as(o),M+=R*R),M=(Y-(M=Math.sqrt(M)))/M*n,f.vx+=(V*=M)*(Y=(W*=W)/(k+W)),f.vy+=(R*=M)*Y,Q.vx-=V*(Y=1-Y),Q.vy-=R*Y)}return}return x>p+Y||Z<p-Y||D>y+Y||H<y-Y}}function a(d){if(d.data)return d.r=s[d.data.index];for(var u=d.r=0;u<4;++u)d[u]&&d[u].r>d.r&&(d.r=d[u].r)}function c(){if(e){var d,u=e.length,h;for(s=new Array(u),d=0;d<u;++d)h=e[d],s[h.index]=+t(h,d,e)}}return i.initialize=function(d,u){e=d,o=u,c()},i.iterations=function(d){return arguments.length?(r=+d,i):r},i.strength=function(d){return arguments.length?(n=+d,i):n},i.radius=function(d){return arguments.length?(t=typeof d=="function"?d:Ns(+d),c(),i):t},i}function Qv(t){return t.index}function ml(t,e){var s=t.get(e);if(!s)throw new Error("node not found: "+e);return s}function e1(t){var e=Qv,s=h,o,n=Ns(30),r,i,a,c,d,u=1;t==null&&(t=[]);function h(k){return 1/Math.min(a[k.source.index],a[k.target.index])}function f(k){for(var w=0,A=t.length;w<u;++w)for(var I=0,x,D,Z,H,Q,W,Y;I<A;++I)x=t[I],D=x.source,Z=x.target,H=Z.x+Z.vx-D.x-D.vx||as(d),Q=Z.y+Z.vy-D.y-D.vy||as(d),W=Math.sqrt(H*H+Q*Q),W=(W-r[I])/W*k*o[I],H*=W,Q*=W,Z.vx-=H*(Y=c[I]),Z.vy-=Q*Y,D.vx+=H*(Y=1-Y),D.vy+=Q*Y}function p(){if(i){var k,w=i.length,A=t.length,I=new Map(i.map((D,Z)=>[e(D,Z,i),D])),x;for(k=0,a=new Array(w);k<A;++k)x=t[k],x.index=k,typeof x.source!="object"&&(x.source=ml(I,x.source)),typeof x.target!="object"&&(x.target=ml(I,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(k=0,c=new Array(A);k<A;++k)x=t[k],c[k]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);o=new Array(A),y(),r=new Array(A),b()}}function y(){if(i)for(var k=0,w=t.length;k<w;++k)o[k]=+s(t[k],k,t)}function b(){if(i)for(var k=0,w=t.length;k<w;++k)r[k]=+n(t[k],k,t)}return f.initialize=function(k,w){i=k,d=w,p()},f.links=function(k){return arguments.length?(t=k,p(),f):t},f.id=function(k){return arguments.length?(e=k,f):e},f.iterations=function(k){return arguments.length?(u=+k,f):u},f.strength=function(k){return arguments.length?(s=typeof k=="function"?k:Ns(+k),y(),f):s},f.distance=function(k){return arguments.length?(n=typeof k=="function"?k:Ns(+k),b(),f):n},f}const t1=1664525,s1=1013904223,yl=4294967296;function o1(){let t=1;return()=>(t=(t1*t+s1)%yl)/yl}function n1(t){return t.x}function r1(t){return t.y}var i1=10,a1=Math.PI*(3-Math.sqrt(5));function l1(t){var e,s=1,o=.001,n=1-Math.pow(o,1/300),r=0,i=.6,a=new Map,c=Li(h),d=$o("tick","end"),u=o1();t==null&&(t=[]);function h(){f(),d.call("tick",e),s<o&&(c.stop(),d.call("end",e))}function f(b){var k,w=t.length,A;b===void 0&&(b=1);for(var I=0;I<b;++I)for(s+=(r-s)*n,a.forEach(function(x){x(s)}),k=0;k<w;++k)A=t[k],A.fx==null?A.x+=A.vx*=i:(A.x=A.fx,A.vx=0),A.fy==null?A.y+=A.vy*=i:(A.y=A.fy,A.vy=0);return e}function p(){for(var b=0,k=t.length,w;b<k;++b){if(w=t[b],w.index=b,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var A=i1*Math.sqrt(.5+b),I=b*a1;w.x=A*Math.cos(I),w.y=A*Math.sin(I)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function y(b){return b.initialize&&b.initialize(t,u),b}return p(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(b){return arguments.length?(t=b,p(),a.forEach(y),e):t},alpha:function(b){return arguments.length?(s=+b,e):s},alphaMin:function(b){return arguments.length?(o=+b,e):o},alphaDecay:function(b){return arguments.length?(n=+b,e):+n},alphaTarget:function(b){return arguments.length?(r=+b,e):r},velocityDecay:function(b){return arguments.length?(i=1-b,e):1-i},randomSource:function(b){return arguments.length?(u=b,a.forEach(y),e):u},force:function(b,k){return arguments.length>1?(k==null?a.delete(b):a.set(b,y(k)),e):a.get(b)},find:function(b,k,w){var A=0,I=t.length,x,D,Z,H,Q;for(w==null?w=1/0:w*=w,A=0;A<I;++A)H=t[A],x=b-H.x,D=k-H.y,Z=x*x+D*D,Z<w&&(Q=H,w=Z);return Q},on:function(b,k){return arguments.length>1?(d.on(b,k),e):d.on(b)}}}function c1(){var t,e,s,o,n=Ns(-30),r,i=1,a=1/0,c=.81;function d(p){var y,b=t.length,k=Pi(t,n1,r1).visitAfter(h);for(o=p,y=0;y<b;++y)e=t[y],k.visit(f)}function u(){if(t){var p,y=t.length,b;for(r=new Array(y),p=0;p<y;++p)b=t[p],r[b.index]=+n(b,p,t)}}function h(p){var y=0,b,k,w=0,A,I,x;if(p.length){for(A=I=x=0;x<4;++x)(b=p[x])&&(k=Math.abs(b.value))&&(y+=b.value,w+=k,A+=k*b.x,I+=k*b.y);p.x=A/w,p.y=I/w}else{b=p,b.x=b.data.x,b.y=b.data.y;do y+=r[b.data.index];while(b=b.next)}p.value=y}function f(p,y,b,k){if(!p.value)return!0;var w=p.x-e.x,A=p.y-e.y,I=k-y,x=w*w+A*A;if(I*I/c<x)return x<a&&(w===0&&(w=as(s),x+=w*w),A===0&&(A=as(s),x+=A*A),x<i&&(x=Math.sqrt(i*x)),e.vx+=w*p.value*o/x,e.vy+=A*p.value*o/x),!0;if(p.length||x>=a)return;(p.data!==e||p.next)&&(w===0&&(w=as(s),x+=w*w),A===0&&(A=as(s),x+=A*A),x<i&&(x=Math.sqrt(i*x)));do p.data!==e&&(I=r[p.data.index]*o/x,e.vx+=w*I,e.vy+=A*I);while(p=p.next)}return d.initialize=function(p,y){t=p,s=y,u()},d.strength=function(p){return arguments.length?(n=typeof p=="function"?p:Ns(+p),u(),d):n},d.distanceMin=function(p){return arguments.length?(i=p*p,d):Math.sqrt(i)},d.distanceMax=function(p){return arguments.length?(a=p*p,d):Math.sqrt(a)},d.theta=function(p){return arguments.length?(c=p*p,d):Math.sqrt(c)},d}function d1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function En(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,o=t.slice(0,s);return[o.length>1?o[0]+o.slice(2):o,+t.slice(s+1)]}function Ks(t){return t=En(Math.abs(t)),t?t[1]:NaN}function u1(t,e){return function(s,o){for(var n=s.length,r=[],i=0,a=t[0],c=0;n>0&&a>0&&(c+a+1>o&&(a=Math.max(1,o-c)),r.push(s.substring(n-=a,n+a)),!((c+=a+1)>o));)a=t[i=(i+1)%t.length];return r.reverse().join(e)}}function h1(t){return function(e){return e.replace(/[0-9]/g,function(s){return t[+s]})}}var f1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rn(t){if(!(e=f1.exec(t)))throw new Error("invalid format: "+t);var e;return new Gi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rn.prototype=Gi.prototype;function Gi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g1(t){e:for(var e=t.length,s=1,o=-1,n;s<e;++s)switch(t[s]){case".":o=n=s;break;case"0":o===0&&(o=s),n=s;break;default:if(!+t[s])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(n+1):t}var Bd;function p1(t,e){var s=En(t,e);if(!s)return t+"";var o=s[0],n=s[1],r=n-(Bd=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,i=o.length;return r===i?o:r>i?o+new Array(r-i+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+En(t,Math.max(0,e+r-1))[0]}function bl(t,e){var s=En(t,e);if(!s)return t+"";var o=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+o:o.length>n+1?o.slice(0,n+1)+"."+o.slice(n+1):o+new Array(n-o.length+2).join("0")}const vl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bl(t*100,e),r:bl,s:p1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xl(t){return t}var wl=Array.prototype.map,_l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function m1(t){var e=t.grouping===void 0||t.thousands===void 0?xl:u1(wl.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?xl:h1(wl.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Rn(h);var f=h.fill,p=h.align,y=h.sign,b=h.symbol,k=h.zero,w=h.width,A=h.comma,I=h.precision,x=h.trim,D=h.type;D==="n"?(A=!0,D="g"):vl[D]||(I===void 0&&(I=12),x=!0,D="g"),(k||f==="0"&&p==="=")&&(k=!0,f="0",p="=");var Z=b==="$"?s:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",H=b==="$"?o:/[%p]/.test(D)?i:"",Q=vl[D],W=/[defgprs%]/.test(D);I=I===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function Y(V){var R=Z,M=H,C,G,T;if(D==="c")M=Q(V)+M,V="";else{V=+V;var F=V<0||1/V<0;if(V=isNaN(V)?c:Q(Math.abs(V),I),x&&(V=g1(V)),F&&+V==0&&y!=="+"&&(F=!1),R=(F?y==="("?y:a:y==="-"||y==="("?"":y)+R,M=(D==="s"?_l[8+Bd/3]:"")+M+(F&&y==="("?")":""),W){for(C=-1,G=V.length;++C<G;)if(T=V.charCodeAt(C),48>T||T>57){M=(T===46?n+V.slice(C+1):V.slice(C))+M,V=V.slice(0,C);break}}}A&&!k&&(V=e(V,1/0));var U=R.length+V.length+M.length,oe=U<w?new Array(w-U+1).join(f):"";switch(A&&k&&(V=e(oe+V,oe.length?w-M.length:1/0),oe=""),p){case"<":V=R+V+M+oe;break;case"=":V=R+oe+V+M;break;case"^":V=oe.slice(0,U=oe.length>>1)+R+V+M+oe.slice(U);break;default:V=oe+R+V+M;break}return r(V)}return Y.toString=function(){return h+""},Y}function u(h,f){var p=d((h=Rn(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Ks(f)/3)))*3,b=Math.pow(10,-y),k=_l[8+y/3];return function(w){return p(b*w)+k}}return{format:d,formatPrefix:u}}var en,$d,Od;y1({thousands:",",grouping:[3],currency:["$",""]});function y1(t){return en=m1(t),$d=en.format,Od=en.formatPrefix,en}function b1(t){return Math.max(0,-Ks(Math.abs(t)))}function v1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ks(e)/3)))*3-Ks(Math.abs(t)))}function x1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ks(e)-Ks(t))+1}function Vd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function w1(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Cl=Symbol("implicit");function Hd(){var t=new Ja,e=[],s=[],o=Cl;function n(r){let i=t.get(r);if(i===void 0){if(o!==Cl)return o;t.set(r,i=e.push(r)-1)}return s[i%s.length]}return n.domain=function(r){if(!arguments.length)return e.slice();e=[],t=new Ja;for(const i of r)t.has(i)||t.set(i,e.push(i)-1);return n},n.range=function(r){return arguments.length?(s=Array.from(r),n):s.slice()},n.unknown=function(r){return arguments.length?(o=r,n):o},n.copy=function(){return Hd(e,s).unknown(o)},Vd.apply(n,arguments),n}function _1(t){return function(){return t}}function C1(t){return+t}var kl=[0,1];function Lt(t){return t}function ti(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:_1(isNaN(e)?NaN:.5)}function k1(t,e){var s;return t>e&&(s=t,t=e,e=s),function(o){return Math.max(t,Math.min(e,o))}}function A1(t,e,s){var o=t[0],n=t[1],r=e[0],i=e[1];return n<o?(o=ti(n,o),r=s(i,r)):(o=ti(o,n),r=s(r,i)),function(a){return r(o(a))}}function N1(t,e,s){var o=Math.min(t.length,e.length)-1,n=new Array(o),r=new Array(o),i=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<o;)n[i]=ti(t[i],t[i+1]),r[i]=s(e[i],e[i+1]);return function(a){var c=Jm(t,a,1,o)-1;return r[c](n[c](a))}}function S1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function I1(){var t=kl,e=kl,s=Jn,o,n,r,i=Lt,a,c,d;function u(){var f=Math.min(t.length,e.length);return i!==Lt&&(i=k1(t[0],t[f-1])),a=f>2?N1:A1,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?r:(c||(c=a(t.map(o),e,s)))(o(i(f)))}return h.invert=function(f){return i(n((d||(d=a(e,t.map(o),yt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,C1),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),s=Td,u()},h.clamp=function(f){return arguments.length?(i=f?!0:Lt,u()):i!==Lt},h.interpolate=function(f){return arguments.length?(s=f,u()):s},h.unknown=function(f){return arguments.length?(r=f,h):r},function(f,p){return o=f,n=p,u()}}function T1(t,e,s,o){var n=n0(t,e,s),r;switch(o=Rn(o??",f"),o.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(r=v1(n,i))&&(o.precision=r),Od(o,i)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=x1(n,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=b1(n))&&(o.precision=r-(o.type==="%")*2);break}}return $d(o)}function Wd(t){var e=t.domain;return t.ticks=function(s){var o=e();return o0(o[0],o[o.length-1],s??10)},t.tickFormat=function(s,o){var n=e();return T1(n[0],n[n.length-1],s??10,o)},t.nice=function(s){s==null&&(s=10);var o=e(),n=0,r=o.length-1,i=o[n],a=o[r],c,d,u=10;for(a<i&&(d=i,i=a,a=d,d=n,n=r,r=d);u-- >0;){if(d=Zr(i,a,s),d===c)return o[n]=i,o[r]=a,e(o);if(d>0)i=Math.floor(i/d)*d,a=Math.ceil(a/d)*d;else if(d<0)i=Math.ceil(i*d)/d,a=Math.floor(a*d)/d;else break;c=d}return t},t}function Al(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function L1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function E1(t){return t<0?-t*t:t*t}function R1(t){var e=t(Lt,Lt),s=1;function o(){return s===1?t(Lt,Lt):s===.5?t(L1,E1):t(Al(s),Al(1/s))}return e.exponent=function(n){return arguments.length?(s=+n,o()):s},Wd(e)}function Ud(){var t=R1(I1());return t.copy=function(){return S1(t,Ud()).exponent(t.exponent())},Vd.apply(t,arguments),t}function P1(){return Ud.apply(null,arguments).exponent(.5)}function D1(){var t=0,e=1,s,o,n,r,i=Lt,a=!1,c;function d(h){return h==null||isNaN(h=+h)?c:i(n===0?.5:(h=(r(h)-s)*n,a?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,s=r(t=+t),o=r(e=+e),n=s===o?0:1/(o-s),d):[t,e]},d.clamp=function(h){return arguments.length?(a=!!h,d):a},d.interpolator=function(h){return arguments.length?(i=h,d):i};function u(h){return function(f){var p,y;return arguments.length?([p,y]=f,i=h(p,y),d):[i(0),i(1)]}}return d.range=u(Jn),d.rangeRound=u(Td),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return r=h,s=h(t),o=h(e),n=s===o?0:1/(o-s),d}}function G1(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zd(){var t=Wd(D1()(Lt));return t.copy=function(){return G1(t,Zd())},w1.apply(t,arguments)}function Ho(t){for(var e=t.length/6|0,s=new Array(e),o=0;o<e;)s[o]="#"+t.slice(o*6,++o*6);return s}const M1=Ho("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Qn(t){var e=t.length;return function(s){return t[Math.max(0,Math.min(e-1,Math.floor(s*e)))]}}const F1=Qn(Ho("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Qn(Ho("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Qn(Ho("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Qn(Ho("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const tn=t=>()=>t;function z1(t,{sourceEvent:e,target:s,transform:o,dispatch:n}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:n}})}function Xt(t,e,s){this.k=t,this.x=e,this.y=s}Xt.prototype={constructor:Xt,scale:function(t){return t===1?this:new Xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var er=new Xt(1,0,0);jd.prototype=Xt.prototype;function jd(t){for(;!t.__zoom;)if(!(t=t.parentNode))return er;return t.__zoom}function _r(t){t.stopImmediatePropagation()}function lo(t){t.preventDefault(),t.stopImmediatePropagation()}function B1(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function $1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Nl(){return this.__zoom||er}function O1(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function V1(){return navigator.maxTouchPoints||"ontouchstart"in this}function H1(t,e,s){var o=t.invertX(e[0][0])-s[0][0],n=t.invertX(e[1][0])-s[1][0],r=t.invertY(e[0][1])-s[0][1],i=t.invertY(e[1][1])-s[1][1];return t.translate(n>o?(o+n)/2:Math.min(0,o)||Math.max(0,n),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function W1(){var t=B1,e=$1,s=H1,o=O1,n=V1,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,c=_b,d=$o("start","zoom","end"),u,h,f,p=500,y=150,b=0,k=10;function w(C){C.property("__zoom",Nl).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Y).filter(n).on("touchstart.zoom",V).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(C,G,T,F){var U=C.selection?C.selection():C;U.property("__zoom",Nl),C!==U?D(C,G,T,F):U.interrupt().each(function(){Z(this,arguments).event(F).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},w.scaleBy=function(C,G,T,F){w.scaleTo(C,function(){var U=this.__zoom.k,oe=typeof G=="function"?G.apply(this,arguments):G;return U*oe},T,F)},w.scaleTo=function(C,G,T,F){w.transform(C,function(){var U=e.apply(this,arguments),oe=this.__zoom,ce=T==null?x(U):typeof T=="function"?T.apply(this,arguments):T,X=oe.invert(ce),ie=typeof G=="function"?G.apply(this,arguments):G;return s(I(A(oe,ie),ce,X),U,i)},T,F)},w.translateBy=function(C,G,T,F){w.transform(C,function(){return s(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),i)},null,F)},w.translateTo=function(C,G,T,F,U){w.transform(C,function(){var oe=e.apply(this,arguments),ce=this.__zoom,X=F==null?x(oe):typeof F=="function"?F.apply(this,arguments):F;return s(er.translate(X[0],X[1]).scale(ce.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof T=="function"?-T.apply(this,arguments):-T),oe,i)},F,U)};function A(C,G){return G=Math.max(r[0],Math.min(r[1],G)),G===C.k?C:new Xt(G,C.x,C.y)}function I(C,G,T){var F=G[0]-T[0]*C.k,U=G[1]-T[1]*C.k;return F===C.x&&U===C.y?C:new Xt(C.k,F,U)}function x(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function D(C,G,T,F){C.on("start.zoom",function(){Z(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(F).end()}).tween("zoom",function(){var U=this,oe=arguments,ce=Z(U,oe).event(F),X=e.apply(U,oe),ie=T==null?x(X):typeof T=="function"?T.apply(U,oe):T,Se=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),we=U.__zoom,ae=typeof G=="function"?G.apply(U,oe):G,ge=c(we.invert(ie).concat(Se/we.k),ae.invert(ie).concat(Se/ae.k));return function(S){if(S===1)S=ae;else{var q=ge(S),ee=Se/q[2];S=new Xt(ee,ie[0]-q[0]*ee,ie[1]-q[1]*ee)}ce.zoom(null,S)}})}function Z(C,G,T){return!T&&C.__zooming||new H(C,G)}function H(C,G){this.that=C,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(C,G),this.taps=0}H.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,G){return this.mouse&&C!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var G=it(this.that).datum();d.call(C,this.that,new z1(C,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:d}),G)}};function Q(C,...G){if(!t.apply(this,arguments))return;var T=Z(this,G).event(C),F=this.__zoom,U=Math.max(r[0],Math.min(r[1],F.k*Math.pow(2,o.apply(this,arguments)))),oe=Ht(C);if(T.wheel)(T.mouse[0][0]!==oe[0]||T.mouse[0][1]!==oe[1])&&(T.mouse[1]=F.invert(T.mouse[0]=oe)),clearTimeout(T.wheel);else{if(F.k===U)return;T.mouse=[oe,F.invert(oe)],hn(this),T.start()}lo(C),T.wheel=setTimeout(ce,y),T.zoom("mouse",s(I(A(F,U),T.mouse[0],T.mouse[1]),T.extent,i));function ce(){T.wheel=null,T.end()}}function W(C,...G){if(f||!t.apply(this,arguments))return;var T=C.currentTarget,F=Z(this,G,!0).event(C),U=it(C.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",Se,!0),oe=Ht(C,T),ce=C.clientX,X=C.clientY;Cd(C.view),_r(C),F.mouse=[oe,this.__zoom.invert(oe)],hn(this),F.start();function ie(we){if(lo(we),!F.moved){var ae=we.clientX-ce,ge=we.clientY-X;F.moved=ae*ae+ge*ge>b}F.event(we).zoom("mouse",s(I(F.that.__zoom,F.mouse[0]=Ht(we,T),F.mouse[1]),F.extent,i))}function Se(we){U.on("mousemove.zoom mouseup.zoom",null),kd(we.view,F.moved),lo(we),F.event(we).end()}}function Y(C,...G){if(t.apply(this,arguments)){var T=this.__zoom,F=Ht(C.changedTouches?C.changedTouches[0]:C,this),U=T.invert(F),oe=T.k*(C.shiftKey?.5:2),ce=s(I(A(T,oe),F,U),e.apply(this,G),i);lo(C),a>0?it(this).transition().duration(a).call(D,ce,F,C):it(this).call(w.transform,ce,F,C)}}function V(C,...G){if(t.apply(this,arguments)){var T=C.touches,F=T.length,U=Z(this,G,C.changedTouches.length===F).event(C),oe,ce,X,ie;for(_r(C),ce=0;ce<F;++ce)X=T[ce],ie=Ht(X,this),ie=[ie,this.__zoom.invert(ie),X.identifier],U.touch0?!U.touch1&&U.touch0[2]!==ie[2]&&(U.touch1=ie,U.taps=0):(U.touch0=ie,oe=!0,U.taps=1+!!u);u&&(u=clearTimeout(u)),oe&&(U.taps<2&&(h=ie[0],u=setTimeout(function(){u=null},p)),hn(this),U.start())}}function R(C,...G){if(this.__zooming){var T=Z(this,G).event(C),F=C.changedTouches,U=F.length,oe,ce,X,ie;for(lo(C),oe=0;oe<U;++oe)ce=F[oe],X=Ht(ce,this),T.touch0&&T.touch0[2]===ce.identifier?T.touch0[0]=X:T.touch1&&T.touch1[2]===ce.identifier&&(T.touch1[0]=X);if(ce=T.that.__zoom,T.touch1){var Se=T.touch0[0],we=T.touch0[1],ae=T.touch1[0],ge=T.touch1[1],S=(S=ae[0]-Se[0])*S+(S=ae[1]-Se[1])*S,q=(q=ge[0]-we[0])*q+(q=ge[1]-we[1])*q;ce=A(ce,Math.sqrt(S/q)),X=[(Se[0]+ae[0])/2,(Se[1]+ae[1])/2],ie=[(we[0]+ge[0])/2,(we[1]+ge[1])/2]}else if(T.touch0)X=T.touch0[0],ie=T.touch0[1];else return;T.zoom("touch",s(I(ce,X,ie),T.extent,i))}}function M(C,...G){if(this.__zooming){var T=Z(this,G).event(C),F=C.changedTouches,U=F.length,oe,ce;for(_r(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),oe=0;oe<U;++oe)ce=F[oe],T.touch0&&T.touch0[2]===ce.identifier?delete T.touch0:T.touch1&&T.touch1[2]===ce.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(ce=Ht(ce,this),Math.hypot(h[0]-ce[0],h[1]-ce[1])<k)){var X=it(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return w.wheelDelta=function(C){return arguments.length?(o=typeof C=="function"?C:tn(+C),w):o},w.filter=function(C){return arguments.length?(t=typeof C=="function"?C:tn(!!C),w):t},w.touchable=function(C){return arguments.length?(n=typeof C=="function"?C:tn(!!C),w):n},w.extent=function(C){return arguments.length?(e=typeof C=="function"?C:tn([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),w):e},w.scaleExtent=function(C){return arguments.length?(r[0]=+C[0],r[1]=+C[1],w):[r[0],r[1]]},w.translateExtent=function(C){return arguments.length?(i[0][0]=+C[0][0],i[1][0]=+C[1][0],i[0][1]=+C[0][1],i[1][1]=+C[1][1],w):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},w.constrain=function(C){return arguments.length?(s=C,w):s},w.duration=function(C){return arguments.length?(a=+C,w):a},w.interpolate=function(C){return arguments.length?(c=C,w):c},w.on=function(){var C=d.on.apply(d,arguments);return C===d?w:C},w.clickDistance=function(C){return arguments.length?(b=(C=+C)*C,w):Math.sqrt(b)},w.tapDistance=function(C){return arguments.length?(k=+C,w):k},w}const ke={WIDTH:800,HEIGHT:600,NODE_RADIUS:8,LINK_DISTANCE:100,CHARGE_STRENGTH:-300,MIN_RADIUS:4,MAX_RADIUS:20,COLLISION_PADDING:2,COLLISION_STRENGTH:.7,LINK_STRENGTH:.5,ZOOM_MIN:.1,ZOOM_MAX:4,RESIZE_DEBOUNCE_MS:150,TOOLTIP_PADDING:12,TOOLTIP_DURATION:150,TOOLTIP_MAX_WIDTH:280,DRAG_ALPHA_TARGET:.3,SIMULATION_ALPHA:1,SIMULATION_RESTART_ALPHA:.3,LABEL_VISIBILITY_THRESHOLD:.5};function nt(t){return typeof t=="string"?t:t?.id||String(t)}function ss(t){const e=nt(t.source),s=nt(t.target);return e<s?`${e}-${s}`:`${s}-${e}`}function U1(t,e){let s;return function(...n){const r=()=>{clearTimeout(s),t(...n)};clearTimeout(s),s=setTimeout(r,e)}}class Z1{constructor(e,s={}){if(this.container=typeof e=="string"?document.querySelector(e):e,!this.container)throw new Error("NetworkGraphD3: Container not found");this.log=$e({prefix:"NetworkGraphD3",level:"info"}),this.options={width:s.width||ke.WIDTH,height:s.height||ke.HEIGHT,nodeRadius:s.nodeRadius||ke.NODE_RADIUS,linkDistance:s.linkDistance||ke.LINK_DISTANCE,chargeStrength:s.chargeStrength||ke.CHARGE_STRENGTH,sizeBy:s.sizeBy||null,minRadius:s.minRadius||ke.MIN_RADIUS,maxRadius:s.maxRadius||ke.MAX_RADIUS,colorBy:s.colorBy||"group",colorScheme:s.colorScheme||"categorical",showLabels:s.showLabels!==!1,tooltipBuilder:s.tooltipBuilder||null,renderMode:s.renderMode||"colors",...s},this.options.minRadius>=this.options.maxRadius&&(this.log.warn("minRadius should be less than maxRadius, adjusting..."),this.options.minRadius=Math.min(this.options.minRadius,this.options.maxRadius-1)),this.data={nodes:[],links:[]},this.svg=null,this.simulation=null,this.isDestroyed=!1,this.isReady=!1,this.isRendering=!1,this.selectedNode=null,this.sizeScale=null,this.colorScale=null,this.resizeHandler=null,this.darkModeQuery=null,this.darkModeHandler=null,this.tooltip=null,this.currentTooltipNode=null,this.linkKeyCache=new Map,this.stabilizationCheckFrame=null,this.lastAlpha=1,this.stableTickCount=0,this.requiredStableTicks=10,this.stabilizationThreshold=.01,this.init()}init(){this.log.debug("Initializing graph",{width:this.options.width,height:this.options.height}),this.svg=it(this.container).append("svg").attr("width",this.options.width).attr("height",this.options.height).attr("viewBox",`0 0 ${this.options.width} ${this.options.height}`).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label","Network graph visualization").style("background","transparent").style("opacity",0).style("visibility","hidden").attr("class","network-graph-svg"),this.g=this.svg.append("g").attr("class","main-group"),this.linkGroup=this.g.append("g").attr("class","links").attr("aria-label","Graph links"),this.nodeGroup=this.g.append("g").attr("class","nodes").attr("aria-label","Graph nodes"),this.options.showLabels&&(this.labelGroup=this.g.append("g").attr("class","labels").attr("aria-label","Node labels")),this.createTooltip(),this.zoomBehavior=W1().scaleExtent([ke.ZOOM_MIN,ke.ZOOM_MAX]).on("zoom",e=>{this.g.attr("transform",e.transform),this.currentZoom=e.transform.k,this.updateLabelVisibility()}),this.svg.call(this.zoomBehavior),this.currentZoom=1,this.svg.on("click",e=>{e.target===this.svg.node()&&this.deselectNode()}),this.simulation=l1().force("link",e1().id(e=>e.id).distance(this.options.linkDistance).strength(ke.LINK_STRENGTH)).force("charge",c1().strength(this.options.chargeStrength)).force("center",gl(this.options.width/2,this.options.height/2)).force("collision",qv().radius(e=>this.getNodeRadius(e)+ke.COLLISION_PADDING).strength(ke.COLLISION_STRENGTH)).on("tick",()=>this.onTick()).on("end",()=>this.onSimulationEnd()),this.resizeHandler=U1(()=>this.handleResize(),ke.RESIZE_DEBOUNCE_MS),window.addEventListener("resize",this.resizeHandler)}setData(e,s){if(this.isDestroyed){this.log.warn("Cannot set data on destroyed instance");return}if(!Array.isArray(e))throw new Error("NetworkGraphD3: nodes must be an array");if(!Array.isArray(s))throw new Error("NetworkGraphD3: links must be an array");const o=e.filter(n=>!n||!n.id);o.length>0&&this.log.warn(`Found ${o.length} nodes without id property`),this.log.debug("Setting graph data",{nodeCount:e.length,linkCount:s.length}),this.data.nodes=e,this.data.links=s.map(n=>({...n,source:nt(n.source),target:nt(n.target)})),this.linkKeyCache.clear(),this.selectedNode=null,this.computeScales(),this.updateGraph()}computeScales(){if(!this.data.nodes||this.data.nodes.length===0)return;if(this.options.sizeBy){const o=this.data.nodes.map(n=>n[this.options.sizeBy]).filter(n=>n!=null);if(o.length>0){const n=Math.min(...o),r=Math.max(...o);this.sizeScale=P1().domain([n,r]).range([this.options.minRadius,this.options.maxRadius]).clamp(!0)}}const e=this.options.colorBy,s=this.data.nodes.map(o=>o[e]).filter(o=>o!=null);if(s.length>0){const o=s.every(n=>typeof n=="number");if(this.options.colorScheme==="sequential"||o){const n=Math.min(...s),r=Math.max(...s);this.colorScale=Zd(F1).domain([n,r])}else{const n=[...new Set(s)];this.colorScale=Hd().domain(n).range(M1)}}}updateVisualEncoding(e={}){e.sizeBy!==void 0&&(this.options.sizeBy=e.sizeBy),e.minRadius!==void 0&&(this.options.minRadius=e.minRadius),e.maxRadius!==void 0&&(this.options.maxRadius=e.maxRadius),e.colorBy!==void 0&&(this.options.colorBy=e.colorBy),e.colorScheme!==void 0&&(this.options.colorScheme=e.colorScheme);const s=e.preserveZoom!==!1;let o=null;s&&this.g&&(o=jd(this.svg.node())),this.computeScales(),this.node&&this.node.attr("r",n=>this.getNodeRadius(n)).attr("fill",n=>this.getNodeColor(n)),this.simulation&&this.simulation.force("collision").radius(n=>this.getNodeRadius(n)+ke.COLLISION_PADDING),s&&o&&this.zoomBehavior&&this.svg&&(this.svg.call(this.zoomBehavior.transform,o),this.g.attr("transform",o),this.currentZoom=o.k)}setRenderMode(e){if(e!=="colors"&&e!=="avatars"){this.log.warn(`Invalid render mode: ${e}. Must be 'colors' or 'avatars'`);return}this.options.renderMode=e,this.log.debug(`Render mode changed to: ${e}`),this.nodeGroup&&(this.nodeGroup.selectAll("circle").remove(),this.nodeGroup.selectAll("text").remove(),this.node=null),this.labelGroup&&(this.labelGroup.selectAll("text").remove(),this.label=null),this.updateGraph()}updateNodeStatistics(e,s="eigenvector",o=!0){if(!e||!Array.isArray(e)){this.log.warn("updateNodeStatistics: enrichedNodes must be an array");return}const n=new Map;e.forEach(i=>{n.set(i.id,i)});let r=!1;this.data.nodes.forEach(i=>{const a=n.get(i.id);a&&(Object.keys(a).forEach(c=>{c!=="x"&&c!=="y"&&c!=="vx"&&c!=="vy"&&c!=="fx"&&c!=="fy"&&(i[c]=a[c])}),a.eigenvector!==void 0&&(r=!0))}),r&&s==="eigenvector"?this.updateVisualEncoding({sizeBy:"eigenvector",preserveZoom:o}):(this.computeScales(),this.node&&this.node.attr("r",i=>this.getNodeRadius(i)).attr("fill",i=>this.getNodeColor(i)),this.simulation&&this.simulation.force("collision").radius(i=>this.getNodeRadius(i)+ke.COLLISION_PADDING)),this.log.debug("Node statistics updated",{nodeCount:e.length,sizingBy:r?s:"none"})}updateGraph(){if(!this.data.nodes||!this.data.links)return;this.isReady=!1,this.isRendering=!1,this.stableTickCount=0,this.lastAlpha=1,this.svg&&this.svg.style("opacity",0).style("visibility","hidden"),this.link=this.linkGroup.selectAll("line").data(this.data.links,n=>ss(n)),this.link.exit().remove();const e=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("aria-label",n=>`Link from ${nt(n.source)} to ${nt(n.target)}`);this.link=e.merge(this.link);const s=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(s).data(this.data.nodes,n=>n.id),this.node.exit().remove();const o=this.node.enter().append(s);if(this.options.renderMode==="avatars"?o.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",n=>`${this.getNodeRadius(n)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",n=>`Node ${n.id}`).text(n=>n.avatar||"").attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(n,r)=>this.onNodeMouseOver(n,r)).on("mouseout",(n,r)=>this.onNodeMouseOut(n,r)).on("click",(n,r)=>{n.stopPropagation(),this.toggleNodeSelection(r),this.emit("nodeClick",r)}).on("keydown",(n,r)=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),this.toggleNodeSelection(r),this.emit("nodeClick",r))}):o.attr("r",n=>this.getNodeRadius(n)).attr("fill",n=>this.getNodeColor(n)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",n=>`Node ${n.id}`).call(this.createDragBehavior()).on("mouseover",(n,r)=>this.onNodeMouseOver(n,r)).on("mouseout",(n,r)=>this.onNodeMouseOut(n,r)).on("click",(n,r)=>{n.stopPropagation(),this.toggleNodeSelection(r),this.emit("nodeClick",r)}).on("keydown",(n,r)=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),this.toggleNodeSelection(r),this.emit("nodeClick",r))}),this.node=o.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",n=>`${this.getNodeRadius(n)*2}px`).text(n=>n.avatar||"").attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)*.5):this.node.attr("r",n=>this.getNodeRadius(n)).attr("fill",n=>this.getNodeColor(n)).attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)),this.simulation.force("collision").radius(n=>this.getNodeRadius(n)+ke.COLLISION_PADDING),this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,r=>r.id),this.label.exit().remove();const n=this.label.enter().append("text").text(r=>r.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",r=>this.getNodeRadius(r)+15).attr("fill","var(--color-text-primary)").style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=n.merge(this.label),this.label.attr("dy",r=>this.getNodeRadius(r)+15),this.updateLabelVisibility()}this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),requestAnimationFrame(()=>{this.isRendering=!0,this.simulation.alpha(ke.SIMULATION_ALPHA).restart()})}onTick(){this.isDestroyed||!this.isRendering&&!this.isReady||(this.link&&this.link.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),this.node&&(this.options.renderMode==="avatars"?this.node.attr("x",e=>e.x).attr("y",e=>e.y):this.node.attr("cx",e=>e.x).attr("cy",e=>e.y)),this.label&&this.label.attr("x",e=>e.x).attr("y",e=>e.y),!this.isReady&&this.simulation&&this.checkStabilization())}checkStabilization(){if(!this.simulation||this.isDestroyed)return;const e=this.simulation.alpha();e<this.stabilizationThreshold?this.stableTickCount++:this.stableTickCount=0,this.stableTickCount>=this.requiredStableTicks?this.markAsReady():this.stabilizationCheckFrame||(this.stabilizationCheckFrame=requestAnimationFrame(()=>{this.stabilizationCheckFrame=null})),this.lastAlpha=e}onSimulationEnd(){this.isDestroyed||this.markAsReady()}markAsReady(){this.isReady||this.isDestroyed||(this.log.debug("Graph marked as ready"),this.isReady=!0,this.isRendering=!0,this.svg&&this.svg.style("opacity",1).style("visibility","visible"),this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.fitToView(),this.emit("ready")})}))}createDragBehavior(){return Zy().on("start",(e,s)=>{e.active||this.simulation.alphaTarget(ke.DRAG_ALPHA_TARGET).restart(),s.fx=s.x,s.fy=s.y,this.emit("nodeDragStart",s)}).on("drag",(e,s)=>{s.fx=e.x,s.fy=e.y,this.emit("nodeDrag",s)}).on("end",(e,s)=>{e.active||this.simulation.alphaTarget(0),this.emit("nodeDragEnd",s)})}isDarkMode(){return document.documentElement.classList.contains("dark")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}updateTooltipStyles(e){this.tooltip&&this.tooltip.style("background",e?"rgba(17, 24, 39, 0.95)":"rgba(0, 0, 0, 0.9)").style("color",e?"#f9fafb":"#fff").style("box-shadow",e?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.3)").style("border",e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.2)")}createTooltip(){this.tooltip&&this.tooltip.remove(),this.darkModeQuery&&this.darkModeHandler&&this.darkModeQuery.removeEventListener("change",this.darkModeHandler);const e=this.isDarkMode();this.tooltip=it("body").append("div").attr("class","network-graph-tooltip").attr("role","tooltip").attr("aria-hidden","true").style("position","absolute").style("padding","10px 14px").style("border-radius","8px").style("font-size","12px").style("font-family","system-ui, -apple-system, sans-serif").style("pointer-events","none").style("opacity",0).style("visibility","hidden").style("z-index",1e3).style("max-width",`${ke.TOOLTIP_MAX_WIDTH}px`).style("line-height","1.6").style("backdrop-filter","blur(8px)"),this.updateTooltipStyles(e),window.matchMedia&&(this.darkModeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeHandler=s=>{!this.isDestroyed&&this.tooltip&&this.updateTooltipStyles(s.matches)},this.darkModeQuery.addEventListener("change",this.darkModeHandler))}showTooltip(e,s){if(!this.tooltip||this.isDestroyed)return;const o=this.options.tooltipBuilder?this.options.tooltipBuilder(s):this.buildTooltipContent(s);this.tooltip.html(o);const n=e.clientX||e.pageX,r=e.clientY||e.pageY;this.tooltip.style("opacity",0).style("visibility","visible").attr("aria-hidden","false");const i=this.tooltip.node();if(!i)return;const a=i.offsetWidth||200,c=i.offsetHeight||100,d=ke.TOOLTIP_PADDING;let u=n+d,h=r-c-d;const f=window.innerWidth,p=window.innerHeight;u+a>f-d&&(u=n-a-d),u<d&&(u=n+d),h<d&&(h=r+d),h+c>p-d&&(h=r-c-d),this.tooltip.style("left",`${u}px`).style("top",`${h}px`).transition().duration(ke.TOOLTIP_DURATION).style("opacity",1),this.currentTooltipNode=s}hideTooltip(){this.tooltip&&(this.tooltip.transition().duration(ke.TOOLTIP_DURATION).style("opacity",0).on("end",function(){it(this).style("visibility","hidden").attr("aria-hidden","true")}),this.currentTooltipNode=null)}updateLabelVisibility(){if(!this.label||!this.options.showLabels)return;const e=this.currentZoom>=ke.LABEL_VISIBILITY_THRESHOLD;this.label.style("opacity",e?1:0).style("visibility",e?"visible":"hidden")}buildTooltipContent(e){if(!e)return"";const s=[];s.push(`<div style="font-weight: 600; margin-bottom: 6px; font-size: 13px;"> ${e.id}</div>`);const o=new Set(["id","x","y","fx","fy","vx","vy","index","__data__","__transition__"]),n=["relationship","gender","avatar","group","community"],r=["degree","eigenvector","betweenness","clustering","closeness","centrality"];n.forEach(c=>{if(e[c]!==void 0&&e[c]!==null&&!o.has(c)){const d=e[c];let u=c.charAt(0).toUpperCase()+c.slice(1).replace(/_/g," ");if(c==="relationship")s.push(`<div style="margin-bottom: 3px;"><strong> Relationship:</strong> ${this.escapeHtml(d)}</div>`);else if(c==="gender"){const f={male:{emoji:"",text:"Male"},female:{emoji:"",text:"Female"},other:{emoji:"",text:"Other"}}[d]||{emoji:"",text:d};s.push(`<div style="margin-bottom: 3px;"><strong>Gender:</strong> ${f.emoji} ${f.text}</div>`)}else c==="avatar"?s.push(`<div style="margin-bottom: 3px;"><strong>Avatar:</strong> ${d}</div>`):c==="group"?s.push(`<div style="margin-bottom: 3px;"><strong>Group:</strong> ${d}</div>`):c==="community"?s.push(`<div style="margin-bottom: 3px;"><strong> Community:</strong> ${d}</div>`):s.push(`<div style="margin-bottom: 3px;"><strong>${u}:</strong> ${this.escapeHtml(String(d))}</div>`)}}),r.forEach(c=>{if(e[c]!==void 0&&e[c]!==null&&!o.has(c)){const d=e[c],u=c.charAt(0).toUpperCase()+c.slice(1).replace(/_/g," ");if(c==="centrality"&&e.eigenvector!==void 0)return;typeof d=="number"?s.push(`<div style="margin-bottom: 2px;"><strong>${u}:</strong> ${d.toFixed(4)}</div>`):s.push(`<div style="margin-bottom: 2px;"><strong>${u}:</strong> ${this.escapeHtml(String(d))}</div>`)}});const i=new Set([...n,...r,"x","y"]),a=Object.keys(e).filter(c=>!o.has(c)&&!i.has(c)&&e[c]!==void 0&&e[c]!==null&&typeof e[c]!="function"&&!c.startsWith("__")).sort();return a.length>0&&(s.push(`<div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid ${this.isDarkMode()?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.1)"}; font-size: 11px;">`),s.push(`<div style="margin-bottom: 4px; font-weight: 600; color: ${this.isDarkMode()?"rgba(249,250,251,0.8)":"rgba(0,0,0,0.7)"};">Other Properties:</div>`),a.forEach(c=>{const d=e[c];let u;typeof d=="object"&&d!==null?Array.isArray(d)?u=`[${d.length} items]`:u=`{${Object.keys(d).length} keys}`:u=String(d);const h=c.charAt(0).toUpperCase()+c.slice(1).replace(/_/g," ");s.push(`<div style="margin-bottom: 2px; font-family: monospace; font-size: 10px;"><strong>${h}:</strong> ${this.escapeHtml(u)}</div>`)}),s.push("</div>")),e.x!==void 0&&e.y,s.join("")}escapeHtml(e){const s=document.createElement("div");return s.textContent=e,s.innerHTML}onNodeMouseOver(e,s){it(e.currentTarget).attr("stroke-width",4).attr("stroke","#fbbf24"),this.showTooltip(e,s),this.emit("nodeHover",s)}onNodeMouseOut(e,s){it(e.currentTarget).attr("stroke-width",this.getNodeStrokeWidth(s)).attr("stroke",this.getNodeStrokeColor(s)),this.hideTooltip(),this.emit("nodeLeave",s)}getNodeRadius(e){if(this.options.sizeBy&&this.sizeScale){const s=e[this.options.sizeBy];if(s!=null)return this.sizeScale(s)}return this.options.nodeRadius}getNodeColor(e){if(this.options.customColorFunction){const r=this.options.customColorFunction(e);if(r)return r}const s=this.options.colorBy;if(this.colorScale){const r=e[s];if(r!=null)return this.colorScale(r)}const o=e.group||0,n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return n[(o-1)%n.length]}getNodeStrokeColor(e){return this.selectedNode&&this.selectedNode.id===e.id?"#fb923c":"#fff"}getNodeStrokeWidth(e){return this.selectedNode&&this.selectedNode.id===e.id?3:2}toggleNodeSelection(e){this.selectedNode&&this.selectedNode.id===e.id?this.deselectNode():this.selectNode(e)}selectNode(e){if(!e)return;const s=this.selectedNode;s&&(s.fx=null,s.fy=null),this.selectedNode=e,this.node&&this.node.attr("stroke",o=>this.getNodeStrokeColor(o)).attr("stroke-width",o=>this.getNodeStrokeWidth(o)),this.log.debug("Node selected",{nodeId:e.id}),this.emit("nodeSelected",{node:e,previousSelection:s})}deselectNode(){if(!this.selectedNode)return;const e=this.selectedNode;e.fx=null,e.fy=null,this.selectedNode=null,this.node&&this.node.attr("stroke",s=>this.getNodeStrokeColor(s)).attr("stroke-width",s=>this.getNodeStrokeWidth(s)),this.simulation&&this.simulation.alpha(.3).restart(),this.log.debug("Node deselected",{nodeId:e.id}),this.emit("nodeDeselected",{previousSelection:e})}getSelectedNode(){return this.selectedNode}handleResize(){if(this.isDestroyed||!this.container)return;const e=this.container.getBoundingClientRect(),s=e.width||this.options.width,o=e.height||this.options.height;s===this.options.width&&o===this.options.height||(this.options.width=s,this.options.height=o,this.svg&&this.svg.attr("width",s).attr("height",o).attr("viewBox",`0 0 ${s} ${o}`),this.simulation&&this.simulation.force("center",gl(s/2,o/2)).alpha(ke.SIMULATION_RESTART_ALPHA).restart(),this.emit("resize",{width:s,height:o}))}emit(e,s){this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(o=>o(s))}on(e,s){this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(s)}off(e,s){this.eventHandlers&&this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter(o=>o!==s))}addNodeIncremental(e=[],s=null,o=null){const n=s||`Node${this.data.nodes.length+1}`,r=o!==null?o:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const u=this.data.nodes.filter(h=>e.includes(h.id));if(u.length>0){i=u.reduce((p,y)=>p+y.x,0)/u.length,a=u.reduce((p,y)=>p+y.y,0)/u.length;const h=Math.random()*2*Math.PI,f=50+Math.random()*50;i+=Math.cos(h)*f,a+=Math.sin(h)*f}}const c={id:n,group:r,centrality:.5,x:i,y:a,fx:i,fy:a};this.data.nodes.push(c);const d=[];if(e.forEach(u=>{if(this.data.nodes.find(h=>h.id===u)){const h={source:n,target:u};this.data.links.push(h),d.push(h)}}),this.computeScales(),this.nodeGroup){const u=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(u).data(this.data.nodes,f=>f.id);const h=this.node.enter().append(u);this.options.renderMode==="avatars"?h.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("x",f=>f.x).attr("y",f=>f.y).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}):h.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("cx",f=>f.x).attr("cy",f=>f.y).call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}),this.node=h.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5):this.node.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f))}if(this.linkGroup&&d.length>0){this.link=this.linkGroup.selectAll("line").data(this.data.links,h=>ss(h));const u=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",h=>(typeof h.source=="object"?h.source:this.data.nodes.find(p=>p.id===h.source))?.x||0).attr("y1",h=>(typeof h.source=="object"?h.source:this.data.nodes.find(p=>p.id===h.source))?.y||0).attr("x2",h=>(typeof h.target=="object"?h.target:this.data.nodes.find(p=>p.id===h.target))?.x||0).attr("y2",h=>(typeof h.target=="object"?h.target:this.data.nodes.find(p=>p.id===h.target))?.y||0).attr("aria-label",h=>`Link from ${nt(h.source)} to ${nt(h.target)}`);this.link=u.merge(this.link)}if(this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,h=>h.id);const u=this.label.enter().append("text").text(h=>h.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",h=>this.getNodeRadius(h)+15).attr("fill","var(--color-text-primary)").attr("x",h=>h.x).attr("y",h=>h.y).style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=u.merge(this.label),this.label.attr("dy",h=>this.getNodeRadius(h)+15),this.updateLabelVisibility()}return this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(u=>this.getNodeRadius(u)+ke.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(ke.SIMULATION_ALPHA).restart()})),setTimeout(()=>{const u=this.data.nodes.find(h=>h.id===n);u&&(u.fx=null,u.fy=null,this.simulation.alpha(.3).restart())},1e3),c}addNode(e=[],s=null,o=null){const n=s||`Node${this.data.nodes.length+1}`,r=o!==null?o:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const d=this.data.nodes.filter(u=>e.includes(u.id));if(d.length>0){i=d.reduce((f,p)=>f+p.x,0)/d.length,a=d.reduce((f,p)=>f+p.y,0)/d.length;const u=Math.random()*2*Math.PI,h=50+Math.random()*50;i+=Math.cos(u)*h,a+=Math.sin(u)*h}}const c={id:n,group:r,centrality:.5,x:i,y:a,fx:i,fy:a};return this.data.nodes.push(c),e.forEach(d=>{this.data.nodes.find(u=>u.id===d)&&this.data.links.push({source:n,target:d})}),this.updateGraph(),setTimeout(()=>{const d=this.data.nodes.find(u=>u.id===n);d&&(d.fx=null,d.fy=null,this.simulation.alpha(.3).restart())},1e3),c}removeNode(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(o=>o.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(o=>{const n=nt(o.source),r=nt(o.target);return n!==e&&r!==e}),this.linkKeyCache.clear(),this.updateGraph(),this.emit("nodeRemoved",e),!0)}removeNodeIncremental(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(o=>o.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(o=>{const n=nt(o.source),r=nt(o.target);return n!==e&&r!==e}),this.linkKeyCache.clear(),this.computeScales(),this.nodeGroup&&(this.node=this.nodeGroup.selectAll("circle").data(this.data.nodes,o=>o.id),this.node.exit().remove()),this.linkGroup&&(this.link=this.linkGroup.selectAll("line").data(this.data.links,o=>ss(o)),this.link.exit().remove()),this.options.showLabels&&this.labelGroup&&(this.label=this.labelGroup.selectAll("text").data(this.data.nodes,o=>o.id),this.label.exit().remove()),this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(o=>this.getNodeRadius(o)+ke.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(ke.SIMULATION_ALPHA).restart()})),this.emit("nodeRemoved",e),!0)}addLinkIncremental(e,s){if(!e||!s)return!1;const o=this.data.nodes.find(c=>c.id===e),n=this.data.nodes.find(c=>c.id===s);if(!o||!n)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const r={source:e,target:s},i=ss(r);if(this.data.links.some(c=>ss(c)===i))return this.log.debug(`Link already exists: ${e} -> ${s}`),!1;if(this.data.links.push(r),this.linkGroup){this.link=this.linkGroup.selectAll("line").data(this.data.links,d=>ss(d));const c=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",d=>(typeof d.source=="object"?d.source:this.data.nodes.find(h=>h.id===d.source))?.x||0).attr("y1",d=>(typeof d.source=="object"?d.source:this.data.nodes.find(h=>h.id===d.source))?.y||0).attr("x2",d=>(typeof d.target=="object"?d.target:this.data.nodes.find(h=>h.id===d.target))?.x||0).attr("y2",d=>(typeof d.target=="object"?d.target:this.data.nodes.find(h=>h.id===d.target))?.y||0).attr("aria-label",d=>`Link from ${nt(d.source)} to ${nt(d.target)}`);this.link=c.merge(this.link)}return this.simulation.force("link").links(this.data.links),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(ke.SIMULATION_ALPHA).restart()})),this.emit("linkAdded",{source:e,target:s}),!0}addLink(e,s){if(!e||!s)return!1;const o=this.data.nodes.some(c=>c.id===e),n=this.data.nodes.some(c=>c.id===s);if(!o||!n)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const r={source:e,target:s},i=ss(r);return this.data.links.some(c=>ss(c)===i)?(this.log.debug(`Link already exists: ${e} -> ${s}`),!1):(this.data.links.push(r),this.updateGraph(),this.emit("linkAdded",{source:e,target:s}),!0)}getNodeIds(){return this.data.nodes.map(e=>e.id)}hasNode(e){return this.data.nodes.some(s=>s.id===e)}fitToView(){if(!this.data.nodes||this.data.nodes.length===0||!this.svg)return;let e=1/0,s=1/0,o=-1/0,n=-1/0;if(this.data.nodes.forEach(A=>{if(A.x!==void 0&&A.y!==void 0){const I=this.getNodeRadius(A);e=Math.min(e,A.x-I),s=Math.min(s,A.y-I),o=Math.max(o,A.x+I),n=Math.max(n,A.y+I)}}),e===1/0||s===1/0)return;const r=50;e-=r,s-=r,o+=r,n+=r;const i=o-e,a=n-s,c=(e+o)/2,d=(s+n)/2,u=this.options.width,h=this.options.height,f=u/i,p=h/a,y=Math.min(f,p,ke.ZOOM_MAX)*.9,b=u/2-c*y,k=h/2-d*y,w=er.translate(b,k).scale(y);this.zoomBehavior&&this.svg&&this.svg.call(this.zoomBehavior.transform,w),this.g.attr("transform",w),this.currentZoom=y,this.updateLabelVisibility(),this.log.debug("Fitted graph to view",{scale:y,translateX:b,translateY:k})}lockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to lock");return}this.data.nodes.forEach(e=>{e.x!==void 0&&e.y!==void 0&&(e.fx=e.x,e.fy=e.y)}),this.simulation&&this.simulation.alpha(0).alphaTarget(0),this.log.debug("Node positions locked"),this.emit("positionsLocked")}unlockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to unlock");return}this.data.nodes.forEach(e=>{e.fx=null,e.fy=null}),this.simulation&&this.simulation.alpha(.3).alphaTarget(0).restart(),this.log.debug("Node positions unlocked"),this.emit("positionsUnlocked")}saveAsPNG(e="network-graph.png"){if(!this.svg||this.isDestroyed){this.log.warn("Cannot save PNG - graph not available");return}try{const s=this.svg.node();if(!s){this.log.warn("SVG element not found");return}const o=new XMLSerializer().serializeToString(s),n=new Image,r=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(r);n.onload=()=>{const a=document.createElement("canvas");a.width=this.options.width,a.height=this.options.height;const c=a.getContext("2d");c.fillStyle="white",c.fillRect(0,0,a.width,a.height),c.drawImage(n,0,0),a.toBlob(d=>{if(d){const u=URL.createObjectURL(d),h=document.createElement("a");h.href=u,h.download=e,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(u),this.log.info("PNG exported successfully",{filename:e})}},"image/png"),URL.revokeObjectURL(i)},n.onerror=()=>{this.log.error("Failed to load SVG for PNG export"),URL.revokeObjectURL(i)},n.src=i}catch(s){this.log.error("Failed to export PNG",{error:s.message,stack:s.stack})}}destroy(){this.isDestroyed||(this.log.debug("Destroying graph instance"),this.isDestroyed=!0,this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),this.simulation&&(this.simulation.stop(),this.simulation=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.darkModeQuery&&this.darkModeHandler&&(this.darkModeQuery.removeEventListener("change",this.darkModeHandler),this.darkModeQuery=null,this.darkModeHandler=null),this.svg&&(this.svg.remove(),this.svg=null),this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this.data={nodes:[],links:[]},this.linkKeyCache.clear(),this.eventHandlers={},this.log.info("Graph destroyed"))}}class Mi{constructor(){this.nodes=new Set,this.edges=[],this.adjacencyMap=new Map}addNode(e){return this.nodes.add(e),this}addNodesFrom(e){return e.forEach(s=>this.nodes.add(s)),this}removeNode(e){if(!this.nodes.has(e))throw new Error(`Node '${e}' does not exist in the graph`);return this.nodes.delete(e),this.edges=this.edges.filter(s=>s.u!==e&&s.v!==e),this.adjacencyMap.has(e)&&(Array.from(this.adjacencyMap.get(e).keys()).forEach(s=>{this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e)}),this.adjacencyMap.delete(e)),this}hasNode(e){return this.nodes.has(e)}addEdgesFrom(e){return e.forEach(([s,o,n=1])=>{this.addEdge(s,o,n)}),this}addEdge(e,s,o=1){this.nodes.add(e),this.nodes.add(s);const n={u:e,v:s,weight:o};return this.edges.push(n),this.adjacencyMap.has(e)||this.adjacencyMap.set(e,new Map),this.adjacencyMap.has(s)||this.adjacencyMap.set(s,new Map),this.adjacencyMap.get(e).set(s,o),this.adjacencyMap.get(s).set(e,o),this}getNeighbors(e){return this.adjacencyMap.has(e)?Array.from(this.adjacencyMap.get(e).keys()):[]}getAllEdges(){return this.edges}getNodeList(){return Array.from(this.nodes)}numberOfNodes(){return this.nodes.size}numberOfEdges(){return this.edges.length}removeEdge(e,s){const o=this.edges.findIndex(n=>n.u===e&&n.v===s||n.u===s&&n.v===e);if(o===-1)throw new Error(`Edge between '${e}' and '${s}' does not exist`);return this.edges.splice(o,1),this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).delete(s),this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e),this}hasEdge(e,s){return this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).has(s)}getEdgeWeight(e,s){return this.hasEdge(e,s)?this.adjacencyMap.get(e).get(s):null}updateEdgeWeight(e,s,o){if(!this.hasEdge(e,s))throw new Error(`Edge between '${e}' and '${s}' does not exist`);this.adjacencyMap.get(e).set(s,o),this.adjacencyMap.get(s).set(e,o);const n=this.edges.find(r=>r.u===e&&r.v===s||r.u===s&&r.v===e);return n&&(n.weight=o),this}degree(e){return this.adjacencyMap.has(e)?this.adjacencyMap.get(e).size:0}clear(){return this.nodes.clear(),this.edges=[],this.adjacencyMap.clear(),this}}class Go{constructor(e){this.workerScript=e,this.worker=null}static create(e){if(typeof Worker<"u")return new Fi(e);if(typeof require<"u")try{return require.resolve("worker_threads"),new j1(e)}catch{throw new Error("Worker Threads not available in this Node.js version")}else throw new Error("No worker support available in this environment")}static isSupported(){if(typeof Worker<"u")return!0;if(typeof require<"u")try{return require.resolve("worker_threads"),!0}catch{return!1}return!1}postMessage(e,s=[]){throw new Error("Must implement postMessage")}onMessage(e){throw new Error("Must implement onMessage")}onError(e){throw new Error("Must implement onError")}terminate(){throw new Error("Must implement terminate")}}class Fi extends Go{constructor(e){super(e),this.worker=new Worker(e,{type:"module"})}static fromCode(e){const s=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(s);return new Fi(o)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.onmessage=s=>e(s.data)}onError(e){this.worker.onerror=s=>{e(new Error(s.message||"Worker error"))}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class j1 extends Go{constructor(e){super(e);const{Worker:s}=require("worker_threads");this.worker=new s(e)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.on("message",e)}onError(e){this.worker.on("error",s=>{e(s)}),this.worker.on("exit",s=>{s!==0&&e(new Error(`Worker stopped with exit code ${s}`))})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class X1{constructor(e={}){this.maxWorkers=e.maxWorkers||this.detectCPUCount(),this.workerScript=e.workerScript||this.getDefaultWorkerScript(),this.taskTimeout=e.taskTimeout||6e4,this.verbose=e.verbose||!1,this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.activeTasks=new Map,this.taskIdCounter=0,this.initialized=!1,this.log=$e({prefix:"WorkerPool",level:this.verbose?"debug":"info"})}detectCPUCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;if(typeof require<"u")try{return require("os").cpus().length}catch{}return 4}getDefaultWorkerScript(){return typeof window<"u"?new URL("data:text/javascript;base64,LyoqDQogKiBOZXR3b3JrIFdvcmtlciAtIEV4ZWN1dGVzIGNvbXB1dGUgZnVuY3Rpb25zIGZyb20gYWxnb3JpdGhtIG1vZHVsZXMNCiAqDQogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqDQogKiAtIFN0YXRpY2FsbHkgaW1wb3J0cyBhbGwgYWxnb3JpdGhtIG1vZHVsZXMgdXBmcm9udA0KICogLSBDcmVhdGVzIGEgcmVnaXN0cnkgdGhhdCBtYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzDQogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9DQogKiAtIFdvcmtlciBsb29rcyB1cCBtb2R1bGUgZnJvbSByZWdpc3RyeSBhbmQgZXhlY3V0ZXMgZnVuY3Rpb24NCiAqDQogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UNCiAqIGltcG9ydHMgYXJlIGtub3duIGF0IGJ1aWxkIHRpbWUuDQogKg0KICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcg0KICovDQoNCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOw0KDQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250DQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQ0KY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKHsNCiAgcHJlZml4OiAnbmV0d29yay13b3JrZXInLA0KICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsDQp9KTsNCg0KLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkNCmltcG9ydCAqIGFzIG5vZGVTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOw0KaW1wb3J0ICogYXMgZ3JhcGhTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL2dyYXBoLXN0YXRzLmpzJzsNCg0KLy8gQ29tbXVuaXR5IGRldGVjdGlvbiBhbGdvcml0aG1zDQppbXBvcnQgKiBhcyBsb3V2YWluQ29tcHV0ZSBmcm9tICcuLi9jb21tdW5pdHkvYWxnb3JpdGhtcy9sb3V2YWluLmpzJzsNCg0KLy8gTGF5b3V0IGFsZ29yaXRobXMNCmltcG9ydCAqIGFzIHJhbmRvbUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9yYW5kb20uanMnOw0KaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOw0KaW1wb3J0ICogYXMgc3BpcmFsQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL3NwaXJhbC5qcyc7DQppbXBvcnQgKiBhcyBzaGVsbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zaGVsbC5qcyc7DQppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7DQppbXBvcnQgKiBhcyBmb3JjZURpcmVjdGVkQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzsNCmltcG9ydCAqIGFzIGthbWFkYUthd2FpQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc7DQppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsNCmltcG9ydCAqIGFzIG11bHRpcGFydGl0ZUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9tdWx0aXBhcnRpdGUuanMnOw0KaW1wb3J0ICogYXMgYmZzQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2Jmcy5qcyc7DQoNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vIE1PRFVMRSBSRUdJU1RSWSAtIE1hcHMgbW9kdWxlIHBhdGhzIHRvIHRoZWlyIGV4cG9ydHMNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KY29uc3QgTU9EVUxFX1JFR0lTVFJZID0gew0KICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkNCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ub2RlLXN0YXRzLmpzJzogbm9kZVN0YXRzQ29tcHV0ZSwNCg0KICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzDQogICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvZ3JhcGgtc3RhdHMuanMnOiBncmFwaFN0YXRzQ29tcHV0ZSwNCg0KICAvLyBDb21tdW5pdHkNCiAgJy4uL2NvbW11bml0eS9hbGdvcml0aG1zL2xvdXZhaW4uanMnOiBsb3V2YWluQ29tcHV0ZSwNCg0KICAvLyBMYXlvdXRzDQogICcuLi9sYXlvdXRzL3JhbmRvbS5qcyc6IHJhbmRvbUNvbXB1dGUsDQogICcuLi9sYXlvdXRzL2NpcmN1bGFyLmpzJzogY2lyY3VsYXJDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zaGVsbC5qcyc6IHNoZWxsQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvc3BlY3RyYWwuanMnOiBzcGVjdHJhbENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc6IGthbWFkYUthd2FpQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzogYmlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmZzLmpzJzogYmZzQ29tcHV0ZQ0KfTsNCg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy8gV09SS0VSIE1FU1NBR0UgSEFORExFUg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQovKioNCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcw0KICovDQpzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7DQogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7DQoNCiAgdHJ5IHsNCiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdA0KICAgIGlmICghbW9kdWxlIHx8ICFmdW5jdGlvbk5hbWUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXNrOiBtb2R1bGUgYW5kIGZ1bmN0aW9uTmFtZSBhcmUgcmVxdWlyZWQnKTsNCiAgICB9DQoNCiAgICBsb2cuZGVidWcoJ1Byb2Nlc3NpbmcgdGFzaycsIHsNCiAgICAgIGlkLA0KICAgICAgbW9kdWxlLA0KICAgICAgZnVuY3Rpb25OYW1lLA0KICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDANCiAgICB9KTsNCg0KICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZA0KICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHsNCiAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoew0KICAgICAgICBpZCwNCiAgICAgICAgc3RhdHVzOiAncHJvZ3Jlc3MnLA0KICAgICAgICBwcm9ncmVzczogTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKSAvLyBDbGFtcCB0byBbMCwgMV0NCiAgICAgIH0pOw0KICAgIH07DQoNCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQ0KICAgIGNvbnN0IGFsZ29yaXRobU1vZHVsZSA9IE1PRFVMRV9SRUdJU1RSWVttb2R1bGVdOw0KDQogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcigNCiAgICAgICAgYE1vZHVsZSAnJHttb2R1bGV9JyBub3QgZm91bmQgaW4gcmVnaXN0cnkuIGAgKw0KICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gR2V0IHRoZSBjb21wdXRlIGZ1bmN0aW9uDQogICAgY29uc3QgY29tcHV0ZUZ1bmN0aW9uID0gYWxnb3JpdGhtTW9kdWxlW2Z1bmN0aW9uTmFtZV07DQoNCiAgICBpZiAoIWNvbXB1dGVGdW5jdGlvbiB8fCB0eXBlb2YgY29tcHV0ZUZ1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoDQogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsNCiAgICAgICAgYEF2YWlsYWJsZSBmdW5jdGlvbnM6ICR7T2JqZWN0LmtleXMoYWxnb3JpdGhtTW9kdWxlKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gRXhlY3V0ZSB0aGUgY29tcHV0ZSBmdW5jdGlvbg0KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wdXRlRnVuY3Rpb24oLi4uYXJncywgcHJvZ3Jlc3NDYWxsYmFjayk7DQoNCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywNCiAgICAgIHJlc3VsdA0KICAgIH0pOw0KDQogIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgLy8gU2VuZCBlcnJvcg0KICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7DQogICAgICBpZCwNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLA0KICAgICAgc3RhY2s6IGVycm9yLnN0YWNrDQogICAgfSk7DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2Vycm9yJywNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJywNCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICAgIH0pOw0KICB9DQp9Ow0KDQovKioNCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzDQogKi8NCnNlbGYub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7DQogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgew0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnLA0KICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICB9KTsNCiAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgc3RhdHVzOiAnZXJyb3InLA0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnDQogIH0pOw0KfTsNCg0KLy8gTG9nIHdvcmtlciBpbml0aWFsaXphdGlvbg0KbG9nLmluZm8oJ0luaXRpYWxpemVkJywgeyBtb2R1bGVDb3VudDogT2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5sZW5ndGggfSk7DQo=",import.meta.url).href:typeof require<"u"?require("path").join(__dirname,"network-worker.js"):"./network-worker.js"}async initialize(){if(!this.initialized){if(!Go.isSupported())throw new Error("Workers not supported in this environment");this.log.debug("Initializing worker pool",{maxWorkers:this.maxWorkers});try{for(let e=0;e<this.maxWorkers;e++){const s=await this.createWorker(e);this.workers.push(s),this.availableWorkers.push(s)}this.initialized=!0,this.log.info("Worker pool initialized successfully",{workerCount:this.maxWorkers})}catch(e){throw this.log.error("Failed to initialize worker pool",{error:e.message,stack:e.stack}),await this.terminate(),e}}}async createWorker(e){const s=Go.create(this.workerScript);return s.id=e,s.currentTaskId=null,s.onMessage(o=>{this.handleWorkerMessage(s,o)}),s.onError(o=>{this.handleWorkerError(s,o)}),this.log.debug("Worker created",{workerId:e}),s}async execute(e,s={}){if(!this.initialized)throw new Error("Worker pool not initialized. Call initialize() first.");return new Promise((o,n)=>{const r=`task_${this.taskIdCounter++}`,i={id:r,...e},a=s.timeout||this.taskTimeout,c=setTimeout(()=>{this.handleTaskTimeout(r)},a);if(this.activeTasks.set(r,{resolve:o,reject:n,onProgress:s.onProgress,timeoutId:c,startTime:Date.now()}),this.availableWorkers.length>0){const d=this.availableWorkers.pop();this.assignTask(d,i),this.log.debug("Task assigned to worker",{taskId:r,workerId:d.id})}else this.taskQueue.push(i),this.log.debug("Task queued",{taskId:r,queueLength:this.taskQueue.length})})}assignTask(e,s){e.currentTaskId=s.id,e.postMessage(s)}handleWorkerMessage(e,s){const{id:o,status:n,result:r,progress:i,error:a}=s,c=this.activeTasks.get(o);if(!c){this.log.warn("Received message for unknown task",{taskId:o});return}if(n==="progress")c.onProgress&&c.onProgress(i),this.log.debug("Task progress",{taskId:o,progress:Math.round(i*100)});else if(n==="complete"){const d=Date.now()-c.startTime;this.log.debug("Task completed",{taskId:o,duration:d}),clearTimeout(c.timeoutId),c.resolve(r),this.activeTasks.delete(o),this.freeWorker(e)}else n==="error"&&(this.log.error("Task failed",{taskId:o,error:a}),clearTimeout(c.timeoutId),c.reject(new Error(a)),this.activeTasks.delete(o),this.freeWorker(e))}handleWorkerError(e,s){if(this.log.error("Worker error",{workerId:e.id,error:s.message,stack:s.stack}),e.currentTaskId){const o=this.activeTasks.get(e.currentTaskId);o&&(clearTimeout(o.timeoutId),o.reject(s),this.activeTasks.delete(e.currentTaskId))}this.restartWorker(e)}handleTaskTimeout(e){const s=this.activeTasks.get(e);if(!s)return;this.log.warn("Task timed out",{taskId:e,timeout:this.taskTimeout}),s.reject(new Error(`Task timed out after ${this.taskTimeout}ms`)),this.activeTasks.delete(e);const o=this.workers.find(n=>n.currentTaskId===e);o&&this.restartWorker(o)}freeWorker(e){if(e.currentTaskId=null,this.taskQueue.length>0){const s=this.taskQueue.shift();this.assignTask(e,s),this.log.debug("Task assigned from queue",{taskId:s.id,workerId:e.id})}else this.availableWorkers.push(e)}async restartWorker(e){const s=this.workers.indexOf(e);if(s!==-1){this.log.debug("Restarting worker",{workerId:e.id});try{e.terminate();const o=await this.createWorker(e.id);this.workers[s]=o,this.availableWorkers.push(o),this.log.info("Worker restarted successfully",{workerId:e.id})}catch(o){this.log.error("Failed to restart worker",{workerId:e.id,error:o.message,stack:o.stack}),this.workers.splice(s,1)}}}async waitForActiveTasks(e=5e3){if(this.activeTasks.size!==0)return this.log.debug("Waiting for active tasks",{taskCount:this.activeTasks.size,timeout:e}),new Promise(s=>{const o=Date.now(),n=setInterval(()=>{(this.activeTasks.size===0||Date.now()-o>e)&&(clearInterval(n),this.log.debug("Wait complete",{remainingTasks:this.activeTasks.size}),s())},100)})}async terminate(e=!1){this.initialized&&(this.log.info("Terminating worker pool",{force:e}),e||await this.waitForActiveTasks(5e3),this.activeTasks.forEach((s,o)=>{clearTimeout(s.timeoutId),s.reject(new Error("Worker pool terminated"))}),this.activeTasks.clear(),this.workers.forEach(s=>{try{s.terminate()}catch(o){this.log.error("Error terminating worker",{workerId:s.id,error:o.message})}}),this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.initialized=!1,this.log.info("Worker pool terminated"))}getStatus(){return{initialized:this.initialized,totalWorkers:this.workers.length,availableWorkers:this.availableWorkers.length,busyWorkers:this.workers.length-this.availableWorkers.length,activeTasks:this.activeTasks.size,queuedTasks:this.taskQueue.length}}}class Ut{constructor(){if(Ut.instance)return Ut.instance;this.workerPool=null,this.initialized=!1,this.initPromise=null,this.log=$e({prefix:"WorkerManager",level:"info"}),Ut.instance=this}async initialize(e={}){if(this.initPromise)return this.initPromise;if(this.initialized&&this.workerPool)return Promise.resolve();this.initPromise=this._doInitialize(e);try{await this.initPromise}finally{this.initPromise=null}}async _doInitialize(e){const{maxWorkers:s,workerScript:o,taskTimeout:n=6e4,verbose:r=!1}=e;this.log.setLevel(r?"debug":"info");let i=o;if(!i)try{i=new URL("data:text/javascript;base64,LyoqDQogKiBOZXR3b3JrIFdvcmtlciAtIEV4ZWN1dGVzIGNvbXB1dGUgZnVuY3Rpb25zIGZyb20gYWxnb3JpdGhtIG1vZHVsZXMNCiAqDQogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqDQogKiAtIFN0YXRpY2FsbHkgaW1wb3J0cyBhbGwgYWxnb3JpdGhtIG1vZHVsZXMgdXBmcm9udA0KICogLSBDcmVhdGVzIGEgcmVnaXN0cnkgdGhhdCBtYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzDQogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9DQogKiAtIFdvcmtlciBsb29rcyB1cCBtb2R1bGUgZnJvbSByZWdpc3RyeSBhbmQgZXhlY3V0ZXMgZnVuY3Rpb24NCiAqDQogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UNCiAqIGltcG9ydHMgYXJlIGtub3duIGF0IGJ1aWxkIHRpbWUuDQogKg0KICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcg0KICovDQoNCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOw0KDQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250DQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQ0KY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKHsNCiAgcHJlZml4OiAnbmV0d29yay13b3JrZXInLA0KICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsDQp9KTsNCg0KLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkNCmltcG9ydCAqIGFzIG5vZGVTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOw0KaW1wb3J0ICogYXMgZ3JhcGhTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL2dyYXBoLXN0YXRzLmpzJzsNCg0KLy8gQ29tbXVuaXR5IGRldGVjdGlvbiBhbGdvcml0aG1zDQppbXBvcnQgKiBhcyBsb3V2YWluQ29tcHV0ZSBmcm9tICcuLi9jb21tdW5pdHkvYWxnb3JpdGhtcy9sb3V2YWluLmpzJzsNCg0KLy8gTGF5b3V0IGFsZ29yaXRobXMNCmltcG9ydCAqIGFzIHJhbmRvbUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9yYW5kb20uanMnOw0KaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOw0KaW1wb3J0ICogYXMgc3BpcmFsQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL3NwaXJhbC5qcyc7DQppbXBvcnQgKiBhcyBzaGVsbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zaGVsbC5qcyc7DQppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7DQppbXBvcnQgKiBhcyBmb3JjZURpcmVjdGVkQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzsNCmltcG9ydCAqIGFzIGthbWFkYUthd2FpQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc7DQppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsNCmltcG9ydCAqIGFzIG11bHRpcGFydGl0ZUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9tdWx0aXBhcnRpdGUuanMnOw0KaW1wb3J0ICogYXMgYmZzQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2Jmcy5qcyc7DQoNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vIE1PRFVMRSBSRUdJU1RSWSAtIE1hcHMgbW9kdWxlIHBhdGhzIHRvIHRoZWlyIGV4cG9ydHMNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KY29uc3QgTU9EVUxFX1JFR0lTVFJZID0gew0KICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkNCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ub2RlLXN0YXRzLmpzJzogbm9kZVN0YXRzQ29tcHV0ZSwNCg0KICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzDQogICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvZ3JhcGgtc3RhdHMuanMnOiBncmFwaFN0YXRzQ29tcHV0ZSwNCg0KICAvLyBDb21tdW5pdHkNCiAgJy4uL2NvbW11bml0eS9hbGdvcml0aG1zL2xvdXZhaW4uanMnOiBsb3V2YWluQ29tcHV0ZSwNCg0KICAvLyBMYXlvdXRzDQogICcuLi9sYXlvdXRzL3JhbmRvbS5qcyc6IHJhbmRvbUNvbXB1dGUsDQogICcuLi9sYXlvdXRzL2NpcmN1bGFyLmpzJzogY2lyY3VsYXJDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zaGVsbC5qcyc6IHNoZWxsQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvc3BlY3RyYWwuanMnOiBzcGVjdHJhbENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc6IGthbWFkYUthd2FpQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzogYmlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmZzLmpzJzogYmZzQ29tcHV0ZQ0KfTsNCg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy8gV09SS0VSIE1FU1NBR0UgSEFORExFUg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQovKioNCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcw0KICovDQpzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7DQogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7DQoNCiAgdHJ5IHsNCiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdA0KICAgIGlmICghbW9kdWxlIHx8ICFmdW5jdGlvbk5hbWUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXNrOiBtb2R1bGUgYW5kIGZ1bmN0aW9uTmFtZSBhcmUgcmVxdWlyZWQnKTsNCiAgICB9DQoNCiAgICBsb2cuZGVidWcoJ1Byb2Nlc3NpbmcgdGFzaycsIHsNCiAgICAgIGlkLA0KICAgICAgbW9kdWxlLA0KICAgICAgZnVuY3Rpb25OYW1lLA0KICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDANCiAgICB9KTsNCg0KICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZA0KICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHsNCiAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoew0KICAgICAgICBpZCwNCiAgICAgICAgc3RhdHVzOiAncHJvZ3Jlc3MnLA0KICAgICAgICBwcm9ncmVzczogTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKSAvLyBDbGFtcCB0byBbMCwgMV0NCiAgICAgIH0pOw0KICAgIH07DQoNCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQ0KICAgIGNvbnN0IGFsZ29yaXRobU1vZHVsZSA9IE1PRFVMRV9SRUdJU1RSWVttb2R1bGVdOw0KDQogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcigNCiAgICAgICAgYE1vZHVsZSAnJHttb2R1bGV9JyBub3QgZm91bmQgaW4gcmVnaXN0cnkuIGAgKw0KICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gR2V0IHRoZSBjb21wdXRlIGZ1bmN0aW9uDQogICAgY29uc3QgY29tcHV0ZUZ1bmN0aW9uID0gYWxnb3JpdGhtTW9kdWxlW2Z1bmN0aW9uTmFtZV07DQoNCiAgICBpZiAoIWNvbXB1dGVGdW5jdGlvbiB8fCB0eXBlb2YgY29tcHV0ZUZ1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoDQogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsNCiAgICAgICAgYEF2YWlsYWJsZSBmdW5jdGlvbnM6ICR7T2JqZWN0LmtleXMoYWxnb3JpdGhtTW9kdWxlKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gRXhlY3V0ZSB0aGUgY29tcHV0ZSBmdW5jdGlvbg0KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wdXRlRnVuY3Rpb24oLi4uYXJncywgcHJvZ3Jlc3NDYWxsYmFjayk7DQoNCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywNCiAgICAgIHJlc3VsdA0KICAgIH0pOw0KDQogIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgLy8gU2VuZCBlcnJvcg0KICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7DQogICAgICBpZCwNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLA0KICAgICAgc3RhY2s6IGVycm9yLnN0YWNrDQogICAgfSk7DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2Vycm9yJywNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJywNCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICAgIH0pOw0KICB9DQp9Ow0KDQovKioNCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzDQogKi8NCnNlbGYub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7DQogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgew0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnLA0KICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICB9KTsNCiAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgc3RhdHVzOiAnZXJyb3InLA0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnDQogIH0pOw0KfTsNCg0KLy8gTG9nIHdvcmtlciBpbml0aWFsaXphdGlvbg0KbG9nLmluZm8oJ0luaXRpYWxpemVkJywgeyBtb2R1bGVDb3VudDogT2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5sZW5ndGggfSk7DQo=",import.meta.url).href}catch{i="/graph-js/src/compute/network-worker.js",this.log.warn("Could not resolve worker path from import.meta.url, using fallback",{workerPath:i})}if(!Go.isSupported())throw new Error("Web Workers are not supported in this environment. This library requires Web Worker support (browser) or Worker Threads (Node.js).");this.workerPool=new X1({maxWorkers:s||this._getDefaultWorkerCount(),workerScript:i,taskTimeout:n,verbose:r}),await this.workerPool.initialize(),this.initialized=!0,this.log.info("Initialized successfully",{workerCount:this.workerPool.maxWorkers})}_getDefaultWorkerCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;try{return require("os").cpus().length}catch{return 4}}async execute(e,s={}){return this.initialized||await this.initialize(),this.workerPool.execute(e,s)}serializeGraph(e){return{nodes:Array.from(e.nodes),edges:e.edges.map(s=>({source:s.u,target:s.v,weight:s.weight}))}}getStatus(){return this.workerPool?this.workerPool.getStatus():null}async terminate(e=!1){this.workerPool&&(await this.workerPool.terminate(e),this.workerPool=null,this.initialized=!1)}static reset(){Ut.instance&&(Ut.instance.terminate(!0),Ut.instance=null)}}Ut.instance=null;const fs=new Ut;$e({prefix:"compute-utils",level:"info"});let lt=class Xd{constructor(e,s="",o="node",n=null){if(new.target===Xd)throw new Error("StatisticAlgorithm is abstract and cannot be instantiated directly");if(o!=="node"&&o!=="graph")throw new Error(`Scope must be 'node' or 'graph', got: ${o}`);if(!n||!n.module||!n.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.scope=o,this.computeConfig=n,this.options={}}async calculate(e,s=null,o={}){const n=fs.serializeGraph(e),r={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[n,s,this.options]};return await fs.execute(r,o)}getInfo(){return{name:this.name,description:this.description,scope:this.scope}}isNodeLevel(){return this.scope==="node"}isGraphLevel(){return this.scope==="graph"}};class Y1 extends lt{constructor(){super("degree","Number of connections per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"degreeCompute"})}}class J1 extends lt{constructor(e={}){super("closeness","Average distance to all other nodes (inverted)","node",{module:"../statistics/algorithms/node-stats.js",functionName:"closenessCompute"}),this.options={normalized:e.normalized!==!1}}}class K1 extends lt{constructor(e={}){super("ego-density","Density of connections among neighbors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"egoDensityCompute"}),this.options={radius:e.radius||1}}}class q1 extends lt{constructor(){super("betweenness","Frequency on shortest paths between other nodes","node",{module:"../statistics/algorithms/node-stats.js",functionName:"betweennessCompute"})}}class Q1 extends lt{constructor(){super("clustering","Local clustering coefficient","node",{module:"../statistics/algorithms/node-stats.js",functionName:"clusteringCompute"})}}class ex extends lt{constructor(e={}){super("eigenvector","Importance based on neighbor importance","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class tx extends lt{constructor(e={}){super("eigenvector-laplacian","X,Y coordinates from Laplacian eigenvectors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorLaplacianCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class sx extends lt{constructor(){super("cliques","Number of maximal cliques per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"cliquesCompute"})}}class ox extends lt{constructor(){super("density","Ratio of actual edges to possible edges","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"densityCompute"})}}class nx extends lt{constructor(){super("diameter","Longest shortest path in the graph","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"diameterCompute"})}}class rx extends lt{constructor(){super("average_clustering","Mean clustering coefficient across all nodes","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageClusteringCompute"})}}class ix extends lt{constructor(){super("average_shortest_path","Mean distance between all node pairs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageShortestPathCompute"})}}class ax extends lt{constructor(){super("connected_components","Number of disconnected subgraphs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"connectedComponentsCompute"})}}class lx extends lt{constructor(){super("average_degree","Mean number of connections per node","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageDegreeCompute"})}}class tr{constructor(e,s="",o=null){if(new.target===tr)throw new Error("CommunityAlgorithm is abstract and cannot be instantiated directly");if(!o||!o.module||!o.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.computeConfig=o,this.options={}}async detect(e,s={}){const o=fs.serializeGraph(e),n={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[o,this.options]};return{...await fs.execute(n,s),algorithm:this.name}}getInfo(){return{name:this.name,description:this.description}}}class zi extends tr{constructor(e={}){super("louvain","Louvain method for community detection using modularity optimization",{module:"../community/algorithms/louvain.js",functionName:"louvainCompute"}),this.options={resolution:e.resolution||1,maxIterations:e.maxIterations||100}}}class Mt{constructor(e,s={},o=null){if(!e)throw new Error("Graph is required for layout computation");if(!o||!o.module||!o.functionName)throw new Error("computeConfig with module and functionName is required");this.graph=e,this.options=s,this.computeConfig=o,this._positions=null}async computePositions(e={}){const s={...this.options,...e},{onProgress:o,timeout:n,...r}=s,i=fs.serializeGraph(this.graph),a={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[i,r]};return await fs.execute(a,{onProgress:o,timeout:n})}async getPositions(e={},s=!1){return(!this._positions||s)&&(this._positions=await this.computePositions(e)),this._positions}async updateLayout(e=1){return this.getPositions({},!0)}reset(){this._positions=null}getNodes(){return this.graph.getNodeList()}getNodeCount(){return this.graph.numberOfNodes()}}class cx extends Mt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},seed:null,...s},{module:"../layouts/random.js",functionName:"randomCompute"})}}class dx extends Mt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},sortBy:null,...s},{module:"../layouts/circular.js",functionName:"circularCompute"})}}class ux extends Mt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},resolution:.35,equidistant:!1,...s},{module:"../layouts/spiral.js",functionName:"spiralCompute"})}}class hx extends Mt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},nlist:null,rotate:null,nodeProperties:null,...s},{module:"../layouts/shell.js",functionName:"shellCompute"})}}class fx extends Mt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},...s},{module:"../layouts/spectral.js",functionName:"spectralCompute"})}}class gx extends Mt{constructor(e,s={}){super(e,{iterations:50,k:null,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,...s},{module:"../layouts/force-directed.js",functionName:"forceDirectedCompute"})}}class px extends Mt{constructor(e,s={}){super(e,{iterations:1e3,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,K:null,...s},{module:"../layouts/kamada-kawai.js",functionName:"kamadaKawaiCompute"})}}class mx extends Mt{constructor(e,s={}){super(e,{partition:null,align:"vertical",scale:1,aspectRatio:4/3,center:{x:0,y:0},...s},{module:"../layouts/bipartite.js",functionName:"bipartiteCompute"})}}class yx extends Mt{constructor(e,s={}){super(e,{subsets:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/multipartite.js",functionName:"multipartiteCompute"})}}class bx extends Mt{constructor(e,s={}){super(e,{startNode:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/bfs.js",functionName:"bfsCompute"})}}class sr{constructor(e=null){this.graph=e}setGraph(e){return this.graph=e,this}async detectCommunities(e="louvain",s={}){if(!this.graph)throw new Error("No graph set. Use setGraph() or provide graph in constructor.");let o;if(e instanceof tr)o=e;else if(typeof e=="string")o=this._createAlgorithmFromName(e,s);else throw new Error("Algorithm must be a CommunityAlgorithm instance or a string name");return await o.detect(this.graph,{onProgress:s.onProgress})}_createAlgorithmFromName(e,s={}){switch(e.toLowerCase()){case"louvain":return new zi(s);default:throw new Error(`Unknown community detection algorithm: ${e}`)}}calculateModularity(e){if(!this.graph)throw new Error("No graph set");const s=this.graph.numberOfEdges();if(s===0)return 0;let o=0;const n=Array.from(this.graph.nodes.keys());for(const r of n)for(const i of n)if(e[r]===e[i]){const a=this.graph.hasEdge(r,i)?this.graph.getEdgeWeight(r,i):0,c=this.graph.degree(r),d=this.graph.degree(i);o+=a-c*d/(2*s)}return o/(2*s)}static getNodesInCommunity(e,s){return Object.keys(e).filter(o=>e[o]===s)}static getCommunityGroups(e){const s={};for(const[o,n]of Object.entries(e))s[n]||(s[n]=[]),s[n].push(o);return s}static graphFromData(e){const s=new Mi;for(const o of e.nodes)s.addNode(o.id);for(const o of e.edges)s.addEdge(o.source,o.target,o.weight||1);return s}static async detect(e,s="louvain",o={}){const n=this.graphFromData(e);return await new sr(n).detectCommunities(s,o)}}const Sl={algorithms:[{id:"louvain",name:"Louvain Method",description:"Fast greedy algorithm that optimizes modularity",category:"modularity",complexity:"O(n log n)",bestFor:["General graphs","Large networks","Hierarchical communities"],supportsWeighted:!0,supportsDirected:!1,defaultOptions:{resolution:1,maxIterations:100}}],getAll(){return[...this.algorithms]},get(t){return this.algorithms.find(e=>e.id===t)||null},filter(t){return this.algorithms.filter(t)},getIds(){return this.algorithms.map(t=>t.id)}},vx={layouts:[{id:"none",name:"None (D3 Physics)",description:"D3's built-in force-directed physics simulation",category:"physics",complexity:"O(iterations)",bestFor:["General graphs","Interactive exploration"],requiresStats:!1},{id:"random",name:"Random",description:"Random node positioning",category:"simple",complexity:"O(n)",bestFor:["Testing","Initial visualization"],requiresStats:!1},{id:"circular",name:"Circular",description:"Nodes arranged in a circle",category:"simple",complexity:"O(n)",bestFor:["Symmetric graphs","Ring topologies"],requiresStats:!1},{id:"spiral",name:"Spiral",description:"Archimedean spiral arrangement",category:"simple",complexity:"O(n)",bestFor:["Linear structures","Sequences"],requiresStats:!1},{id:"shell",name:"Shell",description:"Concentric circles by degree",category:"simple",complexity:"O(n)",bestFor:["Star-like graphs","Hub structures"],requiresStats:!0},{id:"spectral",name:"Spectral",description:"Laplacian eigenvector layout",category:"spectral",complexity:"O(n)",bestFor:["Community detection visualization","Graph topology"],requiresStats:!0,requiredStat:"eigenvector-laplacian"},{id:"force-directed",name:"Force-Directed",description:"Spring-electrical model (Fruchterman-Reingold)",category:"physics",complexity:"O(iterations  n)",bestFor:["General graphs","Complex networks"],requiresStats:!1},{id:"kamada-kawai",name:"Kamada-Kawai",description:"Energy minimization based on shortest paths",category:"energy",complexity:"O(n + iterations  n)",bestFor:["Small-medium graphs","Trees","Planar graphs"],requiresStats:!1},{id:"bipartite",name:"Bipartite",description:"Two-line layout for bipartite graphs",category:"hierarchical",complexity:"O(n)",bestFor:["Bipartite graphs","Two-level hierarchies"],requiresStats:!1},{id:"multipartite",name:"Multipartite",description:"Multi-layer layout for hierarchical structures",category:"hierarchical",complexity:"O(n)",bestFor:["DAGs","Organizational hierarchies"],requiresStats:!1},{id:"bfs",name:"BFS Layout",description:"Layer-by-layer breadth-first search",category:"hierarchical",complexity:"O(n + m)",bestFor:["Trees","Network exploration"],requiresStats:!1}],getAll(){return[...this.layouts]},get(t){return this.layouts.find(e=>e.id===t)||null},filter(t){return this.layouts.filter(t)},byCategory(t){return this.layouts.filter(e=>e.category===t)},withoutStatRequirements(){return this.layouts.filter(t=>!t.requiresStats)},exists(t){return this.layouts.some(e=>e.id===t)}},xx=$e({prefix:"Adapter",level:"info"});class Bi{static fromFormat(e,s={}){throw new Error("Adapter.fromFormat() must be implemented by subclass")}static toFormat(e,s={}){throw new Error("Adapter.toFormat() must be implemented by subclass")}static validateGraphData(e){if(!e||typeof e!="object")throw new Error("GraphData must be an object");if(!Array.isArray(e.nodes))throw new Error("GraphData.nodes must be an array");if(!Array.isArray(e.edges))throw new Error("GraphData.edges must be an array");for(const s of e.nodes)if(!s.id&&s.id!==0)throw new Error("All nodes must have an id property");for(const s of e.edges){if(!s.source&&s.source!==0)throw new Error("All edges must have a source property");if(!s.target&&s.target!==0)throw new Error("All edges must have a target property")}return!0}static normalizeIds(e){return{nodes:e.nodes.map(s=>({...s,id:String(s.id)})),edges:e.edges.map(s=>({...s,source:String(s.source),target:String(s.target)}))}}static getNodeIdSet(e){return new Set(e.map(s=>String(s.id)))}static filterInvalidEdges(e,s=!0){const o=this.getNodeIdSet(e.nodes),n=[],r=[];for(const i of e.edges){const a=String(i.source),c=String(i.target);o.has(a)&&o.has(c)?n.push(i):r.push(i)}return s&&r.length>0&&xx.warn("Filtered out edges referencing non-existent nodes",{invalidEdgeCount:r.length,totalEdges:e.edges.length}),{nodes:e.nodes,edges:n}}}const Il=$e({prefix:"CSVAdapter",level:"info"});class Yd extends Bi{static parseCSV(e,s=","){const o=[],n=e.trim().split(`
`);for(const r of n){const i=[];let a="",c=!1;for(let d=0;d<r.length;d++){const u=r[d];u==='"'?c=!c:u===s&&!c?(i.push(a.trim()),a=""):a+=u}i.push(a.trim()),o.push(i)}return o}static fromEdgeList(e,s={}){const{header:o=!0,delimiter:n=",",weighted:r=!0}=s,i=this.parseCSV(e,n),a=o?i.slice(1):i,c=new Set,d=[];for(const u of a){if(u.length<2)continue;const h=u[0],f=u[1],p=r&&u[2]?parseFloat(u[2]):1;c.add(h),c.add(f),d.push({source:h,target:f,weight:isNaN(p)?1:p})}return{nodes:Array.from(c).map(u=>({id:u,group:1})),edges:d}}static fromNodes(e,s={}){const{header:o=!0,delimiter:n=","}=s,r=this.parseCSV(e,n);if(r.length===0)return[];const i=o?r[0]:["id","group","label"];return(o?r.slice(1):r).map(a=>{const c={};for(let d=0;d<i.length;d++){const u=i[d],h=a[d];u==="group"&&h?c[u]=parseInt(h,10):!isNaN(h)&&h!==""?c[u]=parseFloat(h):c[u]=h}return c})}static fromFormat(e,s=null,o={}){const{nodes:n,edges:r}=this.fromEdgeList(e,o);if(s){const a=this.fromNodes(s,o),c=new Map(a.map(u=>[String(u.id),u])),d={nodes:n.map(u=>{const h=c.get(String(u.id));return h?{...u,...h}:u}),edges:r};return this.filterInvalidEdges(d)}const i={nodes:n,edges:r};return this.filterInvalidEdges(i)}static async loadFromURL(e,s=null,o={}){try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch edges: ${n.statusText}`);const r=await n.text();let i=null;if(s){const a=await fetch(s);a.ok&&(i=await a.text())}return this.fromFormat(r,i,o)}catch(n){throw Il.error("Error loading CSV",{edgeURL:e,nodeURL:s,error:n.message,stack:n.stack}),n}}static async loadFromFiles(e,s=null,o={}){try{const n=await e.text();let r=null;return s&&(r=await s.text()),this.fromFormat(n,r,o)}catch(n){throw Il.error("Error reading file",{edgeFileName:e?.name,nodeFileName:s?.name,error:n.message,stack:n.stack}),n}}static toEdgeList(e,s={}){const{header:o=!0,delimiter:n=","}=s,r=[];o&&r.push(["source","target","weight"].join(n));for(const i of e.edges){const a=i.source?.id||i.source,c=i.target?.id||i.target,d=i.weight||1;r.push([a,c,d].join(n))}return r.join(`
`)}static toNodes(e,s={}){const{header:o=!0,delimiter:n=","}=s,{nodes:r}=e;if(r.length===0)return"";const i=[],a=new Set;r.forEach(d=>{Object.keys(d).forEach(u=>a.add(u))});const c=Array.from(a);o&&i.push(c.join(n));for(const d of r){const u=c.map(h=>{const f=d[h];return typeof f=="string"&&(f.includes(n)||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f??""});i.push(u.join(n))}return i.join(`
`)}static toFormat(e,s={}){return this.validateGraphData(e),{edges:this.toEdgeList(e,s),nodes:this.toNodes(e,s)}}}const wx=$e({prefix:"JSONAdapter",level:"info"});class Jd extends Bi{static fromD3(e){if(!e||!e.nodes)throw new Error("Invalid D3 data: must have nodes array");const s=e.nodes.map(r=>({...r,id:String(r.id)})),o=(e.links||[]).map(r=>({...r,source:String(r.source?.id||r.source),target:String(r.target?.id||r.target),weight:r.weight||r.value||1})),n={nodes:s,edges:o};return this.filterInvalidEdges(n)}static fromCytoscape(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid Cytoscape data: must have nodes array");const s=e.nodes.map(r=>({id:String(r.data.id),...r.data})),o=(e.edges||[]).map(r=>({source:String(r.data.source),target:String(r.data.target),weight:r.data.weight||1,...r.data})),n={nodes:s,edges:o};return this.filterInvalidEdges(n)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid JSON data");if(e.nodes&&e.edges)return this.normalizeIds(e);if(e.nodes&&e.links)return this.fromD3(e);if(Array.isArray(e.nodes)&&e.nodes[0]?.data)return this.fromCytoscape(e);if(e.nodes&&(e.links||e.edges))return this.fromD3({nodes:e.nodes,links:e.links||e.edges});throw new Error("Unknown JSON format - cannot auto-detect")}static toD3(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({...s})),links:e.edges.map(s=>({source:s.source,target:s.target,value:s.weight,...s}))}}static toCytoscape(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({data:{...s}})),edges:e.edges.map((s,o)=>({data:{id:`e${o}`,source:s.source,target:s.target,weight:s.weight||1,...s}}))}}static toFormat(e,s={}){const{format:o="standard",pretty:n=!1}=s;let r;switch(o){case"d3":r=this.toD3(e);break;case"cytoscape":r=this.toCytoscape(e);break;case"standard":default:this.validateGraphData(e),r=e}return JSON.stringify(r,null,n?2:0)}static async loadFromURL(e){try{const s=await fetch(e);if(!s.ok)throw new Error(`Failed to fetch: ${s.statusText}`);const o=await s.json();return this.fromFormat(o)}catch(s){throw wx.error("Error loading JSON",{url:e,error:s.message,stack:s.stack}),s}}}class _x extends Bi{static fromNodeLink(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid NetworkX node-link data: must have nodes array");const s=e.nodes.map(r=>({id:String(r.id),...r})),o=(e.links||[]).map(r=>({source:String(r.source),target:String(r.target),weight:r.weight||1,...r})),n={nodes:s,edges:o};return this.filterInvalidEdges(n)}static fromAdjacency(e){if(!Array.isArray(e))throw new Error("Invalid NetworkX adjacency data: must be array");const s=[],o=[],n=new Set;for(const i of e){const a=String(i.id);if(s.push({id:a,...i}),i.adjacency&&Array.isArray(i.adjacency))for(const c of i.adjacency){const d=String(c.id),u=`${a}-${d}`,h=`${d}-${a}`;!n.has(u)&&!n.has(h)&&(o.push({source:a,target:d,weight:c.weight||1,...c}),n.add(u))}}const r={nodes:s,edges:o};return this.filterInvalidEdges(r)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid NetworkX data");if(e.nodes&&Array.isArray(e.nodes)&&(e.links||e.edges))return this.fromNodeLink({...e,links:e.links||e.edges});if(Array.isArray(e)&&e[0]?.adjacency)return this.fromAdjacency(e);throw new Error("Unknown NetworkX format")}static toNodeLink(e,s={}){this.validateGraphData(e);const{directed:o=!1,multigraph:n=!1}=s;return{directed:o,multigraph:n,graph:{},nodes:e.nodes.map(r=>({...r})),links:e.edges.map(r=>({source:r.source,target:r.target,weight:r.weight||1,...r}))}}static toAdjacency(e){this.validateGraphData(e);const s=new Map;for(const o of e.nodes)s.set(String(o.id),{...o,adjacency:[]});for(const o of e.edges){const n=String(o.source),r=String(o.target),i=s.get(n);i&&i.adjacency.push({id:r,weight:o.weight||1,...o});const a=s.get(r);a&&n!==r&&a.adjacency.push({id:n,weight:o.weight||1,...o})}return Array.from(s.values())}static toFormat(e,s={}){const{format:o="node-link"}=s;switch(o){case"adjacency":return this.toAdjacency(e);case"node-link":default:return this.toNodeLink(e,s)}}}class ze{static FEATURES={EIGENVECTOR:"eigenvector",EIGENVECTOR_LAPLACIAN:"eigenvector-laplacian",MODULARITY:"modularity",BETWEENNESS:"betweenness",CLUSTERING:"clustering",CLIQUES:"cliques",DEGREE:"degree",CLOSENESS:"closeness",EGO_DENSITY:"ego-density",ALL:["degree","betweenness","clustering","eigenvector","eigenvector-laplacian","cliques","closeness","ego-density"]};static GRAPH_STATS={DENSITY:"density",DIAMETER:"diameter",AVERAGE_CLUSTERING:"average_clustering",AVERAGE_SHORTEST_PATH:"average_shortest_path",CONNECTED_COMPONENTS:"connected_components",AVERAGE_DEGREE:"average_degree",ALL:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]};static COMMUNITY_DETECTION={LOUVAIN:"louvain",ALL:["louvain"]};constructor(e={}){this.options={verbose:e.verbose!==void 0?e.verbose:!0,maxWorkers:e.maxWorkers,taskTimeout:e.taskTimeout||6e4,workerScript:e.workerScript},this.log=$e({prefix:"NetworkStats",level:this.options.verbose?"debug":"info"}),fs.initialize({maxWorkers:this.options.maxWorkers,taskTimeout:this.options.taskTimeout,verbose:this.options.verbose,workerScript:this.options.workerScript}).catch(s=>{this.log.error("Failed to initialize workers:",s)}),this.statisticClasses={[ze.FEATURES.DEGREE]:Y1,[ze.FEATURES.BETWEENNESS]:q1,[ze.FEATURES.CLUSTERING]:Q1,[ze.FEATURES.EIGENVECTOR]:ex,[ze.FEATURES.EIGENVECTOR_LAPLACIAN]:tx,[ze.FEATURES.CLIQUES]:sx,[ze.FEATURES.CLOSENESS]:J1,[ze.FEATURES.EGO_DENSITY]:K1,[ze.FEATURES.MODULARITY]:"modularity"},this.graphStatClasses={[ze.GRAPH_STATS.DENSITY]:ox,[ze.GRAPH_STATS.DIAMETER]:nx,[ze.GRAPH_STATS.AVERAGE_CLUSTERING]:rx,[ze.GRAPH_STATS.AVERAGE_SHORTEST_PATH]:ix,[ze.GRAPH_STATS.CONNECTED_COMPONENTS]:ax,[ze.GRAPH_STATS.AVERAGE_DEGREE]:lx}}async analyze(e,s,o={}){this.log.time("networkAnalysis"),this.log.info(`Analyzing network with ${e.length} edges`),s=s||ze.FEATURES.ALL,typeof s=="string"&&(s=[s]);const{graph:n,nodes:r}=this._prepareNetwork(e);this.log.info(`Graph: ${r.length} nodes, ${n.edges.length} edges`);const i=await this._calculateNodeStats(n,r,s,o);if(o.includeGraphStats){const a=await this._calculateGraphStats(n,o.graphStats,o);return this.log.timeEnd("networkAnalysis"),{nodes:i,graph:a}}return this.log.timeEnd("networkAnalysis"),i}async _calculateNodeStats(e,s,o,n){const r={};for(const i of o)if(i===ze.FEATURES.MODULARITY)r[i]=await this._calculateModularity(e,n);else if(this.statisticClasses[i]){const a=this.statisticClasses[i],c=new a;this.log.debug(`Calculating ${i}...`);const d=await c.calculate(e,null,{onProgress:n.onProgress});r[i]=d}else this.log.warn(`Unknown feature: ${i}`);return this._normalizeNodeStats(r,s)}async _calculateGraphStats(e,s,o={}){const n=s||ze.GRAPH_STATS.ALL,r={};for(const i of n){const a=this.graphStatClasses[i];if(a){this.log.debug(`Calculating graph stat: ${i}...`);const c=new a;r[i]=await c.calculate(e,null,{onProgress:o.onProgress})}else this.log.warn(`Unknown graph stat: ${i}`)}return r}async _calculateModularity(e,s={}){const o=new sr(e),n=new zi;return this.log.debug("Running Louvain community detection..."),(await o.detectCommunities(n,{onProgress:s.onProgress})).communities}_prepareNetwork(e){const s=new Set;for(const r of e)s.add(r.source),s.add(r.target);const o=Array.from(s),n=new Mi;for(const r of o)n.addNode(r);for(const r of e){const i=r.weight!==void 0?r.weight:1;n.addEdge(r.source,r.target,i)}return{graph:n,nodes:o}}_normalizeNodeStats(e,s){const o=[];for(const n of s){const r={id:n};for(const[i,a]of Object.entries(e))typeof a=="object"&&a!==null&&(r[i]=a[n]);o.push(r)}return o}async dispose(){await fs.terminate()}}const Cx=new URL("data:text/javascript;base64,aW1wb3J0IHsgY3JlYXRlTG9nZ2VyIGFzIHAgfSBmcm9tICJAZ3VpbmV0aWsvbG9nZ2VyIjsKaW1wb3J0IHsgdiBhcyBnLCB3IGFzIGQsIHggYXMgZiwgeSBhcyBrLCB6IGFzIHksIEggYXMgaiwgSSBhcyBoLCBKIGFzIEMsIE4gYXMgdywgTyBhcyBiLCBQIGFzIE0sIFEgYXMgdiwgVCBhcyBFIH0gZnJvbSAiLi9iZnMtTFA2RDdNdDIuanMiOwpjb25zdCBhID0gcCh7CiAgcHJlZml4OiAibmV0d29yay13b3JrZXIiLAogIGxldmVsOiAiaW5mbyIKICAvLyBXb3JrZXJzIGRlZmF1bHQgdG8gaW5mbyBsZXZlbAp9KSwgdSA9IHsKICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkKICAiLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMiOiBFLAogIC8vIEdyYXBoLWxldmVsIHN0YXRpc3RpY3MKICAiLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL2dyYXBoLXN0YXRzLmpzIjogdiwKICAvLyBDb21tdW5pdHkKICAiLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyI6IE0sCiAgLy8gTGF5b3V0cwogICIuLi9sYXlvdXRzL3JhbmRvbS5qcyI6IGIsCiAgIi4uL2xheW91dHMvY2lyY3VsYXIuanMiOiB3LAogICIuLi9sYXlvdXRzL3NwaXJhbC5qcyI6IEMsCiAgIi4uL2xheW91dHMvc2hlbGwuanMiOiBoLAogICIuLi9sYXlvdXRzL3NwZWN0cmFsLmpzIjogaiwKICAiLi4vbGF5b3V0cy9mb3JjZS1kaXJlY3RlZC5qcyI6IHksCiAgIi4uL2xheW91dHMva2FtYWRhLWthd2FpLmpzIjogaywKICAiLi4vbGF5b3V0cy9iaXBhcnRpdGUuanMiOiBmLAogICIuLi9sYXlvdXRzL211bHRpcGFydGl0ZS5qcyI6IGQsCiAgIi4uL2xheW91dHMvYmZzLmpzIjogZwp9OwpzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKHQpIHsKICBjb25zdCB7IGlkOiBlLCBtb2R1bGU6IG8sIGZ1bmN0aW9uTmFtZTogciwgYXJnczogbCA9IFtdIH0gPSB0LmRhdGE7CiAgdHJ5IHsKICAgIGlmICghbyB8fCAhcikKICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhc2s6IG1vZHVsZSBhbmQgZnVuY3Rpb25OYW1lIGFyZSByZXF1aXJlZCIpOwogICAgYS5kZWJ1ZygiUHJvY2Vzc2luZyB0YXNrIiwgewogICAgICBpZDogZSwKICAgICAgbW9kdWxlOiBvLAogICAgICBmdW5jdGlvbk5hbWU6IHIsCiAgICAgIGFyZ3NMZW5ndGg6IGw/Lmxlbmd0aCB8fCAwCiAgICB9KTsKICAgIGNvbnN0IHMgPSAobSkgPT4gewogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBpZDogZSwKICAgICAgICBzdGF0dXM6ICJwcm9ncmVzcyIsCiAgICAgICAgcHJvZ3Jlc3M6IE1hdGgubWluKE1hdGgubWF4KG0sIDApLCAxKQogICAgICAgIC8vIENsYW1wIHRvIFswLCAxXQogICAgICB9KTsKICAgIH0sIGkgPSB1W29dOwogICAgaWYgKCFpKQogICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgYE1vZHVsZSAnJHtvfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5LiBBdmFpbGFibGUgbW9kdWxlczogJHtPYmplY3Qua2V5cyh1KS5qb2luKCIsICIpfWAKICAgICAgKTsKICAgIGNvbnN0IG4gPSBpW3JdOwogICAgaWYgKCFuIHx8IHR5cGVvZiBuICE9ICJmdW5jdGlvbiIpCiAgICAgIHRocm93IG5ldyBFcnJvcigKICAgICAgICBgRnVuY3Rpb24gJyR7cn0nIG5vdCBmb3VuZCBpbiBtb2R1bGUgJyR7b30nLiBBdmFpbGFibGUgZnVuY3Rpb25zOiAke09iamVjdC5rZXlzKGkpLmpvaW4oIiwgIil9YAogICAgICApOwogICAgY29uc3QgYyA9IGF3YWl0IG4oLi4ubCwgcyk7CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgaWQ6IGUsCiAgICAgIHN0YXR1czogImNvbXBsZXRlIiwKICAgICAgcmVzdWx0OiBjCiAgICB9KTsKICB9IGNhdGNoIChzKSB7CiAgICBhLmVycm9yKCJUYXNrIGZhaWxlZCIsIHsKICAgICAgaWQ6IGUsCiAgICAgIGVycm9yOiBzLm1lc3NhZ2UsCiAgICAgIHN0YWNrOiBzLnN0YWNrCiAgICB9KSwgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgIGlkOiBlLAogICAgICBzdGF0dXM6ICJlcnJvciIsCiAgICAgIGVycm9yOiBzLm1lc3NhZ2UgfHwgIlVua25vd24gZXJyb3IiLAogICAgICBzdGFjazogcy5zdGFjawogICAgfSk7CiAgfQp9OwpzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbih0KSB7CiAgYS5lcnJvcigiV29ya2VyIGVycm9yIiwgewogICAgZXJyb3I6IHQubWVzc2FnZSB8fCAiV29ya2VyIGVycm9yIG9jY3VycmVkIiwKICAgIHN0YWNrOiB0LnN0YWNrCiAgfSksIHNlbGYucG9zdE1lc3NhZ2UoewogICAgc3RhdHVzOiAiZXJyb3IiLAogICAgZXJyb3I6IHQubWVzc2FnZSB8fCAiV29ya2VyIGVycm9yIG9jY3VycmVkIgogIH0pOwp9OwphLmluZm8oIkluaXRpYWxpemVkIiwgeyBtb2R1bGVDb3VudDogT2JqZWN0LmtleXModSkubGVuZ3RoIH0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1uZXR3b3JrLXdvcmtlci5qcy5tYXAK",import.meta.url).href;class kx{constructor(){this.analyzer=null,this.initPromise=null,this.lastAnalysisResults=null,this.workerUrl=Cx,this.log=$e({prefix:"NetworkAnalyzer",level:"info"})}async _ensureInitialized(){if(!this.analyzer){if(this.initPromise)return this.initPromise;this.initPromise=(async()=>{this.log.debug("Initializing with worker",{workerUrl:this.workerUrl}),this.analyzer=new ze({verbose:!0,workerScript:this.workerUrl}),await new Promise(e=>setTimeout(e,500)),this.log.info("Initialized successfully")})(),await this.initPromise}}_toEdgeList(e,s){return s.map(o=>({source:typeof o.source=="object"?o.source.id:o.source,target:typeof o.target=="object"?o.target.id:o.target,weight:o.weight||1}))}_buildGraph(e,s){const o=new Mi;return e.forEach(n=>{o.addNode(n.id)}),s.forEach(n=>{const r=typeof n.source=="object"?n.source.id:n.source,i=typeof n.target=="object"?n.target.id:n.target;o.addEdge(r,i,n.weight||1)}),o}async analyzeGraph(e,s,o={}){await this._ensureInitialized(),this.log.debug("Starting analysis",{nodeCount:e.length,linkCount:s.length,features:o.features,includeGraphStats:o.includeGraphStats});const n=this._toEdgeList(e,s),r=o.features||["degree","eigenvector"],i={onProgress:o.onProgress};o.includeGraphStats&&(i.includeGraphStats=!0,i.graphStats=o.graphStats||["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]);const a=await this.analyzer.analyze(n,r,i);let c,d=null;Array.isArray(a)?c=a:a.nodes&&a.graph?(c=a.nodes,d=a.graph):c=a,this.log.info("Analysis complete",{resultsCount:c.length,hasGraphStats:d!==null}),this.lastAnalysisResults=c,e.forEach(h=>{const f=c.find(y=>y.id===h.id);if(!f){this.log.warn("No stats found for node",{nodeId:h.id}),h.centrality=.5;return}const p=f.eigenvector!==void 0?f.eigenvector:f.degree!==void 0?f.degree/10:.5;Object.assign(h,f,{centrality:p})}),this.log.debug("Nodes enriched",{sampleNode:e[0]});const u={nodes:e,links:s};return d&&(u.graphStats=d),u}async applyLayout(e,s,o,n={}){await this._ensureInitialized(),this.log.debug("Applying layout",{layoutId:e});const r=n.width||800,i=n.height||600,a=Math.min(r,i)/1.2,c={x:r/2,y:i/2},d=this._buildGraph(s,o);let u;const h={scale:a,center:c};switch(e){case"random":u=new cx(d,h);break;case"circular":u=new dx(d,h);break;case"spiral":u=new ux(d,{...h,resolution:.15});break;case"shell":const p=new Map;s.forEach(I=>{I.degree!==void 0&&p.set(I.id,{degree:I.degree})}),u=new hx(d,{...h,nodeProperties:p.size>0?p:null});break;case"spectral":if(!s.some(I=>{const x=I["eigenvector-laplacian"];return x&&typeof x=="object"&&x.laplacian_x!==void 0&&x.laplacian_y!==void 0}))throw new Error('Spectral layout requires eigenvector-laplacian analysis. Please run analysis with ["eigenvector-laplacian"] first.');const b=new Map;s.forEach(I=>{const x=I["eigenvector-laplacian"];x&&typeof x=="object"&&x.laplacian_x!==void 0&&x.laplacian_y!==void 0&&b.set(I.id,{laplacian_x:x.laplacian_x,laplacian_y:x.laplacian_y})}),u=new fx(d,{...h,nodeProperties:b});break;case"force-directed":const k=s.length,w=Math.sqrt(1/k)*2.5;u=new gx(d,{iterations:50,k:w,...h});break;case"kamada-kawai":u=new px(d,{iterations:300,...h});break;case"bipartite":u=new mx(d,{align:"vertical",...h});break;case"multipartite":u=new yx(d,{align:"vertical",...h});break;case"bfs":const A=s[0]?.id||Array.from(d.nodes)[0];u=new bx(d,{startNode:A,align:"vertical",...h});break;default:throw new Error(`Unknown layout: ${e}`)}const f=await u.getPositions({onProgress:n.onProgress});return this.log.info("Layout complete",{positionCount:Object.keys(f).length}),f}getAvailableLayouts(){return vx.getAll()}getAvailableCommunityAlgorithms(){return Sl.getAll()}async detectCommunities(e,s,o,n={}){await this._ensureInitialized(),this.log.debug("Detecting communities",{algorithmId:e});const r=this._buildGraph(s,o),i=Sl.get(e);if(!i)throw new Error(`Unknown community detection algorithm: ${e}`);let a;switch(e){case"louvain":a=new zi(i.defaultOptions);break;default:throw new Error(`Unsupported algorithm: ${e}`)}const d=await new sr(r).detectCommunities(a,{onProgress:n.onProgress});return this.log.info("Community detection complete",{numCommunities:d.numCommunities,modularity:d.modularity}),s.forEach(u=>{const h=d.communities[u.id];h!==void 0&&(u.community=h)}),d}async dispose(){if(this.analyzer)try{await this.analyzer.dispose(),this.analyzer=null}catch(e){this.log.warn("Error disposing analyzer",{error:e.message}),this.analyzer=null}}}const ve=$e({prefix:"useNetworkGraph",level:"info"});function $i(t={}){const e=re(null),s=re(null),o=re(null),n=re(!1),r=re(null),i=re(null),a=re(0),c=t.autoComputeCentrality!==!1,d=()=>{if(!e.value){ve.warn("Container ref not ready");return}if(s.value){ve.warn("Graph already initialized");return}try{n.value=!0,ve.debug("Initializing graph",{options:t});const R=e.value.getBoundingClientRect(),M=R.width||t.width||800,C=R.height||t.height||600;s.value=new Z1(e.value,{width:M,height:C,...t}),o.value=new kx,s.value.on("nodeHover",G=>{i.value=G}),s.value.on("nodeLeave",()=>{i.value=null}),n.value=!1,ve.info("Graph and analyzer initialized successfully")}catch(R){ve.error("Failed to initialize graph",{error:R.message,stack:R.stack}),r.value=R.message,n.value=!1}},u=(R,M)=>{if(!s.value){ve.warn("Graph not initialized yet");return}try{n.value=!0,ve.debug("Loading data into graph",{nodeCount:R.length,linkCount:M.length});const C=()=>{n.value=!1,s.value.off("ready",C),ve.info("Graph ready and fitted to view"),c&&s.value?.data?.nodes?.length>=2&&requestAnimationFrame(()=>{h()})};s.value.on("ready",C),s.value.setData(R,M)}catch(C){ve.error("Failed to load data",{error:C.message,stack:C.stack}),r.value=C.message,n.value=!1}},h=async()=>{if(!(!c||!s.value||!o.value)&&!(!s.value.data||s.value.data.nodes.length<2))try{ve.debug("Auto-computing eigenvector centrality");const R=s.value.data,M=await o.value.analyzeGraph(R.nodes,R.links,{features:["eigenvector"],onProgress:()=>{}});M&&M.nodes&&s.value.updateNodeStatistics&&(s.value.updateNodeStatistics(M.nodes,"eigenvector",!0),ve.debug("Auto-computed eigenvector centrality and updated node sizes"))}catch(R){ve.debug("Auto-compute eigenvector failed (non-critical)",{error:R.message})}},f=async(R=[],M=null,C=null,G=!1)=>{if(!s.value)return ve.warn("Graph not initialized yet"),null;try{ve.debug("Adding node",{neighborIds:R,nodeId:M,group:C,incremental:G});let T;return G&&s.value.addNodeIncremental?T=s.value.addNodeIncremental(R,M,C):T=s.value.addNode(R,M,C),T&&c&&requestAnimationFrame(()=>{h()}),T}catch(T){return ve.error("Failed to add node",{error:T.message,stack:T.stack}),r.value=T.message,null}},p=(R=null,M=!1)=>{if(!s.value)return ve.warn("Graph not initialized yet"),!1;try{ve.debug("Removing node",{nodeId:R,incremental:M});let C;return M&&s.value.removeNodeIncremental?C=s.value.removeNodeIncremental(R):C=s.value.removeNode(R),C&&c&&requestAnimationFrame(()=>{h()}),C}catch(C){return ve.error("Failed to remove node",{error:C.message,stack:C.stack}),r.value=C.message,!1}},y=async(R,M,C=!1)=>{if(!s.value)return ve.warn("Graph not initialized yet"),!1;try{let G;return C&&s.value.addLinkIncremental?G=s.value.addLinkIncremental(R,M):G=s.value.addLink(R,M),G&&c&&requestAnimationFrame(()=>{h()}),G}catch(G){return ve.error("Failed to add link",{error:G.message,stack:G.stack}),r.value=G.message,!1}},b=()=>s.value?s.value.getNodeIds():[],k=R=>s.value?s.value.hasNode(R):!1,w=async(R=["degree","eigenvector"],M={})=>{if(!s.value||!o.value)return ve.warn("Graph or analyzer not initialized"),null;try{n.value=!0,a.value=0,ve.debug("Starting graph analysis",{features:R,options:M});const C=s.value.data,G=await o.value.analyzeGraph(C.nodes,C.links,{features:R,includeGraphStats:M.includeGraphStats||!1,graphStats:M.graphStats,onProgress:F=>{a.value=F}});return ve.info("Analysis complete, updating visualization",{nodeCount:G.nodes.length,hasGraphStats:!!G.graphStats}),R.includes("eigenvector")&&G.nodes.some(F=>F.eigenvector!==void 0)?(ve.debug("Sizing nodes by eigenvector centrality"),s.value.updateVisualEncoding({sizeBy:"eigenvector",minRadius:4,maxRadius:20})):s.value.updateGraph(),n.value=!1,a.value=0,G}catch(C){return ve.error("Failed to analyze graph",{error:C.message,stack:C.stack,features:R}),r.value=C.message,n.value=!1,a.value=0,null}},A=async R=>{if(!s.value||!o.value)return ve.warn("Graph or analyzer not initialized"),!1;try{n.value=!0,a.value=0,ve.debug("Applying layout",{layoutId:R});const M=s.value.data,C=e.value.getBoundingClientRect(),G=await o.value.applyLayout(R,M.nodes,M.links,{width:C.width||800,height:C.height||600,onProgress:F=>{a.value=F}});M.nodes.forEach(F=>{const U=G[F.id];U&&(F.x=U.x,F.y=U.y,F.fx=U.x,F.fy=U.y)});const T=()=>{n.value=!1,a.value=0,s.value.off("ready",T),ve.info("Layout applied successfully",{layoutId:R})};return s.value.on("ready",T),s.value.updateGraph(),!0}catch(M){return ve.error("Failed to apply layout",{layoutId:R,error:M.message,stack:M.stack}),r.value=M.message,n.value=!1,a.value=0,!1}},I=()=>o.value?o.value.getAvailableLayouts():[],x=()=>o.value?o.value.getAvailableCommunityAlgorithms():[],D=async R=>{if(!s.value||!o.value)return ve.warn("Graph or analyzer not initialized"),null;try{n.value=!0,a.value=0,ve.debug("Detecting communities",{algorithmId:R});const M=s.value.data,C=await o.value.detectCommunities(R,M.nodes,M.links,{onProgress:G=>{a.value=G}});return ve.info("Community detection complete, updating colors",{numCommunities:C.numCommunities,modularity:C.modularity}),s.value.updateVisualEncoding({colorBy:"community",colorScheme:"categorical",preserveZoom:!0}),n.value=!1,a.value=0,C}catch(M){return ve.error("Failed to detect communities",{algorithmId:R,error:M.message,stack:M.stack}),r.value=M.message,n.value=!1,a.value=0,null}},Z=(R={})=>{if(!s.value){ve.warn("Cannot update visual encoding - no graph instance");return}s.value.updateVisualEncoding(R)},H=()=>{if(!s.value){ve.warn("Graph not initialized yet");return}s.value.lockPositions()},Q=()=>{if(!s.value){ve.warn("Graph not initialized yet");return}s.value.unlockPositions()},W=(R="network-graph.png")=>{if(!s.value){ve.warn("Graph not initialized yet");return}s.value.saveAsPNG(R)},Y=()=>s.value?s.value.getSelectedNode():(ve.warn("Graph not initialized yet"),null),V=async()=>{if(s.value&&(s.value.destroy(),s.value=null,ve.info("Graph destroyed")),o.value)try{await o.value.dispose(),o.value=null,ve.info("Analyzer disposed")}catch(R){ve.warn("Error disposing analyzer",{error:R.message}),o.value=null}};return Qs(async()=>{await qs(),e.value&&d()}),Wn(()=>{V()}),{graphContainer:e,graphInstance:s,loading:n,error:r,nodeInfo:i,analysisProgress:a,initGraph:d,loadData:u,destroyGraph:V,addNode:f,removeNode:p,addLink:y,getNodeIds:b,hasNode:k,analyzeGraph:w,applyLayout:A,getAvailableLayouts:I,detectCommunities:D,getAvailableCommunityAlgorithms:x,updateVisualEncoding:Z,lockPositions:H,unlockPositions:Q,saveAsPNG:W,getSelectedNode:Y}}class Ax{constructor({graphManager:e,onStatusChange:s=null,translate:o=null}){this.graphManager=e,this.onStatusChange=s,this.translate=o||(n=>n),this.log=$e({prefix:"ShowcaseController",level:"info"}),this.datasets={default:{name:"Default",loader:()=>this._loadDefaultDataset()},karate:{name:"Karate Club",loader:()=>this._loadKarateDataset()},miserables:{name:"Les Misrables",loader:()=>this._loadMiserablesDataset()}}}getInitialDataset(){return{nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]}}async _loadDefaultDataset(){return this.getInitialDataset()}async _loadKarateDataset(){const e=await Jd.loadFromURL("/data/karateclub.json");return e.nodes=e.nodes.map(s=>({...s,group:s.club==="Mr. Hi"?1:2})),{nodes:e.nodes,links:e.edges}}async _loadMiserablesDataset(){const e=await Yd.loadFromURL("/data/les_miserables.csv");return e.nodes=e.nodes.map(s=>({...s,group:s.group||1})),{nodes:e.nodes,links:e.edges}}async loadDataset(e){const s=this.datasets[e];if(!s)return{success:!1,error:`Unknown dataset: ${e}`};try{this.log.debug("Loading dataset",{datasetKey:e,datasetName:s.name}),this._updateStatus("Loading dataset...","info");const o=await s.loader();this.graphManager.loadData(o.nodes,o.links);const n=this.translate("showcase.messages.loadedDataset",{name:s.name,nodes:o.nodes.length,edges:o.links.length});return this.log.info("Dataset loaded successfully",{name:s.name,nodeCount:o.nodes.length,edgeCount:o.links.length}),this._updateStatus(n,"success"),{success:!0,data:o,name:s.name,nodeCount:o.nodes.length,edgeCount:o.links.length}}catch(o){const n=this.translate("showcase.messages.failedToLoadDataset",{error:o.message});return this.log.error("Failed to load dataset",{datasetKey:e,error:o.message,stack:o.stack}),this._updateStatus(n,"error"),{success:!1,error:o.message}}}addRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0)return{success:!1,error:"No nodes available to connect to"};const s=e[Math.floor(Math.random()*e.length)],o=this.graphManager.addNode([s],null,null,!0);if(o){const n=this.translate("showcase.messages.addedNode",{nodeId:o.id,connectedTo:s});return this.log.debug("Added random node",{nodeId:o.id,connectedTo:s}),this._updateStatus(n,"success"),{success:!0,node:o,connectedTo:s}}return this.log.warn("Failed to add random node"),{success:!1,error:"Failed to add node"}}addNodeToSelected(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getSelectedNode();if(!e){const n=this.translate("showcase.messages.noNodeSelected");return this.log.warn("No node selected"),this._updateStatus(n,"error"),{success:!1,error:"No node selected"}}const s=e.id,o=this.graphManager.addNode([s],null,null,!0);if(o){const n=this.translate("showcase.messages.addedNode",{nodeId:o.id,connectedTo:s});return this.log.debug("Added node connected to selected",{nodeId:o.id,targetNodeId:s}),this._updateStatus(n,"success"),{success:!0,node:o,connectedTo:s}}return this.log.warn("Failed to add node connected to selected",{targetNodeId:s}),{success:!1,error:"Failed to add node"}}removeRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0){const n=this.translate("showcase.messages.noNodesToRemove");return this._updateStatus(n,"error"),{success:!1,error:"No nodes to remove"}}const s=e[Math.floor(Math.random()*e.length)];if(this.graphManager.removeNode(s,!0)){const n=this.translate("showcase.messages.removedNode",{nodeId:s});return this.log.debug("Removed random node",{nodeId:s}),this._updateStatus(n,"info"),{success:!0,removedNodeId:s}}return this.log.warn("Failed to remove random node"),{success:!1,error:"Failed to remove node"}}async analyzeGraph(e=["degree","eigenvector","betweenness"]){try{this.log.debug("Starting graph analysis",{metrics:e}),this._updateStatus("Analyzing network using workers...","info");const s=await this.graphManager.analyzeGraph(e);if(s){const o=this.translate("showcase.messages.analysisComplete",{count:s.nodes.length});return this.log.info("Graph analysis complete",{nodeCount:s.nodes.length,metrics:e}),this._updateStatus(o,"success"),{success:!0,results:s,nodeCount:s.nodes.length,metrics:e}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(s){const o=this.translate("showcase.messages.analysisFailed",{error:s.message});return this.log.error("Graph analysis failed",{error:s.message,stack:s.stack,metrics:e}),this._updateStatus(o,"error"),{success:!1,error:s.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("showcase.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(`Applying ${e} layout...`,"info"),await this.graphManager.applyLayout(e)){const o=this.translate("showcase.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(o,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const o=this.translate("showcase.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(o,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}isGraphReady(){return this.graphManager.graphInstance.value!==null}getNodeCount(){return this.graphManager.getNodeIds().length}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}async detectCommunities(e){if(!this.isGraphReady())return this._updateStatus(this.translate("showcase.messages.graphNotInitialized"),"error"),null;if(this.getNodeCount()===0)return this._updateStatus(this.translate("showcase.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(`Detecting communities using ${e}...`,"info");const o=await this.graphManager.detectCommunities(e);if(o){const n=this.translate("showcase.messages.foundCommunities",{count:o.numCommunities,modularity:o.modularity.toFixed(3)});return this._updateStatus(n,"success"),o}else return this._updateStatus(this.translate("showcase.messages.communityDetectionFailed"),"error"),null}catch(o){return this.log.error("Community detection failed",{algorithmId:e,error:o.message,stack:o.stack}),this._updateStatus(`Error: ${o.message}`,"error"),null}}getSelectedNode(){return this.graphManager.getSelectedNode()}}const Nx={class:"demo-controls-header"},Sx={class:"demo-controls-title"},Ix={class:"demo-controls-description"},Tx={class:"info-box-blue mb-4"},Lx={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},Ex=["innerHTML"],Rx={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},Px={class:"demo-controls-section-title mb-3"},Dx={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},Gx={key:0,class:"text-secondary text-center py-2"},Mx={class:"text-xs"},Fx={class:"text-xs mt-1 opacity-60"},zx={key:1,class:"space-y-2"},Bx={class:"flex-shrink-0 mt-0.5"},$x={key:0},Ox={key:1},Vx={key:2},Hx={class:"flex-1 break-words"},Wx={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},Ux={class:"demo-controls-section-title"},Zx={class:"grid grid-cols-3 gap-2"},jx=["title"],Xx=["disabled","title"],Yx=["title"],Jx={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},Kx={class:"demo-controls-section-title"},qx={class:"space-y-2"},Qx={class:"block text-sm font-medium text-secondary"},ew={value:"default"},tw={value:"karate"},sw={value:"miserables"},ow=["disabled"],nw={key:0},rw={key:1},iw={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},aw={class:"demo-controls-section-title"},lw={class:"info-box-green mt-3"},cw=["innerHTML"],dw={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},uw={class:"demo-controls-section-title"},hw={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},fw={class:"demo-controls-section-title"},gw={key:0,class:"info-box-green mt-3"},pw={class:"text-sm text-green-800 dark:text-green-200 space-y-1"},mw={class:"text-xs mt-2"},yw={key:1,class:"info-box-yellow mt-3"},bw={class:"text-xs text-yellow-800 dark:text-yellow-200"},vw={class:"info-box-purple"},xw={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},ww={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},_w=["innerHTML"],Cw=["innerHTML"],kw=["innerHTML"],Aw=["innerHTML"],Nw=["innerHTML"],Sw=["innerHTML"],Iw={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},Tw={class:"text-center"},Lw={class:"text-secondary"},Ew={__name:"ShowcasePage",setup(t){const e=$e({prefix:"ShowcasePage",level:"info"}),{t:s}=Dt(),o=$i(),{graphContainer:n,graphInstance:r,loading:i,loadData:a,addNode:c,removeNode:d,hasNode:u,getNodeIds:h,analysisProgress:f,analyzeGraph:p,applyLayout:y,getAvailableLayouts:b,detectCommunities:k,getAvailableCommunityAlgorithms:w,getSelectedNode:A,unlockPositions:I}=o,x=re("default"),D=re("none"),Z=re([]),H=re("louvain"),Q=re([]),W=re(null),Y=re(["degree","eigenvector","betweenness"]),V=re(""),R=re(""),M=re("info"),C=re("");let G=null;const T=(ae,ge)=>{R.value=ae,M.value=ge},F=()=>{const ae={graphInstance:r,loadData:a,addNode:c,removeNode:d,hasNode:u,getNodeIds:h,analyzeGraph:p,applyLayout:y,getAvailableLayouts:b,detectCommunities:k,getAvailableCommunityAlgorithms:w,getSelectedNode:A,unlockPositions:I};G=new Ax({graphManager:ae,onStatusChange:T,translate:(S,q)=>s(S,q)});const ge=G.getInitialDataset();C.value=s("showcase.messages.loadingGraph"),a(ge.nodes,ge.links),Z.value=G.getAvailableLayouts(),Q.value=G.getAvailableCommunityAlgorithms(),e.info("Initial data loaded",{layouts:Z.value.length,communityAlgorithms:Q.value.length,nodes:ge.nodes.length})},U=()=>{G&&G.addRandomNode()},oe=()=>{G&&G.addNodeToSelected()},ce=()=>{G&&G.removeRandomNode()},X=async()=>{if(G)try{C.value=s("showcase.messages.loadingDataset").replace("{dataset}",x.value);const ae=await G.loadDataset(x.value);ae.success&&(C.value=s("showcase.messages.loadingDatasetName").replace("{name}",ae.name))}catch(ae){e.error("Failed to load dataset",{error:ae.message,stack:ae.stack}),i.value=!1}},ie=async()=>{if(G)try{C.value=s("showcase.messages.analyzing"),await G.analyzeGraph(Y.value)}catch(ae){e.error("Analysis error",{error:ae.message,stack:ae.stack})}},Se=async()=>{if(G)try{C.value=s("showcase.messages.applyingLayout").replace("{layout}",D.value),await G.applyLayout(D.value)}catch(ae){e.error("Layout error",{error:ae.message,stack:ae.stack})}},we=async()=>{if(G)try{C.value=s("showcase.messages.detectingCommunities").replace("{algorithm}",H.value);const ae=await G.detectCommunities(H.value);ae&&(W.value=ae)}catch(ae){e.error("Community detection error",{error:ae.message,stack:ae.stack})}};return pt(r,ae=>{ae&&!G&&F()},{immediate:!0}),(ae,ge)=>(O(),us(_i,null,{controls:Fe(()=>[l("div",Nx,[l("h1",Sx,m(g(s)("showcase.header.title")),1),l("p",Ix,m(g(s)("showcase.header.subtitle")),1)]),l("div",Tx,[l("h2",Lx,m(g(s)("showcase.whatIs.title")),1),l("p",{class:"text-sm text-blue-800 dark:text-blue-200",innerHTML:g(s)("showcase.whatIs.description")},null,8,Ex)]),l("div",Rx,[l("h2",Px,m(g(s)("showcase.status.title")),1),l("div",Dx,[R.value?(O(),j("div",zx,[l("div",{class:dt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":M.value==="success","text-red-600 dark:text-red-400":M.value==="error","text-blue-600 dark:text-blue-400":M.value==="info"})},[l("div",Bx,[M.value==="success"?(O(),j("span",$x,"")):M.value==="error"?(O(),j("span",Ox,"")):(O(),j("span",Vx,""))]),l("div",Hx,m(R.value),1)],2)])):(O(),j("div",Gx,[l("div",Mx,m(g(s)("showcase.status.ready")),1),l("div",Fx,m(g(s)("showcase.status.hover")),1)]))])]),l("div",Wx,[l("h2",Ux,m(g(s)("showcase.controls.title")),1),l("div",Zx,[l("button",{onClick:U,class:"btn-primary text-sm px-2 py-2 whitespace-nowrap",title:g(s)("showcase.controls.addRandom")},"  "+m(g(s)("showcase.buttons.add")),9,jx),l("button",{onClick:oe,class:"btn-secondary text-sm px-2 py-2 whitespace-nowrap",disabled:!g(A)(),title:g(A)()?g(s)("showcase.controls.addToSelected").replace("{name}",g(A)().id):g(s)("showcase.controls.selectNodeFirst")},"  "+m(g(s)("showcase.buttons.toSelected")),9,Xx),l("button",{onClick:ce,class:"btn-primary bg-red-600 hover:bg-red-700 text-sm px-2 py-2 whitespace-nowrap",title:g(s)("showcase.controls.removeRandom")},"  "+m(g(s)("showcase.buttons.remove")),9,Yx)])]),l("div",Jx,[l("h2",Kx,m(g(s)("showcase.dataLoading.title")),1),l("div",qx,[l("label",Qx,m(g(s)("showcase.dataLoading.choose")),1),et(l("select",{"onUpdate:modelValue":ge[0]||(ge[0]=S=>x.value=S),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[l("option",ew,m(g(s)("showcase.dataLoading.default")),1),l("option",tw,m(g(s)("showcase.dataLoading.karate")),1),l("option",sw,m(g(s)("showcase.dataLoading.miserables")),1)],512),[[Zs,x.value]])]),l("button",{onClick:X,disabled:g(i),class:"w-full btn-primary mt-3"},[g(i)?(O(),j("span",rw,m(g(s)("showcase.dataLoading.loading")),1)):(O(),j("span",nw,m(g(s)("showcase.dataLoading.loadButton")),1))],8,ow)]),l("div",iw,[l("h2",aw,m(g(s)("showcase.networkAnalysis.title")),1),xe(ki,{"selected-metrics":Y.value,"onUpdate:selectedMetrics":ge[1]||(ge[1]=S=>Y.value=S),"size-metric":V.value,"onUpdate:sizeMetric":ge[2]||(ge[2]=S=>V.value=S),analyzing:g(i),progress:g(f),onAnalyze:ie},null,8,["selected-metrics","size-metric","analyzing","progress"]),l("div",lw,[l("p",{class:"text-xs text-green-800 dark:text-green-200",innerHTML:g(s)("showcase.networkAnalysis.description")},null,8,cw)])]),l("div",dw,[l("h2",uw,m(g(s)("showcase.layoutAlgorithm.title")),1),xe(Ci,{modelValue:D.value,"onUpdate:modelValue":ge[3]||(ge[3]=S=>D.value=S),"available-layouts":Z.value,loading:g(i),onApply:Se},null,8,["modelValue","available-layouts","loading"])]),l("div",hw,[l("h2",fw,m(g(s)("showcase.communityDetection.title")),1),xe(cd,{modelValue:H.value,"onUpdate:modelValue":ge[4]||(ge[4]=S=>H.value=S),"available-algorithms":Q.value,detecting:g(i),onDetect:we},{results:Fe(()=>[W.value?(O(),j("div",gw,[l("p",pw,[l("div",null,[l("strong",null,m(g(s)("showcase.communityDetection.communitiesFound")),1),be(" "+m(W.value.numCommunities),1)]),l("div",null,[l("strong",null,m(g(s)("showcase.communityDetection.modularity")),1),be(" "+m(W.value.modularity.toFixed(3)),1)]),l("div",mw,m(g(s)("showcase.communityDetection.nodeColorsAssignments")),1)])])):Te("",!0),Q.value.length>0&&!W.value?(O(),j("div",yw,[l("p",bw,[l("strong",null,m(Q.value.find(S=>S.id===H.value)?.name)+":",1),be(" "+m(Q.value.find(S=>S.id===H.value)?.description),1)])])):Te("",!0)]),_:1},8,["modelValue","available-algorithms","detecting"])]),l("div",vw,[l("h3",xw,m(g(s)("showcase.instructions.title")),1),l("ul",ww,[l("li",{innerHTML:g(s)("showcase.instructions.dragNodes")},null,8,_w),l("li",{innerHTML:g(s)("showcase.instructions.scroll")},null,8,Cw),l("li",{innerHTML:g(s)("showcase.instructions.dragBackground")},null,8,kw),l("li",{innerHTML:g(s)("showcase.instructions.hoverNodes")},null,8,Aw),l("li",{innerHTML:g(s)("showcase.instructions.nodeSize")},null,8,Nw),l("li",{innerHTML:g(s)("showcase.instructions.color")},null,8,Sw)])])]),graph:Fe(()=>[g(i)?(O(),j("div",Iw,[l("div",Tw,[ge[5]||(ge[5]=l("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),l("p",Lw,m(C.value),1)])])):Te("",!0),l("div",{ref_key:"graphContainer",ref:n,class:"w-full h-full"},null,512)]),_:1}))}};class Rw{constructor({graphManager:e,onStatusChange:s=null,translate:o=null}){this.graphManager=e,this.onStatusChange=s,this.translate=o||(n=>n),this.log=$e({prefix:"ExplorerController",level:"info"}),this.sampleNetworks={caruaru:{name:"Caruaru",file:"/data/network_caruaru.json",description:"Small network (~130 edges)"},rj:{name:"Rio de Janeiro",file:"/data/network_rj.json",description:"Medium network (~1,900 edges)"},niteroi:{name:"Niteri",file:"/data/network_niteroi.json",description:"Large network (~18,500 edges)"}},this.workersSupported=typeof Worker<"u",this.workerCount=navigator.hardwareConcurrency||4}async loadSampleNetwork(e){const s=this.sampleNetworks[e];if(!s)return{success:!1,error:`Unknown network: ${e}`};try{this.log.debug("Loading sample network",{networkKey:e,networkName:s.name}),this._updateStatus(this.translate("explorer.messages.loadingNetworkData"),"info");const o=await fetch(s.file);if(!o.ok)throw new Error(`Failed to fetch: ${o.statusText}`);const n=await o.json(),r=new Set,i=[];n.forEach(u=>{r.add(u.source),r.add(u.target),i.push({source:String(u.source),target:String(u.target),weight:u.weight||1})});const a=Array.from(r).map(u=>({id:String(u),group:1})),c={nodes:a,links:i.map(u=>({source:u.source,target:u.target,weight:u.weight}))};this.graphManager.loadData(c.nodes,c.links);const d=this.translate("explorer.messages.loadedNetwork",{name:s.name,nodes:a.length,edges:i.length});return this.log.info("Sample network loaded successfully",{name:s.name,nodeCount:a.length,edgeCount:i.length}),this._updateStatus(d,"success"),{success:!0,data:c,name:s.name,nodeCount:a.length,edgeCount:i.length,description:s.description,useWorkers:a.length>=500&&this.workersSupported}}catch(o){const n=this.translate("explorer.messages.failedToLoadNetwork",{error:o.message});return this.log.error("Failed to load sample network",{networkKey:e,error:o.message,stack:o.stack}),this._updateStatus(n,"error"),{success:!1,error:o.message}}}async loadUploadedNetwork(e,s,o,n){try{this.log.debug("Loading uploaded network",{format:e}),this._updateStatus(this.translate("explorer.messages.loadingUploadedFile"),"info");let r;if(e==="csv"){if(!s)throw new Error("Edges CSV file is required");this.log.debug("Loading CSV files",{edgeFile:s.name,nodeFile:o?.name}),r=await Yd.loadFromFiles(s,o||null)}else if(e==="json"){if(!n)throw new Error("JSON file is required");this.log.debug("Loading JSON file",{fileName:n.name});const u=await n.text(),h=JSON.parse(u);if(Array.isArray(h)&&h.length>0&&h[0].source&&h[0].target){this.log.debug("Detected raw edge list array format");const f=new Set;h.forEach(p=>{f.add(p.source),f.add(p.target)}),r={nodes:Array.from(f).map(p=>({id:String(p),group:1})),edges:h.map(p=>({source:String(p.source),target:String(p.target),weight:p.weight||1}))}}else r=Jd.fromFormat(h)}else if(e==="networkx"){if(!n)throw new Error("NetworkX JSON file is required");this.log.debug("Loading NetworkX file",{fileName:n.name});const u=await n.text(),h=JSON.parse(u);r=_x.fromFormat(h)}else throw new Error(`Unknown format: ${e}`);this.log.info("Parsed graph data",{nodes:r.nodes.length,edges:r.edges.length});const i=r.nodes.map(u=>({...u,id:String(u.id),group:u.group||1})),a=r.edges.map(u=>({source:String(u.source),target:String(u.target),weight:u.weight||1}));this.graphManager.loadData(i,a);const c=n?.name||s?.name||"uploaded file",d=this.translate("explorer.messages.loadedFile",{fileName:c,nodes:i.length,edges:a.length});return this.log.info("Uploaded network loaded successfully",{fileName:c,nodeCount:i.length,edgeCount:a.length}),this._updateStatus(d,"success"),{success:!0,data:{nodes:i,links:a},name:c,nodeCount:i.length,edgeCount:a.length,description:`Uploaded ${e.toUpperCase()} file`,useWorkers:i.length>=500&&this.workersSupported}}catch(r){const i=this.translate("explorer.messages.failedToLoadFile",{error:r.message});return this.log.error("Failed to load uploaded network",{format:e,error:r.message,stack:r.stack}),this._updateStatus(i,"error"),{success:!1,error:r.message}}}async analyzeGraph(e=["degree","eigenvector"],s=null){try{this.log.debug("Starting graph analysis",{metrics:e,sizeMetric:s}),this._updateStatus(this.translate("explorer.messages.analyzingNetwork"),"info");const o=await this.graphManager.analyzeGraph(e,{includeGraphStats:!0,graphStats:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]});if(o){const n=o.nodes.length,r=o.links.length,i=(2*r/n).toFixed(2);s&&o.nodes.some(c=>c[s]!==void 0)&&this.graphManager.updateVisualEncoding({sizeBy:s,minRadius:4,maxRadius:20});const a=this.translate("explorer.messages.analysisComplete",{count:n});return this.log.info("Graph analysis complete",{nodeCount:n,metrics:e,hasGraphStats:!!o.graphStats}),this._updateStatus(a,"success"),{success:!0,results:o,nodeCount:n,linkCount:r,avgDegree:i,metrics:e,graphStats:o.graphStats||{average_degree:parseFloat(i)}}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(o){const n=this.translate("explorer.messages.analysisFailed",{error:o.message});return this.log.error("Graph analysis failed",{error:o.message,stack:o.stack,metrics:e}),this._updateStatus(n,"error"),{success:!1,error:o.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("explorer.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(this.translate("explorer.messages.applyingLayout",{layout:e}),"info"),await this.graphManager.applyLayout(e)){const o=this.translate("explorer.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(o,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const o=this.translate("explorer.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(o,"error"),{success:!1,error:s.message}}}async detectCommunities(e){if(!this.graphManager.graphInstance.value)return this._updateStatus(this.translate("explorer.messages.graphNotInitialized"),"error"),null;if(this.graphManager.getNodeIds().length===0)return this._updateStatus(this.translate("explorer.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(this.translate("explorer.messages.detectingCommunities",{algorithm:e}),"info");const o=await this.graphManager.detectCommunities(e);if(o){const n=this.translate("explorer.messages.foundCommunities",{count:o.numCommunities,modularity:o.modularity.toFixed(3)});return this._updateStatus(n,"success"),o}else return this._updateStatus(this.translate("explorer.messages.communityDetectionFailed"),"error"),null}catch(o){return this.log.error("Community detection failed",{algorithmId:e,error:o.message,stack:o.stack}),this._updateStatus(this.translate("explorer.messages.analysisFailed",{error:o.message}),"error"),null}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}getWorkerInfo(){return{supported:this.workersSupported,count:this.workerCount}}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}}const Pw={class:"demo-controls-header"},Dw={class:"demo-controls-title"},Gw={class:"demo-controls-description"},Mw={class:"info-box-blue mb-4"},Fw={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},zw=["innerHTML"],Bw={class:"flex items-center gap-2 text-xs"},$w={key:0},Ow={key:1},Vw={key:0,class:"badge badge-yellow"},Hw={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 shadow-sm"},Ww={class:"demo-controls-section-title mb-3"},Uw={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},Zw={key:0,class:"text-secondary text-center py-2"},jw={class:"text-xs"},Xw={class:"text-xs mt-1 opacity-60"},Yw={key:1,class:"space-y-2"},Jw={class:"flex-shrink-0 mt-0.5"},Kw={key:0},qw={key:1},Qw={key:2},e_={class:"flex-1 break-words"},t_={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},s_={class:"demo-controls-section-title"},o_={class:"flex gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-4"},n_={class:"space-y-2"},r_={class:"block text-sm font-medium text-secondary"},i_={value:""},a_={value:"caruaru"},l_={value:"rj"},c_={value:"niteroi"},d_=["disabled"],u_={key:0},h_={key:1},f_={class:"space-y-3"},g_={class:"space-y-2"},p_={class:"block text-sm font-medium text-secondary"},m_={value:"json"},y_={value:"csv"},b_={value:"networkx"},v_={class:"space-y-2"},x_={class:"block text-sm font-medium text-secondary"},w_={class:"block text-sm font-medium text-secondary mt-2"},__=["innerHTML"],C_={class:"space-y-2"},k_={class:"block text-sm font-medium text-secondary"},A_={key:0},N_={key:1},S_={key:0,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},I_={key:1,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},T_=["disabled"],L_={key:0},E_={key:1},R_={key:0,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},P_={class:"demo-controls-section-title"},D_={class:"metrics-grid-row mb-3"},G_={class:"metric-card"},M_={class:"text-xs text-secondary"},F_={class:"text-xl font-bold text-purple-600 dark:text-purple-400"},z_={class:"metric-card"},B_={class:"text-xs text-secondary"},$_={class:"text-xl font-bold text-pink-600 dark:text-pink-400"},O_={class:"metric-card"},V_={class:"text-xs text-secondary"},H_={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},W_={class:"metric-card"},U_={class:"text-xs text-secondary"},Z_={class:"text-xl font-bold text-green-600 dark:text-green-400"},j_={key:0,class:"metric-card"},X_={class:"text-xs text-secondary"},Y_={class:"text-xl font-bold text-orange-600 dark:text-orange-400"},J_={key:1,class:"metric-card"},K_={class:"text-xs text-secondary"},q_={class:"text-xl font-bold text-cyan-600 dark:text-cyan-400"},Q_={key:0,class:"info-box-green text-xs"},eC={class:"font-semibold text-green-800 dark:text-green-300"},tC={class:"text-green-700 dark:text-green-400"},sC={key:1,class:"info-box-yellow text-xs"},oC={class:"font-semibold text-yellow-800 dark:text-yellow-300"},nC={class:"text-yellow-700 dark:text-yellow-400"},rC={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},iC={class:"demo-controls-section-title"},aC={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},lC={class:"demo-controls-section-title"},cC={class:"info-box-yellow mt-3"},dC={class:"text-xs text-yellow-800 dark:text-yellow-200"},uC={key:0,class:"italic"},hC={key:1,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},fC={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-700"},gC={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-2"},pC={class:"space-y-2"},mC={class:"flex justify-between items-center"},yC={class:"text-sm text-blue-800 dark:text-blue-200"},bC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},vC={class:"flex justify-between items-center"},xC={class:"text-sm text-blue-800 dark:text-blue-200"},wC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},_C={class:"flex justify-between items-center"},CC={class:"text-sm text-blue-800 dark:text-blue-200"},kC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},AC={class:"flex justify-between items-center"},NC={class:"text-sm text-blue-800 dark:text-blue-200"},SC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},IC={class:"flex justify-between items-center"},TC={class:"text-sm text-blue-800 dark:text-blue-200"},LC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},EC={class:"flex justify-between items-center"},RC={class:"text-sm text-blue-800 dark:text-blue-200"},PC={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},DC={class:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700"},GC={class:"text-xs text-blue-700 dark:text-blue-300"},MC={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},FC={class:"demo-controls-section-title"},zC={key:2,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},BC={class:"bg-gradient-to-br from-orange-50 to-pink-50 dark:from-orange-900/30 dark:to-pink-900/30 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-700"},$C={class:"text-sm font-semibold text-orange-900 dark:text-orange-300 mb-3 flex items-center gap-2"},OC={class:"space-y-2"},VC={class:"flex justify-between items-center"},HC={class:"text-sm text-orange-800 dark:text-orange-200"},WC={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},UC={class:"flex justify-between items-center"},ZC={class:"text-sm text-orange-800 dark:text-orange-200"},jC={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},XC={class:"flex justify-between items-center"},YC={class:"text-sm text-orange-800 dark:text-orange-200"},JC={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},KC={class:"flex justify-between items-center"},qC={class:"text-sm text-orange-800 dark:text-orange-200"},QC={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},ek={class:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-700"},tk={class:"text-xs text-orange-700 dark:text-orange-300"},sk={class:"info-box-purple"},ok={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},nk={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},rk=["innerHTML"],ik=["innerHTML"],ak=["innerHTML"],lk=["innerHTML"],ck=["innerHTML"],dk=["innerHTML"],uk={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},hk={class:"text-center"},fk={class:"text-secondary"},gk={__name:"ExplorerPage",setup(t){const e=$e({prefix:"ExplorerPage",level:"info"}),{t:s}=Dt(),o=$i(),{graphContainer:n,graphInstance:r,loading:i,loadData:a,analysisProgress:c,analyzeGraph:d,applyLayout:u,getAvailableLayouts:h,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:b,unlockPositions:k}=o,w=re("sample"),A=re(""),I=re("json"),x=re(null),D=re(null),Z=re(null),H=re("none"),Q=re([]),W=re([]),Y=re(""),V=re("louvain"),R=re([]),M=re(!1),C=re(!1),G=re(!1),T=re(""),F=re("info"),U=re("Loading graph..."),oe=re(null),ce=re("-"),X=re(!1),ie=re(null),Se=re(!1),we=re(!1),ae=re({nodes:0,edges:0,avgDegree:0,analysisTime:"-",communities:null,modularity:null}),ge=re({type:"default",message:"Select a network to begin...",details:null});let S=null;const q=re({supported:typeof Worker<"u",count:navigator.hardwareConcurrency||4}),ee=tt(()=>I.value==="csv"?x.value!==null:Z.value!==null),ue=(L,E)=>{T.value=L,F.value=E},de=(L,E,P=null)=>{ge.value={type:L,message:E,details:P}},v=()=>{const L={graphInstance:r,loadData:a,analyzeGraph:d,applyLayout:u,getAvailableLayouts:h,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:b,unlockPositions:k};S=new Rw({graphManager:L,onStatusChange:ue,translate:(E,P)=>s(E,P)}),Q.value=S.getAvailableLayouts(),R.value=S.getAvailableCommunityAlgorithms(),r.value&&(r.value.on("nodeHover",E=>{de("node-hover",`Node: ${E.id}`,{id:E.id,group:E.group||1,community:X.value?E.community:null,centrality:E.centrality?.toFixed(4)||"N/A",degree:E.degree||"N/A",betweenness:E.betweenness?.toFixed(4),clustering:E.clustering?.toFixed(3),eigenvector:E.eigenvector?.toFixed(4),closeness:E.closeness?.toFixed(4),egoDensity:E["ego-density"]?.toFixed(3),cliques:E.cliques})}),r.value.on("nodeLeave",()=>{M.value?de("default","Hover over a node to see details..."):de("default","Select a network to begin...")})),_()},_=()=>{const L={nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]};a(L.nodes,L.links),M.value=!0,ae.value={nodes:L.nodes.length,edges:L.links.length,avgDegree:(2*L.links.length/L.nodes.length).toFixed(2),analysisTime:"-",communities:null,modularity:null},de("default","Default network loaded. Hover over a node to see details...")},N=async()=>{if(!(!S||!A.value))try{i.value=!0,U.value=`Loading ${A.value} network...`,de("loading","Loading network data...");const L=await S.loadSampleNetwork(A.value);L.success?(M.value=!0,we.value=L.useWorkers||!1,ae.value={nodes:L.nodeCount,edges:L.edgeCount,avgDegree:(2*L.edgeCount/L.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},de("success",`Loaded: ${L.name}`,{nodes:L.nodeCount,edges:L.edgeCount,description:L.description})):(i.value=!1,de("error",`Failed to load network: ${L.error||"Unknown error"}`))}catch(L){e.error("Failed to load sample network",{error:L.message,stack:L.stack}),i.value=!1,de("error",`Failed to load network: ${L.message}`)}},B=async()=>{if(!(!S||!ee.value))try{i.value=!0,U.value="Loading uploaded file...",de("loading","Loading uploaded file...");const L=await S.loadUploadedNetwork(I.value,x.value,D.value,Z.value);L.success?(M.value=!0,we.value=L.useWorkers||!1,ae.value={nodes:L.nodeCount,edges:L.edgeCount,avgDegree:(2*L.edgeCount/L.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},de("success",`Loaded: ${L.name}`,{nodes:L.nodeCount,edges:L.edgeCount,description:L.description})):(i.value=!1,de("error",`Failed to load file: ${L.error||"Unknown error"}`))}catch(L){e.error("Failed to load uploaded network",{error:L.message,stack:L.stack}),i.value=!1,de("error",`Failed to load file: ${L.message}`)}},$=async()=>{if(!(!S||!M.value))try{C.value=!0,U.value="Analyzing network using workers...",de("loading","Running network analysis...");const L=performance.now(),E=await S.analyzeGraph(W.value,Y.value),P=performance.now()-L;E.success&&(ae.value.analysisTime=`${(P/1e3).toFixed(2)}s`,E.graphStats&&(ie.value=E.graphStats,Se.value=!0),de("success","Analysis complete",{nodes:E.nodeCount,edges:E.linkCount,time:ae.value.analysisTime,metric:Y.value||W.value[0]}))}catch(L){e.error("Analysis error",{error:L.message,stack:L.stack}),de("error",`Analysis failed: ${L.message}`)}finally{C.value=!1}},z=async()=>{if(!(!S||!M.value))try{U.value=`Applying ${H.value} layout...`,T.value=`Applying ${H.value} layout...`,F.value="info";const L=await S.applyLayout(H.value);if(L.success)T.value=` Applied ${H.value} layout`,F.value="success",de("layout-applied",`Layout Applied: ${H.value}`,{description:H.value==="none"?"Using D3's built-in force simulation":"Nodes fixed in position (D3 physics disabled)"});else{const E=L.error||"Layout application failed";T.value=` ${E}`,F.value="error",de("error",`Layout failed: ${E}`)}}catch(L){e.error("Layout error",{error:L.message,stack:L.stack});const E=L.message||"Layout failed";T.value=` ${E}`,F.value="error",de("error",`Layout failed: ${E}`)}},se=async()=>{if(!(!S||!M.value))try{G.value=!0,U.value=`Detecting communities using ${V.value}...`,de("loading","Detecting communities...");const L=performance.now(),E=await S.detectCommunities(V.value),P=performance.now()-L;E&&(oe.value=E,ce.value=`${(P/1e3).toFixed(2)}s`,X.value=!0,ae.value.communities=E.numCommunities,ae.value.modularity=E.modularity.toFixed(3),de("default","Hover over a node to see details..."))}catch(L){e.error("Community detection error",{error:L.message,stack:L.stack}),de("error",`Community detection failed: ${L.message}`)}finally{G.value=!1}};return pt(r,L=>{L&&!S&&v()},{immediate:!0}),(L,E)=>(O(),us(_i,null,{controls:Fe(()=>[l("div",Pw,[l("h1",Dw,m(g(s)("explorer.header.title")),1),l("p",Gw,m(g(s)("explorer.header.subtitle")),1)]),l("div",Mw,[l("h2",Fw,m(g(s)("explorer.parallelComputation.title")),1),l("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-3",innerHTML:g(s)("explorer.parallelComputation.description")},null,8,zw),l("div",Bw,[l("span",{class:dt(q.value.supported?"badge badge-green":"badge badge-red")},[q.value.supported?(O(),j("span",$w,m(g(s)("explorer.parallelComputation.workersSupported")),1)):(O(),j("span",Ow,m(g(s)("explorer.parallelComputation.workersNotSupported")),1))],2),q.value.supported?(O(),j("span",Vw,m(q.value.count)+" "+m(g(s)("explorer.parallelComputation.cores")),1)):Te("",!0)])]),l("div",Hw,[l("h2",Ww,m(g(s)("explorer.status.title")),1),l("div",Uw,[T.value?(O(),j("div",Yw,[l("div",{class:dt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":F.value==="success","text-red-600 dark:text-red-400":F.value==="error","text-blue-600 dark:text-blue-400":F.value==="info"})},[l("div",Jw,[F.value==="success"?(O(),j("span",Kw,"")):F.value==="error"?(O(),j("span",qw,"")):(O(),j("span",Qw,""))]),l("div",e_,m(T.value),1)],2)])):(O(),j("div",Zw,[l("div",jw,m(g(s)("explorer.status.ready")),1),l("div",Xw,m(g(s)("explorer.status.loadNetwork")),1)]))])]),l("div",t_,[l("h2",s_,m(g(s)("explorer.dataLoading.title")),1),l("div",o_,[l("button",{onClick:E[0]||(E[0]=P=>w.value="sample"),class:dt([w.value==="sample"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},m(g(s)("explorer.dataLoading.sampleNetworks")),3),l("button",{onClick:E[1]||(E[1]=P=>w.value="upload"),class:dt([w.value==="upload"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},m(g(s)("explorer.dataLoading.uploadFile")),3)]),et(l("div",n_,[l("label",r_,m(g(s)("explorer.dataLoading.chooseNetwork")),1),et(l("select",{"onUpdate:modelValue":E[2]||(E[2]=P=>A.value=P),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[l("option",i_,m(g(s)("explorer.dataLoading.chooseCity")),1),l("option",a_,m(g(s)("explorer.dataLoading.caruaru")),1),l("option",l_,m(g(s)("explorer.dataLoading.rj")),1),l("option",c_,m(g(s)("explorer.dataLoading.niteroi")),1)],512),[[Zs,A.value]]),l("button",{onClick:N,disabled:!A.value||g(i),class:"w-full btn-primary mt-3"},[g(i)?(O(),j("span",h_,m(g(s)("explorer.dataLoading.loading")),1)):(O(),j("span",u_,m(g(s)("explorer.dataLoading.loadNetwork")),1))],8,d_)],512),[[Yo,w.value==="sample"]]),et(l("div",f_,[l("div",g_,[l("label",p_,m(g(s)("explorer.dataLoading.fileFormat")),1),et(l("select",{"onUpdate:modelValue":E[3]||(E[3]=P=>I.value=P),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[l("option",m_,m(g(s)("explorer.dataLoading.formatJSON")),1),l("option",y_,m(g(s)("explorer.dataLoading.formatCSV")),1),l("option",b_,m(g(s)("explorer.dataLoading.formatNetworkX")),1)],512),[[Zs,I.value]])]),et(l("div",v_,[l("label",x_,m(g(s)("explorer.dataLoading.edgesCSV")),1),l("input",{type:"file",accept:".csv",onChange:E[4]||(E[4]=P=>x.value=P.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),l("label",w_,m(g(s)("explorer.dataLoading.nodesCSV")),1),l("input",{type:"file",accept:".csv",onChange:E[5]||(E[5]=P=>D.value=P.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),l("div",{class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2",innerHTML:g(s)("explorer.dataLoading.edgeCSVFormat")},null,8,__)],512),[[Yo,I.value==="csv"]]),et(l("div",C_,[l("label",k_,[I.value==="json"?(O(),j("span",A_,m(g(s)("explorer.dataLoading.jsonFile")),1)):(O(),j("span",N_,m(g(s)("explorer.dataLoading.networkxFile")),1))]),l("input",{type:"file",accept:".json",onChange:E[6]||(E[6]=P=>Z.value=P.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),I.value==="json"?(O(),j("div",S_,m(g(s)("explorer.dataLoading.jsonSupports")),1)):(O(),j("div",I_,m(g(s)("explorer.dataLoading.networkxSupports")),1))],512),[[Yo,I.value==="json"||I.value==="networkx"]]),l("button",{onClick:B,disabled:!ee.value||g(i),class:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[g(i)?(O(),j("span",E_,m(g(s)("explorer.dataLoading.loading")),1)):(O(),j("span",L_,m(g(s)("explorer.dataLoading.loadUploadedFile")),1))],8,T_)],512),[[Yo,w.value==="upload"]])]),M.value?(O(),j("div",R_,[l("h2",P_,m(g(s)("explorer.networkStats.title")),1),l("div",D_,[l("div",G_,[l("div",M_,m(g(s)("explorer.networkStats.nodes")),1),l("div",F_,m(ae.value.nodes),1)]),l("div",z_,[l("div",B_,m(g(s)("explorer.networkStats.edges")),1),l("div",$_,m(ae.value.edges),1)]),l("div",O_,[l("div",V_,m(g(s)("explorer.networkStats.avgDegree")),1),l("div",H_,m(ae.value.avgDegree),1)]),l("div",W_,[l("div",U_,m(g(s)("explorer.networkStats.analysisTime")),1),l("div",Z_,m(ae.value.analysisTime),1)]),ae.value.communities?(O(),j("div",j_,[l("div",X_,m(g(s)("explorer.networkStats.communities")),1),l("div",Y_,m(ae.value.communities),1)])):Te("",!0),ae.value.modularity?(O(),j("div",J_,[l("div",K_,m(g(s)("explorer.networkStats.modularity")),1),l("div",q_,m(ae.value.modularity),1)])):Te("",!0)]),we.value?(O(),j("div",Q_,[l("span",eC,m(g(s)("explorer.networkStats.usingParallel")),1),l("span",tC," - "+m(q.value.count)+" "+m(g(s)("explorer.networkStats.workersActive")),1)])):Te("",!0),!we.value&&M.value?(O(),j("div",sC,[l("span",oC,m(g(s)("explorer.networkStats.singleThreaded")),1),l("span",nC," - "+m(g(s)("explorer.networkStats.networkTooSmall")),1)])):Te("",!0)])):Te("",!0),l("div",rC,[l("h2",iC,m(g(s)("explorer.networkAnalysis.title")),1),xe(ki,{"selected-metrics":W.value,"onUpdate:selectedMetrics":E[7]||(E[7]=P=>W.value=P),"size-metric":Y.value,"onUpdate:sizeMetric":E[8]||(E[8]=P=>Y.value=P),analyzing:C.value,disabled:!M.value,progress:g(c),"show-spectral-metric":!0,onAnalyze:$},null,8,["selected-metrics","size-metric","analyzing","disabled","progress"])]),l("div",aC,[l("h2",lC,m(g(s)("explorer.layoutAlgorithm.title")),1),xe(Ci,{modelValue:H.value,"onUpdate:modelValue":E[9]||(E[9]=P=>H.value=P),"available-layouts":Q.value,loading:g(i),disabled:!M.value,onApply:z},null,8,["modelValue","available-layouts","loading","disabled"]),l("div",cC,[l("p",dC,[(O(!0),j(Pe,null,cs(Q.value,P=>(O(),j("div",{key:P.id},[l("strong",null,m(P.name)+":",1),be(" "+m(P.description)+" ",1),P.requiresStats?(O(),j("span",uC," ("+m(g(s)("explorer.layoutAlgorithm.requiresAnalysis"))+")",1)):Te("",!0),E[11]||(E[11]=l("br",null,null,-1))]))),128))])])]),Se.value?(O(),j("div",hC,[l("div",fC,[l("h3",gC,m(g(s)("explorer.graphStats.title")),1),l("div",pC,[l("div",mC,[l("span",yC,m(g(s)("explorer.graphStats.density")),1),l("span",bC,m(ie.value?.density?.toFixed(4)||"-"),1)]),l("div",vC,[l("span",xC,m(g(s)("explorer.graphStats.diameter")),1),l("span",wC,m(ie.value?.diameter===1/0?"":ie.value?.diameter||"-"),1)]),l("div",_C,[l("span",CC,m(g(s)("explorer.graphStats.avgClustering")),1),l("span",kC,m(ie.value?.average_clustering?.toFixed(4)||"-"),1)]),l("div",AC,[l("span",NC,m(g(s)("explorer.graphStats.avgPathLength")),1),l("span",SC,m(ie.value?.average_shortest_path===1/0?"":ie.value?.average_shortest_path?.toFixed(2)||"-"),1)]),l("div",IC,[l("span",TC,m(g(s)("explorer.graphStats.components")),1),l("span",LC,m(ie.value?.connected_components||"-"),1)]),l("div",EC,[l("span",RC,m(g(s)("explorer.graphStats.avgDegree")),1),l("span",PC,m(ie.value?.average_degree?.toFixed(2)||"-"),1)])]),l("div",DC,[l("p",GC,m(g(s)("explorer.graphStats.calculated")),1)])])])):Te("",!0),l("div",MC,[l("h2",FC,m(g(s)("explorer.communityDetection.title")),1),xe(cd,{modelValue:V.value,"onUpdate:modelValue":E[10]||(E[10]=P=>V.value=P),"available-algorithms":R.value,detecting:G.value,disabled:!M.value,label:g(s)("explorer.communityDetection.algorithm"),onDetect:se},null,8,["modelValue","available-algorithms","detecting","disabled","label"])]),X.value?(O(),j("div",zC,[l("div",BC,[l("h3",$C,m(g(s)("explorer.communityResults.title")),1),l("div",OC,[l("div",VC,[l("span",HC,m(g(s)("explorer.communityResults.communitiesFound")),1),l("span",WC,m(oe.value?.numCommunities||"-"),1)]),l("div",UC,[l("span",ZC,m(g(s)("explorer.communityResults.modularityScore")),1),l("span",jC,m(oe.value?.modularity?.toFixed(3)||"-"),1)]),l("div",XC,[l("span",YC,m(g(s)("explorer.communityResults.computationTime")),1),l("span",JC,m(ce.value||"-"),1)]),l("div",KC,[l("span",qC,m(g(s)("explorer.communityResults.algorithm")),1),l("span",QC,m(V.value),1)])]),l("div",ek,[l("p",tk,m(g(s)("explorer.communityResults.nodeColorsRepresent")),1)])])])):Te("",!0),l("div",sk,[l("h3",ok,m(g(s)("explorer.instructions.title")),1),l("ul",nk,[l("li",{innerHTML:g(s)("explorer.instructions.dragNodes")},null,8,rk),l("li",{innerHTML:g(s)("explorer.instructions.scroll")},null,8,ik),l("li",{innerHTML:g(s)("explorer.instructions.dragBackground")},null,8,ak),l("li",{innerHTML:g(s)("explorer.instructions.hoverNodes")},null,8,lk),l("li",{innerHTML:g(s)("explorer.instructions.nodeSize")},null,8,ck),l("li",{innerHTML:g(s)("explorer.instructions.color")},null,8,dk)])])]),graph:Fe(()=>[g(i)?(O(),j("div",uk,[l("div",hk,[E[12]||(E[12]=l("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),l("p",fk,m(U.value),1)])])):Te("",!0),l("div",{ref_key:"graphContainer",ref:n,class:"w-full h-full"},null,512)]),_:1}))}},pk=Bo(gk,[["__scopeId","data-v-21110043"]]),mk=["aria-labelledby"],yk={class:"px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-700"},bk=["id"],vk={class:"px-6 py-4"},xk={class:"space-y-4"},wk=["for"],_k={key:0,class:"text-red-500"},Ck=["id","onUpdate:modelValue","required"],kk=["id","onUpdate:modelValue","required"],Ak={value:"",disabled:""},Nk=["value"],Sk=["aria-labelledby"],Ik=["name","value","onUpdate:modelValue","required"],Tk={class:"text-2xl"},Lk={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ek=["id","onUpdate:modelValue","placeholder","required"],Rk={__name:"DialogForm",props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},fields:{type:Array,required:!0,default:()=>[]}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=t,o=e,{t:n}=Dt(),r=`dialog-${Math.random().toString(36).substr(2,9)}`,i=re([]),a=()=>{i.value=s.fields.map(()=>"")},c=()=>{if(!s.fields.every((h,f)=>!(h.required&&!i.value[f]?.trim()))){alert("Please fill in all required fields");return}o("confirm",[...i.value])},d=()=>{a(),o("cancel")};return pt(()=>s.visible,u=>{u&&(a(),qs(()=>{const h=document.querySelector("#field-0");h&&(h.focus(),h.tagName==="INPUT"&&h.select())}))}),Qs(()=>{a()}),(u,h)=>(O(),us(Wu,{to:"body"},[t.visible?(O(),j("div",{key:0,class:"dialog-overlay fixed inset-0 z-[9999] flex items-center justify-center",style:{"z-index":"9999 !important",position:"fixed !important"},onClick:jc(d,["self"])},[h[0]||(h[0]=l("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",style:{"z-index":"9998"}},null,-1)),l("div",{class:"dialog-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",style:{"z-index":"10000 !important",position:"relative !important"},role:"dialog","aria-modal":"true","aria-labelledby":`dialog-title-${r}`},[l("div",yk,[l("h3",{id:`dialog-title-${r}`,class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},m(t.title),9,bk)]),l("div",vk,[l("div",xk,[(O(!0),j(Pe,null,cs(t.fields,(f,p)=>(O(),j("div",{key:p,class:"space-y-2"},[l("label",{for:`field-${p}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[be(m(f.label)+" ",1),f.required?(O(),j("span",_k,"*")):Te("",!0)],8,wk),f.type==="text"||!f.type?et((O(),j("input",{key:0,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:[no(c,["enter"]),no(d,["esc"])]},null,40,Ck)),[[Ta,i.value[p]]]):f.type==="select"?et((O(),j("select",{key:1,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:no(d,["esc"])},[l("option",Ak,m(g(n)("family.dialogs.selectOption")),1),(O(!0),j(Pe,null,cs(f.options,y=>(O(),j("option",{key:y.value,value:y.value},m(y.text),9,Nk))),128))],40,kk)),[[Zs,i.value[p]]]):f.type==="radio"?(O(),j("div",{key:2,class:"flex flex-wrap gap-2",role:"radiogroup","aria-labelledby":`field-${p}-label`},[(O(!0),j(Pe,null,cs(f.options,y=>(O(),j("label",{key:y.value,class:dt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":i.value[p]===y.value,"border-gray-300 dark:border-gray-600 hover:border-green-300":i.value[p]!==y.value}])},[et(l("input",{type:"radio",name:`field-${p}`,value:y.value,"onUpdate:modelValue":b=>i.value[p]=b,required:f.required,class:"text-green-600 focus:ring-green-500"},null,8,Ik),[[$r,i.value[p]]]),l("span",Tk,m(y.emoji),1),l("span",Lk,m(y.text),1)],2))),128))],8,Sk)):f.type==="emoji"?et((O(),j("input",{key:3,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",placeholder:f.placeholder||"Type an emoji ",required:f.required,maxlength:"10",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-2xl text-center",onKeyup:[no(c,["enter"]),no(d,["esc"])]},null,40,Ek)),[[Ta,i.value[p]]]):Te("",!0)]))),128))])]),l("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3"},[l("button",{type:"button",onClick:d,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors"}," Cancel "),l("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"}," OK ")])],8,mk)])):Te("",!0)]))}},Pk=Bo(Rk,[["__scopeId","data-v-8db90550"]]),te={YOU:1,PARENT:2,SIBLING:3,UNCLE_AUNT:4,COUSIN:5,GRANDPARENT:6,NIECE_NEPHEW:7,CHILD:8,PARTNER:9},je={MALE:"male",FEMALE:"female",OTHER:"other"},Cr={[je.MALE]:"",[je.FEMALE]:"",[je.OTHER]:""},Dk={[te.YOU]:"#6366f1",[te.PARENT]:"#ec4899",[te.SIBLING]:"#3b82f6",[te.UNCLE_AUNT]:"#f97316",[te.COUSIN]:"#a855f7",[te.GRANDPARENT]:"#b45309",[te.NIECE_NEPHEW]:"#06b6d4",[te.CHILD]:"#14b8a6",[te.PARTNER]:"#f43f5e"};function Ds(t,e=null){const s=e===je.FEMALE,o=e===je.MALE||e===je.OTHER;switch(t){case te.YOU:return"You";case te.PARENT:return s?"Mother":o?"Father":"Parent";case te.SIBLING:return s?"Sister":o?"Brother":"Sibling";case te.UNCLE_AUNT:return s?"Aunt":o?"Uncle":"Uncle/Aunt";case te.COUSIN:return"Cousin";case te.GRANDPARENT:return s?"Grandmother":o?"Grandfather":"Grandparent";case te.NIECE_NEPHEW:return s?"Niece":o?"Nephew":"Niece/Nephew";case te.CHILD:return s?"Daughter":o?"Son":"Child";case te.PARTNER:return s?"Wife":o?"Husband":"Partner/Spouse";default:return"Relative"}}const Gk={nodes:[{id:"YOU",group:te.YOU,relationship:"You"}],links:[]},kr="familyTree";function Tl(t){return typeof t=="string"?t:t?.id||String(t)}class Mk{constructor(e,s=o=>o){this.getGraphInstance=e,this.t=s}canAddParents(){const e=this.getGraphInstance();if(!e?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const s=e.data.nodes.filter(o=>o.group===te.PARENT);return s.length>=2?{canAdd:!1,existingCount:s.length,message:this.t("family.operations.validation.maxParents")}:{canAdd:!0,existingCount:s.length,remainingSlots:2-s.length}}canAddGrandparents(e){const s=this.getGraphInstance();if(!s?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const n=s.data.links.filter(r=>Tl(r.target)===e).map(r=>{const i=Tl(r.source);return s.data.nodes.find(a=>a.id===i)}).filter(r=>r&&r.group===te.GRANDPARENT);return n.length>=2?{canAdd:!1,existingCount:n.length,message:`${e} already has 2 grandparents. Cannot add more.`}:{canAdd:!0,existingCount:n.length,remainingSlots:2-n.length}}hasPartner(e){const s=this.getGraphInstance();return s?.data?s.data.nodes.filter(n=>n.group===te.PARTNER&&n.partnerOf===e).length>0:!1}getEligibleParents(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const o=s.group;return o!==te.GRANDPARENT&&o!==te.UNCLE_AUNT&&o!==te.PARENT}):[]}getEligibleForPartner(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const o=s.group;return(o===te.YOU||o===te.SIBLING||o===te.COUSIN||o===te.UNCLE_AUNT||o===te.NIECE_NEPHEW||o===te.CHILD)&&!this.hasPartner(s.id)}):[]}}function Me(t){return typeof t=="string"?t:t?.id||String(t)}class Fk{constructor(e,s,o,n){this.graphManager=e,this.getGraphInstance=s,this.validation=o,this.saveFamily=n}addNodeWithRelationship(e,s,o,n=null,r=null,i=null){const a=i||Ds(o,n),c=this.getGraphInstance(),d=this.graphManager.addNode(e,s,o,!0);if(d&&typeof d.then=="function")return d.then(h=>(this._setNodeProperties(h,a,n,r,c),h));const u=d;return this._setNodeProperties(u,a,n,r,c),u}_setNodeProperties(e,s,o,n,r){this._setNodeProperty(e,"relationship",s,r),o&&this._setNodeProperty(e,"gender",o,r),n&&this._setNodeProperty(e,"avatar",n,r),requestAnimationFrame(()=>{if(r?.data){const i=r.data.nodes.find(a=>a.id===e.id);i&&(i.relationship||(i.relationship=s),o&&!i.gender&&(i.gender=o),n&&!i.avatar&&(i.avatar=n),n&&r.options?.renderMode==="avatars"&&this._updateNodeAvatarElement(e.id,n,r))}})}_updateNodeAvatarElement(e,s,o){o?.nodeGroup&&o.nodeGroup.selectAll("text").filter(n=>n.id===e).text(s)}_setNodeProperty(e,s,o,n){if(e&&(e[s]=o,n?.data)){let r=n.data.nodes.find(i=>i.id===e.id);r?(r[s]=o,r!==e&&(e[s]=o)):requestAnimationFrame(()=>{if(n?.data){const i=n.data.nodes.find(a=>a.id===e.id);i&&(i[s]=o)}})}}_setRelationshipOnNode(e,s,o){this._setNodeProperty(e,"relationship",s,o),requestAnimationFrame(()=>{if(o?.data){const n=o.data.nodes.find(r=>r.id===e.id);n&&!n.relationship&&(n.relationship=s)}})}addParents(e,s,o=null,n=null){const r=this.validation.canAddParents();if(!r.canAdd)return{success:!1,message:r.message};if(!e?.trim()&&!s?.trim())return{success:!1,message:"At least one parent name is required"};const i=r.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let c=null;e?.trim()&&i>=1&&(c=this.addNodeWithRelationship(["YOU"],e.trim(),te.PARENT,je.FEMALE,o?.trim()||null)?.id||e.trim());let d=null;const u=c?i>=2:i>=1;if(s?.trim()&&u)d=this.addNodeWithRelationship(["YOU"],s.trim(),te.PARENT,je.MALE,n?.trim()||null)?.id||s.trim();else if(s?.trim()&&!u)return{success:!0,message:"Only one parent slot available. Added only the mother."};return c&&d&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(c,d)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addSibling(e,s,o=null){if(!e?.trim())return{success:!1,message:"Sibling name is required"};if(!s)return{success:!1,message:"Gender is required"};const n=this.getGraphInstance();if(!n?.data)return{success:!1,message:"Graph not initialized"};const i=n.data.links.filter(h=>{const f=Me(h.source),p=Me(h.target);return f==="YOU"||p==="YOU"}).map(h=>{const f=Me(h.source),p=Me(h.target);return f==="YOU"?p:f}).map(h=>{const f=n.data.nodes.find(p=>p.id===h);return f&&f.group===te.PARENT?h:null}).filter(h=>h!==null),a=n.data.nodes.filter(h=>h.group===te.SIBLING||h.id==="YOU").map(h=>h.id),c=[];i.length>0?c.push(...i):c.push("YOU"),a.forEach(h=>{c.includes(h)||c.push(h)});const d=this.addNodeWithRelationship(c,e.trim(),te.SIBLING,s,o?.trim()||null);if(!d)return{success:!1,message:"Failed to add sibling"};const u=d.id||e.trim();return this.graphManager.addLink&&a.forEach(h=>{h!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,h,!0)})}),this.saveFamily(),{success:!0}}addGrandparents(e,s,o,n=null,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};const i=this.validation.canAddGrandparents(e);if(!i.canAdd)return{success:!1,message:i.message};if(!s?.trim()&&!o?.trim())return{success:!1,message:"At least one grandparent name is required"};const a=i.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let d=null;s?.trim()&&a>=1&&(d=this.addNodeWithRelationship([e],s.trim(),te.GRANDPARENT,je.FEMALE,n?.trim()||null)?.id||s.trim());let u=null;const h=d?a>=2:a>=1;if(o?.trim()&&h)u=this.addNodeWithRelationship([e],o.trim(),te.GRANDPARENT,je.MALE,r?.trim()||null)?.id||o.trim();else if(o?.trim()&&!h)return{success:!0,message:"Only one grandparent slot available for this parent. Added only the grandmother."};return d&&u&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(d,u)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addUncleAunt(e,s,o,n=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Uncle/aunt name is required"};if(!o)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.links,a=i.filter(p=>(Me(p.source),Me(p.target)===e)).map(p=>{const y=Me(p.source);return r.data.nodes.find(b=>b.id===y)}).filter(p=>p&&p.group===te.GRANDPARENT).map(p=>p.id),c=[];if(a.length>0){const p=i.filter(y=>{const b=Me(y.source);return a.includes(b)}).map(y=>{const b=Me(y.target);return r.data.nodes.find(k=>k.id===b)}).filter(y=>y&&(y.group===te.PARENT||y.group===te.UNCLE_AUNT)).map(y=>y.id);c.push(...p)}else c.push(e);const d=[...new Set(c)],u=[...a,...d],h=this.addNodeWithRelationship(u,s.trim(),te.UNCLE_AUNT,o,n?.trim()||null);if(!h)return{success:!1,message:"Failed to add uncle/aunt"};const f=h.id||s.trim();return this.graphManager.addLink&&d.forEach(p=>{p!==f&&requestAnimationFrame(()=>{this.graphManager.addLink(f,p,!0)})}),this.saveFamily(),{success:!0}}addCousin(e,s,o,n=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Uncle/aunt not found"};if(!o)return{success:!1,message:"Gender is required"};if(!s?.trim())return{success:!1,message:"Cousin name is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(f=>f.group===te.PARTNER&&f.partnerOf===e),a=r.data.links,c=r.data.nodes.filter(f=>{if(f.group!==te.COUSIN)return!1;const p=a.some(y=>{const b=Me(y.source),k=Me(y.target);return b===f.id&&k===e||k===f.id&&b===e});if(i){const y=a.some(b=>{const k=Me(b.source),w=Me(b.target);return k===f.id&&w===i.id||w===f.id&&k===i.id});return p||y}return p}).map(f=>f.id),d=[e];i&&d.push(i.id),c.forEach(f=>{d.includes(f)||d.push(f)});const u=this.addNodeWithRelationship(d,s.trim(),te.COUSIN,o,n?.trim()||null);if(!u)return{success:!1,message:"Failed to add cousin"};const h=u.id||s.trim();return this.graphManager.addLink&&c.forEach(f=>{f!==h&&requestAnimationFrame(()=>{this.graphManager.addLink(h,f,!0)})}),this.saveFamily(),{success:!0}}addChild(e,s,o,n=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Child name is required"};if(!o)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(y=>y.id===e);if(!i)return{success:!1,message:"Parent not found"};let a=te.CHILD;i.group===te.YOU||i.group===te.PARTNER?a=te.CHILD:i.group===te.SIBLING?a=te.NIECE_NEPHEW:a=te.CHILD;const c=r.data.nodes.find(y=>y.group===te.PARTNER&&y.partnerOf===e),d=r.data.links,u=r.data.nodes.filter(y=>{if(y.group!==a)return!1;const b=d.some(k=>{const w=Me(k.source),A=Me(k.target);return w===y.id&&A===e||A===y.id&&w===e});if(c){const k=d.some(w=>{const A=Me(w.source),I=Me(w.target);return A===y.id&&I===c.id||I===y.id&&A===c.id});return b||k}return b}).map(y=>y.id),h=[e];c&&h.push(c.id),u.forEach(y=>{h.includes(y)||h.push(y)});const f=this.addNodeWithRelationship(h,s.trim(),a,o,n?.trim()||null);if(!f)return{success:!1,message:"Failed to add child"};const p=f.id||s.trim();return this.graphManager.addLink&&u.forEach(y=>{y!==p&&requestAnimationFrame(()=>{this.graphManager.addLink(p,y,!0)})}),this.saveFamily(),{success:!0}}addNieceNephew(e,s,o,n=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Sibling not found"};if(!s?.trim())return{success:!1,message:"Niece/nephew name is required"};if(!o)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(f=>f.group===te.PARTNER&&f.partnerOf===e),a=r.data.links,c=r.data.nodes.filter(f=>{if(f.group!==te.NIECE_NEPHEW)return!1;const p=a.some(y=>{const b=Me(y.source),k=Me(y.target);return b===f.id&&k===e||k===f.id&&b===e});if(i){const y=a.some(b=>{const k=Me(b.source),w=Me(b.target);return k===f.id&&w===i.id||w===f.id&&k===i.id});return p||y}return p}).map(f=>f.id),d=[e];i&&d.push(i.id),c.forEach(f=>{d.includes(f)||d.push(f)});const u=this.addNodeWithRelationship(d,s.trim(),te.NIECE_NEPHEW,o,n?.trim()||null);if(!u)return{success:!1,message:"Failed to add niece/nephew"};const h=u.id||s.trim();return this.graphManager.addLink&&c.forEach(f=>{f!==h&&requestAnimationFrame(()=>{this.graphManager.addLink(h,f,!0)})}),this.saveFamily(),{success:!0}}addPartner(e,s,o,n=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Person not found"};if(!s?.trim())return{success:!1,message:"Partner name is required"};if(!o)return{success:!1,message:"Gender is required"};if(this.validation.hasPartner(e))return{success:!1,message:`${e} already has a partner!`};const r=this.getGraphInstance();let i=null;if(r?.data){const d=r.data.nodes.find(u=>u.id===e);if(d){const u=d.relationship||Ds(d.group);u==="You"?i="Your Partner/Spouse":i=`${u}'s Partner`}}const a=this.addNodeWithRelationship([e],s.trim(),te.PARTNER,o,n?.trim()||null,i),c=d=>{this._setNodeProperty(d,"partnerOf",e,r),requestAnimationFrame(()=>{if(r?.data){const u=r.data.nodes.find(h=>h.id===d.id);u&&(u.partnerOf=e)}this.saveFamily()})};return a&&typeof a.then=="function"?a.then(d=>{c(d)}):c(a),{success:!0}}}function Ot(t){return typeof t=="string"?t:t?.id||String(t)}class zk{constructor(e,s,o,n=r=>r){this.getGraphInstance=e,this.onStatusChange=s,this.log=o,this.t=n,this.autoSaveInterval=null,this.autoSaveIntervalMs=3e4}getInitialDataset(){return{...Gk}}loadFamily(){try{const e=localStorage.getItem(kr);if(e){const s=JSON.parse(e);return s.links&&Array.isArray(s.links)&&(s.links=s.links.map(o=>({...o,source:Ot(o.source),target:Ot(o.target)}))),s.nodes&&Array.isArray(s.nodes)&&(s.nodes=s.nodes.filter(o=>o&&o.id),s.nodes.forEach(o=>{if(!o.relationship&&o.group!==void 0)if(o.group===te.PARTNER){const r=(s.links||[]).filter(i=>{const a=Ot(i.source),c=Ot(i.target);return a===o.id||c===o.id});if(r.length>0){const i=r[0],a=Ot(i.source)===o.id?Ot(i.target):Ot(i.source),c=s.nodes.find(d=>d.id===a);if(c){const d=c.relationship||Ds(c.group);d==="You"?o.relationship="Your Partner/Spouse":o.relationship=`${d}'s Partner`}else o.relationship=Ds(o.group)}else o.relationship=Ds(o.group)}else o.relationship=Ds(o.group)})),this.log.debug("Loaded family tree from storage",{nodeCount:s.nodes?.length||0,linkCount:s.links?.length||0}),s}}catch(e){this.log.error("Failed to load family tree",{error:e.message})}return null}saveFamily(){const e=this.getGraphInstance();if(!e?.data){this.log.warn("Cannot save - graph not initialized");return}try{const s=e.data.links.map(r=>({source:Ot(r.source),target:Ot(r.target)})),n={nodes:e.data.nodes.map(r=>{const{id:i,group:a,relationship:c,...d}=r,u={id:i,group:a};return c!==void 0&&(u.relationship=c),d.gender!==void 0&&(u.gender=d.gender),d.avatar!==void 0&&(u.avatar=d.avatar),d.partnerOf!==void 0&&(u.partnerOf=d.partnerOf),d.centrality!==void 0&&(u.centrality=d.centrality),d.community!==void 0&&(u.community=d.community),d.degree!==void 0&&(u.degree=d.degree),d.eigenvector!==void 0&&(u.eigenvector=d.eigenvector),d.betweenness!==void 0&&(u.betweenness=d.betweenness),u}),links:s};localStorage.setItem(kr,JSON.stringify(n)),this.log.debug("Family tree saved",{nodeCount:n.nodes.length,linkCount:n.links.length}),this.showStatus(this.t("family.storage.saved"),"success")}catch(s){this.log.error("Failed to save family tree",{error:s.message}),this.showStatus(this.t("family.storage.error"),"error")}}resetFamily(e,s){const o=!!this.autoSaveInterval;o&&this.stopAutoSave(),localStorage.removeItem(kr);const n=this.getInitialDataset(),r=s.value||s;if(r){const i=()=>{r.off("ready",i),o&&this.startAutoSave(),this.saveFamily()};r.on("ready",i)}e(n.nodes,n.links),this.log.info("Family tree reset"),this.showStatus(this.t("family.storage.reset"),"success")}startAutoSave(){this.autoSaveInterval||(this.autoSaveInterval=setInterval(()=>{document.visibilityState==="visible"&&this.saveFamily()},this.autoSaveIntervalMs),this.log.debug("Auto-save started",{intervalMs:this.autoSaveIntervalMs}))}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null,this.log.debug("Auto-save stopped"))}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}}function Es(t){return[{value:je.MALE,emoji:Cr[je.MALE],text:t("family.dialogs.genderOptions.male")},{value:je.FEMALE,emoji:Cr[je.FEMALE],text:t("family.dialogs.genderOptions.female")},{value:je.OTHER,emoji:Cr[je.OTHER],text:t("family.dialogs.genderOptions.other")}]}const _e={ADD_PARENTS:"addParents",ADD_SIBLING:"addSibling",ADD_GRANDPARENTS:"addGrandparents",ADD_UNCLE_AUNT:"addUncleAunt",ADD_COUSIN:"addCousin",ADD_CHILD:"addChild",ADD_NIECE_NEPHEW:"addNieceNephew",ADD_PARTNER:"addPartner"};class Kd{constructor(e,s,o=n=>n){this.getGraphInstance=e,this.validation=s,this.t=o}getAddParentsDialog(){const e=this.validation.canAddParents();return e&&!e.canAdd?null:{title:this.t("family.dialogs.addParents"),fields:[{label:this.t("family.dialogs.fields.motherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.motherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.mother")},{label:this.t("family.dialogs.fields.fatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.fatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.father")}],action:_e.ADD_PARENTS}}getAddSiblingDialog(){return{title:this.t("family.dialogs.addSibling"),fields:[{label:this.t("family.dialogs.fields.siblingName"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_SIBLING}}getAddGrandparentsDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(n=>n.group===te.PARENT);if(s.length===0)return null;const o=s.map(n=>({value:n.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",n.id)}));return{title:this.t("family.dialogs.addGrandparents"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:o,required:!0},{label:this.t("family.dialogs.fields.grandmotherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandmotherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandmother")},{label:this.t("family.dialogs.fields.grandfatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandfatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandfather")}],action:_e.ADD_GRANDPARENTS}}getAddUncleAuntDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(n=>n.group===te.PARENT);if(s.length===0)return null;const o=s.map(n=>({value:n.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",n.id)}));return{title:this.t("family.dialogs.addUncleAunt"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:o,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_UNCLE_AUNT}}getAddCousinDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(n=>n.group===te.UNCLE_AUNT);if(s.length===0)return null;const o=s.map(n=>({value:n.id,text:this.t("family.dropdownOptions.uncleAuntChildTemplate").replace("{name}",n.id)}));return{title:this.t("family.dialogs.addCousin"),fields:[{label:this.t("family.dialogs.fields.uncleAuntField"),type:"select",options:o,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_COUSIN}}getAddChildDialog(){const e=this.validation.getEligibleParents();if(e.length===0)return null;const s=e.map(o=>{let n="";switch(o.group){case te.YOU:n=this.t("family.dropdownOptions.yourChild");break;case te.SIBLING:n=this.t("family.dropdownOptions.nieceNephewTemplate").replace("{name}",o.id);break;case te.COUSIN:n=this.t("family.dropdownOptions.cousinChildTemplate").replace("{name}",o.id);break;case te.CHILD:n=this.t("family.dropdownOptions.grandchildTemplate").replace("{name}",o.id);break;case te.NIECE_NEPHEW:n=this.t("family.dropdownOptions.childTemplate").replace("{name}",o.id);break;case te.PARTNER:n=this.t("family.dropdownOptions.childTemplate").replace("{name}",o.id);break;default:n=this.t("family.dropdownOptions.childTemplate").replace("{name}",o.id)}return{value:o.id,text:n}});return{title:this.t("family.dialogs.addChild"),fields:[{label:this.t("family.dialogs.fields.parent"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_CHILD}}getAddNieceNephewDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(n=>n.group===te.SIBLING);if(s.length===0)return null;const o=s.map(n=>({value:n.id,text:this.t("family.dropdownOptions.siblingChildTemplate").replace("{name}",n.id)}));return{title:this.t("family.dialogs.addNieceNephew"),fields:[{label:this.t("family.dialogs.fields.sibling"),type:"select",options:o,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_NIECE_NEPHEW}}getAddPartnerDialog(){const e=this.validation.getEligibleForPartner();if(e.length===0)return null;const s=e.map(o=>{let n="";switch(o.group){case te.YOU:n=this.t("family.operations.relationships.yourPartner");break;case te.SIBLING:n=this.t("family.dropdownOptions.siblingPartnerTemplate").replace("{name}",o.id);break;case te.COUSIN:n=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",o.id);break;case te.UNCLE_AUNT:n=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",o.id);break;case te.NIECE_NEPHEW:n=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",o.id);break;case te.CHILD:n=this.t("family.dropdownOptions.childPartnerTemplate").replace("{name}",o.id);break;default:n=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",o.id)}return{value:o.id,text:n}});return{title:this.t("family.dialogs.addPartner"),fields:[{label:this.t("family.dialogs.fields.partnerOf"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:_e.ADD_PARTNER}}getValidationMessage(e){const s=this.getGraphInstance();switch(e){case _e.ADD_PARENTS:return this.validation.canAddParents()?.message||"Cannot add more parents (maximum 2)";case _e.ADD_GRANDPARENTS:return s?.data?.nodes.filter(n=>n.group===te.PARENT)?.length===0?"You must add parents first before adding grandparents":"No parents available";case _e.ADD_UNCLE_AUNT:return s?.data?.nodes.filter(n=>n.group===te.PARENT)?.length===0?"You must add parents first before adding uncles/aunts":"No parents available";case _e.ADD_COUSIN:return s?.data?.nodes.filter(n=>n.group===te.UNCLE_AUNT)?.length===0?"You must add uncles/aunts first before adding cousins":"No uncles/aunts available";case _e.ADD_CHILD:return"No eligible parents available to have children";case _e.ADD_NIECE_NEPHEW:return s?.data?.nodes.filter(n=>n.group===te.SIBLING)?.length===0?"You must add siblings first before adding nieces/nephews":"No siblings available";case _e.ADD_PARTNER:return"No eligible people available for partners (they may already have partners)";default:return"Operation cannot be performed"}}executeAction(e,s,o){switch(e){case _e.ADD_PARENTS:return o.addParents(s[0],s[2],s[1],s[3]);case _e.ADD_SIBLING:return o.addSibling(s[0],s[1],s[2]);case _e.ADD_GRANDPARENTS:return o.addGrandparents(s[0],s[1],s[3],s[2],s[4]);case _e.ADD_UNCLE_AUNT:return o.addUncleAunt(s[0],s[1],s[2],s[3]);case _e.ADD_COUSIN:return o.addCousin(s[0],s[1],s[2],s[3]);case _e.ADD_CHILD:return o.addChild(s[0],s[1],s[2],s[3]);case _e.ADD_NIECE_NEPHEW:return o.addNieceNephew(s[0],s[1],s[2],s[3]);case _e.ADD_PARTNER:return o.addPartner(s[0],s[1],s[2],s[3]);default:return{success:!1,message:`Unknown action: ${e}`}}}}class Bk{constructor(e,s,o=""){this.nodes=JSON.parse(JSON.stringify(e)),this.links=s.map(n=>({source:typeof n.source=="string"?n.source:n.source.id,target:typeof n.target=="string"?n.target:n.target.id})),this.description=o,this.timestamp=Date.now()}getNodes(){return JSON.parse(JSON.stringify(this.nodes))}getLinks(){return JSON.parse(JSON.stringify(this.links))}getDescription(){return this.description}getTimestamp(){return this.timestamp}getSummary(){return{nodeCount:this.nodes.length,linkCount:this.links.length,description:this.description,timestamp:new Date(this.timestamp).toLocaleString()}}}class $k{constructor(e={}){this.undoStack=[],this.redoStack=[],this.maxHistorySize=e.maxHistorySize||10}saveState(e){this.undoStack.push(e),this.undoStack.length>this.maxHistorySize&&this.undoStack.shift(),this.redoStack=[]}undo(){if(this.undoStack.length===0)return null;const e=this.undoStack.pop();return this.redoStack.push(e),e}redo(){if(this.redoStack.length===0)return null;const e=this.redoStack.pop();return this.undoStack.push(e),e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getUndoCount(){return this.undoStack.length}getRedoCount(){return this.redoStack.length}getUndoDescription(){return this.undoStack.length===0?null:this.undoStack[this.undoStack.length-1].getDescription()}getRedoDescription(){return this.redoStack.length===0?null:this.redoStack[this.redoStack.length-1].getDescription()}clear(){this.undoStack=[],this.redoStack=[]}getHistorySummary(){return{undoCount:this.undoStack.length,redoCount:this.redoStack.length,canUndo:this.canUndo(),canRedo:this.canRedo(),nextUndo:this.getUndoDescription(),nextRedo:this.getRedoDescription()}}}class Ok{constructor({graphManager:e,onStatusChange:s=null,lang:o="en"}){this.graphManager=e,this.onStatusChange=s,this.lang=o,this.log=$e({prefix:"FamilyController",level:"info"});const n=()=>this.getGraphInstance(),r=i=>ld(this.lang,i);this.validation=new Mk(n,r),this.storage=new zk(n,s,this.log,r),this.operations=new Fk(e,n,this.validation,()=>this.storage.saveFamily()),this.dialogService=new Kd(n,this.validation,r),this.mementoHistory=new $k({maxHistorySize:10}),this.storage.startAutoSave()}getInitialDataset(){return this.storage.getInitialDataset()}loadFamily(){return this.storage.loadFamily()}getGraphInstance(){return this.graphManager?.graphInstance?this.graphManager.graphInstance.value||this.graphManager.graphInstance:null}saveFamily(){this.storage.saveFamily()}resetFamily(){this.storage.resetFamily(this.graphManager.loadData,this.graphManager.graphInstance)}lockGraph(){if(!this.graphManager?.lockPositions){this.log.warn("lockPositions not available");return}this.graphManager.lockPositions(),this.showStatus("Graph locked","success")}unlockGraph(){if(!this.graphManager?.unlockPositions){this.log.warn("unlockPositions not available");return}this.graphManager.unlockPositions(),this.showStatus("Graph unlocked","success")}saveAsPNG(e="family-tree.png"){if(!this.graphManager?.saveAsPNG){this.log.warn("saveAsPNG not available");return}this.graphManager.saveAsPNG(e),this.showStatus("Image saved!","success")}canAddParents(){return this.validation.canAddParents()}getEligibleParents(){return this.validation.getEligibleParents()}getEligibleForPartner(){return this.validation.getEligibleForPartner()}addParents(e,s=null){return this.operations.addParents(e,s)}addSibling(e){return this.operations.addSibling(e)}addGrandparents(e,s,o=null){return this.operations.addGrandparents(e,s,o)}addUncleAunt(e,s){return this.operations.addUncleAunt(e,s)}addCousin(e,s){return this.operations.addCousin(e,s)}addChild(e,s){return this.operations.addChild(e,s)}addNieceNephew(e,s){return this.operations.addNieceNephew(e,s)}addPartner(e,s){return this.operations.addPartner(e,s)}getDialogService(){return this.dialogService}getOperations(){return this.operations}async applyLayout(e){if(e==="none"){const s=" Using D3 physics simulation (no layout algorithm)";return this.log.debug("Using default D3 physics simulation"),this.showStatus(s,"info"),this.graphManager?.unlockPositions&&this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this.showStatus(`Applying ${e} layout...`,"info"),!this.graphManager?.applyLayout)return{success:!1,error:"Layout functionality not available"};if(await this.graphManager.applyLayout(e)){const o=` Applied ${e} layout algorithm`;return this.log.info("Layout applied successfully",{layoutId:e}),this.showStatus(o,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const o=` Layout failed: ${s.message}`;return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this.showStatus(o,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager?.getAvailableLayouts?this.graphManager.getAvailableLayouts():[]}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}saveStateBeforeOperation(e){const s=this.getGraphInstance();if(!s||!s.data){this.log.warn("Cannot save state: graph not available");return}const o=new Bk(s.data.nodes,s.data.links,e);this.mementoHistory.saveState(o),this.log.debug("State saved",{description:e,summary:o.getSummary()})}undo(){if(!this.mementoHistory.canUndo())return{success:!1,message:"Nothing to undo"};const e=this.mementoHistory.undo();if(!e)return{success:!1,message:"Failed to undo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const o=e.getNodes(),n=e.getLinks();this.graphManager.loadData(o,n);const r=`Undid: ${e.getDescription()}`;return this.log.info("Undo successful",{description:e.getDescription()}),this.showStatus(r,"info"),{success:!0,message:r}}redo(){if(!this.mementoHistory.canRedo())return{success:!1,message:"Nothing to redo"};const e=this.mementoHistory.redo();if(!e)return{success:!1,message:"Failed to redo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const o=e.getNodes(),n=e.getLinks();this.graphManager.loadData(o,n);const r=`Redid: ${e.getDescription()}`;return this.log.info("Redo successful",{description:e.getDescription()}),this.showStatus(r,"info"),{success:!0,message:r}}canUndo(){return this.mementoHistory.canUndo()}canRedo(){return this.mementoHistory.canRedo()}getHistorySummary(){return this.mementoHistory.getHistorySummary()}dispose(){this.storage.stopAutoSave(),this.log.info("FamilyController disposed")}}const Vk={class:"demo-controls-header"},Hk={class:"demo-controls-title"},Wk={class:"demo-controls-description"},Uk={class:"info-box-green mb-4"},Zk={class:"text-lg font-semibold text-green-900 dark:text-green-300 mb-2"},jk={class:"text-sm text-green-800 dark:text-green-200"},Xk={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},Yk={class:"demo-controls-section-title mb-3"},Jk={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},Kk={key:0,class:"text-secondary text-center py-2"},qk={class:"text-xs"},Qk={class:"text-xs mt-1 opacity-60"},e2={key:1,class:"space-y-2"},t2={class:"flex-shrink-0 mt-0.5"},s2={key:0},o2={key:1},n2={key:2},r2={class:"flex-1 break-words"},i2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},a2={class:"demo-controls-section-title"},l2={class:"grid grid-cols-2 gap-2"},c2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},d2={class:"demo-controls-section-title"},u2={class:"grid grid-cols-2 gap-2"},h2=["disabled"],f2=["disabled"],g2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},p2={class:"demo-controls-section-title"},m2={class:"flex flex-wrap gap-2 mb-3"},y2={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},b2={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},v2={class:"info-box-blue"},x2={class:"text-xs text-blue-800 dark:text-blue-200"},w2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},_2={class:"demo-controls-section-title"},C2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},k2={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},A2={class:"space-y-2 text-sm"},N2={class:"flex items-center gap-2"},S2={class:"text-gray-700 dark:text-gray-300"},I2={class:"flex items-center gap-2"},T2={class:"text-gray-700 dark:text-gray-300"},L2={class:"flex items-center gap-2"},E2={class:"text-gray-700 dark:text-gray-300"},R2={class:"flex items-center gap-2"},P2={class:"text-gray-700 dark:text-gray-300"},D2={class:"flex items-center gap-2"},G2={class:"text-gray-700 dark:text-gray-300"},M2={class:"flex items-center gap-2"},F2={class:"text-gray-700 dark:text-gray-300"},z2={class:"flex items-center gap-2"},B2={class:"text-gray-700 dark:text-gray-300"},$2={class:"flex items-center gap-2"},O2={class:"text-gray-700 dark:text-gray-300"},V2={class:"flex items-center gap-2"},H2={class:"text-gray-700 dark:text-gray-300"},W2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},U2={class:"demo-controls-section-title"},Z2={class:"info-box-yellow mt-3"},j2={class:"text-xs text-yellow-800 dark:text-yellow-200"},X2={key:0,class:"italic"},Y2={class:"info-box-blue"},J2={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2"},K2={class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},q2=["innerHTML"],Q2=["innerHTML"],eA=["innerHTML"],tA=["innerHTML"],sA=["innerHTML"],oA=["innerHTML"],nA=["innerHTML"],rA={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},iA={class:"text-center"},aA={class:"text-secondary"},lA={__name:"FamilyPage",setup(t){const e=$e({prefix:"FamilyPage",level:"info"}),{t:s,lang:o}=Dt(),n=$i({colorBy:"group",colorScheme:"categorical",showLabels:!0,autoComputeCentrality:!1,customColorFunction:J=>{const K=J.group||0;return Dk[K]||null}}),{graphContainer:r,graphInstance:i,loading:a,loadData:c,addNode:d,addLink:u,hasNode:h,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:b,applyLayout:k,getAvailableLayouts:w,analyzeGraph:A,analysisProgress:I}=n,x=re(""),D=re("info"),Z=re("Loading graph..."),H=re(!1),Q=re(""),W=re([]),Y=re(null),V=re("none"),R=re([]),M=re(!1),C=re(!1),G=re(!1),T=re(["eigenvector"]),F=re("eigenvector"),U=re(!1),oe=re("colors"),ce=re(!1);let X=null;const ie=(J,K)=>{x.value=J,D.value=K},Se=()=>{X&&(C.value=X.canUndo(),G.value=X.canRedo())},we=J=>{(J.ctrlKey||J.metaKey)&&J.key==="z"&&!J.shiftKey?(J.preventDefault(),fe()):((J.ctrlKey||J.metaKey)&&J.key==="y"||(J.ctrlKey||J.metaKey)&&J.shiftKey&&J.key==="z")&&(J.preventDefault(),ne())},ae=()=>{const J={graphInstance:i,loadData:c,addNode:(le,Re,Oe)=>d(le,Re,Oe,!0),addLink:(le,Re)=>u(le,Re,!0),hasNode:h,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:b,applyLayout:k,getAvailableLayouts:w};X=new Ok({graphManager:J,onStatusChange:ie,lang:o.value}),R.value=X.getAvailableLayouts();const K=X.loadFamily();if(K)c(K.nodes,K.links);else{const le=X.getInitialDataset();c(le.nodes,le.links)}},ge=async(J,K)=>{if(!X){ie("Graph is still loading. Please wait...","error");return}const le=X.getDialogService(),Re=K();if(!Re){const Oe=le.getValidationMessage(J);ie(Oe,"error");return}Q.value=Re.title,W.value=Re.fields,Y.value=Re.action,await qs(),H.value=!0},S=()=>ge(_e.ADD_PARENTS,()=>X?.getDialogService().getAddParentsDialog()),q=()=>ge(_e.ADD_SIBLING,()=>X?.getDialogService().getAddSiblingDialog()),ee=()=>ge(_e.ADD_GRANDPARENTS,()=>X?.getDialogService().getAddGrandparentsDialog()),ue=()=>ge(_e.ADD_UNCLE_AUNT,()=>X?.getDialogService().getAddUncleAuntDialog()),de=()=>ge(_e.ADD_COUSIN,()=>X?.getDialogService().getAddCousinDialog()),v=()=>ge(_e.ADD_CHILD,()=>X?.getDialogService().getAddChildDialog()),_=()=>ge(_e.ADD_NIECE_NEPHEW,()=>X?.getDialogService().getAddNieceNephewDialog()),N=()=>ge(_e.ADD_PARTNER,()=>X?.getDialogService().getAddPartnerDialog()),B=J=>{if(!X||!Y.value)return;H.value=!1,X.saveStateBeforeOperation(Q.value);const le=X.getDialogService().executeAction(Y.value,J,X.getOperations());le.success?(le.message&&ie(le.message,"info"),Se()):ie(le.message||"Failed to add relative","error"),Y.value=null},$=()=>{H.value=!1,Y.value=null},z=()=>{X&&X.saveFamily()},se=()=>{X&&X.saveAsPNG("family-tree.png")},L=()=>{X&&X.lockGraph()},E=()=>{X&&X.unlockGraph()},P=()=>{X&&confirm("Are you sure you want to reset your family tree?")&&(X.resetFamily(),Se())},fe=()=>{if(!X)return;const J=X.undo();J.success?ie(J.message,"info"):ie(J.message||"Nothing to undo","error"),Se()},ne=()=>{if(!X)return;const J=X.redo();J.success?ie(J.message,"info"):ie(J.message||"Nothing to redo","error"),Se()},he=async()=>{if(!(!A||T.value.length===0))try{if(U.value=!0,ie("Analyzing network...","info"),await A(T.value,{includeGraphStats:!1})){const K=F.value||T.value[0];i.value?.updateVisualEncoding&&i.value.updateVisualEncoding({sizeBy:K,preserveZoom:!0}),ie(` Analysis complete - sizing by ${K}`,"success")}}catch(J){e.error("Analysis error",{error:J.message,stack:J.stack}),ie(`Analysis failed: ${J.message}`,"error")}finally{U.value=!1}},me=async()=>{if(!(!X||!V.value))try{M.value=!0;const J=await X.applyLayout(V.value);J.success||ie(J.error||"Failed to apply layout","error")}catch(J){e.error("Layout error",{error:J.message,stack:J.stack}),ie(`Layout failed: ${J.message}`,"error")}finally{M.value=!1}};return pt(i,J=>{J&&!X&&(ae(),Se())},{immediate:!0}),pt(o,J=>{if(X){X.lang=J;const K=le=>ld(J,le);X.dialogService=new Kd(()=>X.getGraphInstance(),X.validation,K),X.validation.t=K,X.storage.t=K}}),pt(oe,J=>{if(i.value){ce.value=!0;const K=()=>{ce.value=!1,i.value.off("ready",K)};i.value.on("ready",K),i.value.setRenderMode(J)}}),Qs(()=>{window.addEventListener("keydown",we)}),Wn(()=>{window.removeEventListener("keydown",we),X&&X.dispose()}),(J,K)=>(O(),j(Pe,null,[xe(_i,null,{controls:Fe(()=>[l("div",Vk,[l("h1",Hk,m(g(s)("family.header.title")),1),l("p",Wk,m(g(s)("family.header.subtitle")),1)]),l("div",Uk,[l("h2",Zk,m(g(s)("family.whatIs.title")),1),l("p",jk,m(g(s)("family.whatIs.description")),1)]),l("div",Xk,[l("h2",Yk,m(g(s)("family.status.title")),1),l("div",Jk,[x.value?(O(),j("div",e2,[l("div",{class:dt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":D.value==="success","text-red-600 dark:text-red-400":D.value==="error","text-blue-600 dark:text-blue-400":D.value==="info"})},[l("div",t2,[D.value==="success"?(O(),j("span",s2,"")):D.value==="error"?(O(),j("span",o2,"")):(O(),j("span",n2,""))]),l("div",r2,m(x.value),1)],2)])):(O(),j("div",Kk,[l("div",qk,m(g(s)("family.status.ready")),1),l("div",Qk,m(g(s)("family.status.clickToAdd")),1)]))])]),l("div",i2,[l("h2",a2,m(g(s)("family.addRelatives.title")),1),l("div",l2,[l("button",{onClick:S,class:"bg-pink-600 hover:bg-pink-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm",type:"button"},m(g(s)("family.addRelatives.parents")),1),l("button",{onClick:ee,class:"bg-amber-700 hover:bg-amber-800 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.grandparents")),1),l("button",{onClick:q,class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.sibling")),1),l("button",{onClick:_,class:"bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.nieceNephew")),1),l("button",{onClick:ue,class:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.uncleAunt")),1),l("button",{onClick:de,class:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.cousin")),1),l("button",{onClick:N,class:"bg-rose-600 hover:bg-rose-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.partner")),1),l("button",{onClick:v,class:"bg-teal-600 hover:bg-teal-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.addRelatives.child")),1)])]),l("div",c2,[l("h2",d2,m(g(s)("family.actions.title")),1),l("div",u2,[l("button",{onClick:z,class:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.saveFamily")),1),l("button",{onClick:se,class:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.saveImage")),1),l("button",{onClick:L,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.lockGraph")),1),l("button",{onClick:E,class:"bg-amber-600 hover:bg-amber-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.unlockGraph")),1),l("button",{onClick:fe,disabled:!C.value,class:"bg-violet-600 hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.undo")),9,h2),l("button",{onClick:ne,disabled:!G.value,class:"bg-fuchsia-600 hover:bg-fuchsia-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.redo")),9,f2),l("button",{onClick:P,class:"col-span-2 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},m(g(s)("family.actions.resetTree")),1)])]),l("div",g2,[l("h2",p2,m(g(s)("family.renderNodes.title")),1),l("div",m2,[l("label",{class:dt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="colors","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="colors"}])},[et(l("input",{type:"radio",name:"renderMode",value:"colors","onUpdate:modelValue":K[0]||(K[0]=le=>oe.value=le),class:"text-green-600 focus:ring-green-500"},null,512),[[$r,oe.value]]),K[5]||(K[5]=l("span",{class:"text-xl"},"",-1)),l("span",y2,m(g(s)("family.renderNodes.colors")),1)],2),l("label",{class:dt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="avatars","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="avatars"}])},[et(l("input",{type:"radio",name:"renderMode",value:"avatars","onUpdate:modelValue":K[1]||(K[1]=le=>oe.value=le),class:"text-green-600 focus:ring-green-500"},null,512),[[$r,oe.value]]),K[6]||(K[6]=l("span",{class:"text-xl"},"",-1)),l("span",b2,m(g(s)("family.renderNodes.avatars")),1)],2)]),l("div",v2,[l("p",x2,[l("strong",null,m(g(s)("family.renderNodes.colors"))+":",1),be(" "+m(g(s)("family.renderNodes.colorsDesc")),1),K[7]||(K[7]=l("br",null,null,-1)),l("strong",null,m(g(s)("family.renderNodes.avatars"))+":",1),be(" "+m(g(s)("family.renderNodes.avatarsDesc")),1)])])]),l("div",w2,[l("h2",_2,m(g(s)("family.networkAnalysis.title")),1),xe(ki,{"selected-metrics":T.value,"onUpdate:selectedMetrics":K[2]||(K[2]=le=>T.value=le),"size-metric":F.value,"onUpdate:sizeMetric":K[3]||(K[3]=le=>F.value=le),analyzing:U.value,progress:g(I),onAnalyze:he},null,8,["selected-metrics","size-metric","analyzing","progress"])]),l("div",C2,[l("h3",k2,m(g(s)("family.relationshipColors.title")),1),l("div",A2,[l("div",N2,[K[8]||(K[8]=l("div",{class:"w-4 h-4 rounded-full bg-indigo-500"},null,-1)),l("span",S2,m(g(s)("family.relationshipColors.you")),1)]),l("div",I2,[K[9]||(K[9]=l("div",{class:"w-4 h-4 rounded-full bg-pink-500"},null,-1)),l("span",T2,m(g(s)("family.relationshipColors.parents")),1)]),l("div",L2,[K[10]||(K[10]=l("div",{class:"w-4 h-4 rounded-full bg-blue-500"},null,-1)),l("span",E2,m(g(s)("family.relationshipColors.siblings")),1)]),l("div",R2,[K[11]||(K[11]=l("div",{class:"w-4 h-4 rounded-full bg-orange-500"},null,-1)),l("span",P2,m(g(s)("family.relationshipColors.unclesAunts")),1)]),l("div",D2,[K[12]||(K[12]=l("div",{class:"w-4 h-4 rounded-full bg-purple-500"},null,-1)),l("span",G2,m(g(s)("family.relationshipColors.cousins")),1)]),l("div",M2,[K[13]||(K[13]=l("div",{class:"w-4 h-4 rounded-full bg-amber-700"},null,-1)),l("span",F2,m(g(s)("family.relationshipColors.grandparents")),1)]),l("div",z2,[K[14]||(K[14]=l("div",{class:"w-4 h-4 rounded-full bg-cyan-500"},null,-1)),l("span",B2,m(g(s)("family.relationshipColors.nieces")),1)]),l("div",$2,[K[15]||(K[15]=l("div",{class:"w-4 h-4 rounded-full bg-rose-500"},null,-1)),l("span",O2,m(g(s)("family.relationshipColors.partners")),1)]),l("div",V2,[K[16]||(K[16]=l("div",{class:"w-4 h-4 rounded-full bg-teal-500"},null,-1)),l("span",H2,m(g(s)("family.relationshipColors.children")),1)])])]),l("div",W2,[l("h2",U2,m(g(s)("family.layoutAlgorithm.title")),1),xe(Ci,{modelValue:V.value,"onUpdate:modelValue":K[4]||(K[4]=le=>V.value=le),"available-layouts":R.value,loading:g(a)||M.value,onApply:me},null,8,["modelValue","available-layouts","loading"]),l("div",Z2,[l("p",j2,[(O(!0),j(Pe,null,cs(R.value,le=>(O(),j("div",{key:le.id},[l("strong",null,m(le.name)+":",1),be(" "+m(le.description)+" ",1),le.requiresStats?(O(),j("span",X2," (requires analysis)")):Te("",!0),K[17]||(K[17]=l("br",null,null,-1))]))),128))])])]),l("div",Y2,[l("h3",J2,m(g(s)("family.instructions.title")),1),l("ul",K2,[l("li",{innerHTML:g(s)("family.instructions.dragNodes")},null,8,q2),l("li",{innerHTML:g(s)("family.instructions.autoSaves")},null,8,Q2),l("li",{innerHTML:g(s)("family.instructions.lock")},null,8,eA),l("li",{innerHTML:g(s)("family.instructions.download")},null,8,tA),l("li",{innerHTML:g(s)("family.instructions.analyze")},null,8,sA),l("li",{innerHTML:g(s)("family.instructions.layouts")},null,8,oA),l("li",{innerHTML:g(s)("family.instructions.undoRedo")},null,8,nA)])])]),graph:Fe(()=>[g(a)||ce.value?(O(),j("div",rA,[l("div",iA,[K[18]||(K[18]=l("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-green-600 border-t-transparent mb-4"},null,-1)),l("p",aA,m(ce.value?"Switching render mode...":Z.value),1)])])):Te("",!0),l("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}),(O(),us(Pk,{key:`dialog-${Y.value||"default"}`,visible:H.value,title:Q.value,fields:W.value,onConfirm:B,onCancel:$},null,8,["visible","title","fields"]))],64))}},cA={class:"page-content"},dA={class:"section-header mb-12"},uA={class:"text-5xl font-bold mb-4"},hA={class:"section-description"},fA={class:"card mb-12 p-6"},gA={class:"grid md:grid-cols-3 gap-4"},pA={href:"#quick-start",class:"flex items-center text-accent hover:underline"},mA={href:"#core-classes",class:"flex items-center text-accent hover:underline"},yA={href:"#adapters",class:"flex items-center text-accent hover:underline"},bA={href:"#layouts",class:"flex items-center text-accent hover:underline"},vA={href:"#community",class:"flex items-center text-accent hover:underline"},xA={href:"#examples",class:"flex items-center text-accent hover:underline"},wA={id:"quick-start",class:"mb-12"},_A={class:"text-3xl font-bold mb-8 flex items-center"},CA={class:"card p-8"},kA={class:"text-secondary mb-6"},AA={class:"text-xl font-bold text-accent mb-3"},NA={class:"bg-gray-900 rounded-lg p-4 mb-6"},SA={class:"text-green-400"},IA={class:"text-xl font-bold text-accent mb-3"},TA={id:"core-classes",class:"mb-12"},LA={class:"text-3xl font-bold mb-8 flex items-center"},EA={class:"card p-8 mb-8"},RA={class:"text-2xl font-bold text-accent mb-4"},PA={class:"text-secondary mb-6"},DA={class:"text-xl font-bold mb-4"},GA={class:"space-y-3"},MA={class:"border-l-4 border-accent pl-4 py-2"},FA={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},zA={class:"text-secondary text-sm mt-1"},BA={class:"border-l-4 border-accent pl-4 py-2"},$A={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},OA={class:"text-secondary text-sm mt-1"},VA={class:"border-l-4 border-accent pl-4 py-2"},HA={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},WA={class:"text-secondary text-sm mt-1"},UA={class:"border-l-4 border-accent pl-4 py-2"},ZA={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},jA={class:"text-secondary text-sm mt-1"},XA={class:"border-l-4 border-accent pl-4 py-2"},YA={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},JA={class:"text-secondary text-sm mt-1"},KA={class:"border-l-4 border-accent pl-4 py-2"},qA={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},QA={class:"text-secondary text-sm mt-1"},eN={class:"border-l-4 border-accent pl-4 py-2"},tN={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},sN={class:"text-secondary text-sm mt-1"},oN={class:"card p-8"},nN={class:"text-2xl font-bold text-accent mb-4"},rN={class:"text-secondary mb-6"},iN={class:"text-xl font-bold mb-3"},aN={class:"list-disc pl-6 space-y-2 text-secondary mb-6"},lN={class:"text-xl font-bold mb-3"},cN={class:"text-secondary mb-3"},dN={class:"text-xl font-bold mb-3"},uN={class:"grid md:grid-cols-2 gap-4"},hN={class:"flex items-start"},fN={class:"text-secondary text-sm"},gN={class:"flex items-start"},pN={class:"text-secondary text-sm"},mN={class:"flex items-start"},yN={class:"text-secondary text-sm"},bN={class:"flex items-start"},vN={class:"text-secondary text-sm"},xN={class:"flex items-start"},wN={class:"text-secondary text-sm"},_N={class:"flex items-start"},CN={class:"text-secondary text-sm"},kN={class:"flex items-start"},AN={class:"text-secondary text-sm"},NN={class:"flex items-start"},SN={class:"text-secondary text-sm"},IN={class:"flex items-start"},TN={class:"text-secondary text-sm"},LN={id:"adapters",class:"mb-12"},EN={class:"text-3xl font-bold mb-8 flex items-center"},RN={class:"text-xl text-secondary mb-8"},PN={class:"card p-8 mb-8"},DN={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},GN={class:"text-secondary mb-6"},MN={class:"text-xl font-bold mb-4"},FN={class:"space-y-3 mb-6"},zN={class:"border-l-4 border-blue-500 pl-4 py-2"},BN={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},$N={class:"text-secondary text-sm mt-1"},ON={class:"text-xs text-accent mt-1"},VN={class:"border-l-4 border-blue-500 pl-4 py-2"},HN={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},WN={class:"text-secondary text-sm mt-1"},UN={class:"text-xs text-accent mt-1"},ZN={class:"border-l-4 border-blue-500 pl-4 py-2"},jN={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},XN={class:"text-secondary text-sm mt-1"},YN={class:"text-xs text-accent mt-1"},JN={class:"border-l-4 border-blue-500 pl-4 py-2"},KN={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},qN={class:"text-secondary text-sm mt-1"},QN={class:"text-xs text-accent mt-1"},eS={class:"border-l-4 border-blue-500 pl-4 py-2"},tS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},sS={class:"text-secondary text-sm mt-1"},oS={class:"text-xs text-accent mt-1"},nS={class:"card p-8 mb-8"},rS={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},iS={class:"text-secondary mb-6"},aS={class:"text-xl font-bold mb-4"},lS={class:"space-y-3 mb-6"},cS={class:"border-l-4 border-green-500 pl-4 py-2"},dS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},uS={class:"text-secondary text-sm mt-1"},hS={class:"text-xs text-accent mt-1"},fS={class:"border-l-4 border-green-500 pl-4 py-2"},gS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},pS={class:"text-secondary text-sm mt-1"},mS={class:"text-xs text-accent mt-1"},yS={class:"border-l-4 border-green-500 pl-4 py-2"},bS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},vS={class:"text-secondary text-sm mt-1"},xS={class:"text-xs text-accent mt-1"},wS={class:"border-l-4 border-green-500 pl-4 py-2"},_S={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},CS={class:"text-secondary text-sm mt-1"},kS={class:"text-xs text-accent mt-1"},AS={class:"border-l-4 border-green-500 pl-4 py-2"},NS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},SS={class:"text-secondary text-sm mt-1"},IS={class:"text-xs text-accent mt-1"},TS={class:"border-l-4 border-green-500 pl-4 py-2"},LS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},ES={class:"text-secondary text-sm mt-1"},RS={class:"text-xs text-accent mt-1"},PS={class:"card p-8"},DS={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-4"},GS={class:"text-secondary mb-6"},MS={class:"text-xl font-bold mb-4"},FS={class:"space-y-3 mb-6"},zS={class:"border-l-4 border-yellow-500 pl-4 py-2"},BS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},$S={class:"text-secondary text-sm mt-1"},OS={class:"text-xs text-accent mt-1"},VS={class:"border-l-4 border-yellow-500 pl-4 py-2"},HS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},WS={class:"text-secondary text-sm mt-1"},US={class:"text-xs text-accent mt-1"},ZS={class:"border-l-4 border-yellow-500 pl-4 py-2"},jS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},XS={class:"text-secondary text-sm mt-1"},YS={class:"text-xs text-accent mt-1"},JS={class:"border-l-4 border-yellow-500 pl-4 py-2"},KS={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},qS={class:"text-secondary text-sm mt-1"},QS={class:"text-xs text-accent mt-1"},eI={id:"layouts",class:"mb-12"},tI={class:"text-3xl font-bold mb-8 flex items-center"},sI={class:"text-xl text-secondary mb-4"},oI={class:"text-sm text-accent mb-8"},nI={class:"card p-8 mb-8"},rI={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},iI={class:"text-secondary mb-2"},aI={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},lI={class:"text-sm text-accent mb-4"},cI={class:"text-lg font-bold mb-3"},dI={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},uI={class:"space-y-1 text-sm"},hI={class:"card p-8 mb-8"},fI={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4"},gI={class:"text-secondary mb-2"},pI={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},mI={class:"text-sm text-accent mb-4"},yI={class:"text-lg font-bold mb-3"},bI={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},vI={class:"space-y-1 text-sm"},xI={class:"card p-8 mb-8"},wI={class:"text-2xl font-bold text-pink-600 dark:text-pink-400 mb-4"},_I={class:"text-secondary mb-2"},CI={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},kI={class:"text-sm text-accent mb-2"},AI={class:"text-sm text-red-600 dark:text-red-400 mb-4"},NI={class:"grid md:grid-cols-2 gap-6"},SI={class:"card p-6"},II={class:"text-xl font-bold text-blue-600 dark:text-blue-400 mb-3"},TI={class:"text-secondary text-sm mb-2"},LI={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},EI={class:"text-xs text-accent"},RI={class:"card p-6"},PI={class:"text-xl font-bold text-green-600 dark:text-green-400 mb-3"},DI={class:"text-secondary text-sm mb-2"},GI={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},MI={class:"text-xs text-accent mb-1"},FI={class:"text-xs text-red-600 dark:text-red-400"},zI={class:"card p-6"},BI={class:"text-xl font-bold text-yellow-600 dark:text-yellow-400 mb-3"},$I={class:"text-secondary text-sm mb-2"},OI={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},VI={class:"text-xs text-accent"},HI={class:"card p-6"},WI={class:"text-xl font-bold text-red-600 dark:text-red-400 mb-3"},UI={class:"text-secondary text-sm mb-2"},ZI={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},jI={class:"text-xs text-accent"},XI={class:"card p-6"},YI={class:"text-xl font-bold text-teal-600 dark:text-teal-400 mb-3"},JI={class:"text-secondary text-sm mb-2"},KI={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},qI={class:"text-xs text-accent"},QI={class:"card p-6"},e3={class:"text-xl font-bold text-gray-600 dark:text-gray-400 mb-3"},t3={class:"text-secondary text-sm mb-2"},s3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},o3={class:"text-xs text-accent"},n3={class:"card p-6 mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},r3={class:"text-lg font-bold mb-3"},i3={class:"text-sm text-secondary mb-3"},a3={id:"community",class:"mb-12"},l3={class:"text-3xl font-bold mb-8 flex items-center"},c3={class:"text-xl text-secondary mb-8"},d3={class:"card p-8 mb-8"},u3={class:"text-2xl font-bold text-accent mb-4"},h3={class:"text-secondary mb-6"},f3={class:"text-xl font-bold mb-3"},g3={class:"space-y-3 mb-6"},p3={class:"border-l-4 border-accent pl-4 py-2"},m3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},y3={class:"text-secondary text-sm mt-1"},b3={class:"text-xs text-accent mt-1"},v3={class:"border-l-4 border-accent pl-4 py-2"},x3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},w3={class:"text-secondary text-sm mt-1"},_3={class:"text-xs text-accent mt-1"},C3={class:"space-y-3"},k3={class:"border-l-4 border-purple-500 pl-4 py-2"},A3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},N3={class:"text-secondary text-sm mt-1"},S3={class:"text-xs text-accent mt-1"},I3={class:"border-l-4 border-purple-500 pl-4 py-2"},T3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},L3={class:"text-secondary text-sm mt-1"},E3={class:"border-l-4 border-purple-500 pl-4 py-2"},R3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},P3={class:"text-secondary text-sm mt-1"},D3={class:"card p-8 mb-8"},G3={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-4"},M3={class:"text-secondary mb-2"},F3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},z3={class:"text-sm text-accent mb-6"},B3={class:"text-lg font-bold mb-3"},$3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},O3={class:"space-y-1 text-sm"},V3={class:"card p-8"},H3={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},W3={class:"text-secondary mb-6"},U3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded"},Z3={class:"space-y-2 text-sm"},j3={id:"examples",class:"mb-12"},X3={class:"text-3xl font-bold mb-8 flex items-center"},Y3={class:"text-xl text-secondary mb-8"},J3={class:"card p-8 mb-8"},K3={class:"text-2xl font-bold text-accent mb-4"},q3={class:"text-secondary mb-4"},Q3={class:"card p-8 mb-8"},e9={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},t9={class:"text-secondary mb-4"},s9={class:"card p-8"},o9={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},n9={class:"text-secondary mb-4"},r9={__name:"DocsPage",setup(t){const{t:e}=Dt();return(s,o)=>(O(),j("div",cA,[l("div",dA,[l("h1",uA,m(g(e)("docs.title")),1),l("p",hA,m(g(e)("docs.subtitle")),1)]),l("div",fA,[o[6]||(o[6]=l("h2",{class:"text-2xl font-bold mb-4"}," Contents",-1)),l("div",gA,[l("a",pA,[o[0]||(o[0]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.quickStart")),1)]),l("a",mA,[o[1]||(o[1]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.coreClasses")),1)]),l("a",yA,[o[2]||(o[2]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.adapters")),1)]),l("a",bA,[o[3]||(o[3]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.layouts")),1)]),l("a",vA,[o[4]||(o[4]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.community")),1)]),l("a",xA,[o[5]||(o[5]=l("span",{class:"mr-2"},"",-1)),l("span",null,m(g(e)("docs.sections.examples")),1)])])]),l("section",wA,[l("h2",_A,[o[7]||(o[7]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.quickStart.title")),1)]),l("div",CA,[l("p",kA,m(g(e)("docs.quickStart.description")),1),l("h3",AA,m(g(e)("docs.quickStart.install")),1),l("div",NA,[l("code",SA,m(g(e)("docs.quickStart.installCmd")),1)]),l("h3",IA,m(g(e)("docs.quickStart.basicUsage")),1),o[8]||(o[8]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob' },
  { source: 'Bob', target: 'Charlie' },
  { source: 'Charlie', target: 'Alice' }
];

const analyzer = new NetworkStats({ verbose: false });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// [
//   { id: 'Alice', degree: 2, eigenvector: 0.577 },
//   { id: 'Bob', degree: 2, eigenvector: 0.577 },
//   { id: 'Charlie', degree: 2, eigenvector: 0.577 }
// ]`)])],-1))])]),l("section",TA,[l("h2",LA,[o[9]||(o[9]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.sections.coreClasses")),1)]),l("div",EA,[l("h3",RA,m(g(e)("docs.graph.title")),1),l("p",PA,m(g(e)("docs.graph.description")),1),o[10]||(o[10]=l("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[l("code",{class:"text-sm text-gray-200"},"const graph = new Graph();")],-1)),l("h4",DA,m(g(e)("docs.graph.methods")),1),l("div",GA,[l("div",MA,[l("code",FA,m(g(e)("docs.graph.methodsList.addNode.name")),1),l("p",zA,m(g(e)("docs.graph.methodsList.addNode.description")),1)]),l("div",BA,[l("code",$A,m(g(e)("docs.graph.methodsList.addNodesFrom.name")),1),l("p",OA,m(g(e)("docs.graph.methodsList.addNodesFrom.description")),1)]),l("div",VA,[l("code",HA,m(g(e)("docs.graph.methodsList.addEdge.name")),1),l("p",WA,m(g(e)("docs.graph.methodsList.addEdge.description")),1)]),l("div",UA,[l("code",ZA,m(g(e)("docs.graph.methodsList.removeNode.name")),1),l("p",jA,m(g(e)("docs.graph.methodsList.removeNode.description")),1)]),l("div",XA,[l("code",YA,m(g(e)("docs.graph.methodsList.getNeighbors.name")),1),l("p",JA,m(g(e)("docs.graph.methodsList.getNeighbors.description")),1)]),l("div",KA,[l("code",qA,m(g(e)("docs.graph.methodsList.hasEdge.name")),1),l("p",QA,m(g(e)("docs.graph.methodsList.hasEdge.description")),1)]),l("div",eN,[l("code",tN,m(g(e)("docs.graph.methodsList.numberOfNodes.name")),1),l("p",sN,m(g(e)("docs.graph.methodsList.numberOfNodes.description")),1)])]),o[11]||(o[11]=l("div",{class:"bg-gray-900 rounded-lg p-4 mt-6"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { Graph } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B', 1);
graph.addEdge('B', 'C', 2);

console.log(graph.getNeighbors('B')); // ['A', 'C']
console.log(graph.numberOfNodes());    // 3
console.log(graph.numberOfEdges());    // 2`)])],-1))]),l("div",oN,[l("h3",nN,m(g(e)("docs.networkStats.title")),1),l("p",rN,m(g(e)("docs.networkStats.description")),1),l("h4",iN,m(g(e)("docs.networkStats.constructor")),1),o[23]||(o[23]=l("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[l("code",{class:"text-sm text-gray-200"},"new NetworkStats(options?)")],-1)),l("ul",aN,[l("li",null,[o[12]||(o[12]=l("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"maxIter:",-1)),be(" "+m(g(e)("docs.networkStats.constructorParams.maxIter")),1)]),l("li",null,[o[13]||(o[13]=l("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"verbose:",-1)),be(" "+m(g(e)("docs.networkStats.constructorParams.verbose")),1)])]),l("h4",lN,m(g(e)("docs.networkStats.analyze.title")),1),l("p",cN,m(g(e)("docs.networkStats.analyze.description")),1),o[24]||(o[24]=l("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[l("code",{class:"text-sm text-gray-200"},"analyzer.analyze(network, features?)")],-1)),l("h4",dN,m(g(e)("docs.networkStats.features.title")),1),l("div",uN,[l("div",hN,[o[14]||(o[14]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"degree",-1)),l("span",fN,m(g(e)("docs.networkStats.features.degree")),1)]),l("div",gN,[o[15]||(o[15]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector",-1)),l("span",pN,m(g(e)("docs.networkStats.features.eigenvector")),1)]),l("div",mN,[o[16]||(o[16]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector-laplacian",-1)),l("span",yN,m(g(e)("docs.networkStats.features.eigenvectorLaplacian")),1)]),l("div",bN,[o[17]||(o[17]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"betweenness",-1)),l("span",vN,m(g(e)("docs.networkStats.features.betweenness")),1)]),l("div",xN,[o[18]||(o[18]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"clustering",-1)),l("span",wN,m(g(e)("docs.networkStats.features.clustering")),1)]),l("div",_N,[o[19]||(o[19]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"closeness",-1)),l("span",CN,m(g(e)("docs.networkStats.features.closeness")),1)]),l("div",kN,[o[20]||(o[20]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"cliques",-1)),l("span",AN,m(g(e)("docs.networkStats.features.cliques")),1)]),l("div",NN,[o[21]||(o[21]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"ego-density",-1)),l("span",SN,m(g(e)("docs.networkStats.features.egoDensity")),1)]),l("div",IN,[o[22]||(o[22]=l("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"modularity",-1)),l("span",TN,m(g(e)("docs.networkStats.features.modularity")),1)])])])]),l("section",LN,[l("h2",EN,[o[25]||(o[25]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.adapters.title")),1)]),l("p",RN,m(g(e)("docs.adapters.description")),1),l("div",PN,[l("h3",DN,m(g(e)("docs.adapters.csv.title")),1),l("p",GN,m(g(e)("docs.adapters.csv.description")),1),l("h4",MN,m(g(e)("docs.adapters.csv.methods")),1),l("div",FN,[l("div",zN,[l("code",BN,m(g(e)("docs.adapters.csv.methodsList.fromEdgeList.name")),1),l("p",$N,m(g(e)("docs.adapters.csv.methodsList.fromEdgeList.description")),1),l("p",ON,m(g(e)("docs.adapters.csv.methodsList.fromEdgeList.returns")),1)]),l("div",VN,[l("code",HN,m(g(e)("docs.adapters.csv.methodsList.fromNodes.name")),1),l("p",WN,m(g(e)("docs.adapters.csv.methodsList.fromNodes.description")),1),l("p",UN,m(g(e)("docs.adapters.csv.methodsList.fromNodes.returns")),1)]),l("div",ZN,[l("code",jN,m(g(e)("docs.adapters.csv.methodsList.loadFromURL.name")),1),l("p",XN,m(g(e)("docs.adapters.csv.methodsList.loadFromURL.description")),1),l("p",YN,m(g(e)("docs.adapters.csv.methodsList.loadFromURL.returns")),1)]),l("div",JN,[l("code",KN,m(g(e)("docs.adapters.csv.methodsList.toEdgeList.name")),1),l("p",qN,m(g(e)("docs.adapters.csv.methodsList.toEdgeList.description")),1),l("p",QN,m(g(e)("docs.adapters.csv.methodsList.toEdgeList.returns")),1)]),l("div",eS,[l("code",tS,m(g(e)("docs.adapters.csv.methodsList.toNodes.name")),1),l("p",sS,m(g(e)("docs.adapters.csv.methodsList.toNodes.description")),1),l("p",oS,m(g(e)("docs.adapters.csv.methodsList.toNodes.returns")),1)])]),o[26]||(o[26]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { CSVAdapter } from '@guinetik/graph-js';

// Load from URLs
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Export to CSV
const edgesCSV = CSVAdapter.toEdgeList(graphData);
const nodesCSV = CSVAdapter.toNodes(graphData);`)])],-1))]),l("div",nS,[l("h3",rS,m(g(e)("docs.adapters.json.title")),1),l("p",iS,m(g(e)("docs.adapters.json.description")),1),l("h4",aS,m(g(e)("docs.adapters.json.methods")),1),l("div",lS,[l("div",cS,[l("code",dS,m(g(e)("docs.adapters.json.methodsList.fromD3.name")),1),l("p",uS,m(g(e)("docs.adapters.json.methodsList.fromD3.description")),1),l("p",hS,m(g(e)("docs.adapters.json.methodsList.fromD3.returns")),1)]),l("div",fS,[l("code",gS,m(g(e)("docs.adapters.json.methodsList.fromCytoscape.name")),1),l("p",pS,m(g(e)("docs.adapters.json.methodsList.fromCytoscape.description")),1),l("p",mS,m(g(e)("docs.adapters.json.methodsList.fromCytoscape.returns")),1)]),l("div",yS,[l("code",bS,m(g(e)("docs.adapters.json.methodsList.fromFormat.name")),1),l("p",vS,m(g(e)("docs.adapters.json.methodsList.fromFormat.description")),1),l("p",xS,m(g(e)("docs.adapters.json.methodsList.fromFormat.returns")),1)]),l("div",wS,[l("code",_S,m(g(e)("docs.adapters.json.methodsList.toD3.name")),1),l("p",CS,m(g(e)("docs.adapters.json.methodsList.toD3.description")),1),l("p",kS,m(g(e)("docs.adapters.json.methodsList.toD3.returns")),1)]),l("div",AS,[l("code",NS,m(g(e)("docs.adapters.json.methodsList.toCytoscape.name")),1),l("p",SS,m(g(e)("docs.adapters.json.methodsList.toCytoscape.description")),1),l("p",IS,m(g(e)("docs.adapters.json.methodsList.toCytoscape.returns")),1)]),l("div",TS,[l("code",LS,m(g(e)("docs.adapters.json.methodsList.loadFromURL.name")),1),l("p",ES,m(g(e)("docs.adapters.json.methodsList.loadFromURL.description")),1),l("p",RS,m(g(e)("docs.adapters.json.methodsList.loadFromURL.returns")),1)])]),o[27]||(o[27]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { JSONAdapter } from '@guinetik/graph-js';

// Convert D3 format to GraphData
const graphData = JSONAdapter.fromD3(d3Data);

// Convert to Cytoscape format
const cytoData = JSONAdapter.toCytoscape(graphData);

// Auto-detect format
const data = JSONAdapter.fromFormat(unknownJSON);`)])],-1))]),l("div",PS,[l("h3",DS,m(g(e)("docs.adapters.networkx.title")),1),l("p",GS,m(g(e)("docs.adapters.networkx.description")),1),l("h4",MS,m(g(e)("docs.adapters.networkx.methods")),1),l("div",FS,[l("div",zS,[l("code",BS,m(g(e)("docs.adapters.networkx.methodsList.fromNodeLink.name")),1),l("p",$S,m(g(e)("docs.adapters.networkx.methodsList.fromNodeLink.description")),1),l("p",OS,m(g(e)("docs.adapters.networkx.methodsList.fromNodeLink.returns")),1)]),l("div",VS,[l("code",HS,m(g(e)("docs.adapters.networkx.methodsList.fromAdjacency.name")),1),l("p",WS,m(g(e)("docs.adapters.networkx.methodsList.fromAdjacency.description")),1),l("p",US,m(g(e)("docs.adapters.networkx.methodsList.fromAdjacency.returns")),1)]),l("div",ZS,[l("code",jS,m(g(e)("docs.adapters.networkx.methodsList.toNodeLink.name")),1),l("p",XS,m(g(e)("docs.adapters.networkx.methodsList.toNodeLink.description")),1),l("p",YS,m(g(e)("docs.adapters.networkx.methodsList.toNodeLink.returns")),1)]),l("div",JS,[l("code",KS,m(g(e)("docs.adapters.networkx.methodsList.toAdjacency.name")),1),l("p",qS,m(g(e)("docs.adapters.networkx.methodsList.toAdjacency.description")),1),l("p",QS,m(g(e)("docs.adapters.networkx.methodsList.toAdjacency.returns")),1)])]),o[28]||(o[28]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { NetworkXAdapter } from '@guinetik/graph-js';

// From Python: nx.node_link_data(G)
const graphData = NetworkXAdapter.fromNodeLink(nxData);

// To Python: G = nx.node_link_graph(nxData)
const nxData = NetworkXAdapter.toNodeLink(graphData, {
  directed: false,
  multigraph: false
});`)])],-1))])]),l("section",eI,[l("h2",tI,[o[29]||(o[29]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.layouts.title")),1)]),l("p",sI,m(g(e)("docs.layouts.description")),1),l("p",oI," "+m(g(e)("docs.layouts.note")),1),l("div",nI,[l("h3",rI,m(g(e)("docs.layouts.forceDirected.title")),1),l("p",iI,m(g(e)("docs.layouts.forceDirected.description")),1),l("p",aI,m(g(e)("docs.layouts.forceDirected.complexity")),1),l("p",lI,m(g(e)("docs.layouts.forceDirected.bestFor")),1),l("h4",cI,m(g(e)("docs.layouts.forceDirected.constructor")),1),l("div",dI,[o[36]||(o[36]=l("h5",{class:"font-semibold mb-2"},"Options:",-1)),l("ul",uI,[l("li",null,[o[30]||(o[30]=l("code",{class:"text-xs"},"iterations:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.iterations")),1)]),l("li",null,[o[31]||(o[31]=l("code",{class:"text-xs"},"k:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.k")),1)]),l("li",null,[o[32]||(o[32]=l("code",{class:"text-xs"},"scale:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.scale")),1)]),l("li",null,[o[33]||(o[33]=l("code",{class:"text-xs"},"center:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.center")),1)]),l("li",null,[o[34]||(o[34]=l("code",{class:"text-xs"},"initialPositions:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.initialPositions")),1)]),l("li",null,[o[35]||(o[35]=l("code",{class:"text-xs"},"threshold:",-1)),be(" "+m(g(e)("docs.layouts.forceDirected.options.threshold")),1)])])]),o[37]||(o[37]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { Graph, ForceDirectedLayout } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B');
graph.addEdge('B', 'C');

const layout = new ForceDirectedLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();
// { 'A': {x: 120, y: 45}, 'B': {x: -30, y: 90}, ... }`)])],-1))]),l("div",hI,[l("h3",fI,m(g(e)("docs.layouts.kamadaKawai.title")),1),l("p",gI,m(g(e)("docs.layouts.kamadaKawai.description")),1),l("p",pI,m(g(e)("docs.layouts.kamadaKawai.complexity")),1),l("p",mI,m(g(e)("docs.layouts.kamadaKawai.bestFor")),1),l("h4",yI,m(g(e)("docs.layouts.kamadaKawai.constructor")),1),l("div",bI,[o[44]||(o[44]=l("h5",{class:"font-semibold mb-2"},"Options:",-1)),l("ul",vI,[l("li",null,[o[38]||(o[38]=l("code",{class:"text-xs"},"iterations:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.iterations")),1)]),l("li",null,[o[39]||(o[39]=l("code",{class:"text-xs"},"scale:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.scale")),1)]),l("li",null,[o[40]||(o[40]=l("code",{class:"text-xs"},"center:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.center")),1)]),l("li",null,[o[41]||(o[41]=l("code",{class:"text-xs"},"initialPositions:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.initialPositions")),1)]),l("li",null,[o[42]||(o[42]=l("code",{class:"text-xs"},"threshold:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.threshold")),1)]),l("li",null,[o[43]||(o[43]=l("code",{class:"text-xs"},"K:",-1)),be(" "+m(g(e)("docs.layouts.kamadaKawai.options.K")),1)])])]),o[45]||(o[45]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { KamadaKawaiLayout } from '@guinetik/graph-js';

const layout = new KamadaKawaiLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();`)])],-1))]),l("div",xI,[l("h3",wI,m(g(e)("docs.layouts.spectral.title")),1),l("p",_I,m(g(e)("docs.layouts.spectral.description")),1),l("p",CI,m(g(e)("docs.layouts.spectral.complexity")),1),l("p",kI,m(g(e)("docs.layouts.spectral.bestFor")),1),l("p",AI," "+m(g(e)("docs.layouts.spectral.requires")),1),o[46]||(o[46]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { NetworkStats, Graph, SpectralLayout } from '@guinetik/graph-js';

// First compute eigenvector-laplacian
const analyzer = new NetworkStats();
await analyzer.analyze(edges, ['eigenvector-laplacian']);

// Then apply layout
const layout = new SpectralLayout(graph, { scale: 200 });
const positions = await layout.getPositions();`)])],-1))]),l("div",NI,[l("div",SI,[l("h3",II,m(g(e)("docs.layouts.circular.title")),1),l("p",TI,m(g(e)("docs.layouts.circular.description")),1),l("p",LI,m(g(e)("docs.layouts.circular.complexity")),1),l("p",EI,m(g(e)("docs.layouts.circular.bestFor")),1)]),l("div",RI,[l("h3",PI,m(g(e)("docs.layouts.shell.title")),1),l("p",DI,m(g(e)("docs.layouts.shell.description")),1),l("p",GI,m(g(e)("docs.layouts.shell.complexity")),1),l("p",MI,m(g(e)("docs.layouts.shell.bestFor")),1),l("p",FI," "+m(g(e)("docs.layouts.shell.requires")),1)]),l("div",zI,[l("h3",BI,m(g(e)("docs.layouts.spiral.title")),1),l("p",$I,m(g(e)("docs.layouts.spiral.description")),1),l("p",OI,m(g(e)("docs.layouts.spiral.complexity")),1),l("p",VI,m(g(e)("docs.layouts.spiral.bestFor")),1)]),l("div",HI,[l("h3",WI,m(g(e)("docs.layouts.bfs.title")),1),l("p",UI,m(g(e)("docs.layouts.bfs.description")),1),l("p",ZI,m(g(e)("docs.layouts.bfs.complexity")),1),l("p",jI,m(g(e)("docs.layouts.bfs.bestFor")),1)]),l("div",XI,[l("h3",YI,m(g(e)("docs.layouts.bipartite.title")),1),l("p",JI,m(g(e)("docs.layouts.bipartite.description")),1),l("p",KI,m(g(e)("docs.layouts.bipartite.complexity")),1),l("p",qI,m(g(e)("docs.layouts.bipartite.bestFor")),1)]),l("div",QI,[l("h3",e3,m(g(e)("docs.layouts.random.title")),1),l("p",t3,m(g(e)("docs.layouts.random.description")),1),l("p",s3,m(g(e)("docs.layouts.random.complexity")),1),l("p",o3,m(g(e)("docs.layouts.random.bestFor")),1)])]),l("div",n3,[l("h4",r3,m(g(e)("docs.layouts.usage")),1),l("p",i3,m(g(e)("docs.layouts.usageDescription")),1),o[47]||(o[47]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`// All layouts follow this pattern
const layout = new SomeLayout(graph, options);
const positions = await layout.getPositions({
  onProgress: (progress) => console.log(\`\${progress * 100}%\`)
});`)])],-1))])]),l("section",a3,[l("h2",l3,[o[48]||(o[48]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.community.title")),1)]),l("p",c3,m(g(e)("docs.community.description")),1),l("div",d3,[l("h3",u3,m(g(e)("docs.community.mainClass.title")),1),l("p",h3,m(g(e)("docs.community.mainClass.description")),1),l("h4",f3,m(g(e)("docs.community.mainClass.constructor")),1),o[49]||(o[49]=l("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[l("code",{class:"text-sm text-gray-200"},"new CommunityDetection(graph)")],-1)),o[50]||(o[50]=l("h4",{class:"text-xl font-bold mb-4"},"Methods",-1)),l("div",g3,[l("div",p3,[l("code",m3,m(g(e)("docs.community.mainClass.methods.detectCommunities.name")),1),l("p",y3,m(g(e)("docs.community.mainClass.methods.detectCommunities.description")),1),l("p",b3,m(g(e)("docs.community.mainClass.methods.detectCommunities.returns")),1)]),l("div",v3,[l("code",x3,m(g(e)("docs.community.mainClass.methods.calculateModularity.name")),1),l("p",w3,m(g(e)("docs.community.mainClass.methods.calculateModularity.description")),1),l("p",_3,m(g(e)("docs.community.mainClass.methods.calculateModularity.returns")),1)])]),o[51]||(o[51]=l("h4",{class:"text-xl font-bold mb-4"},"Static Methods",-1)),l("div",C3,[l("div",k3,[l("code",A3,m(g(e)("docs.community.mainClass.staticMethods.detect.name")),1),l("p",N3,m(g(e)("docs.community.mainClass.staticMethods.detect.description")),1),l("p",S3,m(g(e)("docs.community.mainClass.staticMethods.detect.returns")),1)]),l("div",I3,[l("code",T3,m(g(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.name")),1),l("p",L3,m(g(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.description")),1)]),l("div",E3,[l("code",R3,m(g(e)("docs.community.mainClass.staticMethods.getCommunityGroups.name")),1),l("p",P3,m(g(e)("docs.community.mainClass.staticMethods.getCommunityGroups.description")),1)])])]),l("div",D3,[l("h3",G3,m(g(e)("docs.community.louvain.title")),1),l("p",M3,m(g(e)("docs.community.louvain.description")),1),l("p",F3,m(g(e)("docs.community.louvain.complexity")),1),l("p",z3,m(g(e)("docs.community.louvain.bestFor")),1),l("h4",B3,m(g(e)("docs.community.louvain.constructor")),1),l("div",$3,[o[54]||(o[54]=l("h5",{class:"font-semibold mb-2"},"Options:",-1)),l("ul",O3,[l("li",null,[o[52]||(o[52]=l("code",{class:"text-xs"},"resolution:",-1)),be(" "+m(g(e)("docs.community.louvain.options.resolution")),1)]),l("li",null,[o[53]||(o[53]=l("code",{class:"text-xs"},"maxIterations:",-1)),be(" "+m(g(e)("docs.community.louvain.options.maxIterations")),1)])])]),o[55]||(o[55]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { CommunityDetection, LouvainAlgorithm } from '@guinetik/graph-js';

// Method 1: Direct detection from GraphData
const result = await CommunityDetection.detect(graphData, 'louvain', {
  resolution: 1.0,
  onProgress: (p) => console.log(\`\${Math.round(p * 100)}%\`)
});

// Method 2: Using algorithm instance
const detector = new CommunityDetection(graph);
const algorithm = new LouvainAlgorithm({ resolution: 1.0 });
const result = await detector.detectCommunities(algorithm);

console.log(result.communities);     // { 'A': 0, 'B': 0, 'C': 1 }
console.log(result.modularity);      // 0.42
console.log(result.numCommunities);  // 2`)])],-1))]),l("div",V3,[l("h3",H3,m(g(e)("docs.community.result.title")),1),l("p",W3,m(g(e)("docs.community.result.description")),1),l("div",U3,[o[61]||(o[61]=l("h5",{class:"font-semibold mb-3"},"Properties:",-1)),l("ul",Z3,[l("li",null,[o[56]||(o[56]=l("code",{class:"text-xs"},"communities:",-1)),be(" "+m(g(e)("docs.community.result.properties.communities")),1)]),l("li",null,[o[57]||(o[57]=l("code",{class:"text-xs"},"modularity:",-1)),be(" "+m(g(e)("docs.community.result.properties.modularity")),1)]),l("li",null,[o[58]||(o[58]=l("code",{class:"text-xs"},"numCommunities:",-1)),be(" "+m(g(e)("docs.community.result.properties.numCommunities")),1)]),l("li",null,[o[59]||(o[59]=l("code",{class:"text-xs"},"algorithm:",-1)),be(" "+m(g(e)("docs.community.result.properties.algorithm")),1)]),l("li",null,[o[60]||(o[60]=l("code",{class:"text-xs"},"metadata:",-1)),be(" "+m(g(e)("docs.community.result.properties.metadata")),1)])])])])]),l("section",j3,[l("h2",X3,[o[62]||(o[62]=l("span",{class:"mr-3"},"",-1)),l("span",null,m(g(e)("docs.examples.title")),1)]),l("p",Y3,m(g(e)("docs.examples.description")),1),l("div",J3,[l("h3",K3,m(g(e)("docs.examples.basic.title")),1),l("p",q3,m(g(e)("docs.examples.basic.description")),1),o[63]||(o[63]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Dave', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector', 'betweenness']);

console.log(results);
// [
//   { id: 'Alice', degree: 1, eigenvector: 0.34, betweenness: 0 },
//   { id: 'Bob', degree: 2, eigenvector: 0.58, betweenness: 0.67 },
//   ...
// ]

await analyzer.dispose(); // Cleanup workers`)])],-1))]),l("div",Q3,[l("h3",e9,m(g(e)("docs.examples.csv.title")),1),l("p",t9,m(g(e)("docs.examples.csv.description")),1),o[64]||(o[64]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import { CSVAdapter } from '@guinetik/graph-js';
import NetworkStats from '@guinetik/graph-js';

// Load CSV data
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Convert to edge list for analysis
const network = graphData.edges;

// Analyze
const analyzer = new NetworkStats();
const results = await analyzer.analyze(network, ['degree', 'clustering']);
await analyzer.dispose();`)])],-1))]),l("div",s9,[l("h3",o9,m(g(e)("docs.examples.complete.title")),1),l("p",n9,m(g(e)("docs.examples.complete.description")),1),o[65]||(o[65]=l("div",{class:"bg-gray-900 rounded-lg p-4"},[l("pre",{class:"text-sm text-gray-200"},[l("code",null,`import NetworkStats, {
  CSVAdapter,
  Graph,
  KamadaKawaiLayout,
  CommunityDetection
} from '@guinetik/graph-js';

// 1. Load data
const graphData = await CSVAdapter.loadFromURL('../data/edges.csv');

// 2. Analyze network
const analyzer = new NetworkStats();
const nodeMetrics = await analyzer.analyze(graphData.edges, [
  'degree',
  'eigenvector',
  'betweenness'
]);

// 3. Apply layout
const graph = new Graph();
graphData.edges.forEach(e => {
  graph.addNode(e.source);
  graph.addNode(e.target);
  graph.addEdge(e.source, e.target, e.weight || 1);
});

const layout = new KamadaKawaiLayout(graph, { scale: 200 });
const positions = await layout.getPositions();

// 4. Detect communities
const communityResult = await CommunityDetection.detect(
  graphData,
  'louvain'
);

// 5. Combine results
const finalData = nodeMetrics.map(node => ({
  ...node,
  x: positions[node.id].x,
  y: positions[node.id].y,
  community: communityResult.communities[node.id]
}));

console.log('Analysis complete!', finalData);
console.log('Modularity:', communityResult.modularity);

await analyzer.dispose();`)])],-1))])]),o[66]||(o[66]=l("div",{class:"text-center pt-12 pb-6 border-t border-[var(--color-border)]"},[l("p",{class:"text-secondary"},[be("  For more details, check out the "),l("a",{href:"https://github.com/guinetik/js-network-stats",class:"text-purple-600 dark:text-purple-400 hover:underline",target:"_blank"}," GitHub repository ")])],-1))]))}},i9=[{path:"/",name:"home",component:Bp},{path:"/showcase",name:"showcase",component:Ew},{path:"/explorer",name:"explorer",component:pk},{path:"/family",name:"family",component:lA},{path:"/docs",name:"docs",component:r9}],a9=Rg({history:dg(),routes:i9}),l9=$e({prefix:"App",level:"info"}),qd=kf(bp);qd.use(a9);qd.mount("#app");l9.info("Vue app started");
