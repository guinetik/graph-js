const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ta(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Pe={},ln=[],qt=()=>{},Vd=()=>!1,Oo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),La=t=>t.startsWith("onUpdate:"),Je=Object.assign,Ra=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Kf=Object.prototype.hasOwnProperty,Ie=(t,e)=>Kf.call(t,e),ye=Array.isArray,cn=t=>vr(t)==="[object Map]",Go=t=>vr(t)==="[object Set]",Nl=t=>vr(t)==="[object Date]",ve=t=>typeof t=="function",Fe=t=>typeof t=="string",Mt=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",$d=t=>(Le(t)||ve(t))&&ve(t.then)&&ve(t.catch),Bd=Object.prototype.toString,vr=t=>Bd.call(t),Jf=t=>vr(t).slice(8,-1),zd=t=>vr(t)==="[object Object]",Pa=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wn=Ta(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fo=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Yf=/-\w/g,Tt=Fo(t=>t.replace(Yf,e=>e.slice(1).toUpperCase())),Qf=/\B([A-Z])/g,Rs=Fo(t=>t.replace(Qf,"-$1").toLowerCase()),Vo=Fo(t=>t.charAt(0).toUpperCase()+t.slice(1)),di=Fo(t=>t?`on${Vo(t)}`:""),Cs=(t,e)=>!Object.is(t,e),Wr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},jd=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},ro=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ep=t=>{const e=Fe(t)?Number(t):NaN;return isNaN(e)?t:e};let Il;const $o=()=>Il||(Il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bo(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=Fe(n)?rp(n):Bo(n);if(r)for(const o in r)e[o]=r[o]}return e}else if(Fe(t)||Le(t))return t}const tp=/;(?![^(]*\))/g,sp=/:([^]+)/,np=/\/\*[^]*?\*\//g;function rp(t){const e={};return t.replace(np,"").split(tp).forEach(s=>{if(s){const n=s.split(sp);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function bt(t){let e="";if(Fe(t))e=t;else if(ye(t))for(let s=0;s<t.length;s++){const n=bt(t[s]);n&&(e+=n+" ")}else if(Le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const op="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ip=Ta(op);function Ud(t){return!!t||t===""}function ap(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=bn(t[n],e[n]);return s}function bn(t,e){if(t===e)return!0;let s=Nl(t),n=Nl(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=Mt(t),n=Mt(e),s||n)return t===e;if(s=ye(t),n=ye(e),s||n)return s&&n?ap(t,e):!1;if(s=Le(t),n=Le(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!bn(t[i],e[i]))return!1}}return String(t)===String(e)}function lp(t,e){return t.findIndex(s=>bn(s,e))}const Hd=t=>!!(t&&t.__v_isRef===!0),g=t=>Fe(t)?t:t==null?"":ye(t)||Le(t)&&(t.toString===Bd||!ve(t.toString))?Hd(t)?g(t.value):JSON.stringify(t,Wd,2):String(t),Wd=(t,e)=>Hd(e)?Wd(t,e.value):cn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],o)=>(s[ui(n,o)+" =>"]=r,s),{})}:Go(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ui(s))}:Mt(e)?ui(e):Le(e)&&!ye(e)&&!zd(e)?String(e):e,ui=(t,e="")=>{var s;return Mt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class cp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=yt;try{return yt=this,e()}finally{yt=s}}}on(){++this._on===1&&(this.prevScope=yt,yt=this)}off(){this._on>0&&--this._on===0&&(yt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function dp(){return yt}let Me;const hi=new WeakSet;class Xd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hi.has(this)&&(hi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tl(this),Kd(this);const e=Me,s=Dt;Me=this,Dt=!0;try{return this.fn()}finally{Jd(this),Me=e,Dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Oa(e);this.deps=this.depsTail=void 0,Tl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bi(this)&&this.run()}get dirty(){return Bi(this)}}let qd=0,Xn,qn;function Zd(t,e=!1){if(t.flags|=8,e){t.next=qn,qn=t;return}t.next=Xn,Xn=t}function Da(){qd++}function Ma(){if(--qd>0)return;if(qn){let e=qn;for(qn=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Xn;){let e=Xn;for(Xn=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Kd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Jd(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Oa(n),up(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Bi(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Yd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Yd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===tr)||(t.globalVersion=tr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Bi(t))))return;t.flags|=2;const e=t.dep,s=Me,n=Dt;Me=t,Dt=!0;try{Kd(t);const r=t.fn(t._value);(e.version===0||Cs(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Me=s,Dt=n,Jd(t),t.flags&=-3}}function Oa(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Oa(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function up(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Dt=!0;const Qd=[];function fs(){Qd.push(Dt),Dt=!1}function ps(){const t=Qd.pop();Dt=t===void 0?!0:t}function Tl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Me;Me=void 0;try{e()}finally{Me=s}}}let tr=0;class hp{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ga{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Me||!Dt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new hp(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,eu(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=n)}return s}trigger(e){this.version++,tr++,this.notify(e)}notify(e){Da();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ma()}}}function eu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)eu(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const zi=new WeakMap,Ws=Symbol(""),ji=Symbol(""),sr=Symbol("");function tt(t,e,s){if(Dt&&Me){let n=zi.get(t);n||zi.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Ga),r.map=n,r.key=s),r.track()}}function cs(t,e,s,n,r,o){const i=zi.get(t);if(!i){tr++;return}const a=l=>{l&&l.trigger()};if(Da(),e==="clear")i.forEach(a);else{const l=ye(t),c=l&&Pa(s);if(l&&s==="length"){const d=Number(n);i.forEach((u,f)=>{(f==="length"||f===sr||!Mt(f)&&f>=d)&&a(u)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),c&&a(i.get(sr)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Ws)),cn(t)&&a(i.get(ji)));break;case"delete":l||(a(i.get(Ws)),cn(t)&&a(i.get(ji)));break;case"set":cn(t)&&a(i.get(Ws));break}}Ma()}function Qs(t){const e=Se(t);return e===t?e:(tt(e,"iterate",sr),It(t)?e:e.map(Ye))}function zo(t){return tt(t=Se(t),"iterate",sr),t}const fp={__proto__:null,[Symbol.iterator](){return fi(this,Symbol.iterator,Ye)},concat(...t){return Qs(this).concat(...t.map(e=>ye(e)?Qs(e):e))},entries(){return fi(this,"entries",t=>(t[1]=Ye(t[1]),t))},every(t,e){return es(this,"every",t,e,void 0,arguments)},filter(t,e){return es(this,"filter",t,e,s=>s.map(Ye),arguments)},find(t,e){return es(this,"find",t,e,Ye,arguments)},findIndex(t,e){return es(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return es(this,"findLast",t,e,Ye,arguments)},findLastIndex(t,e){return es(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return es(this,"forEach",t,e,void 0,arguments)},includes(...t){return pi(this,"includes",t)},indexOf(...t){return pi(this,"indexOf",t)},join(t){return Qs(this).join(t)},lastIndexOf(...t){return pi(this,"lastIndexOf",t)},map(t,e){return es(this,"map",t,e,void 0,arguments)},pop(){return Pn(this,"pop")},push(...t){return Pn(this,"push",t)},reduce(t,...e){return Ll(this,"reduce",t,e)},reduceRight(t,...e){return Ll(this,"reduceRight",t,e)},shift(){return Pn(this,"shift")},some(t,e){return es(this,"some",t,e,void 0,arguments)},splice(...t){return Pn(this,"splice",t)},toReversed(){return Qs(this).toReversed()},toSorted(t){return Qs(this).toSorted(t)},toSpliced(...t){return Qs(this).toSpliced(...t)},unshift(...t){return Pn(this,"unshift",t)},values(){return fi(this,"values",Ye)}};function fi(t,e,s){const n=zo(t),r=n[e]();return n!==t&&!It(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=s(o.value)),o}),r}const pp=Array.prototype;function es(t,e,s,n,r,o){const i=zo(t),a=i!==t&&!It(t),l=i[e];if(l!==pp[e]){const u=l.apply(t,o);return a?Ye(u):u}let c=s;i!==t&&(a?c=function(u,f){return s.call(this,Ye(u),f,t)}:s.length>2&&(c=function(u,f){return s.call(this,u,f,t)}));const d=l.call(i,c,n);return a&&r?r(d):d}function Ll(t,e,s,n){const r=zo(t);let o=s;return r!==t&&(It(t)?s.length>3&&(o=function(i,a,l){return s.call(this,i,a,l,t)}):o=function(i,a,l){return s.call(this,i,Ye(a),l,t)}),r[e](o,...n)}function pi(t,e,s){const n=Se(t);tt(n,"iterate",sr);const r=n[e](...s);return(r===-1||r===!1)&&$a(s[0])?(s[0]=Se(s[0]),n[e](...s)):r}function Pn(t,e,s=[]){fs(),Da();const n=Se(t)[e].apply(t,s);return Ma(),ps(),n}const mp=Ta("__proto__,__v_isRef,__isVue"),tu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function gp(t){Mt(t)||(t=String(t));const e=Se(this);return tt(e,"has",t),e.hasOwnProperty(t)}class su{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?Sp:iu:o?ou:ru).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=ye(e);if(!r){let l;if(i&&(l=fp[s]))return l;if(s==="hasOwnProperty")return gp}const a=Reflect.get(e,s,Ke(e)?e:n);if((Mt(s)?tu.has(s):mp(s))||(r||tt(e,"get",s),o))return a;if(Ke(a)){const l=i&&Pa(s)?a:a.value;return r&&Le(l)?Hi(l):l}return Le(a)?r?Hi(a):jo(a):a}}class nu extends su{constructor(e=!1){super(!1,e)}set(e,s,n,r){let o=e[s];if(!this._isShallow){const l=Ns(o);if(!It(n)&&!Ns(n)&&(o=Se(o),n=Se(n)),!ye(e)&&Ke(o)&&!Ke(n))return l||(o.value=n),!0}const i=ye(e)&&Pa(s)?Number(s)<e.length:Ie(e,s),a=Reflect.set(e,s,n,Ke(e)?e:r);return e===Se(r)&&(i?Cs(n,o)&&cs(e,"set",s,n):cs(e,"add",s,n)),a}deleteProperty(e,s){const n=Ie(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&cs(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!Mt(s)||!tu.has(s))&&tt(e,"has",s),n}ownKeys(e){return tt(e,"iterate",ye(e)?"length":Ws),Reflect.ownKeys(e)}}class yp extends su{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const _p=new nu,bp=new yp,vp=new nu(!0);const Ui=t=>t,Ir=t=>Reflect.getPrototypeOf(t);function xp(t,e,s){return function(...n){const r=this.__v_raw,o=Se(r),i=cn(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=r[t](...n),d=s?Ui:e?oo:Ye;return!e&&tt(o,"iterate",l?ji:Ws),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Tr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wp(t,e){const s={get(r){const o=this.__v_raw,i=Se(o),a=Se(r);t||(Cs(r,a)&&tt(i,"get",r),tt(i,"get",a));const{has:l}=Ir(i),c=e?Ui:t?oo:Ye;if(l.call(i,r))return c(o.get(r));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&tt(Se(r),"iterate",Ws),r.size},has(r){const o=this.__v_raw,i=Se(o),a=Se(r);return t||(Cs(r,a)&&tt(i,"has",r),tt(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=Se(a),c=e?Ui:t?oo:Ye;return!t&&tt(l,"iterate",Ws),a.forEach((d,u)=>r.call(o,c(d),c(u),i))}};return Je(s,t?{add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear")}:{add(r){!e&&!It(r)&&!Ns(r)&&(r=Se(r));const o=Se(this);return Ir(o).has.call(o,r)||(o.add(r),cs(o,"add",r,r)),this},set(r,o){!e&&!It(o)&&!Ns(o)&&(o=Se(o));const i=Se(this),{has:a,get:l}=Ir(i);let c=a.call(i,r);c||(r=Se(r),c=a.call(i,r));const d=l.call(i,r);return i.set(r,o),c?Cs(o,d)&&cs(i,"set",r,o):cs(i,"add",r,o),this},delete(r){const o=Se(this),{has:i,get:a}=Ir(o);let l=i.call(o,r);l||(r=Se(r),l=i.call(o,r)),a&&a.call(o,r);const c=o.delete(r);return l&&cs(o,"delete",r,void 0),c},clear(){const r=Se(this),o=r.size!==0,i=r.clear();return o&&cs(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=xp(r,t,e)}),s}function Fa(t,e){const s=wp(t,e);return(n,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(Ie(s,r)&&r in n?s:n,r,o)}const kp={get:Fa(!1,!1)},Ap={get:Fa(!1,!0)},Cp={get:Fa(!0,!1)};const ru=new WeakMap,ou=new WeakMap,iu=new WeakMap,Sp=new WeakMap;function Ep(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Np(t){return t.__v_skip||!Object.isExtensible(t)?0:Ep(Jf(t))}function jo(t){return Ns(t)?t:Va(t,!1,_p,kp,ru)}function au(t){return Va(t,!1,vp,Ap,ou)}function Hi(t){return Va(t,!0,bp,Cp,iu)}function Va(t,e,s,n,r){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Np(t);if(o===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function dn(t){return Ns(t)?dn(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function It(t){return!!(t&&t.__v_isShallow)}function $a(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Ip(t){return!Ie(t,"__v_skip")&&Object.isExtensible(t)&&jd(t,"__v_skip",!0),t}const Ye=t=>Le(t)?jo(t):t,oo=t=>Le(t)?Hi(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function ae(t){return lu(t,!1)}function Tp(t){return lu(t,!0)}function lu(t,e){return Ke(t)?t:new Lp(t,e)}class Lp{constructor(e,s){this.dep=new Ga,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Se(e),this._value=s?e:Ye(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||It(e)||Ns(e);e=n?e:Se(e),Cs(e,s)&&(this._rawValue=e,this._value=n?e:Ye(e),this.dep.trigger())}}function m(t){return Ke(t)?t.value:t}const Rp={get:(t,e,s)=>e==="__v_raw"?t:m(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Ke(r)&&!Ke(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function cu(t){return dn(t)?t:new Proxy(t,Rp)}class Pp{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Ga(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=tr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return Zd(this,!0),!0}get value(){const e=this.dep.track();return Yd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Dp(t,e,s=!1){let n,r;return ve(t)?n=t:(n=t.get,r=t.set),new Pp(n,r,s)}const Lr={},io=new WeakMap;let Fs;function Mp(t,e=!1,s=Fs){if(s){let n=io.get(s);n||io.set(s,n=[]),n.push(t)}}function Op(t,e,s=Pe){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=s,c=A=>r?A:It(A)||r===!1||r===0?ds(A,1):ds(A);let d,u,f,p,y=!1,_=!1;if(Ke(t)?(u=()=>t.value,y=It(t)):dn(t)?(u=()=>c(t),y=!0):ye(t)?(_=!0,y=t.some(A=>dn(A)||It(A)),u=()=>t.map(A=>{if(Ke(A))return A.value;if(dn(A))return c(A);if(ve(A))return l?l(A,2):A()})):ve(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){fs();try{f()}finally{ps()}}const A=Fs;Fs=d;try{return l?l(t,3,[p]):t(p)}finally{Fs=A}}:u=qt,e&&r){const A=u,L=r===!0?1/0:r;u=()=>ds(A(),L)}const x=dp(),v=()=>{d.stop(),x&&x.active&&Ra(x.effects,d)};if(o&&e){const A=e;e=(...L)=>{A(...L),v()}}let w=_?new Array(t.length).fill(Lr):Lr;const E=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const L=d.run();if(r||y||(_?L.some((z,j)=>Cs(z,w[j])):Cs(L,w))){f&&f();const z=Fs;Fs=d;try{const j=[L,w===Lr?void 0:_&&w[0]===Lr?[]:w,p];w=L,l?l(e,3,j):e(...j)}finally{Fs=z}}}else d.run()};return a&&a(E),d=new Xd(u),d.scheduler=i?()=>i(E,!1):E,p=A=>Mp(A,!1,d),f=d.onStop=()=>{const A=io.get(d);if(A){if(l)l(A,4);else for(const L of A)L();io.delete(d)}},e?n?E(!0):w=d.run():i?i(E.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function ds(t,e=1/0,s){if(e<=0||!Le(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Ke(t))ds(t.value,e,s);else if(ye(t))for(let n=0;n<t.length;n++)ds(t[n],e,s);else if(Go(t)||cn(t))t.forEach(n=>{ds(n,e,s)});else if(zd(t)){for(const n in t)ds(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ds(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xr(t,e,s,n){try{return n?t(...n):t()}catch(r){Uo(r,e,s)}}function Ot(t,e,s,n){if(ve(t)){const r=xr(t,e,s,n);return r&&$d(r)&&r.catch(o=>{Uo(o,e,s)}),r}if(ye(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Ot(t[o],e,s,n));return r}}function Uo(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(o){fs(),xr(o,null,10,[t,l,c]),ps();return}}Gp(t,s,r,n,i)}function Gp(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const ut=[];let Ht=-1;const un=[];let vs=null,nn=0;const du=Promise.resolve();let ao=null;function Nn(t){const e=ao||du;return t?e.then(this?t.bind(this):t):e}function Fp(t){let e=Ht+1,s=ut.length;for(;e<s;){const n=e+s>>>1,r=ut[n],o=nr(r);o<t||o===t&&r.flags&2?e=n+1:s=n}return e}function Ba(t){if(!(t.flags&1)){const e=nr(t),s=ut[ut.length-1];!s||!(t.flags&2)&&e>=nr(s)?ut.push(t):ut.splice(Fp(e),0,t),t.flags|=1,uu()}}function uu(){ao||(ao=du.then(fu))}function Vp(t){ye(t)?un.push(...t):vs&&t.id===-1?vs.splice(nn+1,0,t):t.flags&1||(un.push(t),t.flags|=1),uu()}function Rl(t,e,s=Ht+1){for(;s<ut.length;s++){const n=ut[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ut.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function hu(t){if(un.length){const e=[...new Set(un)].sort((s,n)=>nr(s)-nr(n));if(un.length=0,vs){vs.push(...e);return}for(vs=e,nn=0;nn<vs.length;nn++){const s=vs[nn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}vs=null,nn=0}}const nr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function fu(t){try{for(Ht=0;Ht<ut.length;Ht++){const e=ut[Ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ht<ut.length;Ht++){const e=ut[Ht];e&&(e.flags&=-2)}Ht=-1,ut.length=0,hu(),ao=null,(ut.length||un.length)&&fu()}}let Qe=null,pu=null;function lo(t){const e=Qe;return Qe=t,pu=t&&t.type.__scopeId||null,e}function Be(t,e=Qe,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&ho(-1);const o=lo(e);let i;try{i=t(...r)}finally{lo(o),n._d&&ho(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function ht(t,e){if(Qe===null)return t;const s=Ko(Qe),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=Pe]=e[r];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&ds(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ds(t,e,s,n){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[n];l&&(fs(),Ot(l,s,8,[t.el,a,t,e]),ps())}}const mu=Symbol("_vte"),gu=t=>t.__isTeleport,Zn=t=>t&&(t.disabled||t.disabled===""),Pl=t=>t&&(t.defer||t.defer===""),Dl=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ml=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Wi=(t,e)=>{const s=t&&t.to;return Fe(s)?e?e(s):null:s},yu={name:"Teleport",__isTeleport:!0,process(t,e,s,n,r,o,i,a,l,c){const{mc:d,pc:u,pbc:f,o:{insert:p,querySelector:y,createText:_,createComment:x}}=c,v=Zn(e.props);let{shapeFlag:w,children:E,dynamicChildren:A}=e;if(t==null){const L=e.el=_(""),z=e.anchor=_("");p(L,s,n),p(z,s,n);const j=(W,Z)=>{w&16&&d(E,W,Z,r,o,i,a,l)},ee=()=>{const W=e.target=Wi(e.props,y),Z=_u(W,e,_,p);W&&(i!=="svg"&&Dl(W)?i="svg":i!=="mathml"&&Ml(W)&&(i="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(W),v||(j(W,Z),Xr(e,!1)))};v&&(j(s,z),Xr(e,!0)),Pl(e.props)?(e.el.__isMounted=!1,ct(()=>{ee(),delete e.el.__isMounted},o)):ee()}else{if(Pl(e.props)&&t.el.__isMounted===!1){ct(()=>{yu.process(t,e,s,n,r,o,i,a,l,c)},o);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,z=e.target=t.target,j=e.targetAnchor=t.targetAnchor,ee=Zn(t.props),W=ee?s:z,Z=ee?L:j;if(i==="svg"||Dl(z)?i="svg":(i==="mathml"||Ml(z))&&(i="mathml"),A?(f(t.dynamicChildren,A,W,r,o,i,a),Ua(t,e,!0)):l||u(t,e,W,Z,r,o,i,a,!1),v)ee?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Rr(e,s,L,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=Wi(e.props,y);U&&Rr(e,U,null,c,0)}else ee&&Rr(e,z,j,c,1);Xr(e,v)}},remove(t,e,s,{um:n,o:{remove:r}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:d,target:u,props:f}=t;if(u&&(r(c),r(d)),o&&r(l),i&16){const p=o||!Zn(f);for(let y=0;y<a.length;y++){const _=a[y];n(_,e,s,p,!!_.dynamicChildren)}}},move:Rr,hydrate:$p};function Rr(t,e,s,{o:{insert:n},m:r},o=2){o===0&&n(t.targetAnchor,e,s);const{el:i,anchor:a,shapeFlag:l,children:c,props:d}=t,u=o===2;if(u&&n(i,e,s),(!u||Zn(d))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,s,2);u&&n(a,e,s)}function $p(t,e,s,n,r,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:d}},u){function f(_,x,v,w){x.anchor=u(i(_),x,a(_),s,n,r,o),x.targetStart=v,x.targetAnchor=w}const p=e.target=Wi(e.props,l),y=Zn(e.props);if(p){const _=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)f(t,e,_,_&&i(_));else{e.anchor=i(t);let x=_;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,p._lpa=e.targetAnchor&&i(e.targetAnchor);break}}x=i(x)}e.targetAnchor||_u(p,e,d,c),u(_&&i(_),e,p,s,n,r,o)}Xr(e,y)}else y&&e.shapeFlag&16&&f(t,e,t,i(t));return e.anchor&&i(e.anchor)}const Bp=yu;function Xr(t,e){const s=t.ctx;if(s&&s.ut){let n,r;for(e?(n=t.el,r=t.anchor):(n=t.targetStart,r=t.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function _u(t,e,s,n){const r=e.targetStart=s(""),o=e.targetAnchor=s("");return r[mu]=o,t&&(n(r,t),n(o,t)),o}const as=Symbol("_leaveCb"),Pr=Symbol("_enterCb");function zp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ps(()=>{t.isMounted=!0}),Eu(()=>{t.isUnmounting=!0}),t}const Et=[Function,Array],bu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Et,onEnter:Et,onAfterEnter:Et,onEnterCancelled:Et,onBeforeLeave:Et,onLeave:Et,onAfterLeave:Et,onLeaveCancelled:Et,onBeforeAppear:Et,onAppear:Et,onAfterAppear:Et,onAppearCancelled:Et},vu=t=>{const e=t.subTree;return e.component?vu(e.component):e},jp={name:"BaseTransition",props:bu,setup(t,{slots:e}){const s=Ku(),n=zp();return()=>{const r=e.default&&ku(e.default(),!0);if(!r||!r.length)return;const o=xu(r),i=Se(t),{mode:a}=i;if(n.isLeaving)return mi(o);const l=Ol(o);if(!l)return mi(o);let c=Xi(l,i,n,s,u=>c=u);l.type!==nt&&rr(l,c);let d=s.subTree&&Ol(s.subTree);if(d&&d.type!==nt&&!zs(d,l)&&vu(s).type!==nt){let u=Xi(d,i,n,s);if(rr(d,u),a==="out-in"&&l.type!==nt)return n.isLeaving=!0,u.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,d=void 0},mi(o);a==="in-out"&&l.type!==nt?u.delayLeave=(f,p,y)=>{const _=wu(n,d);_[String(d.key)]=d,f[as]=()=>{p(),f[as]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function xu(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==nt){e=s;break}}return e}const Up=jp;function wu(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Xi(t,e,s,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:x,onAppear:v,onAfterAppear:w,onAppearCancelled:E}=e,A=String(t.key),L=wu(s,t),z=(W,Z)=>{W&&Ot(W,n,9,Z)},j=(W,Z)=>{const U=Z[1];z(W,Z),ye(W)?W.every(R=>R.length<=1)&&U():W.length<=1&&U()},ee={mode:i,persisted:a,beforeEnter(W){let Z=l;if(!s.isMounted)if(o)Z=x||l;else return;W[as]&&W[as](!0);const U=L[A];U&&zs(t,U)&&U.el[as]&&U.el[as](),z(Z,[W])},enter(W){let Z=c,U=d,R=u;if(!s.isMounted)if(o)Z=v||c,U=w||d,R=E||u;else return;let G=!1;const S=W[Pr]=M=>{G||(G=!0,M?z(R,[W]):z(U,[W]),ee.delayedLeave&&ee.delayedLeave(),W[Pr]=void 0)};Z?j(Z,[W,S]):S()},leave(W,Z){const U=String(t.key);if(W[Pr]&&W[Pr](!0),s.isUnmounting)return Z();z(f,[W]);let R=!1;const G=W[as]=S=>{R||(R=!0,Z(),S?z(_,[W]):z(y,[W]),W[as]=void 0,L[U]===t&&delete L[U])};L[U]=t,p?j(p,[W,G]):G()},clone(W){const Z=Xi(W,e,s,n,r);return r&&r(Z),Z}};return ee}function mi(t){if(Ho(t))return t=Ts(t),t.children=null,t}function Ol(t){if(!Ho(t))return gu(t.type)&&t.children?xu(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&ve(s.default))return s.default()}}function rr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,rr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ku(t,e=!1,s){let n=[],r=0;for(let o=0;o<t.length;o++){let i=t[o];const a=s==null?i.key:String(s)+String(i.key!=null?i.key:o);i.type===Ge?(i.patchFlag&128&&r++,n=n.concat(ku(i.children,e,a))):(e||i.type!==nt)&&n.push(a!=null?Ts(i,{key:a}):i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Au(t,e){return ve(t)?Je({name:t.name},e,{setup:t}):t}function Cu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const co=new WeakMap;function Kn(t,e,s,n,r=!1){if(ye(t)){t.forEach((y,_)=>Kn(y,e&&(ye(e)?e[_]:e),s,n,r));return}if(hn(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Kn(t,e,s,n.component.subTree);return}const o=n.shapeFlag&4?Ko(n.component):n.el,i=r?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Pe?a.refs={}:a.refs,u=a.setupState,f=Se(u),p=u===Pe?Vd:y=>Ie(f,y);if(c!=null&&c!==l){if(Gl(e),Fe(c))d[c]=null,p(c)&&(u[c]=null);else if(Ke(c)){c.value=null;const y=e;y.k&&(d[y.k]=null)}}if(ve(l))xr(l,a,12,[i,d]);else{const y=Fe(l),_=Ke(l);if(y||_){const x=()=>{if(t.f){const v=y?p(l)?u[l]:d[l]:l.value;if(r)ye(v)&&Ra(v,o);else if(ye(v))v.includes(o)||v.push(o);else if(y)d[l]=[o],p(l)&&(u[l]=d[l]);else{const w=[o];l.value=w,t.k&&(d[t.k]=w)}}else y?(d[l]=i,p(l)&&(u[l]=i)):_&&(l.value=i,t.k&&(d[t.k]=i))};if(i){const v=()=>{x(),co.delete(t)};v.id=-1,co.set(t,v),ct(v,s)}else Gl(t),x()}}}function Gl(t){const e=co.get(t);e&&(e.flags|=8,co.delete(t))}$o().requestIdleCallback;$o().cancelIdleCallback;const hn=t=>!!t.type.__asyncLoader,Ho=t=>t.type.__isKeepAlive;function Hp(t,e){Su(t,"a",e)}function Wp(t,e){Su(t,"da",e)}function Su(t,e,s=rt){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Wo(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Ho(r.parent.vnode)&&Xp(n,e,s,r),r=r.parent}}function Xp(t,e,s,n){const r=Wo(e,t,n,!0);Xo(()=>{Ra(n[e],r)},s)}function Wo(t,e,s=rt,n=!1){if(s){const r=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...i)=>{fs();const a=wr(s),l=Ot(e,s,t,i);return a(),ps(),l});return n?r.unshift(o):r.push(o),o}}const gs=t=>(e,s=rt)=>{(!ar||t==="sp")&&Wo(t,(...n)=>e(...n),s)},qp=gs("bm"),Ps=gs("m"),Zp=gs("bu"),Kp=gs("u"),Eu=gs("bum"),Xo=gs("um"),Jp=gs("sp"),Yp=gs("rtg"),Qp=gs("rtc");function em(t,e=rt){Wo("ec",t,e)}const Nu="components";function qi(t,e){return Tu(Nu,t,!0,e)||t}const Iu=Symbol.for("v-ndc");function tm(t){return Fe(t)?Tu(Nu,t,!1)||t:t||Iu}function Tu(t,e,s=!0,n=!1){const r=Qe||rt;if(r){const o=r.type;{const a=zm(o,!1);if(a&&(a===e||a===Tt(e)||a===Vo(Tt(e))))return o}const i=Fl(r[t]||o[t],e)||Fl(r.appContext[t],e);return!i&&n?o:i}}function Fl(t,e){return t&&(t[e]||t[Tt(e)]||t[Vo(Tt(e))])}function Ss(t,e,s,n){let r;const o=s,i=ye(t);if(i||Fe(t)){const a=i&&dn(t);let l=!1,c=!1;a&&(l=!It(t),c=Ns(t),t=zo(t)),r=new Array(t.length);for(let d=0,u=t.length;d<u;d++)r[d]=e(l?c?oo(Ye(t[d])):Ye(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(Le(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];r[l]=e(t[d],d,l,o)}}else r=[];return r}function Zi(t,e,s={},n,r){if(Qe.ce||Qe.parent&&hn(Qe.parent)&&Qe.parent.ce){const c=Object.keys(s).length>0;return e!=="default"&&(s.name=e),H(),Is(Ge,null,[_e("slot",s,n)],c?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),H();const i=o&&Lu(o(s)),a=s.key||i&&i.key,l=Is(Ge,{key:(a&&!Mt(a)?a:`_${e}`)+(!i&&n?"_fb":"")},i||[],i&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Lu(t){return t.some(e=>ir(e)?!(e.type===nt||e.type===Ge&&!Lu(e.children)):!0)?t:null}const Ki=t=>t?Ju(t)?Ko(t):Ki(t.parent):null,Jn=Je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ki(t.parent),$root:t=>Ki(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Pu(t),$forceUpdate:t=>t.f||(t.f=()=>{Ba(t.update)}),$nextTick:t=>t.n||(t.n=Nn.bind(t.proxy)),$watch:t=>wm.bind(t)}),gi=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Ie(t,e),sm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return o[e]}else{if(gi(n,e))return i[e]=1,n[e];if(r!==Pe&&Ie(r,e))return i[e]=2,r[e];if((c=t.propsOptions[0])&&Ie(c,e))return i[e]=3,o[e];if(s!==Pe&&Ie(s,e))return i[e]=4,s[e];Ji&&(i[e]=0)}}const d=Jn[e];let u,f;if(d)return e==="$attrs"&&tt(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==Pe&&Ie(s,e))return i[e]=4,s[e];if(f=l.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:o}=t;return gi(r,e)?(r[e]=s,!0):n!==Pe&&Ie(n,e)?(n[e]=s,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:o,type:i}},a){let l,c;return!!(s[a]||t!==Pe&&a[0]!=="$"&&Ie(t,a)||gi(e,a)||(l=o[0])&&Ie(l,a)||Ie(n,a)||Ie(Jn,a)||Ie(r.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ie(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Vl(t){return ye(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ji=!0;function nm(t){const e=Pu(t),s=t.proxy,n=t.ctx;Ji=!1,e.beforeCreate&&$l(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:p,updated:y,activated:_,deactivated:x,beforeDestroy:v,beforeUnmount:w,destroyed:E,unmounted:A,render:L,renderTracked:z,renderTriggered:j,errorCaptured:ee,serverPrefetch:W,expose:Z,inheritAttrs:U,components:R,directives:G,filters:S}=e;if(c&&rm(c,n,null),i)for(const F in i){const X=i[F];ve(X)&&(n[F]=X.bind(s))}if(r){const F=r.call(s,s);Le(F)&&(t.data=jo(F))}if(Ji=!0,o)for(const F in o){const X=o[F],oe=ve(X)?X.bind(s,s):ve(X.get)?X.get.bind(s,s):qt,ue=!ve(X)&&ve(X.set)?X.set.bind(s):qt,K=ot({get:oe,set:ue});Object.defineProperty(n,F,{enumerable:!0,configurable:!0,get:()=>K.value,set:le=>K.value=le})}if(a)for(const F in a)Ru(a[F],n,s,F);if(l){const F=ve(l)?l.call(s):l;Reflect.ownKeys(F).forEach(X=>{qr(X,F[X])})}d&&$l(d,t,"c");function T(F,X){ye(X)?X.forEach(oe=>F(oe.bind(s))):X&&F(X.bind(s))}if(T(qp,u),T(Ps,f),T(Zp,p),T(Kp,y),T(Hp,_),T(Wp,x),T(em,ee),T(Qp,z),T(Yp,j),T(Eu,w),T(Xo,A),T(Jp,W),ye(Z))if(Z.length){const F=t.exposed||(t.exposed={});Z.forEach(X=>{Object.defineProperty(F,X,{get:()=>s[X],set:oe=>s[X]=oe,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===qt&&(t.render=L),U!=null&&(t.inheritAttrs=U),R&&(t.components=R),G&&(t.directives=G),W&&Cu(t)}function rm(t,e,s=qt){ye(t)&&(t=Yi(t));for(const n in t){const r=t[n];let o;Le(r)?"default"in r?o=Zt(r.from||n,r.default,!0):o=Zt(r.from||n):o=Zt(r),Ke(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[n]=o}}function $l(t,e,s){Ot(ye(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ru(t,e,s,n){let r=n.includes(".")?Hu(s,n):()=>s[n];if(Fe(t)){const o=e[t];ve(o)&&Ct(r,o)}else if(ve(t))Ct(r,t.bind(s));else if(Le(t))if(ye(t))t.forEach(o=>Ru(o,e,s,n));else{const o=ve(t.handler)?t.handler.bind(s):e[t.handler];ve(o)&&Ct(r,o,t)}}function Pu(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(c=>uo(l,c,i,!0)),uo(l,e,i)),Le(e)&&o.set(e,l),l}function uo(t,e,s,n=!1){const{mixins:r,extends:o}=e;o&&uo(t,o,s,!0),r&&r.forEach(i=>uo(t,i,s,!0));for(const i in e)if(!(n&&i==="expose")){const a=om[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const om={data:Bl,props:zl,emits:zl,methods:zn,computed:zn,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:zn,directives:zn,watch:am,provide:Bl,inject:im};function Bl(t,e){return e?t?function(){return Je(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function im(t,e){return zn(Yi(t),Yi(e))}function Yi(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function lt(t,e){return t?[...new Set([].concat(t,e))]:e}function zn(t,e){return t?Je(Object.create(null),t,e):e}function zl(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:Je(Object.create(null),Vl(t),Vl(e??{})):e}function am(t,e){if(!t)return e;if(!e)return t;const s=Je(Object.create(null),t);for(const n in e)s[n]=lt(t[n],e[n]);return s}function Du(){return{app:null,config:{isNativeTag:Vd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lm=0;function cm(t,e){return function(n,r=null){ve(n)||(n=Je({},n)),r!=null&&!Le(r)&&(r=null);const o=Du(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:lm++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Um,get config(){return o.config},set config(d){},use(d,...u){return i.has(d)||(d&&ve(d.install)?(i.add(d),d.install(c,...u)):ve(d)&&(i.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,f){if(!l){const p=c._ceVNode||_e(n,r);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,d,f),l=!0,c._container=d,d.__vue_app__=c,Ko(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Ot(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=fn;fn=c;try{return d()}finally{fn=u}}};return c}}let fn=null;function qr(t,e){if(rt){let s=rt.provides;const n=rt.parent&&rt.parent.provides;n===s&&(s=rt.provides=Object.create(n)),s[t]=e}}function Zt(t,e,s=!1){const n=Ku();if(n||fn){let r=fn?fn._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&ve(e)?e.call(n&&n.proxy):e}}const Mu={},Ou=()=>Object.create(Mu),Gu=t=>Object.getPrototypeOf(t)===Mu;function dm(t,e,s,n=!1){const r={},o=Ou();t.propsDefaults=Object.create(null),Fu(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);s?t.props=n?r:au(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function um(t,e,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=Se(r),[l]=t.propsOptions;let c=!1;if((n||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(qo(t.emitsOptions,f))continue;const p=e[f];if(l)if(Ie(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const y=Tt(f);r[y]=Qi(l,a,y,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Fu(t,e,r,o)&&(c=!0);let d;for(const u in a)(!e||!Ie(e,u)&&((d=Rs(u))===u||!Ie(e,d)))&&(l?s&&(s[u]!==void 0||s[d]!==void 0)&&(r[u]=Qi(l,a,u,void 0,t,!0)):delete r[u]);if(o!==a)for(const u in o)(!e||!Ie(e,u))&&(delete o[u],c=!0)}c&&cs(t.attrs,"set","")}function Fu(t,e,s,n){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(Wn(l))continue;const c=e[l];let d;r&&Ie(r,d=Tt(l))?!o||!o.includes(d)?s[d]=c:(a||(a={}))[d]=c:qo(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,i=!0)}if(o){const l=Se(s),c=a||Pe;for(let d=0;d<o.length;d++){const u=o[d];s[u]=Qi(r,l,u,c[u],t,!Ie(c,u))}}return i}function Qi(t,e,s,n,r,o){const i=t[s];if(i!=null){const a=Ie(i,"default");if(a&&n===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ve(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const d=wr(r);n=c[s]=l.call(null,e),d()}}else n=l;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!a?n=!1:i[1]&&(n===""||n===Rs(s))&&(n=!0))}return n}const hm=new WeakMap;function Vu(t,e,s=!1){const n=s?hm:e.propsCache,r=n.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!ve(t)){const d=u=>{l=!0;const[f,p]=Vu(u,e,!0);Je(i,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Le(t)&&n.set(t,ln),ln;if(ye(o))for(let d=0;d<o.length;d++){const u=Tt(o[d]);jl(u)&&(i[u]=Pe)}else if(o)for(const d in o){const u=Tt(d);if(jl(u)){const f=o[d],p=i[u]=ye(f)||ve(f)?{type:f}:Je({},f),y=p.type;let _=!1,x=!0;if(ye(y))for(let v=0;v<y.length;++v){const w=y[v],E=ve(w)&&w.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(x=!1)}else _=ve(y)&&y.name==="Boolean";p[0]=_,p[1]=x,(_||Ie(p,"default"))&&a.push(u)}}const c=[i,a];return Le(t)&&n.set(t,c),c}function jl(t){return t[0]!=="$"&&!Wn(t)}const za=t=>t==="_"||t==="_ctx"||t==="$stable",ja=t=>ye(t)?t.map(Wt):[Wt(t)],fm=(t,e,s)=>{if(e._n)return e;const n=Be((...r)=>ja(e(...r)),s);return n._c=!1,n},$u=(t,e,s)=>{const n=t._ctx;for(const r in t){if(za(r))continue;const o=t[r];if(ve(o))e[r]=fm(r,o,n);else if(o!=null){const i=ja(o);e[r]=()=>i}}},Bu=(t,e)=>{const s=ja(e);t.slots.default=()=>s},zu=(t,e,s)=>{for(const n in e)(s||!za(n))&&(t[n]=e[n])},pm=(t,e,s)=>{const n=t.slots=Ou();if(t.vnode.shapeFlag&32){const r=e._;r?(zu(n,e,s),s&&jd(n,"_",r,!0)):$u(e,n)}else e&&Bu(t,e)},mm=(t,e,s)=>{const{vnode:n,slots:r}=t;let o=!0,i=Pe;if(n.shapeFlag&32){const a=e._;a?s&&a===1?o=!1:zu(r,e,s):(o=!e.$stable,$u(e,r)),i=e}else e&&(Bu(t,e),i={default:1});if(o)for(const a in r)!za(a)&&i[a]==null&&delete r[a]},ct=Tm;function gm(t){return ym(t)}function ym(t,e){const s=$o();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:p=qt,insertStaticContent:y}=t,_=(k,C,N,$=null,B=null,V=null,re=void 0,P=null,D=!!C.dynamicChildren)=>{if(k===C)return;k&&!zs(k,C)&&($=I(k),le(k,B,V,!0),k=null),C.patchFlag===-2&&(D=!1,C.dynamicChildren=null);const{type:O,ref:me,shapeFlag:ie}=C;switch(O){case Zo:x(k,C,N,$);break;case nt:v(k,C,N,$);break;case _i:k==null&&w(C,N,$,re);break;case Ge:R(k,C,N,$,B,V,re,P,D);break;default:ie&1?L(k,C,N,$,B,V,re,P,D):ie&6?G(k,C,N,$,B,V,re,P,D):(ie&64||ie&128)&&O.process(k,C,N,$,B,V,re,P,D,fe)}me!=null&&B?Kn(me,k&&k.ref,V,C||k,!C):me==null&&k&&k.ref!=null&&Kn(k.ref,null,V,k,!0)},x=(k,C,N,$)=>{if(k==null)n(C.el=a(C.children),N,$);else{const B=C.el=k.el;C.children!==k.children&&c(B,C.children)}},v=(k,C,N,$)=>{k==null?n(C.el=l(C.children||""),N,$):C.el=k.el},w=(k,C,N,$)=>{[k.el,k.anchor]=y(k.children,C,N,$,k.el,k.anchor)},E=({el:k,anchor:C},N,$)=>{let B;for(;k&&k!==C;)B=f(k),n(k,N,$),k=B;n(C,N,$)},A=({el:k,anchor:C})=>{let N;for(;k&&k!==C;)N=f(k),r(k),k=N;r(C)},L=(k,C,N,$,B,V,re,P,D)=>{C.type==="svg"?re="svg":C.type==="math"&&(re="mathml"),k==null?z(C,N,$,B,V,re,P,D):W(k,C,B,V,re,P,D)},z=(k,C,N,$,B,V,re,P)=>{let D,O;const{props:me,shapeFlag:ie,transition:pe,dirs:be}=k;if(D=k.el=i(k.type,V,me&&me.is,me),ie&8?d(D,k.children):ie&16&&ee(k.children,D,null,$,B,yi(k,V),re,P),be&&Ds(k,null,$,"created"),j(D,k,k.scopeId,re,$),me){for(const Q in me)Q!=="value"&&!Wn(Q)&&o(D,Q,null,me[Q],V,$);"value"in me&&o(D,"value",null,me.value,V),(O=me.onVnodeBeforeMount)&&zt(O,$,k)}be&&Ds(k,null,$,"beforeMount");const Y=_m(B,pe);Y&&pe.beforeEnter(D),n(D,C,N),((O=me&&me.onVnodeMounted)||Y||be)&&ct(()=>{O&&zt(O,$,k),Y&&pe.enter(D),be&&Ds(k,null,$,"mounted")},B)},j=(k,C,N,$,B)=>{if(N&&p(k,N),$)for(let V=0;V<$.length;V++)p(k,$[V]);if(B){let V=B.subTree;if(C===V||Xu(V.type)&&(V.ssContent===C||V.ssFallback===C)){const re=B.vnode;j(k,re,re.scopeId,re.slotScopeIds,B.parent)}}},ee=(k,C,N,$,B,V,re,P,D=0)=>{for(let O=D;O<k.length;O++){const me=k[O]=P?xs(k[O]):Wt(k[O]);_(null,me,C,N,$,B,V,re,P)}},W=(k,C,N,$,B,V,re)=>{const P=C.el=k.el;let{patchFlag:D,dynamicChildren:O,dirs:me}=C;D|=k.patchFlag&16;const ie=k.props||Pe,pe=C.props||Pe;let be;if(N&&Ms(N,!1),(be=pe.onVnodeBeforeUpdate)&&zt(be,N,C,k),me&&Ds(C,k,N,"beforeUpdate"),N&&Ms(N,!0),(ie.innerHTML&&pe.innerHTML==null||ie.textContent&&pe.textContent==null)&&d(P,""),O?Z(k.dynamicChildren,O,P,N,$,yi(C,B),V):re||X(k,C,P,null,N,$,yi(C,B),V,!1),D>0){if(D&16)U(P,ie,pe,N,B);else if(D&2&&ie.class!==pe.class&&o(P,"class",null,pe.class,B),D&4&&o(P,"style",ie.style,pe.style,B),D&8){const Y=C.dynamicProps;for(let Q=0;Q<Y.length;Q++){const de=Y[Q],Oe=ie[de],qe=pe[de];(qe!==Oe||de==="value")&&o(P,de,Oe,qe,B,N)}}D&1&&k.children!==C.children&&d(P,C.children)}else!re&&O==null&&U(P,ie,pe,N,B);((be=pe.onVnodeUpdated)||me)&&ct(()=>{be&&zt(be,N,C,k),me&&Ds(C,k,N,"updated")},$)},Z=(k,C,N,$,B,V,re)=>{for(let P=0;P<C.length;P++){const D=k[P],O=C[P],me=D.el&&(D.type===Ge||!zs(D,O)||D.shapeFlag&198)?u(D.el):N;_(D,O,me,null,$,B,V,re,!0)}},U=(k,C,N,$,B)=>{if(C!==N){if(C!==Pe)for(const V in C)!Wn(V)&&!(V in N)&&o(k,V,C[V],null,B,$);for(const V in N){if(Wn(V))continue;const re=N[V],P=C[V];re!==P&&V!=="value"&&o(k,V,P,re,B,$)}"value"in N&&o(k,"value",C.value,N.value,B)}},R=(k,C,N,$,B,V,re,P,D)=>{const O=C.el=k?k.el:a(""),me=C.anchor=k?k.anchor:a("");let{patchFlag:ie,dynamicChildren:pe,slotScopeIds:be}=C;be&&(P=P?P.concat(be):be),k==null?(n(O,N,$),n(me,N,$),ee(C.children||[],N,me,B,V,re,P,D)):ie>0&&ie&64&&pe&&k.dynamicChildren?(Z(k.dynamicChildren,pe,N,B,V,re,P),(C.key!=null||B&&C===B.subTree)&&Ua(k,C,!0)):X(k,C,N,me,B,V,re,P,D)},G=(k,C,N,$,B,V,re,P,D)=>{C.slotScopeIds=P,k==null?C.shapeFlag&512?B.ctx.activate(C,N,$,re,D):S(C,N,$,B,V,re,D):M(k,C,D)},S=(k,C,N,$,B,V,re)=>{const P=k.component=Gm(k,$,B);if(Ho(k)&&(P.ctx.renderer=fe),Fm(P,!1,re),P.asyncDep){if(B&&B.registerDep(P,T,re),!k.el){const D=P.subTree=_e(nt);v(null,D,C,N),k.placeholder=D.el}}else T(P,k,C,N,B,V,re)},M=(k,C,N)=>{const $=C.component=k.component;if(Nm(k,C,N))if($.asyncDep&&!$.asyncResolved){F($,C,N);return}else $.next=C,$.update();else C.el=k.el,$.vnode=C},T=(k,C,N,$,B,V,re)=>{const P=()=>{if(k.isMounted){let{next:ie,bu:pe,u:be,parent:Y,vnode:Q}=k;{const $t=ju(k);if($t){ie&&(ie.el=Q.el,F(k,ie,re)),$t.asyncDep.then(()=>{k.isUnmounted||P()});return}}let de=ie,Oe;Ms(k,!1),ie?(ie.el=Q.el,F(k,ie,re)):ie=Q,pe&&Wr(pe),(Oe=ie.props&&ie.props.onVnodeBeforeUpdate)&&zt(Oe,Y,ie,Q),Ms(k,!0);const qe=Hl(k),Vt=k.subTree;k.subTree=qe,_(Vt,qe,u(Vt.el),I(Vt),k,B,V),ie.el=qe.el,de===null&&Im(k,qe.el),be&&ct(be,B),(Oe=ie.props&&ie.props.onVnodeUpdated)&&ct(()=>zt(Oe,Y,ie,Q),B)}else{let ie;const{el:pe,props:be}=C,{bm:Y,m:Q,parent:de,root:Oe,type:qe}=k,Vt=hn(C);Ms(k,!1),Y&&Wr(Y),!Vt&&(ie=be&&be.onVnodeBeforeMount)&&zt(ie,de,C),Ms(k,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(qe);const $t=k.subTree=Hl(k);_(null,$t,N,$,k,B,V),C.el=$t.el}if(Q&&ct(Q,B),!Vt&&(ie=be&&be.onVnodeMounted)){const $t=C;ct(()=>zt(ie,de,$t),B)}(C.shapeFlag&256||de&&hn(de.vnode)&&de.vnode.shapeFlag&256)&&k.a&&ct(k.a,B),k.isMounted=!0,C=N=$=null}};k.scope.on();const D=k.effect=new Xd(P);k.scope.off();const O=k.update=D.run.bind(D),me=k.job=D.runIfDirty.bind(D);me.i=k,me.id=k.uid,D.scheduler=()=>Ba(me),Ms(k,!0),O()},F=(k,C,N)=>{C.component=k;const $=k.vnode.props;k.vnode=C,k.next=null,um(k,C.props,$,N),mm(k,C.children,N),fs(),Rl(k),ps()},X=(k,C,N,$,B,V,re,P,D=!1)=>{const O=k&&k.children,me=k?k.shapeFlag:0,ie=C.children,{patchFlag:pe,shapeFlag:be}=C;if(pe>0){if(pe&128){ue(O,ie,N,$,B,V,re,P,D);return}else if(pe&256){oe(O,ie,N,$,B,V,re,P,D);return}}be&8?(me&16&&ge(O,B,V),ie!==O&&d(N,ie)):me&16?be&16?ue(O,ie,N,$,B,V,re,P,D):ge(O,B,V,!0):(me&8&&d(N,""),be&16&&ee(ie,N,$,B,V,re,P,D))},oe=(k,C,N,$,B,V,re,P,D)=>{k=k||ln,C=C||ln;const O=k.length,me=C.length,ie=Math.min(O,me);let pe;for(pe=0;pe<ie;pe++){const be=C[pe]=D?xs(C[pe]):Wt(C[pe]);_(k[pe],be,N,null,B,V,re,P,D)}O>me?ge(k,B,V,!0,!1,ie):ee(C,N,$,B,V,re,P,D,ie)},ue=(k,C,N,$,B,V,re,P,D)=>{let O=0;const me=C.length;let ie=k.length-1,pe=me-1;for(;O<=ie&&O<=pe;){const be=k[O],Y=C[O]=D?xs(C[O]):Wt(C[O]);if(zs(be,Y))_(be,Y,N,null,B,V,re,P,D);else break;O++}for(;O<=ie&&O<=pe;){const be=k[ie],Y=C[pe]=D?xs(C[pe]):Wt(C[pe]);if(zs(be,Y))_(be,Y,N,null,B,V,re,P,D);else break;ie--,pe--}if(O>ie){if(O<=pe){const be=pe+1,Y=be<me?C[be].el:$;for(;O<=pe;)_(null,C[O]=D?xs(C[O]):Wt(C[O]),N,Y,B,V,re,P,D),O++}}else if(O>pe)for(;O<=ie;)le(k[O],B,V,!0),O++;else{const be=O,Y=O,Q=new Map;for(O=Y;O<=pe;O++){const wt=C[O]=D?xs(C[O]):Wt(C[O]);wt.key!=null&&Q.set(wt.key,O)}let de,Oe=0;const qe=pe-Y+1;let Vt=!1,$t=0;const Rn=new Array(qe);for(O=0;O<qe;O++)Rn[O]=0;for(O=be;O<=ie;O++){const wt=k[O];if(Oe>=qe){le(wt,B,V,!0);continue}let Bt;if(wt.key!=null)Bt=Q.get(wt.key);else for(de=Y;de<=pe;de++)if(Rn[de-Y]===0&&zs(wt,C[de])){Bt=de;break}Bt===void 0?le(wt,B,V,!0):(Rn[Bt-Y]=O+1,Bt>=$t?$t=Bt:Vt=!0,_(wt,C[Bt],N,null,B,V,re,P,D),Oe++)}const Cl=Vt?bm(Rn):ln;for(de=Cl.length-1,O=qe-1;O>=0;O--){const wt=Y+O,Bt=C[wt],Sl=C[wt+1],El=wt+1<me?Sl.el||Sl.placeholder:$;Rn[O]===0?_(null,Bt,N,El,B,V,re,P,D):Vt&&(de<0||O!==Cl[de]?K(Bt,N,El,2):de--)}}},K=(k,C,N,$,B=null)=>{const{el:V,type:re,transition:P,children:D,shapeFlag:O}=k;if(O&6){K(k.component.subTree,C,N,$);return}if(O&128){k.suspense.move(C,N,$);return}if(O&64){re.move(k,C,N,fe);return}if(re===Ge){n(V,C,N);for(let ie=0;ie<D.length;ie++)K(D[ie],C,N,$);n(k.anchor,C,N);return}if(re===_i){E(k,C,N);return}if($!==2&&O&1&&P)if($===0)P.beforeEnter(V),n(V,C,N),ct(()=>P.enter(V),B);else{const{leave:ie,delayLeave:pe,afterLeave:be}=P,Y=()=>{k.ctx.isUnmounted?r(V):n(V,C,N)},Q=()=>{V._isLeaving&&V[as](!0),ie(V,()=>{Y(),be&&be()})};pe?pe(V,Y,Q):Q()}else n(V,C,N)},le=(k,C,N,$=!1,B=!1)=>{const{type:V,props:re,ref:P,children:D,dynamicChildren:O,shapeFlag:me,patchFlag:ie,dirs:pe,cacheIndex:be}=k;if(ie===-2&&(B=!1),P!=null&&(fs(),Kn(P,null,N,k,!0),ps()),be!=null&&(C.renderCache[be]=void 0),me&256){C.ctx.deactivate(k);return}const Y=me&1&&pe,Q=!hn(k);let de;if(Q&&(de=re&&re.onVnodeBeforeUnmount)&&zt(de,C,k),me&6)ce(k.component,N,$);else{if(me&128){k.suspense.unmount(N,$);return}Y&&Ds(k,null,C,"beforeUnmount"),me&64?k.type.remove(k,C,N,fe,$):O&&!O.hasOnce&&(V!==Ge||ie>0&&ie&64)?ge(O,C,N,!1,!0):(V===Ge&&ie&384||!B&&me&16)&&ge(D,C,N),$&&Te(k)}(Q&&(de=re&&re.onVnodeUnmounted)||Y)&&ct(()=>{de&&zt(de,C,k),Y&&Ds(k,null,C,"unmounted")},N)},Te=k=>{const{type:C,el:N,anchor:$,transition:B}=k;if(C===Ge){Ae(N,$);return}if(C===_i){A(k);return}const V=()=>{r(N),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(k.shapeFlag&1&&B&&!B.persisted){const{leave:re,delayLeave:P}=B,D=()=>re(N,V);P?P(k.el,V,D):D()}else V()},Ae=(k,C)=>{let N;for(;k!==C;)N=f(k),r(k),k=N;r(C)},ce=(k,C,N)=>{const{bum:$,scope:B,job:V,subTree:re,um:P,m:D,a:O}=k;Ul(D),Ul(O),$&&Wr($),B.stop(),V&&(V.flags|=8,le(re,k,C,N)),P&&ct(P,C),ct(()=>{k.isUnmounted=!0},C)},ge=(k,C,N,$=!1,B=!1,V=0)=>{for(let re=V;re<k.length;re++)le(k[re],C,N,$,B)},I=k=>{if(k.shapeFlag&6)return I(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const C=f(k.anchor||k.el),N=C&&C[mu];return N?f(N):C};let te=!1;const se=(k,C,N)=>{k==null?C._vnode&&le(C._vnode,null,null,!0):_(C._vnode||null,k,C,null,null,null,N),C._vnode=k,te||(te=!0,Rl(),hu(),te=!1)},fe={p:_,um:le,m:K,r:Te,mt:S,mc:ee,pc:X,pbc:Z,n:I,o:t};return{render:se,hydrate:void 0,createApp:cm(se)}}function yi({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ms({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _m(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ua(t,e,s=!1){const n=t.children,r=e.children;if(ye(n)&&ye(r))for(let o=0;o<n.length;o++){const i=n[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=xs(r[o]),a.el=i.el),!s&&a.patchFlag!==-2&&Ua(i,a)),a.type===Zo&&a.patchFlag!==-1&&(a.el=i.el),a.type===nt&&!a.el&&(a.el=i.el)}}function bm(t){const e=t.slice(),s=[0];let n,r,o,i,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)a=o+i>>1,t[s[a]]<c?o=a+1:i=a;c<t[s[o]]&&(o>0&&(e[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=e[i];return s}function ju(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ju(e)}function Ul(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vm=Symbol.for("v-scx"),xm=()=>Zt(vm);function Ct(t,e,s){return Uu(t,e,s)}function Uu(t,e,s=Pe){const{immediate:n,deep:r,flush:o,once:i}=s,a=Je({},s),l=e&&n||!e&&o!=="post";let c;if(ar){if(o==="sync"){const p=xm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=qt,p.resume=qt,p.pause=qt,p}}const d=rt;a.call=(p,y,_)=>Ot(p,d,y,_);let u=!1;o==="post"?a.scheduler=p=>{ct(p,d&&d.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(p,y)=>{y?p():Ba(p)}),a.augmentJob=p=>{e&&(p.flags|=4),u&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Op(t,e,a);return ar&&(c?c.push(f):l&&f()),f}function wm(t,e,s){const n=this.proxy,r=Fe(t)?t.includes(".")?Hu(n,t):()=>n[t]:t.bind(n,n);let o;ve(e)?o=e:(o=e.handler,s=e);const i=wr(this),a=Uu(r,o.bind(n),s);return i(),a}function Hu(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const km=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Tt(e)}Modifiers`]||t[`${Rs(e)}Modifiers`];function Am(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Pe;let r=s;const o=e.startsWith("update:"),i=o&&km(n,e.slice(7));i&&(i.trim&&(r=s.map(d=>Fe(d)?d.trim():d)),i.number&&(r=s.map(ro)));let a,l=n[a=di(e)]||n[a=di(Tt(e))];!l&&o&&(l=n[a=di(Rs(e))]),l&&Ot(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(c,t,6,r)}}const Cm=new WeakMap;function Wu(t,e,s=!1){const n=s?Cm:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!ve(t)){const l=c=>{const d=Wu(c,e,!0);d&&(a=!0,Je(i,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Le(t)&&n.set(t,null),null):(ye(o)?o.forEach(l=>i[l]=null):Je(i,o),Le(t)&&n.set(t,i),i)}function qo(t,e){return!t||!Oo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,Rs(e))||Ie(t,e))}function Hl(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:d,props:u,data:f,setupState:p,ctx:y,inheritAttrs:_}=t,x=lo(t);let v,w;try{if(s.shapeFlag&4){const A=r||n,L=A;v=Wt(c.call(L,A,d,u,p,f,y)),w=a}else{const A=e;v=Wt(A.length>1?A(u,{attrs:a,slots:i,emit:l}):A(u,null)),w=e.props?a:Sm(a)}}catch(A){Yn.length=0,Uo(A,t,1),v=_e(nt)}let E=v;if(w&&_!==!1){const A=Object.keys(w),{shapeFlag:L}=E;A.length&&L&7&&(o&&A.some(La)&&(w=Em(w,o)),E=Ts(E,w,!1,!0))}return s.dirs&&(E=Ts(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&rr(E,s.transition),v=E,lo(x),v}const Sm=t=>{let e;for(const s in t)(s==="class"||s==="style"||Oo(s))&&((e||(e={}))[s]=t[s]);return e},Em=(t,e)=>{const s={};for(const n in t)(!La(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Nm(t,e,s){const{props:n,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Wl(n,i,c):!!i;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(i[f]!==n[f]&&!qo(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?Wl(n,i,c):!0:!!i;return!1}function Wl(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o]&&!qo(s,o))return!0}return!1}function Im({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Xu=t=>t.__isSuspense;function Tm(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):Vp(t)}const Ge=Symbol.for("v-fgt"),Zo=Symbol.for("v-txt"),nt=Symbol.for("v-cmt"),_i=Symbol.for("v-stc"),Yn=[];let At=null;function H(t=!1){Yn.push(At=t?null:[])}function Lm(){Yn.pop(),At=Yn[Yn.length-1]||null}let or=1;function ho(t,e=!1){or+=t,t<0&&At&&e&&(At.hasOnce=!0)}function qu(t){return t.dynamicChildren=or>0?At||ln:null,Lm(),or>0&&At&&At.push(t),t}function q(t,e,s,n,r,o){return qu(h(t,e,s,n,r,o,!0))}function Is(t,e,s,n,r){return qu(_e(t,e,s,n,r,!0))}function ir(t){return t?t.__v_isVNode===!0:!1}function zs(t,e){return t.type===e.type&&t.key===e.key}const Zu=({key:t})=>t??null,Zr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Fe(t)||Ke(t)||ve(t)?{i:Qe,r:t,k:e,f:!!s}:t:null);function h(t,e=null,s=null,n=0,r=null,o=t===Ge?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zu(e),ref:e&&Zr(e),scopeId:pu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Qe};return a?(Ha(l,s),o&128&&t.normalize(l)):s&&(l.shapeFlag|=Fe(s)?8:16),or>0&&!i&&At&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&At.push(l),l}const _e=Rm;function Rm(t,e=null,s=null,n=0,r=null,o=!1){if((!t||t===Iu)&&(t=nt),ir(t)){const a=Ts(t,e,!0);return s&&Ha(a,s),or>0&&!o&&At&&(a.shapeFlag&6?At[At.indexOf(t)]=a:At.push(a)),a.patchFlag=-2,a}if(jm(t)&&(t=t.__vccOpts),e){e=Pm(e);let{class:a,style:l}=e;a&&!Fe(a)&&(e.class=bt(a)),Le(l)&&($a(l)&&!ye(l)&&(l=Je({},l)),e.style=Bo(l))}const i=Fe(t)?1:Xu(t)?128:gu(t)?64:Le(t)?4:ve(t)?2:0;return h(t,e,s,n,r,i,o,!0)}function Pm(t){return t?$a(t)||Gu(t)?Je({},t):t:null}function Ts(t,e,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?Dm(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Zu(c),ref:e&&e.ref?s&&o?ye(o)?o.concat(Zr(e)):[o,Zr(e)]:Zr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ts(t.ssContent),ssFallback:t.ssFallback&&Ts(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&rr(d,l.clone(d)),d}function xe(t=" ",e=0){return _e(Zo,null,t,e)}function Re(t="",e=!1){return e?(H(),Is(nt,null,t)):_e(nt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?_e(nt):ye(t)?_e(Ge,null,t.slice()):ir(t)?xs(t):_e(Zo,null,String(t))}function xs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ts(t)}function Ha(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ye(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Ha(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!Gu(e)?e._ctx=Qe:r===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:Qe},s=32):(e=String(e),n&64?(s=16,e=[xe(e)]):s=8);t.children=e,t.shapeFlag|=s}function Dm(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=bt([e.class,n.class]));else if(r==="style")e.style=Bo([e.style,n.style]);else if(Oo(r)){const o=e[r],i=n[r];i&&o!==i&&!(ye(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=n[r])}return e}function zt(t,e,s,n=null){Ot(t,e,7,[s,n])}const Mm=Du();let Om=0;function Gm(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||Mm,o={uid:Om++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vu(n,r),emitsOptions:Wu(n,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:n.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Am.bind(null,o),t.ce&&t.ce(o),o}let rt=null;const Ku=()=>rt||Qe;let fo,ea;{const t=$o(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};fo=e("__VUE_INSTANCE_SETTERS__",s=>rt=s),ea=e("__VUE_SSR_SETTERS__",s=>ar=s)}const wr=t=>{const e=rt;return fo(t),t.scope.on(),()=>{t.scope.off(),fo(e)}},Xl=()=>{rt&&rt.scope.off(),fo(null)};function Ju(t){return t.vnode.shapeFlag&4}let ar=!1;function Fm(t,e=!1,s=!1){e&&ea(e);const{props:n,children:r}=t.vnode,o=Ju(t);dm(t,n,o,e),pm(t,r,s||e);const i=o?Vm(t,e):void 0;return e&&ea(!1),i}function Vm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sm);const{setup:n}=s;if(n){fs();const r=t.setupContext=n.length>1?Bm(t):null,o=wr(t),i=xr(n,t,0,[t.props,r]),a=$d(i);if(ps(),o(),(a||t.sp)&&!hn(t)&&Cu(t),a){if(i.then(Xl,Xl),e)return i.then(l=>{ql(t,l)}).catch(l=>{Uo(l,t,0)});t.asyncDep=i}else ql(t,i)}else Yu(t)}function ql(t,e,s){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=cu(e)),Yu(t)}function Yu(t,e,s){const n=t.type;t.render||(t.render=n.render||qt);{const r=wr(t);fs();try{nm(t)}finally{ps(),r()}}}const $m={get(t,e){return tt(t,"get",""),t[e]}};function Bm(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,$m),slots:t.slots,emit:t.emit,expose:e}}function Ko(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(cu(Ip(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Jn)return Jn[s](t)},has(e,s){return s in e||s in Jn}})):t.proxy}function zm(t,e=!0){return ve(t)?t.displayName||t.name:t.name||e&&t.__name}function jm(t){return ve(t)&&"__vccOpts"in t}const ot=(t,e)=>Dp(t,e,ar);function Wa(t,e,s){try{ho(-1);const n=arguments.length;return n===2?Le(e)&&!ye(e)?ir(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&ir(s)&&(s=[s]),_e(t,e,s))}finally{ho(1)}}const Um="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ta;const Zl=typeof window<"u"&&window.trustedTypes;if(Zl)try{ta=Zl.createPolicy("vue",{createHTML:t=>t})}catch{}const Qu=ta?t=>ta.createHTML(t):t=>t,Hm="http://www.w3.org/2000/svg",Wm="http://www.w3.org/1998/Math/MathML",os=typeof document<"u"?document:null,Kl=os&&os.createElement("template"),Xm={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?os.createElementNS(Hm,t):e==="mathml"?os.createElementNS(Wm,t):s?os.createElement(t,{is:s}):os.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>os.createTextNode(t),createComment:t=>os.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>os.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,o){const i=s?s.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{Kl.innerHTML=Qu(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Kl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ys="transition",Dn="animation",lr=Symbol("_vtc"),eh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qm=Je({},bu,eh),Zm=t=>(t.displayName="Transition",t.props=qm,t),Jl=Zm((t,{slots:e})=>Wa(Up,Km(t),e)),Os=(t,e=[])=>{ye(t)?t.forEach(s=>s(...e)):t&&t(...e)},Yl=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function Km(t){const e={};for(const R in t)R in eh||(e[R]=t[R]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:o=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:d=a,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,y=Jm(r),_=y&&y[0],x=y&&y[1],{onBeforeEnter:v,onEnter:w,onEnterCancelled:E,onLeave:A,onLeaveCancelled:L,onBeforeAppear:z=v,onAppear:j=w,onAppearCancelled:ee=E}=e,W=(R,G,S,M)=>{R._enterCancelled=M,Gs(R,G?d:a),Gs(R,G?c:i),S&&S()},Z=(R,G)=>{R._isLeaving=!1,Gs(R,u),Gs(R,p),Gs(R,f),G&&G()},U=R=>(G,S)=>{const M=R?j:w,T=()=>W(G,R,S);Os(M,[G,T]),Ql(()=>{Gs(G,R?l:o),ts(G,R?d:a),Yl(M)||ec(G,n,_,T)})};return Je(e,{onBeforeEnter(R){Os(v,[R]),ts(R,o),ts(R,i)},onBeforeAppear(R){Os(z,[R]),ts(R,l),ts(R,c)},onEnter:U(!1),onAppear:U(!0),onLeave(R,G){R._isLeaving=!0;const S=()=>Z(R,G);ts(R,u),R._enterCancelled?(ts(R,f),nc(R)):(nc(R),ts(R,f)),Ql(()=>{R._isLeaving&&(Gs(R,u),ts(R,p),Yl(A)||ec(R,n,x,S))}),Os(A,[R,S])},onEnterCancelled(R){W(R,!1,void 0,!0),Os(E,[R])},onAppearCancelled(R){W(R,!0,void 0,!0),Os(ee,[R])},onLeaveCancelled(R){Z(R),Os(L,[R])}})}function Jm(t){if(t==null)return null;if(Le(t))return[bi(t.enter),bi(t.leave)];{const e=bi(t);return[e,e]}}function bi(t){return ep(t)}function ts(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[lr]||(t[lr]=new Set)).add(e)}function Gs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[lr];s&&(s.delete(e),s.size||(t[lr]=void 0))}function Ql(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ym=0;function ec(t,e,s,n){const r=t._endId=++Ym,o=()=>{r===t._endId&&n()};if(s!=null)return setTimeout(o,s);const{type:i,timeout:a,propCount:l}=Qm(t,e);if(!i)return n();const c=i+"end";let d=0;const u=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,f)}function Qm(t,e){const s=window.getComputedStyle(t),n=y=>(s[y]||"").split(", "),r=n(`${ys}Delay`),o=n(`${ys}Duration`),i=tc(r,o),a=n(`${Dn}Delay`),l=n(`${Dn}Duration`),c=tc(a,l);let d=null,u=0,f=0;e===ys?i>0&&(d=ys,u=i,f=o.length):e===Dn?c>0&&(d=Dn,u=c,f=l.length):(u=Math.max(i,c),d=u>0?i>c?ys:Dn:null,f=d?d===ys?o.length:l.length:0);const p=d===ys&&/\b(?:transform|all)(?:,|$)/.test(n(`${ys}Property`).toString());return{type:d,timeout:u,propCount:f,hasTransform:p}}function tc(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>sc(s)+sc(t[n])))}function sc(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function nc(t){return(t?t.ownerDocument:document).body.offsetHeight}function eg(t,e,s){const n=t[lr];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const po=Symbol("_vod"),th=Symbol("_vsh"),Dr={name:"show",beforeMount(t,{value:e},{transition:s}){t[po]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Mn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Mn(t,!0),n.enter(t)):n.leave(t,()=>{Mn(t,!1)}):Mn(t,e))},beforeUnmount(t,{value:e}){Mn(t,e)}};function Mn(t,e){t.style.display=e?t[po]:"none",t[th]=!e}const tg=Symbol(""),sg=/(?:^|;)\s*display\s*:/;function ng(t,e,s){const n=t.style,r=Fe(s);let o=!1;if(s&&!r){if(e)if(Fe(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&Kr(n,a,"")}else for(const i in e)s[i]==null&&Kr(n,i,"");for(const i in s)i==="display"&&(o=!0),Kr(n,i,s[i])}else if(r){if(e!==s){const i=n[tg];i&&(s+=";"+i),n.cssText=s,o=sg.test(s)}}else e&&t.removeAttribute("style");po in t&&(t[po]=o?n.display:"",t[th]&&(n.display="none"))}const rc=/\s*!important$/;function Kr(t,e,s){if(ye(s))s.forEach(n=>Kr(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=rg(t,e);rc.test(s)?t.setProperty(Rs(n),s.replace(rc,""),"important"):t[n]=s}}const oc=["Webkit","Moz","ms"],vi={};function rg(t,e){const s=vi[e];if(s)return s;let n=Tt(e);if(n!=="filter"&&n in t)return vi[e]=n;n=Vo(n);for(let r=0;r<oc.length;r++){const o=oc[r]+n;if(o in t)return vi[e]=o}return e}const ic="http://www.w3.org/1999/xlink";function ac(t,e,s,n,r,o=ip(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ic,e.slice(6,e.length)):t.setAttributeNS(ic,e,s):s==null||o&&!Ud(s)?t.removeAttribute(e):t.setAttribute(e,o?"":Mt(s)?String(s):s)}function lc(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Qu(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ud(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(r||e)}function ks(t,e,s,n){t.addEventListener(e,s,n)}function og(t,e,s,n){t.removeEventListener(e,s,n)}const cc=Symbol("_vei");function ig(t,e,s,n,r=null){const o=t[cc]||(t[cc]={}),i=o[e];if(n&&i)i.value=n;else{const[a,l]=ag(e);if(n){const c=o[e]=dg(n,r);ks(t,a,c,l)}else i&&(og(t,a,i,l),o[e]=void 0)}}const dc=/(?:Once|Passive|Capture)$/;function ag(t){let e;if(dc.test(t)){e={};let n;for(;n=t.match(dc);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rs(t.slice(2)),e]}let xi=0;const lg=Promise.resolve(),cg=()=>xi||(lg.then(()=>xi=0),xi=Date.now());function dg(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ot(ug(n,s.value),e,5,[n])};return s.value=t,s.attached=cg(),s}function ug(t,e){if(ye(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const uc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hg=(t,e,s,n,r,o)=>{const i=r==="svg";e==="class"?eg(t,n,i):e==="style"?ng(t,s,n):Oo(e)?La(e)||ig(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fg(t,e,n,i))?(lc(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ac(t,e,n,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Fe(n))?lc(t,Tt(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ac(t,e,n,i))};function fg(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&uc(e)&&ve(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return uc(e)&&Fe(s)?!1:e in t}const vn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?s=>Wr(e,s):e};function pg(t){t.target.composing=!0}function hc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hs=Symbol("_assign"),fc={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[hs]=vn(r);const o=n||r.props&&r.props.type==="number";ks(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),o&&(a=ro(a)),t[hs](a)}),s&&ks(t,"change",()=>{t.value=t.value.trim()}),e||(ks(t,"compositionstart",pg),ks(t,"compositionend",hc),ks(t,"change",hc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(t[hs]=vn(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?ro(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},sa={created(t,{value:e},s){t.checked=bn(e,s.props.value),t[hs]=vn(s),ks(t,"change",()=>{t[hs](cr(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[hs]=vn(n),e!==s&&(t.checked=bn(e,n.props.value))}},xn={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=Go(e);ks(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?ro(cr(i)):cr(i));t[hs](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Nn(()=>{t._assigning=!1})}),t[hs]=vn(n)},mounted(t,{value:e}){pc(t,e)},beforeUpdate(t,e,s){t[hs]=vn(s)},updated(t,{value:e}){t._assigning||pc(t,e)}};function pc(t,e){const s=t.multiple,n=ye(e);if(!(s&&!n&&!Go(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=cr(i);if(s)if(n){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=lp(e,a)>-1}else i.selected=e.has(a);else if(bn(cr(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function cr(t){return"_value"in t?t._value:t.value}const mg=["ctrl","shift","alt","meta"],gg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mg.some(s=>t[`${s}Key`]&&!e.includes(s))},sh=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((r,...o)=>{for(let i=0;i<e.length;i++){const a=gg[e[i]];if(a&&a(r,e))return}return t(r,...o)}))},yg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},On=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(r=>{if(!("key"in r))return;const o=Rs(r.key);if(e.some(i=>i===o||yg[i]===o))return t(r)}))},_g=Je({patchProp:hg},Xm);let mc;function bg(){return mc||(mc=gm(_g))}const vg=((...t)=>{const e=bg().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=wg(n);if(!r)return;const o=e._component;!ve(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,xg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e});function xg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function wg(t){return Fe(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const rn=typeof document<"u";function nh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&nh(t.default)}const Ne=Object.assign;function wi(t,e){const s={};for(const n in e){const r=e[n];s[n]=Gt(r)?r.map(t):t(r)}return s}const Qn=()=>{},Gt=Array.isArray;function gc(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const rh=/#/g,Ag=/&/g,Cg=/\//g,Sg=/=/g,Eg=/\?/g,oh=/\+/g,Ng=/%5B/g,Ig=/%5D/g,ih=/%5E/g,Tg=/%60/g,ah=/%7B/g,Lg=/%7C/g,lh=/%7D/g,Rg=/%20/g;function Xa(t){return t==null?"":encodeURI(""+t).replace(Lg,"|").replace(Ng,"[").replace(Ig,"]")}function Pg(t){return Xa(t).replace(ah,"{").replace(lh,"}").replace(ih,"^")}function na(t){return Xa(t).replace(oh,"%2B").replace(Rg,"+").replace(rh,"%23").replace(Ag,"%26").replace(Tg,"`").replace(ah,"{").replace(lh,"}").replace(ih,"^")}function Dg(t){return na(t).replace(Sg,"%3D")}function Mg(t){return Xa(t).replace(rh,"%23").replace(Eg,"%3F")}function Og(t){return Mg(t).replace(Cg,"%2F")}function dr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Gg=/\/$/,Fg=t=>t.replace(Gg,"");function ki(t,e,s="/"){let n,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),o=e.slice(l,a>0?a:e.length),r=t(o.slice(1))),a>=0&&(n=n||e.slice(0,a),i=e.slice(a,e.length)),n=zg(n??e,s),{fullPath:n+o+i,path:n,query:r,hash:dr(i)}}function Vg(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function yc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $g(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&wn(e.matched[n],s.matched[r])&&ch(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function wn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ch(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Bg(t[s],e[s]))return!1;return!0}function Bg(t,e){return Gt(t)?_c(t,e):Gt(e)?_c(e,t):t===e}function _c(t,e){return Gt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function zg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let o=s.length-1,i,a;for(i=0;i<n.length;i++)if(a=n[i],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(i).join("/")}const _s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ra=(function(t){return t.pop="pop",t.push="push",t})({}),Ai=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function jg(t){if(!t)if(rn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Fg(t)}const Ug=/^[^#]+#/;function Hg(t,e){return t.replace(Ug,"#")+e}function Wg(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Jo=()=>({left:window.scrollX,top:window.scrollY});function Xg(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Wg(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bc(t,e){return(history.state?history.state.position-e:-1)+t}const oa=new Map;function qg(t,e){oa.set(t,e)}function Zg(t){const e=oa.get(t);return oa.delete(t),e}function Kg(t){return typeof t=="string"||t&&typeof t=="object"}function dh(t){return typeof t=="string"||typeof t=="symbol"}let Ve=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const uh=Symbol("");Ve.MATCHER_NOT_FOUND+"",Ve.NAVIGATION_GUARD_REDIRECT+"",Ve.NAVIGATION_ABORTED+"",Ve.NAVIGATION_CANCELLED+"",Ve.NAVIGATION_DUPLICATED+"";function kn(t,e){return Ne(new Error,{type:t,[uh]:!0},e)}function ss(t,e){return t instanceof Error&&uh in t&&(e==null||!!(t.type&e))}const Jg=["params","query","hash"];function Yg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of Jg)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Qg(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(oh," "),o=r.indexOf("="),i=dr(o<0?r:r.slice(0,o)),a=o<0?null:dr(r.slice(o+1));if(i in e){let l=e[i];Gt(l)||(l=e[i]=[l]),l.push(a)}else e[i]=a}return e}function vc(t){let e="";for(let s in t){const n=t[s];if(s=Dg(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Gt(n)?n.map(r=>r&&na(r)):[n&&na(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function ey(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Gt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const ty=Symbol(""),xc=Symbol(""),qa=Symbol(""),Za=Symbol(""),ia=Symbol("");function Gn(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function ws(t,e,s,n,r,o=i=>i()){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(kn(Ve.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):Kg(f)?l(kn(Ve.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(i&&n.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},d=o(()=>t.call(n&&n.instances[r],e,s,c));let u=Promise.resolve(d);t.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function Ci(t,e,s,n,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(nh(l)){const c=(l.__vccOpts||l)[e];c&&o.push(ws(c,s,n,i,a,r))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const u=kg(d)?d.default:d;i.mods[a]=d,i.components[a]=u;const f=(u.__vccOpts||u)[e];return f&&ws(f,s,n,i,a,r)()}))}}return o}function sy(t,e){const s=[],n=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>wn(c,a))?n.push(a):s.push(a));const l=t.matched[i];l&&(e.matched.find(c=>wn(c,l))||r.push(l))}return[s,n,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ny=()=>location.protocol+"//"+location.host;function hh(t,e){const{pathname:s,search:n,hash:r}=e,o=t.indexOf("#");if(o>-1){let i=r.includes(t.slice(o))?t.slice(o).length:1,a=r.slice(i);return a[0]!=="/"&&(a="/"+a),yc(a,"")}return yc(s,t)+n+r}function ry(t,e,s,n){let r=[],o=[],i=null;const a=({state:f})=>{const p=hh(t,location),y=s.value,_=e.value;let x=0;if(f){if(s.value=p,e.value=f,i&&i===y){i=null;return}x=_?f.position-_.position:0}else n(p);r.forEach(v=>{v(s.value,y,{delta:x,type:ra.pop,direction:x?x>0?Ai.forward:Ai.back:Ai.unknown})})};function l(){i=s.value}function c(f){r.push(f);const p=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return o.push(p),p}function d(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Ne({},f.state,{scroll:Jo()}),"")}}function u(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:c,destroy:u}}function wc(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Jo():null}}function oy(t){const{history:e,location:s}=window,n={value:hh(t,s)},r={value:e.state};r.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const u=t.indexOf("#"),f=u>-1?(s.host&&document.querySelector("base")?t:t.slice(u))+l:ny()+t+l;try{e[d?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function i(l,c){o(l,Ne({},e.state,wc(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),n.value=l}function a(l,c){const d=Ne({},r.value,e.state,{forward:l,scroll:Jo()});o(d.current,d,!0),o(l,Ne({},wc(n.value,l,null),{position:d.position+1},c),!1),n.value=l}return{location:n,state:r,push:a,replace:i}}function iy(t){t=jg(t);const e=oy(t),s=ry(t,e.state,e.location,e.replace);function n(o,i=!0){i||s.pauseListeners(),history.go(o)}const r=Ne({location:"",base:t,go:n,createHref:Hg.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let js=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var He=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(He||{});const ay={type:js.Static,value:""},ly=/[a-zA-Z0-9_]/;function cy(t){if(!t)return[[]];if(t==="/")return[[ay]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=He.Static,n=s;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",d="";function u(){c&&(s===He.Static?o.push({type:js.Static,value:c}):s===He.Param||s===He.ParamRegExp||s===He.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:js.Param,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==He.ParamRegExp){n=s,s=He.EscapeNext;continue}switch(s){case He.Static:l==="/"?(c&&u(),i()):l===":"?(u(),s=He.Param):f();break;case He.EscapeNext:f(),s=n;break;case He.Param:l==="("?s=He.ParamRegExp:ly.test(l)?f():(u(),s=He.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case He.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=He.ParamRegExpEnd:d+=l;break;case He.ParamRegExpEnd:u(),s=He.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===He.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),u(),i(),r}const kc="[^/]+?",dy={sensitive:!1,strict:!1,start:!0,end:!0};var dt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(dt||{});const uy=/[.+*?^${}()[\]/\\]/g;function hy(t,e){const s=Ne({},dy,e),n=[];let r=s.start?"^":"";const o=[];for(const c of t){const d=c.length?[]:[dt.Root];s.strict&&!c.length&&(r+="/");for(let u=0;u<c.length;u++){const f=c[u];let p=dt.Segment+(s.sensitive?dt.BonusCaseSensitive:0);if(f.type===js.Static)u||(r+="/"),r+=f.value.replace(uy,"\\$&"),p+=dt.Static;else if(f.type===js.Param){const{value:y,repeatable:_,optional:x,regexp:v}=f;o.push({name:y,repeatable:_,optional:x});const w=v||kc;if(w!==kc){p+=dt.BonusCustomRegExp;try{`${w}`}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+A.message)}}let E=_?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(E=x&&c.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),r+=E,p+=dt.Dynamic,x&&(p+=dt.BonusOptional),_&&(p+=dt.BonusRepeatable),w===".*"&&(p+=dt.BonusWildcard)}d.push(p)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=dt.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,s.sensitive?"":"i");function a(c){const d=c.match(i),u={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",y=o[f-1];u[y.name]=p&&y.repeatable?p.split("/"):p}return u}function l(c){let d="",u=!1;for(const f of t){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const p of f)if(p.type===js.Static)d+=p.value;else if(p.type===js.Param){const{value:y,repeatable:_,optional:x}=p,v=y in c?c[y]:"";if(Gt(v)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=Gt(v)?v.join("/"):v;if(!w)if(x)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);d+=w}}return d||"/"}return{re:i,score:n,keys:o,parse:a,stringify:l}}function fy(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===dt.Static+dt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===dt.Static+dt.Segment?1:-1:0}function fh(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const o=fy(n[s],r[s]);if(o)return o;s++}if(Math.abs(r.length-n.length)===1){if(Ac(n))return 1;if(Ac(r))return-1}return r.length-n.length}function Ac(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const py={strict:!1,end:!0,sensitive:!1};function my(t,e,s){const n=hy(cy(t.path),s),r=Ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function gy(t,e){const s=[],n=new Map;e=gc(py,e);function r(u){return n.get(u)}function o(u,f,p){const y=!p,_=Sc(u);_.aliasOf=p&&p.record;const x=gc(e,u),v=[_];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of A)v.push(Sc(Ne({},_,{components:p?p.record.components:_.components,path:L,aliasOf:p?p.record:_})))}let w,E;for(const A of v){const{path:L}=A;if(f&&L[0]!=="/"){const z=f.record.path,j=z[z.length-1]==="/"?"":"/";A.path=f.record.path+(L&&j+L)}if(w=my(A,f,x),p?p.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),y&&u.name&&!Ec(w)&&i(u.name)),ph(w)&&l(w),_.children){const z=_.children;for(let j=0;j<z.length;j++)o(z[j],w,p&&p.children[j])}p=p||w}return E?()=>{i(E)}:Qn}function i(u){if(dh(u)){const f=n.get(u);f&&(n.delete(u),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(u);f>-1&&(s.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return s}function l(u){const f=by(u,s);s.splice(f,0,u),u.record.name&&!Ec(u)&&n.set(u.record.name,u)}function c(u,f){let p,y={},_,x;if("name"in u&&u.name){if(p=n.get(u.name),!p)throw kn(Ve.MATCHER_NOT_FOUND,{location:u});x=p.record.name,y=Ne(Cc(f.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),u.params&&Cc(u.params,p.keys.map(E=>E.name))),_=p.stringify(y)}else if(u.path!=null)_=u.path,p=s.find(E=>E.re.test(_)),p&&(y=p.parse(_),x=p.record.name);else{if(p=f.name?n.get(f.name):s.find(E=>E.re.test(f.path)),!p)throw kn(Ve.MATCHER_NOT_FOUND,{location:u,currentLocation:f});x=p.record.name,y=Ne({},f.params,u.params),_=p.stringify(y)}const v=[];let w=p;for(;w;)v.unshift(w.record),w=w.parent;return{name:x,path:_,params:y,matched:v,meta:_y(v)}}t.forEach(u=>o(u));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Cc(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Sc(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yy(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Ec(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _y(t){return t.reduce((e,s)=>Ne(e,s.meta),{})}function by(t,e){let s=0,n=e.length;for(;s!==n;){const o=s+n>>1;fh(t,e[o])<0?n=o:s=o+1}const r=vy(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function vy(t){let e=t;for(;e=e.parent;)if(ph(e)&&fh(t,e)===0)return e}function ph({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Nc(t){const e=Zt(qa),s=Zt(Za),n=ot(()=>{const l=m(t.to);return e.resolve(l)}),r=ot(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],u=s.matched;if(!d||!u.length)return-1;const f=u.findIndex(wn.bind(null,d));if(f>-1)return f;const p=Ic(l[c-2]);return c>1&&Ic(d)===p&&u[u.length-1].path!==p?u.findIndex(wn.bind(null,l[c-2])):f}),o=ot(()=>r.value>-1&&Cy(s.params,n.value.params)),i=ot(()=>r.value>-1&&r.value===s.matched.length-1&&ch(s.params,n.value.params));function a(l={}){if(Ay(l)){const c=e[m(t.replace)?"replace":"push"](m(t.to)).catch(Qn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:ot(()=>n.value.href),isActive:o,isExactActive:i,navigate:a}}function xy(t){return t.length===1?t[0]:t}const wy=Au({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Nc,setup(t,{slots:e}){const s=jo(Nc(t)),{options:n}=Zt(qa),r=ot(()=>({[Tc(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Tc(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&xy(e.default(s));return t.custom?o:Wa("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},o)}}}),ky=wy;function Ay(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Cy(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Gt(r)||r.length!==n.length||n.some((o,i)=>o!==r[i]))return!1}return!0}function Ic(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Tc=(t,e,s)=>t??e??s,Sy=Au({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Zt(ia),r=ot(()=>t.route||n.value),o=Zt(xc,0),i=ot(()=>{let c=m(o);const{matched:d}=r.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),a=ot(()=>r.value.matched[i.value]);qr(xc,ot(()=>i.value+1)),qr(ty,a),qr(ia,r);const l=ae();return Ct(()=>[l.value,a.value,t.name],([c,d,u],[f,p,y])=>{d&&(d.instances[u]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!wn(d,p)||!f)&&(d.enterCallbacks[u]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,u=a.value,f=u&&u.components[d];if(!f)return Lc(s.default,{Component:f,route:c});const p=u.props[d],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,x=Wa(f,Ne({},y,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Lc(s.default,{Component:x,route:c})||x}}});function Lc(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ey=Sy;function Ny(t){const e=gy(t.routes,t),s=t.parseQuery||Qg,n=t.stringifyQuery||vc,r=t.history,o=Gn(),i=Gn(),a=Gn(),l=Tp(_s);let c=_s;rn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=wi.bind(null,I=>""+I),u=wi.bind(null,Og),f=wi.bind(null,dr);function p(I,te){let se,fe;return dh(I)?(se=e.getRecordMatcher(I),fe=te):fe=I,e.addRoute(fe,se)}function y(I){const te=e.getRecordMatcher(I);te&&e.removeRoute(te)}function _(){return e.getRoutes().map(I=>I.record)}function x(I){return!!e.getRecordMatcher(I)}function v(I,te){if(te=Ne({},te||l.value),typeof I=="string"){const N=ki(s,I,te.path),$=e.resolve({path:N.path},te),B=r.createHref(N.fullPath);return Ne(N,$,{params:f($.params),hash:dr(N.hash),redirectedFrom:void 0,href:B})}let se;if(I.path!=null)se=Ne({},I,{path:ki(s,I.path,te.path).path});else{const N=Ne({},I.params);for(const $ in N)N[$]==null&&delete N[$];se=Ne({},I,{params:u(N)}),te.params=u(te.params)}const fe=e.resolve(se,te),he=I.hash||"";fe.params=d(f(fe.params));const k=Vg(n,Ne({},I,{hash:Pg(he),path:fe.path})),C=r.createHref(k);return Ne({fullPath:k,hash:he,query:n===vc?ey(I.query):I.query||{}},fe,{redirectedFrom:void 0,href:C})}function w(I){return typeof I=="string"?ki(s,I,l.value.path):Ne({},I)}function E(I,te){if(c!==I)return kn(Ve.NAVIGATION_CANCELLED,{from:te,to:I})}function A(I){return j(I)}function L(I){return A(Ne(w(I),{replace:!0}))}function z(I,te){const se=I.matched[I.matched.length-1];if(se&&se.redirect){const{redirect:fe}=se;let he=typeof fe=="function"?fe(I,te):fe;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=w(he):{path:he},he.params={}),Ne({query:I.query,hash:I.hash,params:he.path!=null?{}:I.params},he)}}function j(I,te){const se=c=v(I),fe=l.value,he=I.state,k=I.force,C=I.replace===!0,N=z(se,fe);if(N)return j(Ne(w(N),{state:typeof N=="object"?Ne({},he,N.state):he,force:k,replace:C}),te||se);const $=se;$.redirectedFrom=te;let B;return!k&&$g(n,fe,se)&&(B=kn(Ve.NAVIGATION_DUPLICATED,{to:$,from:fe}),K(fe,fe,!0,!1)),(B?Promise.resolve(B):Z($,fe)).catch(V=>ss(V)?ss(V,Ve.NAVIGATION_GUARD_REDIRECT)?V:ue(V):X(V,$,fe)).then(V=>{if(V){if(ss(V,Ve.NAVIGATION_GUARD_REDIRECT))return j(Ne({replace:C},w(V.to),{state:typeof V.to=="object"?Ne({},he,V.to.state):he,force:k}),te||$)}else V=R($,fe,!0,C,he);return U($,fe,V),V})}function ee(I,te){const se=E(I,te);return se?Promise.reject(se):Promise.resolve()}function W(I){const te=Ae.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(I):I()}function Z(I,te){let se;const[fe,he,k]=sy(I,te);se=Ci(fe.reverse(),"beforeRouteLeave",I,te);for(const N of fe)N.leaveGuards.forEach($=>{se.push(ws($,I,te))});const C=ee.bind(null,I,te);return se.push(C),ge(se).then(()=>{se=[];for(const N of o.list())se.push(ws(N,I,te));return se.push(C),ge(se)}).then(()=>{se=Ci(he,"beforeRouteUpdate",I,te);for(const N of he)N.updateGuards.forEach($=>{se.push(ws($,I,te))});return se.push(C),ge(se)}).then(()=>{se=[];for(const N of k)if(N.beforeEnter)if(Gt(N.beforeEnter))for(const $ of N.beforeEnter)se.push(ws($,I,te));else se.push(ws(N.beforeEnter,I,te));return se.push(C),ge(se)}).then(()=>(I.matched.forEach(N=>N.enterCallbacks={}),se=Ci(k,"beforeRouteEnter",I,te,W),se.push(C),ge(se))).then(()=>{se=[];for(const N of i.list())se.push(ws(N,I,te));return se.push(C),ge(se)}).catch(N=>ss(N,Ve.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function U(I,te,se){a.list().forEach(fe=>W(()=>fe(I,te,se)))}function R(I,te,se,fe,he){const k=E(I,te);if(k)return k;const C=te===_s,N=rn?history.state:{};se&&(fe||C?r.replace(I.fullPath,Ne({scroll:C&&N&&N.scroll},he)):r.push(I.fullPath,he)),l.value=I,K(I,te,se,C),ue()}let G;function S(){G||(G=r.listen((I,te,se)=>{if(!ce.listening)return;const fe=v(I),he=z(fe,ce.currentRoute.value);if(he){j(Ne(he,{replace:!0,force:!0}),fe).catch(Qn);return}c=fe;const k=l.value;rn&&qg(bc(k.fullPath,se.delta),Jo()),Z(fe,k).catch(C=>ss(C,Ve.NAVIGATION_ABORTED|Ve.NAVIGATION_CANCELLED)?C:ss(C,Ve.NAVIGATION_GUARD_REDIRECT)?(j(Ne(w(C.to),{force:!0}),fe).then(N=>{ss(N,Ve.NAVIGATION_ABORTED|Ve.NAVIGATION_DUPLICATED)&&!se.delta&&se.type===ra.pop&&r.go(-1,!1)}).catch(Qn),Promise.reject()):(se.delta&&r.go(-se.delta,!1),X(C,fe,k))).then(C=>{C=C||R(fe,k,!1),C&&(se.delta&&!ss(C,Ve.NAVIGATION_CANCELLED)?r.go(-se.delta,!1):se.type===ra.pop&&ss(C,Ve.NAVIGATION_ABORTED|Ve.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),U(fe,k,C)}).catch(Qn)}))}let M=Gn(),T=Gn(),F;function X(I,te,se){ue(I);const fe=T.list();return fe.length?fe.forEach(he=>he(I,te,se)):console.error(I),Promise.reject(I)}function oe(){return F&&l.value!==_s?Promise.resolve():new Promise((I,te)=>{M.add([I,te])})}function ue(I){return F||(F=!I,S(),M.list().forEach(([te,se])=>I?se(I):te()),M.reset()),I}function K(I,te,se,fe){const{scrollBehavior:he}=t;if(!rn||!he)return Promise.resolve();const k=!se&&Zg(bc(I.fullPath,0))||(fe||!se)&&history.state&&history.state.scroll||null;return Nn().then(()=>he(I,te,k)).then(C=>C&&Xg(C)).catch(C=>X(C,I,te))}const le=I=>r.go(I);let Te;const Ae=new Set,ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:_,resolve:v,options:t,push:A,replace:L,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:T.add,isReady:oe,install(I){I.component("RouterLink",ky),I.component("RouterView",Ey),I.config.globalProperties.$router=ce,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>m(l)}),rn&&!Te&&l.value===_s&&(Te=!0,A(r.location).catch(fe=>{}));const te={};for(const fe in _s)Object.defineProperty(te,fe,{get:()=>l.value[fe],enumerable:!0});I.provide(qa,ce),I.provide(Za,au(te)),I.provide(ia,l);const se=I.unmount;Ae.add(I),I.unmount=function(){Ae.delete(I),Ae.size<1&&(c=_s,G&&G(),G=null,l.value=_s,Te=!1,F=!1),se()}}};function ge(I){return I.reduce((te,se)=>te.then(()=>W(se)),Promise.resolve())}return ce}function Iy(t){return Zt(Za)}const en={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},Ty="info",Rc="sandbox_logging_filters",Pc=["themeswitcher","codemirroreditor","editoradapter"];let Ly=class{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||Ty,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=en[this.level.toUpperCase()]??en.INFO,this.loggingManager=e.loggingManager,this.console=e.console||console,this.component&&this.loggingManager&&this.loggingManager.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&en[e.toUpperCase()]<=this.currentLevel;const s=!this.component||!this.loggingManager||this.loggingManager.isComponentEnabled(this.component);return this.enabled&&s&&en[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>this.redactValue(s)):e}redactValue(e){if(typeof e=="string")return e.replace(/\b[a-zA-Z0-9_-]{20,}\b/g,"[REDACTED]");if(Array.isArray(e))return e.map(s=>this.redactValue(s));if(e&&typeof e=="object"&&e.constructor===Object){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=this.redactValue(e[n]));return s}return e}formatMessage(e,...s){const n=this.prefix?`[${this.prefix}] `:"",r=this.redactArgs(s);return[n+e,...r]}error(e,...s){this.shouldLog("error")&&this.console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&this.console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&this.console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&this.console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&this.console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0;const r=this.formatMessage(e,...s);this.redactSecrets=n,this.console.trace(...r)}}table(e,s){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&this.console.log(n),this.console.table(e,s)}}group(e){this.shouldLog("info")&&this.console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&this.console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&this.console.groupEnd()}time(e){this.shouldLog("debug")&&this.console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&this.console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=en[e.toUpperCase()]??en.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}},Ry=class{constructor(e={}){this.storage=e.storage,this.console=e.console||console,this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.registeredComponents=new Set,this.storage&&this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),this.console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),this.console.log(" Logging disabled for ALL components (errors still show)")}status(){this.console.log(" Logging Status:"),this.console.log("  Global enabled:",this.globalEnabled),this.console.log("  Allow all:",this.allowAll),this.console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){this.console.log(" Available components to filter:"),Array.from(this.registeredComponents).sort().forEach(e=>{const s=this.isComponentEnabled(e);this.console.log(`  ${s?"":""} ${e}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents.add(e)}saveToStorage(){if(this.storage)try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};this.storage.setItem(Rc,JSON.stringify(e))}catch{}}loadFromStorage(){if(this.storage)try{const e=this.storage.getItem(Rc),s=JSON.parse(e||"{}");this.allowedComponents=new Set(s.allowedComponents||[]),this.allowAll=s.allowAll||!1,this.globalEnabled=s.globalEnabled!==!1,e||(this.allowedComponents=new Set(Pc))}catch{this.allowedComponents=new Set(Pc)}}},mh=class{getItem(e){throw new Error("StorageAdapter.getItem must be implemented")}setItem(e,s){throw new Error("StorageAdapter.setItem must be implemented")}removeItem(e){throw new Error("StorageAdapter.removeItem must be implemented")}},Py=class extends mh{constructor(){super(),this.storage=new Map}getItem(e){return this.storage.get(e)??null}setItem(e,s){this.storage.set(e,s)}removeItem(e){this.storage.delete(e)}},Dy=class extends mh{getItem(e){try{return localStorage.getItem(e)}catch{return null}}setItem(e,s){try{localStorage.setItem(e,s)}catch{}}removeItem(e){try{localStorage.removeItem(e)}catch{}}};function My(){return typeof localStorage<"u"?new Dy:new Py}let gh=class{getGlobal(){throw new Error("GlobalAdapter.getGlobal must be implemented")}setGlobalProperty(e,s){throw new Error("GlobalAdapter.setGlobalProperty must be implemented")}hasGlobalProperty(e){throw new Error("GlobalAdapter.hasGlobalProperty must be implemented")}},Oy=class extends gh{getGlobal(){return window}setGlobalProperty(e,s){window[e]=s}hasGlobalProperty(e){return e in window}},Gy=class extends gh{getGlobal(){return globalThis}setGlobalProperty(e,s){globalThis[e]=s}hasGlobalProperty(e){return e in globalThis}};function Fy(){return typeof window<"u"?new Oy:new Gy}const Vy=My(),$y=Fy(),Vs=new Ry({storage:Vy,console});typeof window<"u"&&$y.setGlobalProperty("logFilter",{enable:(...t)=>Vs.enable(...t),disable:(...t)=>Vs.disable(...t),enableAll:()=>Vs.enableAll(),disableAll:()=>Vs.disableAll(),status:()=>Vs.status(),list:()=>Vs.listComponents()});function Lt(t={}){return new Ly({...t,loggingManager:Vs})}const By=Lt({prefix:"i18n",level:"info"}),aa={en:{nav:{home:"Home",showcase:"Features Showcase",explorer:"Network Explorer",family:"Family Tree",docs:"Documentation"},common:{loading:"Loading...",error:"Error",success:"Success",darkMode:"Toggle dark mode",language:"Language"},footer:{madeBy:"Made with",by:"by",license:"MIT License"},home:{hero:{title:"Modern Network Analysis for JavaScript",subtitle:"Powerful graph theory and network analysis with worker-first architecture",description:"Analyze social networks, family trees, and complex graphs with ease. Fast parallel computation, comprehensive metrics, and beautiful visualizations - all in pure JavaScript.",cta:"Get Started",github:"View on GitHub"},features:[{icon:"",title:"Network Analytics",description:"Compute centrality metrics, clustering coefficients, and graph-level statistics with comprehensive analysis tools"},{icon:"",title:"Interactive Explorer",description:"Explore networks with drag-and-drop, zoom, pan, and real-time analysis of nodes and communities"},{icon:"",title:"Multiple Layouts",description:"11 layout algorithms including force-directed, Kamada-Kawai, spectral, and hierarchical layouts"},{icon:"",title:"Worker Performance",description:"Non-blocking UI with web workers for parallel computation on large graphs with thousands of nodes"},{icon:"",title:"Community Detection",description:"Find clusters and groups in networks using Louvain algorithm with modularity optimization"},{icon:"",title:"Rich Metrics",description:"Degree, betweenness, eigenvector, clustering, closeness, and more statistical features"}],code:{title:"Quick Start Example",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`}},docs:{title:"Documentation",subtitle:"Complete API reference for @guinetik/graph-js",sections:{quickStart:"Quick Start",coreClasses:"Core Classes",adapters:"Data Adapters",layouts:"Graph Layouts",community:"Community Detection",examples:"Usage Examples"},quickStart:{title:"Quick Start",install:"Installation",installCmd:"npm install @guinetik/graph-js",basicUsage:"Basic Usage",description:"Get started with network analysis in just a few lines of code."},graph:{title:"Graph",description:"Core graph data structure using adjacency maps for efficient operations.",methods:"Methods",methodsList:{addNode:{name:"addNode(nodeId)",description:"Add a single node to the graph"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Add multiple nodes from an array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Add an edge between two nodes"},removeNode:{name:"removeNode(nodeId)",description:"Remove a node and all its edges"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Get array of neighbor node IDs"},hasEdge:{name:"hasEdge(source, target)",description:"Check if edge exists"},numberOfNodes:{name:"numberOfNodes()",description:"Get total number of nodes"}}},networkStats:{title:"NetworkStats",description:"Main class for analyzing networks and calculating statistical metrics. All computation happens in web workers for optimal performance.",constructor:"Constructor",constructorParams:{verbose:"Enable detailed logging (default: true)",maxWorkers:"Maximum number of workers (default: auto-detect CPU cores)",taskTimeout:"Task timeout in milliseconds (default: 60000)",workerScript:"Custom worker script path for bundlers like Vite"},analyze:{title:"analyze() Method",description:"Compute network statistics for all nodes"},features:{title:"Available Features",degree:"Number of connections per node",eigenvector:"Influence based on connection quality (like PageRank)",eigenvectorLaplacian:"Laplacian eigenvector centrality (for spectral layouts)",betweenness:"Bridge importance between groups",clustering:"How densely connected neighbors are",closeness:"Average distance to all other nodes in the network",cliques:"Number of complete subgraphs containing the node",egoDensity:"Density of the node's immediate neighborhood",modularity:"Community assignment (Louvain algorithm)"}},adapters:{title:"Data Adapters",description:"Convert between various graph formats and the standard GraphData format. All adapters use static methods.",csv:{title:"CSVAdapter",description:"Load and convert CSV files to graph format. Supports edge lists and node property files.",methods:"Methods",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Parse CSV edge list. Options: header (default: true), delimiter (default: ","), weighted (default: true)',returns:"Returns GraphData with nodes and edges"},fromNodes:{name:"fromNodes(csvText, options)",description:"Parse CSV node properties",returns:"Returns array of NodeData objects"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Async method to fetch and parse CSV from URLs",returns:"Returns Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Export edges to CSV string",returns:"Returns CSV string"},toNodes:{name:"toNodes(graphData, options)",description:"Export nodes to CSV string",returns:"Returns CSV string"}}},json:{title:"JSONAdapter",description:"Support for D3.js, Cytoscape, and other JSON formats. Auto-detects format.",methods:"Methods",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Convert D3.js force-directed format (with "links") to GraphData',returns:"Returns GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Convert Cytoscape.js format to GraphData",returns:"Returns GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Auto-detect format (GraphData, D3, Cytoscape, NetworkX)",returns:"Returns GraphData"},toD3:{name:"toD3(graphData)",description:'Convert to D3.js format with "links" property',returns:"Returns D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Convert to Cytoscape.js format",returns:"Returns CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Async method to fetch and parse JSON",returns:"Returns Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Python NetworkX interoperability. Supports node-link and adjacency formats.",methods:"Methods",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Convert NetworkX node-link format (most common)",returns:"Returns GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Convert NetworkX adjacency format",returns:"Returns GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Convert to node-link format. Options: directed (default: false), multigraph (default: false)",returns:"Returns NetworkX node-link data"},toAdjacency:{name:"toAdjacency(graphData)",description:"Convert to adjacency format",returns:"Returns array of node objects with adjacency lists"}}}},layouts:{title:"Graph Layouts",description:"Position nodes in 2D space using various algorithms. All layouts use async computation in Web Workers for optimal performance.",note:"All layout methods are async and return Promise<Object> with node positions {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Spring-electrical model using Fruchterman-Reingold algorithm. Good for general-purpose network visualization.",complexity:"Time Complexity: O(iterations  V)",bestFor:"Best for: General networks, social graphs",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Number of simulation steps (default: 50)",k:"Optimal distance between nodes (default: auto-calculated)",scale:"Scale factor for positions (default: 1)",center:"Center point {x, y} (default: {x:0, y:0})",initialPositions:"Starting positions (default: random)",threshold:"Convergence threshold (default: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Energy minimization based on all-pairs shortest paths. Produces aesthetically pleasing layouts.",complexity:"Time Complexity: O(V + iterations  V)",bestFor:"Best for: Small-medium graphs (<1000 nodes), trees, planar graphs",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Maximum iterations (default: 1000)",scale:"Scale factor (default: 1)",center:"Center point (default: {x:0, y:0})",initialPositions:"Starting positions (default: circular)",threshold:"Convergence threshold (default: 1e-4)",K:"Spring constant scaling (default: auto)"}},spectral:{title:"SpectralLayout",description:"Uses Laplacian eigenvectors as coordinates. Excellent for visualizing community structure.",complexity:"Time Complexity: O(V) using pre-computed eigenvectors",bestFor:"Best for: Community visualization, graph topology",requires:'Requires: "eigenvector-laplacian" statistic must be pre-computed',constructor:"new SpectralLayout(graph, options)",options:{scale:"Scale factor (default: 100)",center:"Center point (default: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Positions nodes in a circle. Simple and clean for small networks.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Small networks, cycle graphs",constructor:"new CircularLayout(graph, options)",options:{scale:"Circle radius (default: 100)",center:"Center point (default: {x:0, y:0})",sortBy:"Optional sort function for node order"}},shell:{title:"ShellLayout",description:"Concentric circles based on node degree. High-degree nodes in center.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Hub-and-spoke networks, star graphs",requires:'Requires: "degree" statistic must be pre-computed',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Archimedean spiral pattern. Aesthetically pleasing for ordered data.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Sequential or temporal networks",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Breadth-first search layers. Shows distance from root node.",complexity:"Time Complexity: O(V + E)",bestFor:"Best for: Trees, hierarchies, showing propagation",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Two-layer layout for bipartite graphs.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Two-mode networks, actor-event data",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Random positions. Useful as starting point for other layouts.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Initial positions, testing",constructor:"new RandomLayout(graph, options)"},usage:"Usage Pattern",usageDescription:"All layouts follow the same async pattern"},community:{title:"Community Detection",description:"Detect communities (clusters) in networks using various algorithms. All computation runs in Web Workers.",mainClass:{title:"CommunityDetection",description:"Main class for detecting communities in graphs",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detect communities using specified algorithm. Algorithm can be instance or string ("louvain")',returns:"Returns Promise<CommunityResult> with communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calculate modularity score for a partition",returns:"Returns number (-1 to 1, higher is better)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Convenience method for direct detection from GraphData",returns:"Returns Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Get array of node IDs in a specific community"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Get object mapping communityId to array of node IDs"}}},louvain:{title:"LouvainAlgorithm",description:"Fast modularity optimization using the Louvain method. The most popular community detection algorithm.",complexity:"Time Complexity: O(V log V)",bestFor:"Best for: Large networks, general-purpose community detection",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Resolution parameter for modularity (default: 1.0). Higher values find smaller communities.",maxIterations:"Maximum iterations (default: 100)"}},result:{title:"CommunityResult",description:"Result object returned by community detection",properties:{communities:"Object mapping nodeId to communityId (number)",modularity:"Modularity score (-1 to 1, typically 0.3-0.7 for good partitions)",numCommunities:"Number of communities found",algorithm:"Algorithm name used",metadata:"Optional additional information"}},customAlgorithm:{title:"Custom Algorithms",description:"Extend CommunityAlgorithm base class to create your own algorithms",note:"Implement the detect() method and configure worker module path"}},examples:{title:"Usage Examples",description:"Complete code examples for common use cases",basic:{title:"Basic Network Analysis",description:"Analyze a simple network and compute centrality metrics"},csv:{title:"Loading CSV Data",description:"Import network data from CSV files and analyze"},json:{title:"Working with JSON",description:"Convert between JSON formats (D3, Cytoscape, NetworkX)"},layout:{title:"Applying Layouts",description:"Position nodes using layout algorithms"},community:{title:"Community Detection",description:"Find communities using Louvain algorithm"},complete:{title:"Complete Workflow",description:"End-to-end example: load data, analyze, layout, detect communities"}}},showcase:{title:"Features Showcase",description:"Explore all the features of @guinetik/graph-js",header:{title:" Interactive Network Graph",subtitle:"Explore network analysis in real-time. Add nodes, remove them, and watch the graph update dynamically."},whatIs:{title:"What is this?",description:"This interactive visualization demonstrates <strong>network analysis</strong>. Node size represents centrality: larger nodes are more influential in the network."},status:{title:"Status",ready:"Ready for operations",hover:"Hover over nodes to see details"},controls:{title:"Controls",addRandom:"Add a random node connected to a random existing node",addToSelected:"Add a node connected to {name}",selectNodeFirst:"Select a node first",removeRandom:"Remove a random node"},dataLoading:{title:"Load Dataset",choose:"Choose Dataset:",default:"Default Inline (15 nodes)",karate:"Karate Club JSON (34 nodes)",miserables:"Les Misrables CSV (77 nodes)",loadButton:" Load Dataset",loading:" Loading..."},networkAnalysis:{title:" Network Analysis (Node Sizes)",description:"<strong>Uses @guinetik/graph-js:</strong> Computes centrality metrics in web workers for optimal performance.",metricsTitle:"Metrics to Calculate",degreeCentrality:"Degree Centrality",betweennessCentrality:"Betweenness Centrality",clusteringCoefficient:"Clustering Coefficient",eigenvectorCentrality:"Eigenvector Centrality",eigenvectorLaplacian:"Eigenvector (Laplacian) - for Spectral layout",nodeSizeLabel:"Node Size Based On:",selectMetric:"-- Select a metric --",analyzeButton:" Analyze Network",analyzingButton:" Analyzing...",degreeName:"Degree",betweennessName:"Betweenness",clusteringName:"Clustering",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Layout Algorithm"},communityDetection:{title:" Community Detection",communitiesFound:"Communities Found:",modularity:"Modularity:",nodeColorsAssignments:"Node colors represent community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = centrality",color:" <strong>Color</strong> = group/community"},buttons:{add:"Add",toSelected:"To Selected",remove:"Remove"},messages:{loadingGraph:"Loading graph...",loadingDataset:"Loading {dataset} dataset...",loadingDatasetName:"Loading {name} dataset...",analyzing:"Analyzing network using workers...",applyingLayout:"Applying {layout} layout...",detectingCommunities:"Detecting communities using {algorithm}...",loadedDataset:" Loaded {name} dataset ({nodes} nodes, {edges} edges)",failedToLoadDataset:" Failed to load dataset: {error}",addedNode:' Added node "{nodeId}" connected to "{connectedTo}"',noNodeSelected:" No node selected. Click on a node to select it first.",noNodesToRemove:" No nodes to remove",removedNode:' Removed node "{nodeId}"',analysisComplete:" Analysis complete! Computed {count} node metrics using web workers",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty"},layoutPicker:{chooseLayout:"Choose Layout:",applyButton:" Apply Layout",applyingButton:" Applying..."},communityPicker:{chooseAlgorithm:"Choose Algorithm:",detectButton:" Detect Communities",detectingButton:" Detecting..."}},explorer:{title:"Network Explorer",description:"Interactive network analysis and visualization",header:{title:" Network Explorer",subtitle:"Explore sample networks and upload your own files. Supports CSV, JSON, and NetworkX formats."},parallelComputation:{title:" Parallel Computation Demo",description:"This demo showcases <strong>Web Workers</strong> for parallel network analysis. Large networks are processed across multiple CPU cores for faster computation.",workersSupported:" Workers Supported",workersNotSupported:" Workers Not Supported",cores:"cores"},status:{title:"Status",ready:"Ready for operations",loadNetwork:"Load a network to begin"},dataLoading:{title:"Data Loading",sampleNetworks:" Sample Networks",uploadFile:" Upload File",chooseNetwork:"Choose Network:",chooseCity:"-- Choose a city --",caruaru:"Caruaru (~130 edges, small)",rj:"Rio de Janeiro (~1,900 edges, medium)",niteroi:"Niteri (~18,500 edges, large)",loadNetwork:" Load Network",loading:" Loading...",fileFormat:"File Format:",edgesCSV:"Edges CSV (Required):",nodesCSV:"Nodes CSV (Optional):",edgeCSVFormat:"<strong>Edge CSV format:</strong> source,target,weight<br><strong>Node CSV format:</strong> id,group,label,...",jsonFile:"JSON File:",networkxFile:"NetworkX JSON File:",jsonSupports:"Supports: Standard (nodes/edges), D3 (nodes/links), Cytoscape, or raw edge list array",networkxSupports:"Supports: node-link format, adjacency format",loadUploadedFile:" Load Uploaded File",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (edge list)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Network Statistics",nodes:"Nodes",edges:"Edges",avgDegree:"Avg Degree",analysisTime:"Analysis Time",communities:"Communities",modularity:"Modularity",usingParallel:" Using parallel computation",workersActive:"workers active",singleThreaded:" Single-threaded mode",networkTooSmall:"Network too small for workers"},networkAnalysis:{title:" Network Analysis (Node Sizes)"},layoutAlgorithm:{title:" Layout Algorithm",requiresAnalysis:"requires analysis"},graphStats:{title:" Graph Statistics",density:"Density:",diameter:"Diameter:",avgClustering:"Avg Clustering:",avgPathLength:"Avg Path Length:",components:"Components:",avgDegree:"Avg Degree:",calculated:"Calculated alongside node metrics"},communityDetection:{title:" Community Detection (Node Colors)",algorithm:"Algorithm:"},communityResults:{title:" Community Detection Results",communitiesFound:"Communities Found:",modularityScore:"Modularity Score:",computationTime:"Computation Time:",algorithm:"Algorithm:",nodeColorsRepresent:"Node colors represent their community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = selected metric",color:" <strong>Color</strong> = community"},messages:{loadingNetworkData:"Loading network data...",loadedNetwork:" Loaded {name} ({nodes} nodes, {edges} edges)",failedToLoadNetwork:" Failed to load network: {error}",loadingUploadedFile:"Loading uploaded file...",loadedFile:" Loaded {fileName} ({nodes} nodes, {edges} edges)",failedToLoadFile:" Failed to load file: {error}",analyzingNetwork:"Analyzing network using workers...",analysisComplete:" Analysis complete! Computed {count} node metrics",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",applyingLayout:"Applying {layout} layout...",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty",detectingCommunities:"Detecting communities using {algorithm}...",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed"}},family:{title:"Family Tree",subtitle:"Build and visualize your family tree interactively",description:"Visualize family relationships",header:{title:" Family Tree Builder",subtitle:"Build and visualize your family tree interactively. Start with yourself and add relatives to see the network grow."},whatIs:{title:"What is this?",description:"A network visualization of family relationships. Each color represents a different relationship type. The tree auto-saves to your browser's storage every 30 seconds."},status:{title:"Status",ready:"Ready for operations",clickToAdd:"Click buttons to add relatives"},addRelatives:{title:"Add Relatives",parents:" Parents",grandparents:" Grandparents",sibling:" Sibling",nieceNephew:" Niece/Nephew",uncleAunt:" Uncle/Aunt",cousin:" Cousin",partner:" Partner",child:" Child"},actions:{title:"Actions",saveFamily:" Save Family",saveImage:" Save as Image",lockGraph:" Lock Graph",unlockGraph:" Unlock Graph",undo:" Undo",redo:" Redo",resetTree:" Reset Tree"},renderNodes:{title:" Render Nodes",colors:" Colors",avatars:" Avatars",colorsDesc:"Nodes colored by relationship type.",avatarsDesc:"Nodes shown as emoji avatars (if set)."},networkAnalysis:{title:" Network Analysis (Node Sizes)"},relationshipColors:{title:"Relationship Colors",you:"You",parents:"Parents",siblings:"Siblings",unclesAunts:"Uncles/Aunts",cousins:"Cousins",grandparents:"Grandparents",nieces:"Nieces/Nephews",partners:"Partners/Spouses",children:"Children"},layoutAlgorithm:{title:" Layout Algorithm"},instructions:{title:" How to use",dragNodes:" <strong>Drag nodes</strong> to arrange your tree",autoSaves:" <strong>Auto-saves</strong> every 30 seconds",lock:" <strong>Lock</strong> to freeze positions",download:" <strong>Download</strong> as PNG image",analyze:" <strong>Analyze</strong> to size nodes by centrality metrics",layouts:" <strong>Apply layouts</strong> to visualize your tree differently",undoRedo:" <strong>Undo/Redo</strong> with buttons or Ctrl+Z / Ctrl+Y (up to 10 actions)"},dialogs:{selectOption:"Select an option",addParents:"Add Parents",addSibling:"Add Sibling",addGrandparents:"Add Grandparents",addUncleAunt:"Add Uncle/Aunt",addCousin:"Add Cousin",addChild:"Add Child",addNieceNephew:"Add Niece/Nephew",addPartner:"Add Partner/Spouse",fields:{motherName:"Mother Name",motherAvatar:"Mother Avatar (optional)",fatherName:"Father Name",fatherAvatar:"Father Avatar (optional)",siblingName:"Sibling Name",gender:"Gender",avatar:"Avatar (optional)",parentsSide:"Parent's Side",grandmotherName:"Grandmother Name",grandmotherAvatar:"Grandmother Avatar (optional)",grandfatherName:"Grandfather Name",grandfatherAvatar:"Grandfather Avatar (optional)",name:"Name",uncleAuntField:"Uncle/Aunt",sibling:"Sibling",parent:"Parent",partnerOf:"Partner Of"},genderOptions:{male:"Male",female:"Female",other:"Other"},placeholders:{mother:" Type an emoji",father:" Type an emoji",avatar:" Type an emoji",grandmother:" Type an emoji",grandfather:" Type an emoji"}},operations:{errors:{atLeastOneParent:"At least one parent name is required",onlyOneParentSlot:"Only one parent slot available. Added only the mother.",siblingNameRequired:"Sibling name is required",genderRequired:"Gender is required",graphNotInitialized:"Graph not initialized",failedToAddSibling:"Failed to add sibling",parentNotFound:"Parent not found",atLeastOneGrandparent:"At least one grandparent name is required",onlyOneGrandparentSlot:"Only one grandparent slot available for this parent. Added only the grandmother.",failedToAddGrandparents:"Failed to add grandparents",uncleAuntNameRequired:"Uncle/aunt name is required",failedToAddUncleAunt:"Failed to add uncle/aunt",cousinNameRequired:"Cousin name is required",failedToAddCousin:"Failed to add cousin",childNameRequired:"Child name is required",failedToAddChild:"Failed to add child",nieceNephewNameRequired:"Niece/nephew name is required",failedToAddNieceNephew:"Failed to add niece/nephew",partnerNameRequired:"Partner name is required",personNotFound:"Person not found",alreadyHasPartner:"already has a partner!"},success:{parentAdded:"Parent(s) added successfully",siblingAdded:"Sibling added successfully",grandparentsAdded:"Grandparent(s) added successfully",uncleAuntAdded:"Uncle/Aunt added successfully",cousinAdded:"Cousin added successfully",childAdded:"Child added successfully",nieceNephewAdded:"Niece/Nephew added successfully",partnerAdded:"Partner added successfully"},validation:{noParents:"You must add parents first before adding grandparents",noUnclesAunts:"You must add uncles/aunts first before adding cousins",noSiblings:"You must add siblings first before adding nieces/nephews",maxParents:"You already have 2 parents added. You cannot add more than 2 parents.",notEligibleForPartner:"No eligible people available for partners"}},storage:{saved:"Family tree saved!",loaded:"Family tree loaded",reset:"Family tree reset",error:"Error saving family tree"},history:{undone:"Action undone",redone:"Action redone",nothingToUndo:"Nothing to undo",nothingToRedo:"Nothing to redo"},relationships:{yourPartner:"Your Partner/Spouse",partnerOf:"'s Partner",yourChild:"Your child",siblingChild:"'s child (your niece/nephew)",cousinChild:"'s child (your cousin's child)",grandchild:"'s child (your grandchild)",siblingInLaw:"'s partner (your sibling-in-law)",childInLaw:"'s partner (your child-in-law)"},dropdownOptions:{yourChild:"Your child",childTemplate:"{name}'s child",nieceNephewTemplate:"{name}'s child (your niece/nephew)",cousinChildTemplate:"{name}'s child (your cousin's child)",grandchildTemplate:"{name}'s child (your grandchild)",partnerTemplate:"{name}'s partner",siblingPartnerTemplate:"{name}'s partner (your sibling-in-law)",childPartnerTemplate:"{name}'s partner (your child-in-law)",parentSideTemplate:"{name}'s sibling",uncleAuntChildTemplate:"{name}'s child",siblingChildTemplate:"{name}'s child"}}},pt:{nav:{home:"Incio",showcase:"Demonstrao",explorer:"Explorador de Redes",family:"rvore Genealgica",docs:"Documentao"},common:{loading:"Carregando...",error:"Erro",success:"Sucesso",darkMode:"Alternar modo escuro",language:"Idioma"},footer:{madeBy:"Feito com",by:"por",license:"Licena MIT"},showcase:{title:"Demonstrao",description:"Explore todos os recursos de @guinetik/graph-js",header:{title:" Grafo de Rede Interativo",subtitle:"Explore anlise de redes em tempo real. Adicione ns, remova-os e veja o grafo se atualizar dinamicamente."},whatIs:{title:"O que  isto?",description:"Esta visualizao interativa demonstra <strong>anlise de redes</strong>. O tamanho do n representa centralidade: ns maiores so mais influentes na rede."},status:{title:"Status",ready:"Pronto para operaes",hover:"Passe o mouse sobre ns para ver detalhes"},controls:{title:"Controles",addRandom:"Adicionar um n aleatrio conectado a um n existente aleatrio",addToSelected:"Adicionar um n conectado a {name}",selectNodeFirst:"Selecione um n primeiro",removeRandom:"Remover um n aleatrio"},dataLoading:{title:"Carregar Conjunto de Dados",choose:"Escolha um Conjunto de Dados:",default:"Padro Embutido (15 ns)",karate:"Karate Club JSON (34 ns)",miserables:"Os Miserveis CSV (77 ns)",loadButton:" Carregar Conjunto de Dados",loading:" Carregando..."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)",description:"<strong>Usa @guinetik/graph-js:</strong> Calcula mtricas de centralidade em web workers para desempenho ideal.",metricsTitle:"Mtricas para Calcular",degreeCentrality:"Centralidade de Grau",betweennessCentrality:"Centralidade de Intermediao",clusteringCoefficient:"Coeficiente de Agrupamento",eigenvectorCentrality:"Centralidade de Eigenvector",eigenvectorLaplacian:"Eigenvector (Laplaciano) - para layout Espectral",nodeSizeLabel:"Tamanho do N Baseado Em:",selectMetric:"-- Selecione uma mtrica --",analyzeButton:" Analisar Rede",analyzingButton:" Analisando...",degreeName:"Grau",betweennessName:"Intermediao",clusteringName:"Agrupamento",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Algoritmo de Layout"},communityDetection:{title:" Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularity:"Modularidade:",nodeColorsAssignments:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = centralidade",color:" <strong>Cor</strong> = grupo/comunidade"},buttons:{add:"Adicionar",toSelected:"Para Selecionado",remove:"Remover"},messages:{loadingGraph:"Carregando grafo...",loadingDataset:"Carregando conjunto de dados {dataset}...",loadingDatasetName:"Carregando conjunto de dados {name}...",analyzing:"Analisando rede usando workers...",applyingLayout:"Aplicando layout {layout}...",detectingCommunities:"Detectando comunidades usando {algorithm}...",loadedDataset:" Conjunto de dados {name} carregado ({nodes} ns, {edges} arestas)",failedToLoadDataset:" Falha ao carregar conjunto de dados: {error}",addedNode:' N "{nodeId}" adicionado conectado a "{connectedTo}"',noNodeSelected:" Nenhum n selecionado. Clique em um n para selecion-lo primeiro.",noNodesToRemove:" Nenhum n para remover",removedNode:' N "{nodeId}" removido',analysisComplete:" Anlise completa! Computadas {count} mtricas de ns usando web workers",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio"},layoutPicker:{chooseLayout:"Escolha o Layout:",applyButton:" Aplicar Layout",applyingButton:" Aplicando..."},communityPicker:{chooseAlgorithm:"Escolha o Algoritmo:",detectButton:" Detectar Comunidades",detectingButton:" Detectando..."}},home:{hero:{title:"Anlise de Redes Moderna para JavaScript",subtitle:"Teoria de grafos e anlise de redes poderosa com arquitetura worker-first",description:"Analise redes sociais, rvores genealgicas e grafos complexos com facilidade. Computao paralela rpida, mtricas abrangentes e visualizaes bonitas - tudo em JavaScript puro.",cta:"Comear",github:"Ver no GitHub"},features:[{icon:"",title:"Anlise de Redes",description:"Calcule mtricas de centralidade, coeficientes de agrupamento e estatsticas de grafo com ferramentas de anlise abrangentes"},{icon:"",title:"Explorador Interativo",description:"Explore redes com arrastar e soltar, zoom, pan e anlise em tempo real de ns e comunidades"},{icon:"",title:"Mltiplos Layouts",description:"11 algoritmos de layout incluindo force-directed, Kamada-Kawai, spectral e layouts hierrquicos"},{icon:"",title:"Performance com Workers",description:"UI no bloqueante com web workers para computao paralela em grafos grandes com milhares de ns"},{icon:"",title:"Deteco de Comunidades",description:"Encontre clusters e grupos em redes usando algoritmo Louvain com otimizao de modularidade"},{icon:"",title:"Mtricas Ricas",description:"Grau, intermediao, eigenvector, agrupamento, proximidade e mais recursos estatsticos"}],code:{title:"Exemplo de Incio Rpido",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Anlise executada em workers para desempenho ideal!`}},docs:{title:"Documentao",subtitle:"Referncia completa da API para @guinetik/graph-js",sections:{quickStart:"Incio Rpido",coreClasses:"Classes Principais",adapters:"Adaptadores de Dados",layouts:"Layouts de Grafos",community:"Deteco de Comunidades",examples:"Exemplos de Uso"},quickStart:{title:"Incio Rpido",install:"Instalao",installCmd:"npm install @guinetik/graph-js",basicUsage:"Uso Bsico",description:"Comece com anlise de redes em apenas algumas linhas de cdigo."},graph:{title:"Graph",description:"Estrutura de dados de grafo principal usando mapas de adjacncia.",methods:"Mtodos",methodsList:{addNode:{name:"addNode(nodeId)",description:"Adicionar um n ao grafo"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Adicionar mltiplos ns de um array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Adicionar uma aresta entre dois ns"},removeNode:{name:"removeNode(nodeId)",description:"Remover um n e todas as suas arestas"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Obter array de IDs de ns vizinhos"},hasEdge:{name:"hasEdge(source, target)",description:"Verificar se aresta existe"},numberOfNodes:{name:"numberOfNodes()",description:"Obter nmero total de ns"}}},networkStats:{title:"NetworkStats",description:"Classe principal para analisar redes e calcular mtricas estatsticas. Toda computao acontece em web workers para desempenho ideal.",constructor:"Construtor",constructorParams:{verbose:"Ativar logging detalhado (padro: true)",maxWorkers:"Nmero mximo de workers (padro: detecta ncleos da CPU automaticamente)",taskTimeout:"Timeout de tarefa em milissegundos (padro: 60000)",workerScript:"Caminho personalizado do script worker para bundlers como Vite"},analyze:{title:"Mtodo analyze()",description:"Computar estatsticas de rede para todos os ns"},features:{title:"Recursos Disponveis",degree:"Nmero de conexes por n",eigenvector:"Influncia baseada na qualidade das conexes (como PageRank)",eigenvectorLaplacian:"Centralidade eigenvector Laplaciano (para layouts espectrais)",betweenness:"Importncia de ponte entre grupos",clustering:"Quo densamente conectados esto os vizinhos",closeness:"Distncia mdia para todos os outros ns na rede",cliques:"Nmero de subgrafos completos contendo o n",egoDensity:"Densidade da vizinhana imediata do n",modularity:"Atribuio de comunidade (algoritmo Louvain)"}},adapters:{title:"Adaptadores de Dados",description:"Converter entre vrios formatos de grafo e o formato padro GraphData. Todos os adaptadores usam mtodos estticos.",csv:{title:"CSVAdapter",description:"Carregar e converter arquivos CSV para formato de grafo. Suporta listas de arestas e arquivos de propriedades de ns.",methods:"Mtodos",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Analisar lista de arestas CSV. Opes: header (padro: true), delimiter (padro: ","), weighted (padro: true)',returns:"Retorna GraphData com ns e arestas"},fromNodes:{name:"fromNodes(csvText, options)",description:"Analisar propriedades de ns CSV",returns:"Retorna array de objetos NodeData"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Mtodo assncrono para buscar e analisar CSV de URLs",returns:"Retorna Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Exportar arestas para string CSV",returns:"Retorna string CSV"},toNodes:{name:"toNodes(graphData, options)",description:"Exportar ns para string CSV",returns:"Retorna string CSV"}}},json:{title:"JSONAdapter",description:"Suporte para D3.js, Cytoscape e outros formatos JSON. Detecta formato automaticamente.",methods:"Mtodos",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Converter formato D3.js force-directed (com "links") para GraphData',returns:"Retorna GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Converter formato Cytoscape.js para GraphData",returns:"Retorna GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Detectar formato automaticamente (GraphData, D3, Cytoscape, NetworkX)",returns:"Retorna GraphData"},toD3:{name:"toD3(graphData)",description:'Converter para formato D3.js com propriedade "links"',returns:"Retorna D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Converter para formato Cytoscape.js",returns:"Retorna CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Mtodo assncrono para buscar e analisar JSON",returns:"Retorna Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Interoperabilidade com Python NetworkX. Suporta formatos node-link e adjacncia.",methods:"Mtodos",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Converter formato NetworkX node-link (mais comum)",returns:"Retorna GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Converter formato de adjacncia NetworkX",returns:"Retorna GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Converter para formato node-link. Opes: directed (padro: false), multigraph (padro: false)",returns:"Retorna dados node-link NetworkX"},toAdjacency:{name:"toAdjacency(graphData)",description:"Converter para formato de adjacncia",returns:"Retorna array de objetos de ns com listas de adjacncia"}}}},layouts:{title:"Layouts de Grafos",description:"Posicionar ns no espao 2D usando vrios algoritmos. Todos os layouts usam computao assncrona em Web Workers para desempenho ideal.",note:"Todos os mtodos de layout so assncronos e retornam Promise<Object> com posies de ns {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Modelo spring-eltrico usando algoritmo Fruchterman-Reingold. Bom para visualizao geral de redes.",complexity:"Complexidade de Tempo: O(iterations  V)",bestFor:"Melhor para: Redes gerais, grafos sociais",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Nmero de passos de simulao (padro: 50)",k:"Distncia tima entre ns (padro: auto-calculado)",scale:"Fator de escala para posies (padro: 1)",center:"Ponto central {x, y} (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: aleatrio)",threshold:"Limiar de convergncia (padro: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Minimizao de energia baseada em caminhos mais curtos. Produz layouts esteticamente agradveis.",complexity:"Complexidade de Tempo: O(V + iterations  V)",bestFor:"Melhor para: Grafos pequenos-mdios (<1000 ns), rvores, grafos planares",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Mximo de iteraes (padro: 1000)",scale:"Fator de escala (padro: 1)",center:"Ponto central (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: circular)",threshold:"Limiar de convergncia (padro: 1e-4)",K:"Escala de constante de mola (padro: auto)"}},spectral:{title:"SpectralLayout",description:"Usa autovetores Laplacianos como coordenadas. Excelente para visualizar estrutura de comunidades.",complexity:"Complexidade de Tempo: O(V) usando autovetores pr-computados",bestFor:"Melhor para: Visualizao de comunidades, topologia de grafo",requires:'Requer: estatstica "eigenvector-laplacian" deve ser pr-computada',constructor:"new SpectralLayout(graph, options)",options:{scale:"Fator de escala (padro: 100)",center:"Ponto central (padro: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Posiciona ns em crculo. Simples e limpo para redes pequenas.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes pequenas, grafos cclicos",constructor:"new CircularLayout(graph, options)",options:{scale:"Raio do crculo (padro: 100)",center:"Ponto central (padro: {x:0, y:0})",sortBy:"Funo de ordenao opcional para ordem dos ns"}},shell:{title:"ShellLayout",description:"Crculos concntricos baseados no grau do n. Ns de alto grau no centro.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes hub-and-spoke, grafos estrela",requires:'Requer: estatstica "degree" deve ser pr-computada',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Padro de espiral arquimediana. Esteticamente agradvel para dados ordenados.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes sequenciais ou temporais",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Camadas de busca em largura. Mostra distncia do n raiz.",complexity:"Complexidade de Tempo: O(V + E)",bestFor:"Melhor para: rvores, hierarquias, mostrando propagao",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Layout de duas camadas para grafos bipartidos.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes de dois modos, dados ator-evento",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Posies aleatrias. til como ponto de partida para outros layouts.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Posies iniciais, testes",constructor:"new RandomLayout(graph, options)"},usage:"Padro de Uso",usageDescription:"Todos os layouts seguem o mesmo padro assncrono"},community:{title:"Deteco de Comunidades",description:"Detectar comunidades (clusters) em redes usando vrios algoritmos. Toda computao  executada em Web Workers.",mainClass:{title:"CommunityDetection",description:"Classe principal para detectar comunidades em grafos",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detectar comunidades usando algoritmo especificado. Algoritmo pode ser instncia ou string ("louvain")',returns:"Retorna Promise<CommunityResult> com communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calcular pontuao de modularidade para uma partio",returns:"Retorna number (-1 a 1, maior  melhor)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Mtodo de convenincia para deteco direta de GraphData",returns:"Retorna Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Obter array de IDs de ns em uma comunidade especfica"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Obter objeto mapeando communityId para array de IDs de ns"}}},louvain:{title:"LouvainAlgorithm",description:"Otimizao rpida de modularidade usando o mtodo Louvain. O algoritmo de deteco de comunidades mais popular.",complexity:"Complexidade de Tempo: O(V log V)",bestFor:"Melhor para: Redes grandes, deteco de comunidades de uso geral",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Parmetro de resoluo para modularidade (padro: 1.0). Valores maiores encontram comunidades menores.",maxIterations:"Mximo de iteraes (padro: 100)"}},result:{title:"CommunityResult",description:"Objeto de resultado retornado pela deteco de comunidades",properties:{communities:"Objeto mapeando nodeId para communityId (nmero)",modularity:"Pontuao de modularidade (-1 a 1, tipicamente 0.3-0.7 para boas parties)",numCommunities:"Nmero de comunidades encontradas",algorithm:"Nome do algoritmo usado",metadata:"Informaes adicionais opcionais"}},customAlgorithm:{title:"Algoritmos Personalizados",description:"Estender classe base CommunityAlgorithm para criar seus prprios algoritmos",note:"Implementar o mtodo detect() e configurar caminho do mdulo worker"}},examples:{title:"Exemplos de Uso",description:"Exemplos de cdigo completos para casos de uso comuns",basic:{title:"Anlise Bsica de Redes",description:"Analisar uma rede simples e computar mtricas de centralidade"},csv:{title:"Carregando Dados CSV",description:"Importar dados de rede de arquivos CSV e analisar"},json:{title:"Trabalhando com JSON",description:"Converter entre formatos JSON (D3, Cytoscape, NetworkX)"},layout:{title:"Aplicando Layouts",description:"Posicionar ns usando algoritmos de layout"},community:{title:"Deteco de Comunidades",description:"Encontrar comunidades usando algoritmo Louvain"},complete:{title:"Fluxo Completo",description:"Exemplo ponta a ponta: carregar dados, analisar, aplicar layout, detectar comunidades"}}},explorer:{title:"Explorador de Redes",description:"Anlise e visualizao interativa de redes",header:{title:" Explorador de Redes",subtitle:"Explore redes de exemplo e carregue seus prprios arquivos. Suporta formatos CSV, JSON e NetworkX."},parallelComputation:{title:" Demonstrao de Computao Paralela",description:"Esta demonstrao apresenta <strong>Web Workers</strong> para anlise de redes paralela. Redes grandes so processadas em mltiplos ncleos de CPU para computao mais rpida.",workersSupported:" Workers Suportados",workersNotSupported:" Workers No Suportados",cores:"ncleos"},status:{title:"Status",ready:"Pronto para operaes",loadNetwork:"Carregue uma rede para comear"},dataLoading:{title:"Carregamento de Dados",sampleNetworks:" Redes de Exemplo",uploadFile:" Carregar Arquivo",chooseNetwork:"Escolha uma Rede:",chooseCity:"-- Escolha uma cidade --",caruaru:"Caruaru (~130 arestas, pequena)",rj:"Rio de Janeiro (~1.900 arestas, mdia)",niteroi:"Niteri (~18.500 arestas, grande)",loadNetwork:" Carregar Rede",loading:" Carregando...",fileFormat:"Formato do Arquivo:",edgesCSV:"CSV de Arestas (Obrigatrio):",nodesCSV:"CSV de Ns (Opcional):",edgeCSVFormat:"<strong>Formato CSV de arestas:</strong> source,target,weight<br><strong>Formato CSV de ns:</strong> id,group,label,...",jsonFile:"Arquivo JSON:",networkxFile:"Arquivo JSON NetworkX:",jsonSupports:"Suporta: Padro (nodes/edges), D3 (nodes/links), Cytoscape, ou array de lista de arestas",networkxSupports:"Suporta: formato node-link, formato adjacency",loadUploadedFile:" Carregar Arquivo Enviado",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (lista de arestas)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Estatsticas da Rede",nodes:"Ns",edges:"Arestas",avgDegree:"Grau Mdio",analysisTime:"Tempo de Anlise",communities:"Comunidades",modularity:"Modularidade",usingParallel:" Usando computao paralela",workersActive:"workers ativos",singleThreaded:" Modo single-thread",networkTooSmall:"Rede muito pequena para workers"},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},layoutAlgorithm:{title:" Algoritmo de Layout",requiresAnalysis:"requer anlise"},graphStats:{title:" Estatsticas do Grafo",density:"Densidade:",diameter:"Dimetro:",avgClustering:"Agrupamento Mdio:",avgPathLength:"Comprimento Mdio do Caminho:",components:"Componentes:",avgDegree:"Grau Mdio:",calculated:"Calculado junto com mtricas de ns"},communityDetection:{title:" Deteco de Comunidades (Cores dos Ns)",algorithm:"Algoritmo:"},communityResults:{title:" Resultados da Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularityScore:"Pontuao de Modularidade:",computationTime:"Tempo de Computao:",algorithm:"Algoritmo:",nodeColorsRepresent:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = mtrica selecionada",color:" <strong>Cor</strong> = comunidade"},messages:{loadingNetworkData:"Carregando dados da rede...",loadedNetwork:" {name} carregada ({nodes} ns, {edges} arestas)",failedToLoadNetwork:" Falha ao carregar rede: {error}",loadingUploadedFile:"Carregando arquivo enviado...",loadedFile:" {fileName} carregado ({nodes} ns, {edges} arestas)",failedToLoadFile:" Falha ao carregar arquivo: {error}",analyzingNetwork:"Analisando rede usando workers...",analysisComplete:" Anlise completa! Computadas {count} mtricas de ns",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",applyingLayout:"Aplicando layout {layout}...",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio",detectingCommunities:"Detectando comunidades usando {algorithm}...",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou"}},family:{title:"rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente",description:"Visualize relaes familiares",header:{title:" Construtor de rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente. Comece com voc mesmo e adicione parentes para ver a rede crescer."},whatIs:{title:"O que  isso?",description:"Uma visualizao de rede de relaes familiares. Cada cor representa um tipo de relao diferente. A rvore  salva automaticamente no armazenamento do seu navegador a cada 30 segundos."},status:{title:"Status",ready:"Pronto para operaes",clickToAdd:"Clique nos botes para adicionar parentes"},addRelatives:{title:"Adicionar Parentes",parents:" Pais",grandparents:" Avs",sibling:" Irm/Irmo",nieceNephew:" Sobrinha/Sobrinho",uncleAunt:" Tio/Tia",cousin:" Primo/Prima",partner:" Parceiro/Parceira",child:" Filho/Filha"},actions:{title:"Aes",saveFamily:" Salvar Famlia",saveImage:" Salvar como Imagem",lockGraph:" Bloquear Grafo",unlockGraph:" Desbloquear Grafo",undo:" Desfazer",redo:" Refazer",resetTree:" Redefinir rvore"},renderNodes:{title:" Renderizar Ns",colors:" Cores",avatars:" Avatares",colorsDesc:"Ns coloridos por tipo de relao.",avatarsDesc:"Ns mostrados como avatares emoji (se definido)."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},relationshipColors:{title:"Cores de Relao",you:"Voc",parents:"Pais",siblings:"Irmos",unclesAunts:"Tios/Tias",cousins:"Primos/Primas",grandparents:"Avs",nieces:"Sobrinhas/Sobrinhos",partners:"Parceiros/Parceiras",children:"Filhos/Filhas"},layoutAlgorithm:{title:" Algoritmo de Layout"},instructions:{title:" Como usar",dragNodes:" <strong>Arraste ns</strong> para organizar sua rvore",autoSaves:" <strong>Salva automaticamente</strong> a cada 30 segundos",lock:" <strong>Bloqueie</strong> para congelar posies",download:" <strong>Baixe</strong> como imagem PNG",analyze:" <strong>Analise</strong> para dimensionar ns por mtricas de centralidade",layouts:" <strong>Aplique layouts</strong> para visualizar sua rvore de forma diferente",undoRedo:" <strong>Desfazer/Refazer</strong> com botes ou Ctrl+Z / Ctrl+Y (at 10 aes)"},dialogs:{selectOption:"Selecione uma opo",addParents:"Adicionar Pais",addSibling:"Adicionar Irm/Irmo",addGrandparents:"Adicionar Avs",addUncleAunt:"Adicionar Tio/Tia",addCousin:"Adicionar Primo/Prima",addChild:"Adicionar Filho/Filha",addNieceNephew:"Adicionar Sobrinha/Sobrinho",addPartner:"Adicionar Parceiro/Parceira",fields:{motherName:"Nome da Me",motherAvatar:"Avatar da Me (opcional)",fatherName:"Nome do Pai",fatherAvatar:"Avatar do Pai (opcional)",siblingName:"Nome do Irm/Irmo",gender:"Gnero",avatar:"Avatar (opcional)",parentsSide:"Lado do Pai/Me",grandmotherName:"Nome da Av",grandmotherAvatar:"Avatar da Av (opcional)",grandfatherName:"Nome do Av",grandfatherAvatar:"Avatar do Av (opcional)",name:"Nome",uncleAuntField:"Tio/Tia",sibling:"Irm/Irmo",parent:"Pai/Me",partnerOf:"Parceiro/Parceira De"},genderOptions:{male:"Masculino",female:"Feminino",other:"Outro"},placeholders:{mother:" Digite um emoji",father:" Digite um emoji",avatar:" Digite um emoji",grandmother:" Digite um emoji",grandfather:" Digite um emoji"}},operations:{errors:{atLeastOneParent:"Pelo menos um nome de pai  necessrio",onlyOneParentSlot:"Apenas um slot de pai disponvel. Adicionada apenas a me.",siblingNameRequired:"Nome do irm/irmo  obrigatrio",genderRequired:"Gnero  obrigatrio",graphNotInitialized:"Grafo no inicializado",failedToAddSibling:"Falha ao adicionar irm/irmo",parentNotFound:"Pai/Me no encontrado",atLeastOneGrandparent:"Pelo menos um nome de av  necessrio",onlyOneGrandparentSlot:"Apenas um slot de av disponvel para este pai. Adicionada apenas a av.",failedToAddGrandparents:"Falha ao adicionar avs",uncleAuntNameRequired:"Nome do tio/tia  obrigatrio",failedToAddUncleAunt:"Falha ao adicionar tio/tia",cousinNameRequired:"Nome do primo/prima  obrigatrio",failedToAddCousin:"Falha ao adicionar primo/prima",childNameRequired:"Nome do filho/filha  obrigatrio",failedToAddChild:"Falha ao adicionar filho/filha",nieceNephewNameRequired:"Nome do sobrinha/sobrinho  obrigatrio",failedToAddNieceNephew:"Falha ao adicionar sobrinha/sobrinho",partnerNameRequired:"Nome do parceiro/parceira  obrigatrio",personNotFound:"Pessoa no encontrada",alreadyHasPartner:"j tem um parceiro/parceira!"},success:{parentAdded:"Pais adicionados com sucesso",siblingAdded:"Irm(o) adicionado(a) com sucesso",grandparentsAdded:"Avs adicionados com sucesso",uncleAuntAdded:"Tio(a) adicionado(a) com sucesso",cousinAdded:"Primo(a) adicionado(a) com sucesso",childAdded:"Filho(a) adicionado(a) com sucesso",nieceNephewAdded:"Sobrinho(a) adicionado(a) com sucesso",partnerAdded:"Parceiro(a) adicionado(a) com sucesso"},validation:{noParents:"Voc deve adicionar pais primeiro antes de adicionar avs",noUnclesAunts:"Voc deve adicionar tios/tias primeiro antes de adicionar primos",noSiblings:"Voc deve adicionar irmos primeiro antes de adicionar sobrinhos",maxParents:"Voc j tem 2 pais adicionados. Voc no pode adicionar mais de 2 pais.",notEligibleForPartner:"Nenhuma pessoa disponvel para parceiros"}},storage:{saved:"rvore genealgica salva!",loaded:"rvore genealgica carregada",reset:"rvore genealgica redefinida",error:"Erro ao salvar rvore genealgica"},history:{undone:"Ao desfeita",redone:"Ao refeita",nothingToUndo:"Nada para desfazer",nothingToRedo:"Nada para refazer"},relationships:{yourPartner:"Seu Parceiro/Parceira",partnerOf:"'s Parceiro/Parceira",yourChild:"Seu filho/filha",siblingChild:"'s filho/filha (seu sobrinha/sobrinho)",cousinChild:"'s filho/filha (filho/filha do seu primo/prima)",grandchild:"'s filho/filha (seu neto/neta)",siblingInLaw:"'s parceiro/parceira (seu cunhado/cunhada)",childInLaw:"'s parceiro/parceira (seu genro/nora)"},dropdownOptions:{yourChild:"Seu filho/filha",childTemplate:"Filho(a) de {name}",nieceNephewTemplate:"Filho(a) de {name} (seu sobrinho(a))",cousinChildTemplate:"Filho(a) de {name} (filho(a) do seu primo(a))",grandchildTemplate:"Filho(a) de {name} (seu neto(a))",partnerTemplate:"Parceiro(a) de {name}",siblingPartnerTemplate:"Parceiro(a) de {name} (seu cunhado(a))",childPartnerTemplate:"Parceiro(a) de {name} (seu genro/nora)",parentSideTemplate:"Irm(o) de {name}",uncleAuntChildTemplate:"Filho(a) de {name}",siblingChildTemplate:"Filho(a) de {name}"}}}};function yh(t,e,s={}){const n=e.split(".");let r=aa[t];for(const o of n)if(r=r?.[o],r===void 0)return By.warn("Translation not found",{key:e,lang:t}),e;return typeof r=="string"&&Object.keys(s).length>0?r.replace(/\{(\w+)\}/g,(o,i)=>s[i]!==void 0?s[i]:o):r}const zy=Lt({prefix:"useI18n",level:"info"}),Fn=ae(localStorage.getItem("lang")||"en");function Jt(){return{lang:Fn,t:(s,n={})=>{const r=s.split(".");let o=aa[Fn.value];for(const i of r)if(o=o?.[i],o===void 0)return zy.warn("Translation not found",{key:s,lang:Fn.value}),s;return typeof o=="string"&&Object.keys(n).length>0?o.replace(/\{(\w+)\}/g,(i,a)=>n[a]!==void 0?n[a]:i):o},changeLanguage:s=>{Fn.value=s,localStorage.setItem("lang",s)},translations:ot(()=>aa[Fn.value])}}const pn=ae(localStorage.getItem("darkMode")==="true"),jy=()=>{pn.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};Ct(pn,()=>{localStorage.setItem("darkMode",pn.value),jy()},{immediate:!0});function _h(){return{darkMode:pn,toggleDarkMode:()=>{pn.value=!pn.value}}}function Uy(){const t=document.getElementById("particles");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const s=[],n=100,r=150;class o{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t.width)&&(this.vx*=-1),(this.y<0||this.y>t.height)&&(this.vy*=-1)}draw(){const l=document.documentElement.classList.contains("dark");e.fillStyle=l?"rgba(167, 139, 250, 0.6)":"rgba(139, 92, 246, 0.5)",e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill()}}for(let a=0;a<n;a++)s.push(new o);function i(){e.clearRect(0,0,t.width,t.height),s.forEach(l=>{l.update(),l.draw()});const a=document.documentElement.classList.contains("dark");s.forEach((l,c)=>{s.slice(c+1).forEach(d=>{const u=l.x-d.x,f=l.y-d.y,p=Math.sqrt(u*u+f*f);if(p<r){const y=(1-p/r)*.4;e.strokeStyle=a?`rgba(167, 139, 250, ${y})`:`rgba(139, 92, 246, ${y})`,e.lineWidth=1.5,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(d.x,d.y),e.stroke()}})}),requestAnimationFrame(i)}i(),window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight})}const Hy={class:"content-wrapper"},Wy={class:"header"},Xy={class:"container-main header-content"},qy={class:"flex items-center gap-4"},Zy={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ky={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Jy={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Yy={class:"nav hidden md:flex"},Qy={class:"hidden md:flex items-center space-x-4"},e0=["title"],t0={key:0,class:"text-xl"},s0={key:1,class:"text-xl"},n0={class:"flex flex-col h-full p-6"},r0={class:"flex flex-col space-y-2 mb-8"},o0={class:"border-t border-[var(--color-border)] pt-6 space-y-4"},i0={class:"block text-sm font-medium mb-2"},a0={class:"text-2xl"},l0={class:"page"},c0={key:0,class:"footer"},d0={class:"container-main footer-content"},u0={class:"mb-2"},h0={class:"text-sm"},f0={__name:"App",setup(t){const e=Iy(),{lang:s,t:n,changeLanguage:r}=Jt(),{darkMode:o,toggleDarkMode:i}=_h(),a=ae(!1),l=()=>{a.value=!a.value},c=()=>{a.value=!1},d=ot(()=>["showcase","explorer","family"].includes(e.name));return Ct(d,u=>{u?document.body.classList.add("demo-page"):document.body.classList.remove("demo-page")},{immediate:!0}),Ps(()=>{Uy()}),(u,f)=>{const p=qi("router-link"),y=qi("router-view");return H(),q(Ge,null,[f[16]||(f[16]=h("canvas",{id:"particles"},null,-1)),h("div",Hy,[h("header",Wy,[h("div",Xy,[h("div",qy,[_e(p,{to:"/",class:"logo"},{default:Be(()=>[...f[7]||(f[7]=[xe(" @guinetik/graph-js ",-1)])]),_:1})]),h("button",{onClick:l,class:"md:hidden btn-icon","aria-label":"Toggle menu"},[(H(),q("svg",Zy,[a.value?(H(),q("path",Jy)):(H(),q("path",Ky))]))]),h("nav",Yy,[_e(p,{to:"/showcase",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(n)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(n)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(n)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(n)("nav.docs")),1)]),_:1})]),h("div",Qy,[ht(h("select",{"onUpdate:modelValue":f[0]||(f[0]=_=>Ke(s)?s.value=_:null),onChange:f[1]||(f[1]=_=>m(r)(m(s))),class:"px-3 py-1 rounded-md bg-secondary text-primary border border-color text-sm"},[...f[8]||(f[8]=[h("option",{value:"en"},"EN",-1),h("option",{value:"pt"},"PT",-1)])],544),[[xn,m(s)]]),h("button",{onClick:f[2]||(f[2]=(..._)=>m(i)&&m(i)(..._)),class:"btn-icon",title:m(n)("common.darkMode")},[m(o)?(H(),q("span",s0,"")):(H(),q("span",t0,""))],8,e0),f[9]||(f[9]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-icon",title:"View on GitHub"},[h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])]),_e(Jl,{name:"mobile-menu"},{default:Be(()=>[a.value?(H(),q("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:c},[f[14]||(f[14]=h("div",{class:"absolute inset-0 bg-black/50"},null,-1)),h("div",{class:"absolute top-0 right-0 bottom-0 w-72 bg-[var(--color-bg-primary)] shadow-xl",onClick:f[6]||(f[6]=sh(()=>{},["stop"]))},[h("div",n0,[h("div",{class:"flex justify-between items-center mb-8"},[f[11]||(f[11]=h("h2",{class:"text-xl font-bold"},"Menu",-1)),h("button",{onClick:c,class:"btn-icon"},[...f[10]||(f[10]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),h("nav",r0,[_e(p,{to:"/showcase",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(n)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(n)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(n)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(n)("nav.docs")),1)]),_:1})]),h("div",o0,[h("div",null,[h("label",i0,g(m(n)("common.language")),1),ht(h("select",{"onUpdate:modelValue":f[3]||(f[3]=_=>Ke(s)?s.value=_:null),onChange:f[4]||(f[4]=_=>m(r)(m(s))),class:"w-full px-3 py-2 rounded-md bg-secondary text-primary border border-color"},[...f[12]||(f[12]=[h("option",{value:"en"},"English",-1),h("option",{value:"pt"},"Portugus",-1)])],544),[[xn,m(s)]])]),h("button",{onClick:f[5]||(f[5]=(..._)=>m(i)&&m(i)(..._)),class:"w-full flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,g(m(n)("common.darkMode")),1),h("span",a0,g(m(o)?"":""),1)]),f[13]||(f[13]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,"View on GitHub"),h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])])])):Re("",!0)]),_:1}),h("main",l0,[_e(y,null,{default:Be(({Component:_})=>[_e(Jl,{name:"page-transition",mode:"out-in"},{default:Be(()=>[(H(),Is(tm(_)))]),_:2},1024)]),_:1})]),d.value?Re("",!0):(H(),q("footer",c0,[h("div",d0,[h("p",u0,[xe(g(m(n)("footer.madeBy"))+"  "+g(m(n)("footer.by"))+" ",1),f[15]||(f[15]=h("a",{href:"https://github.com/guinetik",target:"_blank",class:"text-accent"},"@guinetik",-1))]),h("p",h0,g(m(n)("footer.license")),1)])]))])],64)}}},p0="modulepreload",m0=function(t){return"/"+t},Dc={},b=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(s.map(c=>{if(c=m0(c),c in Dc)return;Dc[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":p0,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};let Ue=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function g0(t){return Ka(t)}function Ka(t){return Array.isArray(t)?y0(t):t instanceof RegExp?t:typeof t=="object"?_0(t):t}function y0(t){let e=[];for(let s=0,n=t.length;s<n;s++)e[s]=Ka(t[s]);return e}function _0(t){let e={};for(let s in t)e[s]=Ka(t[s]);return e}function bh(t,...e){return e.forEach(s=>{for(let n in s)t[n]=s[n]}),t}function vh(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?vh(t.substring(0,t.length-1)):t.substr(~e+1)}var Si=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Mr=class{static hasCaptures(t){return t===null?!1:(Si.lastIndex=0,Si.test(t))}static replaceCaptures(t,e,s){return t.replace(Si,(n,r,o,i)=>{let a=s[parseInt(r||o,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(i){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return n})}};function xh(t,e){return t<e?-1:t>e?1:0}function wh(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let s=t.length,n=e.length;if(s===n){for(let r=0;r<s;r++){let o=xh(t[r],e[r]);if(o!==0)return o}return 0}return s-n}function Mc(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function kh(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var Ah=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},mo=class{constructor(t,e,s){this._colorMap=t,this._defaults=e,this._root=s}static createFromRawTheme(t,e){return this.createFromParsedTheme(x0(t),e)}static createFromParsedTheme(t,e){return k0(t,e)}_cachedMatchRoot=new Ah(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,n=this._cachedMatchRoot.get(e).find(r=>b0(t.parent,r.parentScopes));return n?new Ch(n.fontStyle,n.foreground,n.background):null}},Ei=class Jr{constructor(e,s){this.parent=e,this.scopeName=s}static push(e,s){for(const n of s)e=new Jr(e,n);return e}static from(...e){let s=null;for(let n=0;n<e.length;n++)s=new Jr(s,e[n]);return s}push(e){return new Jr(this,e)}getSegments(){let e=this;const s=[];for(;e;)s.push(e.scopeName),e=e.parent;return s.reverse(),s}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const s=[];let n=this;for(;n&&n!==e;)s.push(n.scopeName),n=n.parent;return n===e?s.reverse():void 0}};function b0(t,e){if(e.length===0)return!0;for(let s=0;s<e.length;s++){let n=e[s],r=!1;if(n===">"){if(s===e.length-1)return!1;n=e[++s],r=!0}for(;t&&!v0(t.scopeName,n);){if(r)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function v0(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var Ch=class{constructor(t,e,s){this.fontStyle=t,this.foregroundId=e,this.backgroundId=s}};function x0(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,s=[],n=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];if(!i.settings)continue;let a;if(typeof i.scope=="string"){let u=i.scope;u=u.replace(/^[,]+/,""),u=u.replace(/[,]+$/,""),a=u.split(",")}else Array.isArray(i.scope)?a=i.scope:a=[""];let l=-1;if(typeof i.settings.fontStyle=="string"){l=0;let u=i.settings.fontStyle.split(" ");for(let f=0,p=u.length;f<p;f++)switch(u[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof i.settings.foreground=="string"&&Mc(i.settings.foreground)&&(c=i.settings.foreground);let d=null;typeof i.settings.background=="string"&&Mc(i.settings.background)&&(d=i.settings.background);for(let u=0,f=a.length;u<f;u++){let y=a[u].trim().split(" "),_=y[y.length-1],x=null;y.length>1&&(x=y.slice(0,y.length-1),x.reverse()),s[n++]=new w0(_,x,r,l,c,d)}}return s}var w0=class{constructor(t,e,s,n,r,o){this.scope=t,this.parentScopes=e,this.index=s,this.fontStyle=n,this.foreground=r,this.background=o}},it=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(it||{});function k0(t,e){t.sort((l,c)=>{let d=xh(l.scope,c.scope);return d!==0||(d=wh(l.parentScopes,c.parentScopes),d!==0)?d:l.index-c.index});let s=0,n="#000000",r="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(s=l.fontStyle),l.foreground!==null&&(n=l.foreground),l.background!==null&&(r=l.background)}let o=new A0(e),i=new Ch(s,o.getId(n),o.getId(r)),a=new S0(new la(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let d=t[l];a.insert(0,d.scope,d.parentScopes,d.fontStyle,o.getId(d.foreground),o.getId(d.background))}return new mo(o,i,a)}var A0=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,s=t.length;e<s;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},C0=Object.freeze([]),la=class Sh{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,s,n,r,o){this.scopeDepth=e,this.parentScopes=s||C0,this.fontStyle=n,this.foreground=r,this.background=o}clone(){return new Sh(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let s=[];for(let n=0,r=e.length;n<r;n++)s[n]=e[n].clone();return s}acceptOverwrite(e,s,n,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,s!==-1&&(this.fontStyle=s),n!==0&&(this.foreground=n),r!==0&&(this.background=r)}},S0=class ca{constructor(e,s=[],n={}){this._mainRule=e,this._children=n,this._rulesWithParentScopes=s}_rulesWithParentScopes;static _cmpBySpecificity(e,s){if(e.scopeDepth!==s.scopeDepth)return s.scopeDepth-e.scopeDepth;let n=0,r=0;for(;e.parentScopes[n]===">"&&n++,s.parentScopes[r]===">"&&r++,!(n>=e.parentScopes.length||r>=s.parentScopes.length);){const o=s.parentScopes[r].length-e.parentScopes[n].length;if(o!==0)return o;n++,r++}return s.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let n=e.indexOf("."),r,o;if(n===-1?(r=e,o=""):(r=e.substring(0,n),o=e.substring(n+1)),this._children.hasOwnProperty(r))return this._children[r].match(o)}const s=this._rulesWithParentScopes.concat(this._mainRule);return s.sort(ca._cmpBySpecificity),s}insert(e,s,n,r,o,i){if(s===""){this._doInsertHere(e,n,r,o,i);return}let a=s.indexOf("."),l,c;a===-1?(l=s,c=""):(l=s.substring(0,a),c=s.substring(a+1));let d;this._children.hasOwnProperty(l)?d=this._children[l]:(d=new ca(this._mainRule.clone(),la.cloneArr(this._rulesWithParentScopes)),this._children[l]=d),d.insert(e+1,c,n,r,o,i)}_doInsertHere(e,s,n,r,o){if(s===null){this._mainRule.acceptOverwrite(e,n,r,o);return}for(let i=0,a=this._rulesWithParentScopes.length;i<a;i++){let l=this._rulesWithParentScopes[i];if(wh(l.parentScopes,s)===0){l.acceptOverwrite(e,n,r,o);return}}n===-1&&(n=this._mainRule.fontStyle),r===0&&(r=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new la(e,s,n,r,o))}},An=class Nt{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const s=Nt.getLanguageId(e),n=Nt.getTokenType(e),r=Nt.getFontStyle(e),o=Nt.getForeground(e),i=Nt.getBackground(e);console.log({languageId:s,tokenType:n,fontStyle:r,foreground:o,background:i})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,s,n,r,o,i,a){let l=Nt.getLanguageId(e),c=Nt.getTokenType(e),d=Nt.containsBalancedBrackets(e)?1:0,u=Nt.getFontStyle(e),f=Nt.getForeground(e),p=Nt.getBackground(e);return s!==0&&(l=s),n!==8&&(c=n),r!==null&&(d=r?1:0),o!==-1&&(u=o),i!==0&&(f=i),a!==0&&(p=a),(l<<0|c<<8|d<<10|u<<11|f<<15|p<<24)>>>0}};function go(t,e){const s=[],n=E0(t);let r=n.next();for(;r!==null;){let l=0;if(r.length===2&&r.charAt(1)===":"){switch(r.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${r} in scope selector`)}r=n.next()}let c=i();if(s.push({matcher:c,priority:l}),r!==",")break;r=n.next()}return s;function o(){if(r==="-"){r=n.next();const l=o();return c=>!!l&&!l(c)}if(r==="("){r=n.next();const l=a();return r===")"&&(r=n.next()),l}if(Oc(r)){const l=[];do l.push(r),r=n.next();while(Oc(r));return c=>e(l,c)}return null}function i(){const l=[];let c=o();for(;c;)l.push(c),c=o();return d=>l.every(u=>u(d))}function a(){const l=[];let c=i();for(;c&&(l.push(c),r==="|"||r===",");){do r=n.next();while(r==="|"||r===",");c=i()}return d=>l.some(u=>u(d))}}function Oc(t){return!!t&&!!t.match(/[\w\.:]+/)}function E0(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,s=e.exec(t);return{next:()=>{if(!s)return null;const n=s[0];return s=e.exec(t),n}}}function Eh(t){typeof t.dispose=="function"&&t.dispose()}var ur=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},N0=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},I0=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},T0=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new ur(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new I0;for(const s of t)L0(s,this.initialScopeName,this.repo,e);for(const s of e.references)if(s instanceof ur){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};function L0(t,e,s,n){const r=s.lookup(t.scopeName);if(!r){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const o=s.lookup(e);t instanceof ur?Yr({baseGrammar:o,selfGrammar:r},n):da(t.ruleName,{baseGrammar:o,selfGrammar:r,repository:r.repository},n);const i=s.injections(t.scopeName);if(i)for(const a of i)n.add(new ur(a))}function da(t,e,s){if(e.repository&&e.repository[t]){const n=e.repository[t];yo([n],e,s)}}function Yr(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&yo(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&yo(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function yo(t,e,s){for(const n of t){if(s.visitedRule.has(n))continue;s.visitedRule.add(n);const r=n.repository?bh({},e.repository,n.repository):e.repository;Array.isArray(n.patterns)&&yo(n.patterns,{...e,repository:r},s);const o=n.include;if(!o)continue;const i=Nh(o);switch(i.kind){case 0:Yr({...e,selfGrammar:e.baseGrammar},s);break;case 1:Yr(e,s);break;case 2:da(i.ruleName,{...e,repository:r},s);break;case 3:case 4:const a=i.scopeName===e.selfGrammar.scopeName?e.selfGrammar:i.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:r};i.kind===4?da(i.ruleName,l,s):Yr(l,s)}else i.kind===4?s.add(new N0(i.scopeName,i.ruleName)):s.add(new ur(i.scopeName));break}}}var R0=class{kind=0},P0=class{kind=1},D0=class{constructor(t){this.ruleName=t}kind=2},M0=class{constructor(t){this.scopeName=t}kind=3},O0=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function Nh(t){if(t==="$base")return new R0;if(t==="$self")return new P0;const e=t.indexOf("#");if(e===-1)return new M0(t);if(e===0)return new D0(t.substring(1));{const s=t.substring(0,e),n=t.substring(e+1);return new O0(s,n)}}var G0=/\\(\d+)/,Gc=/\\(\d+)/g,F0=-1,Ih=-2;var kr=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,s,n){this.$location=t,this.id=e,this._name=s||null,this._nameIsCapturing=Mr.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=Mr.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${vh(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Mr.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Mr.replaceCaptures(this._contentName,t,e)}},V0=class extends kr{retokenizeCapturedWithRuleId;constructor(t,e,s,n,r){super(t,e,s,n),this.retokenizeCapturedWithRuleId=r}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,s,n){throw new Error("Not supported!")}},$0=class extends kr{_match;captures;_cachedCompiledPatterns;constructor(t,e,s,n,r){super(t,e,s,null),this._match=new hr(n,this.id),this.captures=r,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new fr,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Fc=class extends kr{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,s,n,r){super(t,e,s,n),this.patterns=r.patterns,this.hasMissingPatterns=r.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const s of this.patterns)t.getRule(s).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new fr,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ua=class extends kr{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,s,n,r,o,i,a,l,c){super(t,e,s,n),this._begin=new hr(r,this.id),this.beginCaptures=o,this._end=new hr(i||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t,e).compileAG(t,s,n)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new fr;for(const s of this.patterns)t.getRule(s).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},_o=class extends kr{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,s,n,r,o,i,a,l){super(t,e,s,n),this._begin=new hr(r,this.id),this.beginCaptures=o,this.whileCaptures=a,this._while=new hr(i,Ih),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new fr;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,s,n){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,s,n)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new fr,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},Th=class et{static createCaptureRule(e,s,n,r,o){return e.registerRule(i=>new V0(s,i,n,r,o))}static getCompiledRuleId(e,s,n){return e.id||s.registerRule(r=>{if(e.id=r,e.match)return new $0(e.$vscodeTextmateLocation,e.id,e.name,e.match,et._compileCaptures(e.captures,s,n));if(typeof e.begin>"u"){e.repository&&(n=bh({},n,e.repository));let o=e.patterns;return typeof o>"u"&&e.include&&(o=[{include:e.include}]),new Fc(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,et._compilePatterns(o,s,n))}return e.while?new _o(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,et._compileCaptures(e.beginCaptures||e.captures,s,n),e.while,et._compileCaptures(e.whileCaptures||e.captures,s,n),et._compilePatterns(e.patterns,s,n)):new ua(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,et._compileCaptures(e.beginCaptures||e.captures,s,n),e.end,et._compileCaptures(e.endCaptures||e.captures,s,n),e.applyEndPatternLast,et._compilePatterns(e.patterns,s,n))}),e.id}static _compileCaptures(e,s,n){let r=[];if(e){let o=0;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);a>o&&(o=a)}for(let i=0;i<=o;i++)r[i]=null;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);let l=0;e[i].patterns&&(l=et.getCompiledRuleId(e[i],s,n)),r[a]=et.createCaptureRule(s,e[i].$vscodeTextmateLocation,e[i].name,e[i].contentName,l)}}return r}static _compilePatterns(e,s,n){let r=[];if(e)for(let o=0,i=e.length;o<i;o++){const a=e[o];let l=-1;if(a.include){const c=Nh(a.include);switch(c.kind){case 0:case 1:l=et.getCompiledRuleId(n[a.include],s,n);break;case 2:let d=n[c.ruleName];d&&(l=et.getCompiledRuleId(d,s,n));break;case 3:case 4:const u=c.scopeName,f=c.kind===4?c.ruleName:null,p=s.getExternalGrammar(u,n);if(p)if(f){let y=p.repository[f];y&&(l=et.getCompiledRuleId(y,s,p.repository))}else l=et.getCompiledRuleId(p.repository.$self,s,p.repository);break}}else l=et.getCompiledRuleId(a,s,n);if(l!==-1){const c=s.getRule(l);let d=!1;if((c instanceof Fc||c instanceof ua||c instanceof _o)&&c.hasMissingPatterns&&c.patterns.length===0&&(d=!0),d)continue;r.push(l)}}return{patterns:r,hasMissingPatterns:(e?e.length:0)!==r.length}}},hr=class Lh{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,s){if(e&&typeof e=="string"){const n=e.length;let r=0,o=[],i=!1;for(let a=0;a<n;a++)if(e.charAt(a)==="\\"&&a+1<n){const c=e.charAt(a+1);c==="z"?(o.push(e.substring(r,a)),o.push("$(?!\\n)(?<!\\n)"),r=a+2):(c==="A"||c==="G")&&(i=!0),a++}this.hasAnchor=i,r===0?this.source=e:(o.push(e.substring(r,n)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,typeof this.source=="string"?this.hasBackReferences=G0.test(this.source):this.hasBackReferences=!1}clone(){return new Lh(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,s){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let n=s.map(r=>e.substring(r.start,r.end));return Gc.lastIndex=0,this.source.replace(Gc,(r,o)=>kh(n[parseInt(o,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],s=[],n=[],r=[],o,i,a,l;for(o=0,i=this.source.length;o<i;o++)a=this.source.charAt(o),e[o]=a,s[o]=a,n[o]=a,r[o]=a,a==="\\"&&o+1<i&&(l=this.source.charAt(o+1),l==="A"?(e[o+1]="",s[o+1]="",n[o+1]="A",r[o+1]="A"):l==="G"?(e[o+1]="",s[o+1]="G",n[o+1]="",r[o+1]="G"):(e[o+1]=l,s[o+1]=l,n[o+1]=l,r[o+1]=l),o++);return{A0_G0:e.join(""),A0_G1:s.join(""),A1_G0:n.join(""),A1_G1:r.join("")}}resolveAnchors(e,s){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},fr=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(s=>s.source);this._cached=new Vc(t,e,this._items.map(s=>s.ruleId))}return this._cached}compileAG(t,e,s){return this._hasAnchors?e?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,s)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,s){let n=this._items.map(r=>r.resolveAnchors(e,s));return new Vc(t,n,this._items.map(r=>r.ruleId))}},Vc=class{constructor(t,e,s){this.regExps=e,this.rules=s,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,s=this.rules.length;e<s;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,s){const n=this.scanner.findNextMatchSync(t,e,s);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},Ni=class{constructor(t,e){this.languageId=t,this.tokenType=e}},B0=class ha{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,s){this._defaultAttributes=new Ni(e,8),this._embeddedLanguagesMatcher=new z0(Object.entries(s||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?ha._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new Ni(0,0);_getBasicScopeAttributes=new Ah(e=>{const s=this._scopeToLanguage(e),n=this._toStandardTokenType(e);return new Ni(s,n)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const s=e.match(ha.STANDARD_TOKEN_TYPE_REGEXP);if(!s)return 8;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},z0=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([s,n])=>kh(s));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},$c=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function Rh(t,e,s,n,r,o,i,a){const l=e.content.length;let c=!1,d=-1;if(i){const p=j0(t,e,s,n,r,o);r=p.stack,n=p.linePos,s=p.isFirstLine,d=p.anchorPosition}const u=Date.now();for(;!c;){if(a!==0&&Date.now()-u>a)return new $c(r,!0);f()}return new $c(r,!1);function f(){const p=U0(t,e,s,n,r,d);if(!p){o.produce(r,l),c=!0;return}const y=p.captureIndices,_=p.matchedRuleId,x=y&&y.length>0?y[0].end>n:!1;if(_===F0){const v=r.getRule(t);o.produce(r,y[0].start),r=r.withContentNameScopesList(r.nameScopesList),jn(t,e,s,r,o,v.endCaptures,y),o.produce(r,y[0].end);const w=r;if(r=r.parent,d=w.getAnchorPos(),!x&&w.getEnterPos()===n){r=w,o.produce(r,l),c=!0;return}}else{const v=t.getRule(_);o.produce(r,y[0].start);const w=r,E=v.getName(e.content,y),A=r.contentNameScopesList.pushAttributed(E,t);if(r=r.push(_,n,d,y[0].end===l,null,A,A),v instanceof ua){const L=v;jn(t,e,s,r,o,L.beginCaptures,y),o.produce(r,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),j=A.pushAttributed(z,t);if(r=r.withContentNameScopesList(j),L.endHasBackReferences&&(r=r.withEndRule(L.getEndWithResolvedBackReferences(e.content,y))),!x&&w.hasSameRuleAs(r)){r=r.pop(),o.produce(r,l),c=!0;return}}else if(v instanceof _o){const L=v;jn(t,e,s,r,o,L.beginCaptures,y),o.produce(r,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),j=A.pushAttributed(z,t);if(r=r.withContentNameScopesList(j),L.whileHasBackReferences&&(r=r.withEndRule(L.getWhileWithResolvedBackReferences(e.content,y))),!x&&w.hasSameRuleAs(r)){r=r.pop(),o.produce(r,l),c=!0;return}}else if(jn(t,e,s,r,o,v.captures,y),o.produce(r,y[0].end),r=r.pop(),!x){r=r.safePop(),o.produce(r,l),c=!0;return}}y[0].end>n&&(n=y[0].end,s=!1)}}function j0(t,e,s,n,r,o){let i=r.beginRuleCapturedEOL?0:-1;const a=[];for(let l=r;l;l=l.pop()){const c=l.getRule(t);c instanceof _o&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:d}=X0(l.rule,t,l.stack.endRule,s,n===i),u=c.findNextMatchSync(e,n,d);if(u){if(u.ruleId!==Ih){r=l.stack.pop();break}u.captureIndices&&u.captureIndices.length&&(o.produce(l.stack,u.captureIndices[0].start),jn(t,e,s,l.stack,o,l.rule.whileCaptures,u.captureIndices),o.produce(l.stack,u.captureIndices[0].end),i=u.captureIndices[0].end,u.captureIndices[0].end>n&&(n=u.captureIndices[0].end,s=!1))}else{r=l.stack.pop();break}}return{stack:r,linePos:n,anchorPosition:i,isFirstLine:s}}function U0(t,e,s,n,r,o){const i=H0(t,e,s,n,r,o),a=t.getInjections();if(a.length===0)return i;const l=W0(a,t,e,s,n,r,o);if(!l)return i;if(!i)return l;const c=i.captureIndices[0].start,d=l.captureIndices[0].start;return d<c||l.priorityMatch&&d===c?l:i}function H0(t,e,s,n,r,o){const i=r.getRule(t),{ruleScanner:a,findOptions:l}=Ph(i,t,r.endRule,s,n===o),c=a.findNextMatchSync(e,n,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function W0(t,e,s,n,r,o,i){let a=Number.MAX_VALUE,l=null,c,d=0;const u=o.contentNameScopesList.getScopeNames();for(let f=0,p=t.length;f<p;f++){const y=t[f];if(!y.matcher(u))continue;const _=e.getRule(y.ruleId),{ruleScanner:x,findOptions:v}=Ph(_,e,null,n,r===i),w=x.findNextMatchSync(s,r,v);if(!w)continue;const E=w.captureIndices[0].start;if(!(E>=a)&&(a=E,l=w.captureIndices,c=w.ruleId,d=y.priority,a===r))break}return l?{priorityMatch:d===-1,captureIndices:l,matchedRuleId:c}:null}function Ph(t,e,s,n,r){return{ruleScanner:t.compileAG(e,s,n,r),findOptions:0}}function X0(t,e,s,n,r){return{ruleScanner:t.compileWhileAG(e,s,n,r),findOptions:0}}function jn(t,e,s,n,r,o,i){if(o.length===0)return;const a=e.content,l=Math.min(o.length,i.length),c=[],d=i[0].end;for(let u=0;u<l;u++){const f=o[u];if(f===null)continue;const p=i[u];if(p.length===0)continue;if(p.start>d)break;for(;c.length>0&&c[c.length-1].endPos<=p.start;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?r.produceFromScopes(c[c.length-1].scopes,p.start):r.produce(n,p.start),f.retokenizeCapturedWithRuleId){const _=f.getName(a,i),x=n.contentNameScopesList.pushAttributed(_,t),v=f.getContentName(a,i),w=x.pushAttributed(v,t),E=n.push(f.retokenizeCapturedWithRuleId,p.start,-1,!1,null,x,w),A=t.createOnigString(a.substring(0,p.end));Rh(t,A,s&&p.start===0,p.start,E,r,!1,0),Eh(A);continue}const y=f.getName(a,i);if(y!==null){const x=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(y,t);c.push(new q0(x,p.end))}}for(;c.length>0;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var q0=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function Z0(t,e,s,n,r,o,i,a){return new J0(t,e,s,n,r,o,i,a)}function Bc(t,e,s,n,r){const o=go(e,bo),i=Th.getCompiledRuleId(s,n,r.repository);for(const a of o)t.push({debugSelector:e,matcher:a.matcher,ruleId:i,grammar:r,priority:a.priority})}function bo(t,e){if(e.length<t.length)return!1;let s=0;return t.every(n=>{for(let r=s;r<e.length;r++)if(K0(e[r],n))return s=r+1,!0;return!1})}function K0(t,e){if(!t)return!1;if(t===e)return!0;const s=e.length;return t.length>s&&t.substr(0,s)===e&&t[s]==="."}var J0=class{constructor(t,e,s,n,r,o,i,a){if(this._rootScopeName=t,this.balancedBracketSelectors=o,this._onigLib=a,this._basicScopeAttributesProvider=new B0(s,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=zc(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(const l of Object.keys(r)){const c=go(l,bo);for(const d of c)this._tokenTypeMatchers.push({matcher:d.matcher,type:r[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:r=>r===this._rootScopeName?this._grammar:this.getExternalGrammar(r),injections:r=>this._grammarRepository.injections(r)},e=[],s=this._rootScopeName,n=t.lookup(s);if(n){const r=n.injections;if(r)for(let i in r)Bc(e,i,r[i],this,n);const o=this._grammarRepository.injections(s);o&&o.forEach(i=>{const a=this.getExternalGrammar(i);if(a){const l=a.injectionSelector;l&&Bc(e,l,a,this,a)}})}return e.sort((r,o)=>r.priority-o.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,s=t(e);return this._ruleId2desc[e]=s,s}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const s=this._grammarRepository.lookup(t);if(s)return this._includedGrammars[t]=zc(s,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,s=0){const n=this._tokenize(t,e,!1,s);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(t,e,s=0){const n=this._tokenize(t,e,!0,s);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(t,e,s,n){this._rootId===-1&&(this._rootId=Th.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let r;if(!e||e===fa.NULL){r=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),d=this.themeProvider.getDefaults(),u=An.set(0,c.languageId,c.tokenType,null,d.fontStyle,d.foregroundId,d.backgroundId),f=this.getRule(this._rootId).getName(null,null);let p;f?p=er.createRootAndLookUpScopeName(f,u,this):p=er.createRoot("unknown",u),e=new fa(null,this._rootId,-1,-1,!1,null,p,p)}else r=!1,e.reset();t=t+`
`;const o=this.createOnigString(t),i=o.content.length,a=new Q0(s,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=Rh(this,o,r,0,e,a,!0,n);return Eh(o),{lineLength:i,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function zc(t,e){return t=g0(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var er=class jt{constructor(e,s,n){this.parent=e,this.scopePath=s,this.tokenAttributes=n}static fromExtension(e,s){let n=e,r=e?.scopePath??null;for(const o of s)r=Ei.push(r,o.scopeNames),n=new jt(n,r,o.encodedTokenAttributes);return n}static createRoot(e,s){return new jt(null,new Ei(null,e),s)}static createRootAndLookUpScopeName(e,s,n){const r=n.getMetadataForScope(e),o=new Ei(null,e),i=n.themeProvider.themeMatch(o),a=jt.mergeAttributes(s,r,i);return new jt(null,o,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return jt.equals(this,e)}static equals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.scopeName!==s.scopeName||e.tokenAttributes!==s.tokenAttributes)return!1;e=e.parent,s=s.parent}while(!0)}static mergeAttributes(e,s,n){let r=-1,o=0,i=0;return n!==null&&(r=n.fontStyle,o=n.foregroundId,i=n.backgroundId),An.set(e,s.languageId,s.tokenType,null,r,o,i)}pushAttributed(e,s){if(e===null)return this;if(e.indexOf(" ")===-1)return jt._pushAttributed(this,e,s);const n=e.split(/ /g);let r=this;for(const o of n)r=jt._pushAttributed(r,o,s);return r}static _pushAttributed(e,s,n){const r=n.getMetadataForScope(s),o=e.scopePath.push(s),i=n.themeProvider.themeMatch(o),a=jt.mergeAttributes(e.tokenAttributes,r,i);return new jt(e,o,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const s=[];let n=this;for(;n&&n!==e;)s.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===e?s.reverse():void 0}},fa=class $s{constructor(e,s,n,r,o,i,a,l){this.parent=e,this.ruleId=s,this.beginRuleCapturedEOL=o,this.endRule=i,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=r}_stackElementBrand=void 0;static NULL=new $s(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:$s._equals(this,e)}static _equals(e,s){return e===s?!0:this._structuralEquals(e,s)?er.equals(e.contentNameScopesList,s.contentNameScopesList):!1}static _structuralEquals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.depth!==s.depth||e.ruleId!==s.ruleId||e.endRule!==s.endRule)return!1;e=e.parent,s=s.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){$s._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,s,n,r,o,i,a){return new $s(this,e,s,n,r,o,i,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,s){return this.parent&&(s=this.parent._writeString(e,s)),e[s++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,s}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new $s(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let s=this;for(;s&&s._enterPos===e._enterPos;){if(s.ruleId===e.ruleId)return!0;s=s.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,s){const n=er.fromExtension(e?.nameScopesList??null,s.nameScopesList);return new $s(e,s.ruleId,s.enterPos??-1,s.anchorPos??-1,s.beginRuleCapturedEOL,s.endRule,n,er.fromExtension(n,s.contentNameScopesList))}},Y0=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(s=>s==="*"?(this.allowAny=!0,[]):go(s,bo).map(n=>n.matcher)),this.unbalancedBracketScopes=e.flatMap(s=>go(s,bo).map(n=>n.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Q0=class{constructor(t,e,s,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=t,this._tokenTypeOverrides=s,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let n=t?.tokenAttributes??0,r=!1;if(this.balancedBracketSelectors?.matchesAlways&&(r=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=t?.getScopeNames()??[];for(const i of this._tokenTypeOverrides)i.matcher(o)&&(n=An.set(n,0,i.type,null,-1,0,0));this.balancedBracketSelectors&&(r=this.balancedBracketSelectors.match(o))}if(r&&(n=An.set(n,0,8,r,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=e;return}const s=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:s}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const s=new Uint32Array(this._binaryTokens.length);for(let n=0,r=this._binaryTokens.length;n<r;n++)s[n]=this._binaryTokens[n];return s}},e_=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,s,n,r){if(!this._grammars.has(t)){let o=this._rawGrammars.get(t);if(!o)return null;this._grammars.set(t,Z0(t,o,e,s,n,r,this,this._onigLib))}return this._grammars.get(t)}},t_=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new e_(mo.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,s){this._syncRegistry.setTheme(mo.createFromRawTheme(e,s))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,s,n){return this.loadGrammarWithConfiguration(e,s,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,s,n){return this._loadGrammar(e,s,n.embeddedLanguages,n.tokenTypes,new Y0(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,s,n,r,o){const i=new T0(this._syncRegistry,e);for(;i.Q.length>0;)i.Q.map(a=>this._loadSingleGrammar(a.scopeName)),i.processQueue();return this._grammarForScopeName(e,s,n,r,o)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const s=this._options.loadGrammar(e);if(s){const n=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(s,n)}}addGrammar(e,s=[],n=0,r=null){return this._syncRegistry.addGrammar(e,s),this._grammarForScopeName(e.scopeName,n,r)}_grammarForScopeName(e,s=0,n=null,r=null,o=null){return this._syncRegistry.grammarForScopeName(e,s,n,r,o)}},pa=fa.NULL;const s_=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Ar{constructor(e,s,n){this.normal=s,this.property=e,n&&(this.space=n)}}Ar.prototype.normal={};Ar.prototype.property={};Ar.prototype.space=void 0;function Dh(t,e){const s={},n={};for(const r of t)Object.assign(s,r.property),Object.assign(n,r.normal);return new Ar(s,n,e)}function ma(t){return t.toLowerCase()}class xt{constructor(e,s){this.attribute=s,this.property=e}}xt.prototype.attribute="";xt.prototype.booleanish=!1;xt.prototype.boolean=!1;xt.prototype.commaOrSpaceSeparated=!1;xt.prototype.commaSeparated=!1;xt.prototype.defined=!1;xt.prototype.mustUseProperty=!1;xt.prototype.number=!1;xt.prototype.overloadedBoolean=!1;xt.prototype.property="";xt.prototype.spaceSeparated=!1;xt.prototype.space=void 0;let n_=0;const ke=Js(),je=Js(),ga=Js(),J=Js(),De=Js(),mn=Js(),kt=Js();function Js(){return 2**++n_}const ya=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:je,commaOrSpaceSeparated:kt,commaSeparated:mn,number:J,overloadedBoolean:ga,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),Ii=Object.keys(ya);class Ja extends xt{constructor(e,s,n,r){let o=-1;if(super(e,s),jc(this,"space",r),typeof n=="number")for(;++o<Ii.length;){const i=Ii[o];jc(this,Ii[o],(n&ya[i])===ya[i])}}}Ja.prototype.defined=!0;function jc(t,e,s){s&&(t[e]=s)}function In(t){const e={},s={};for(const[n,r]of Object.entries(t.properties)){const o=new Ja(n,t.transform(t.attributes||{},n),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,s[ma(n)]=n,s[ma(o.attribute)]=n}return new Ar(e,s,t.space)}const Mh=In({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:je,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:De,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:J,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:De,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:je,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Oh(t,e){return e in t?t[e]:e}function Gh(t,e){return Oh(t,e.toLowerCase())}const r_=In({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mn,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:De,autoFocus:ke,autoPlay:ke,blocking:De,capture:null,charSet:null,checked:ke,cite:null,className:De,cols:J,colSpan:null,content:null,contentEditable:je,controls:ke,controlsList:De,coords:J|mn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:ga,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:De,height:J,hidden:ga,high:J,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:De,itemRef:De,itemScope:ke,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:J,pattern:null,ping:De,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:De,required:ke,reversed:ke,rows:J,rowSpan:J,sandbox:De,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:je,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:Gh}),o_=In({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:kt,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mn,g2:mn,glyphName:mn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kt,rev:kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kt,requiredFeatures:kt,requiredFonts:kt,requiredFormats:kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kt,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Oh}),Fh=In({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Vh=In({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Gh}),$h=In({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),i_=/[A-Z]/g,Uc=/-[a-z]/g,a_=/^data[-\w.:]+$/i;function l_(t,e){const s=ma(e);let n=e,r=xt;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&a_.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Uc,d_);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Uc.test(o)){let i=o.replace(i_,c_);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}r=Ja}return new r(n,e)}function c_(t){return"-"+t.toLowerCase()}function d_(t){return t.charAt(1).toUpperCase()}const u_=Dh([Mh,r_,Fh,Vh,$h],"html"),Bh=Dh([Mh,o_,Fh,Vh,$h],"svg"),Hc={}.hasOwnProperty;function h_(t,e){const s=e||{};function n(r,...o){let i=n.invalid;const a=n.handlers;if(r&&Hc.call(r,t)){const l=String(r[t]);i=Hc.call(a,l)?a[l]:n.unknown}if(i)return i.call(this,r,...o)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const f_=/["&'<>`]/g,p_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m_=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,g_=/[|\\{}()[\]^$+*?.]/g,Wc=new WeakMap;function y_(t,e){if(t=t.replace(e.subset?__(e.subset):f_,n),e.subset||e.escapeOnly)return t;return t.replace(p_,s).replace(m_,n);function s(r,o,i){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,i.charCodeAt(o+2),e)}function n(r,o,i){return e.format(r.charCodeAt(0),i.charCodeAt(o+1),e)}}function __(t){let e=Wc.get(t);return e||(e=b_(t),Wc.set(t,e)),e}function b_(t){const e=[];let s=-1;for(;++s<t.length;)e.push(t[s].replace(g_,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const v_=/[\dA-Fa-f]/;function x_(t,e,s){const n="&#x"+t.toString(16).toUpperCase();return s&&e&&!v_.test(String.fromCharCode(e))?n:n+";"}const w_=/\d/;function k_(t,e,s){const n="&#"+String(t);return s&&e&&!w_.test(String.fromCharCode(e))?n:n+";"}const A_=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ti={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},C_=["cent","copy","divide","gt","lt","not","para","times"],zh={}.hasOwnProperty,_a={};let Or;for(Or in Ti)zh.call(Ti,Or)&&(_a[Ti[Or]]=Or);const S_=/[^\dA-Za-z]/;function E_(t,e,s,n){const r=String.fromCharCode(t);if(zh.call(_a,r)){const o=_a[r],i="&"+o;return s&&A_.includes(o)&&!C_.includes(o)&&(!n||e&&e!==61&&S_.test(String.fromCharCode(e)))?i:i+";"}return""}function N_(t,e,s){let n=x_(t,e,s.omitOptionalSemicolons),r;if((s.useNamedReferences||s.useShortestReferences)&&(r=E_(t,e,s.omitOptionalSemicolons,s.attribute)),(s.useShortestReferences||!r)&&s.useShortestReferences){const o=k_(t,e,s.omitOptionalSemicolons);o.length<n.length&&(n=o)}return r&&(!s.useShortestReferences||r.length<n.length)?r:n}function gn(t,e){return y_(t,Object.assign({format:N_},e))}const I_=/^>|^->|<!--|-->|--!>|<!-$/g,T_=[">"],L_=["<",">"];function R_(t,e,s,n){return n.settings.bogusComments?"<?"+gn(t.value,Object.assign({},n.settings.characterReferences,{subset:T_}))+">":"<!--"+t.value.replace(I_,r)+"-->";function r(o){return gn(o,Object.assign({},n.settings.characterReferences,{subset:L_}))}}function P_(t,e,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}function Xc(t,e){const s=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,r=s.indexOf(e);for(;r!==-1;)n++,r=s.indexOf(e,r+e.length);return n}function D_(t,e){const s=e||{};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}function M_(t){return t.join(" ").trim()}const O_=/[ \t\n\f\r]/g;function Ya(t){return typeof t=="object"?t.type==="text"?qc(t.value):!1:qc(t)}function qc(t){return t.replace(O_,"")===""}const Xe=Uh(1),jh=Uh(-1),G_=[];function Uh(t){return e;function e(s,n,r){const o=s?s.children:G_;let i=(n||0)+t,a=o[i];if(!r)for(;a&&Ya(a);)i+=t,a=o[i];return a}}const F_={}.hasOwnProperty;function Hh(t){return e;function e(s,n,r){return F_.call(t,s.tagName)&&t[s.tagName](s,n,r)}}const Qa=Hh({body:$_,caption:Li,colgroup:Li,dd:U_,dt:j_,head:Li,html:V_,li:z_,optgroup:H_,option:W_,p:B_,rp:Zc,rt:Zc,tbody:q_,td:Kc,tfoot:Z_,th:Kc,thead:X_,tr:K_});function Li(t,e,s){const n=Xe(s,e,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Ya(n.value.charAt(0)))}function V_(t,e,s){const n=Xe(s,e);return!n||n.type!=="comment"}function $_(t,e,s){const n=Xe(s,e);return!n||n.type!=="comment"}function B_(t,e,s){const n=Xe(s,e);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function z_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&n.tagName==="li"}function j_(t,e,s){const n=Xe(s,e);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function U_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Zc(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function H_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&n.tagName==="optgroup"}function W_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function X_(t,e,s){const n=Xe(s,e);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function q_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function Z_(t,e,s){return!Xe(s,e)}function K_(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&n.tagName==="tr"}function Kc(t,e,s){const n=Xe(s,e);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const J_=Hh({body:eb,colgroup:tb,head:Q_,html:Y_,tbody:sb});function Y_(t){const e=Xe(t,-1);return!e||e.type!=="comment"}function Q_(t){const e=new Set;for(const n of t.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(e.has(n.tagName))return!1;e.add(n.tagName)}const s=t.children[0];return!s||s.type==="element"}function eb(t){const e=Xe(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Ya(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function tb(t,e,s){const n=jh(s,e),r=Xe(t,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&Qa(n,s.children.indexOf(n),s)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function sb(t,e,s){const n=jh(s,e),r=Xe(t,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&Qa(n,s.children.indexOf(n),s)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const Gr={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function nb(t,e,s,n){const r=n.schema,o=r.space==="svg"?!1:n.settings.omitOptionalTags;let i=r.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;r.space==="html"&&t.tagName==="svg"&&(n.schema=Bh);const c=rb(n,t.properties),d=n.all(r.space==="html"&&t.tagName==="template"?t.content:t);return n.schema=r,d&&(i=!1),(c||!o||!J_(t,e,s))&&(a.push("<",t.tagName,c?" "+c:""),i&&(r.space==="svg"||n.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(d),!i&&(!o||!Qa(t,e,s))&&a.push("</"+t.tagName+">"),a.join("")}function rb(t,e){const s=[];let n=-1,r;if(e){for(r in e)if(e[r]!==null&&e[r]!==void 0){const o=ob(t,r,e[r]);o&&s.push(o)}}for(;++n<s.length;){const o=t.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&o!=='"'&&o!=="'"&&(s[n]+=" ")}return s.join("")}function ob(t,e,s){const n=l_(t.schema,e),r=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,o=t.settings.allowDangerousCharacters?0:1;let i=t.quote,a;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean)&&(typeof s!="string"||s===n.attribute||s==="")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const l=gn(n.attribute,Object.assign({},t.settings.characterReferences,{subset:Gr.name[r][o]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?D_:M_)(s,{padLeft:!t.settings.tightCommaSeparatedLists}):String(s),t.settings.collapseEmptyAttributes&&!s)?l:(t.settings.preferUnquoted&&(a=gn(s,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Gr.unquoted[r][o]}))),a!==s&&(t.settings.quoteSmart&&Xc(s,i)>Xc(s,t.alternative)&&(i=t.alternative),a=i+gn(s,Object.assign({},t.settings.characterReferences,{subset:(i==="'"?Gr.single:Gr.double)[r][o],attribute:!0}))+i),l+(a&&"="+a))}const ib=["<","&"];function Wh(t,e,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?t.value:gn(t.value,Object.assign({},n.settings.characterReferences,{subset:ib}))}function ab(t,e,s,n){return n.settings.allowDangerousHtml?t.value:Wh(t,e,s,n)}function lb(t,e,s,n){return n.all(t)}const cb=h_("type",{invalid:db,unknown:ub,handlers:{comment:R_,doctype:P_,element:nb,raw:ab,root:lb,text:Wh}});function db(t){throw new Error("Expected node, not `"+t+"`")}function ub(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const hb={},fb={},pb=[];function mb(t,e){const s=e||hb,n=s.quote||'"',r=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:gb,all:yb,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||s_,characterReferences:s.characterReferences||fb,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?Bh:u_,quote:n,alternative:r}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function gb(t,e,s){return cb(t,e,s,this)}function yb(t){const e=[],s=t&&t.children||pb;let n=-1;for(;++n<s.length;)e[n]=this.one(s[n],n,t);return e.join("")}function vo(t,e){const s=typeof t=="string"?{}:{...t.colorReplacements},n=typeof t=="string"?t:t.name;for(const[r,o]of Object.entries(e?.colorReplacements||{}))typeof o=="string"?s[r]=o:r===n&&Object.assign(s,o);return s}function Es(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function _b(t){return Array.isArray(t)?t:[t]}async function Xh(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function el(t){return!t||["plaintext","txt","text","plain"].includes(t)}function qh(t){return t==="ansi"||el(t)}function tl(t){return t==="none"}function Zh(t){return tl(t)}function Kh(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const s=Array.isArray(e)?e:e.split(/\s+/g);for(const n of s)n&&!t.properties.class.includes(n)&&t.properties.class.push(n);return t}function Yo(t,e=!1){const s=t.split(/(\r?\n)/g);let n=0;const r=[];for(let o=0;o<s.length;o+=2){const i=e?s[o]+(s[o+1]||""):s[o];r.push([i,n]),n+=s[o].length,n+=s[o+1]?.length||0}return r}function bb(t){const e=Yo(t,!0).map(([r])=>r);function s(r){if(r===t.length)return{line:e.length-1,character:e[e.length-1].length};let o=r,i=0;for(const a of e){if(o<a.length)break;o-=a.length,i++}return{line:i,character:o}}function n(r,o){let i=0;for(let a=0;a<r;a++)i+=e[a].length;return i+=o,i}return{lines:e,indexToPos:s,posToIndex:n}}const sl="light-dark()",vb=["color","background-color"];function xb(t,e){let s=0;const n=[];for(const r of e)r>s&&n.push({...t,content:t.content.slice(s,r),offset:t.offset+s}),s=r;return s<t.content.length&&n.push({...t,content:t.content.slice(s),offset:t.offset+s}),n}function wb(t,e){const s=Array.from(e instanceof Set?e:new Set(e)).sort((n,r)=>n-r);return s.length?t.map(n=>n.flatMap(r=>{const o=s.filter(i=>r.offset<i&&i<r.offset+r.content.length).map(i=>i-r.offset).sort((i,a)=>i-a);return o.length?xb(r,o):r})):t}function kb(t,e,s,n,r="css-vars"){const o={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(d=>xo(t.variants[d])),a=new Set(i.flatMap(d=>Object.keys(d))),l={},c=(d,u)=>{const f=u==="color"?"":u==="background-color"?"-bg":`-${u}`;return s+e[d]+(u==="color"?"":f)};return i.forEach((d,u)=>{for(const f of a){const p=d[f]||"inherit";if(u===0&&n&&vb.includes(f))if(n===sl&&i.length>1){const y=e.findIndex(w=>w==="light"),_=e.findIndex(w=>w==="dark");if(y===-1||_===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const x=i[y][f]||"inherit",v=i[_][f]||"inherit";l[f]=`light-dark(${x}, ${v})`,r==="css-vars"&&(l[c(u,f)]=p)}else l[f]=p;else r==="css-vars"&&(l[c(u,f)]=p)}}),o.htmlStyle=l,o}function xo(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&it.Italic&&(e["font-style"]="italic"),t.fontStyle&it.Bold&&(e["font-weight"]="bold");const s=[];t.fontStyle&it.Underline&&s.push("underline"),t.fontStyle&it.Strikethrough&&s.push("line-through"),s.length&&(e["text-decoration"]=s.join(" "))}return e}function ba(t){return typeof t=="string"?t:Object.entries(t).map(([e,s])=>`${e}:${s}`).join(";")}const Jh=new WeakMap;function Qo(t,e){Jh.set(t,e)}function pr(t){return Jh.get(t)}class Tn{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,s){return new Tn(Object.fromEntries(_b(s).map(n=>[n,pa])),e)}constructor(...e){if(e.length===2){const[s,n]=e;this.lang=n,this._stacks=s}else{const[s,n,r]=e;this.lang=n,this._stacks={[r]:s}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return Ab(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function Ab(t){const e=[],s=new Set;function n(r){if(s.has(r))return;s.add(r);const o=r?.nameScopesList?.scopeName;o&&e.push(o),r.parent&&n(r.parent)}return n(t),e}function Cb(t,e){if(!(t instanceof Tn))throw new Ue("Invalid grammar state");return t.getInternalStack(e)}function Sb(){const t=new WeakMap;function e(s){if(!t.has(s.meta)){let n=function(i){if(typeof i=="number"){if(i<0||i>s.source.length)throw new Ue(`Invalid decoration offset: ${i}. Code length: ${s.source.length}`);return{...r.indexToPos(i),offset:i}}else{const a=r.lines[i.line];if(a===void 0)throw new Ue(`Invalid decoration position ${JSON.stringify(i)}. Lines length: ${r.lines.length}`);let l=i.character;if(l<0&&(l=a.length+l),l<0||l>a.length)throw new Ue(`Invalid decoration position ${JSON.stringify(i)}. Line ${i.line} length: ${a.length}`);return{...i,character:l,offset:r.posToIndex(i.line,l)}}};const r=bb(s.source),o=(s.options.decorations||[]).map(i=>({...i,start:n(i.start),end:n(i.end)}));Eb(o),t.set(s.meta,{decorations:o,converter:r,source:s.source})}return t.get(s.meta)}return{name:"shiki:decorations",tokens(s){if(!this.options.decorations?.length)return;const r=e(this).decorations.flatMap(i=>[i.start.offset,i.end.offset]);return wb(s,r)},code(s){if(!this.options.decorations?.length)return;const n=e(this),r=Array.from(s.children).filter(d=>d.type==="element"&&d.tagName==="span");if(r.length!==n.converter.lines.length)throw new Ue(`Number of lines in code element (${r.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function o(d,u,f,p){const y=r[d];let _="",x=-1,v=-1;if(u===0&&(x=0),f===0&&(v=0),f===Number.POSITIVE_INFINITY&&(v=y.children.length),x===-1||v===-1)for(let E=0;E<y.children.length;E++)_+=Yh(y.children[E]),x===-1&&_.length===u&&(x=E+1),v===-1&&_.length===f&&(v=E+1);if(x===-1)throw new Ue(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(v===-1)throw new Ue(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const w=y.children.slice(x,v);if(!p.alwaysWrap&&w.length===y.children.length)a(y,p,"line");else if(!p.alwaysWrap&&w.length===1&&w[0].type==="element")a(w[0],p,"token");else{const E={type:"element",tagName:"span",properties:{},children:w};a(E,p,"wrapper"),y.children.splice(x,w.length,E)}}function i(d,u){r[d]=a(r[d],u,"line")}function a(d,u,f){const p=u.properties||{},y=u.transform||(_=>_);return d.tagName=u.tagName||"span",d.properties={...d.properties,...p,class:d.properties.class},u.properties?.class&&Kh(d,u.properties.class),d=y(d,f)||d,d}const l=[],c=n.decorations.sort((d,u)=>u.start.offset-d.start.offset||d.end.offset-u.end.offset);for(const d of c){const{start:u,end:f}=d;if(u.line===f.line)o(u.line,u.character,f.character,d);else if(u.line<f.line){o(u.line,u.character,Number.POSITIVE_INFINITY,d);for(let p=u.line+1;p<f.line;p++)l.unshift(()=>i(p,d));o(f.line,0,f.character,d)}}l.forEach(d=>d())}}}function Eb(t){for(let e=0;e<t.length;e++){const s=t[e];if(s.start.offset>s.end.offset)throw new Ue(`Invalid decoration range: ${JSON.stringify(s.start)} - ${JSON.stringify(s.end)}`);for(let n=e+1;n<t.length;n++){const r=t[n],o=s.start.offset<=r.start.offset&&r.start.offset<s.end.offset,i=s.start.offset<r.end.offset&&r.end.offset<=s.end.offset,a=r.start.offset<=s.start.offset&&s.start.offset<r.end.offset,l=r.start.offset<s.end.offset&&s.end.offset<=r.end.offset;if(o||i||a||l){if(o&&i||a&&l||a&&s.start.offset===s.end.offset||i&&r.start.offset===r.end.offset)continue;throw new Ue(`Decorations ${JSON.stringify(s.start)} and ${JSON.stringify(r.start)} intersect.`)}}}}function Yh(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Yh).join(""):""}const Nb=[Sb()];function wo(t){const e=Ib(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...Nb]}function Ib(t){const e=[],s=[],n=[];for(const r of t)switch(r.enforce){case"pre":e.push(r);break;case"post":s.push(r);break;default:n.push(r)}return{pre:e,post:s,normal:n}}var Us=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Ri={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Tb(t,e){const s=t.indexOf("\x1B",e);if(s!==-1&&t[s+1]==="["){const n=t.indexOf("m",s);if(n!==-1)return{sequence:t.substring(s+2,n).split(";"),startPosition:s,position:n+1}}return{position:t.length}}function Jc(t){const e=t.shift();if(e==="2"){const s=t.splice(0,3).map(n=>Number.parseInt(n));return s.length!==3||s.some(n=>Number.isNaN(n))?void 0:{type:"rgb",rgb:s}}else if(e==="5"){const s=t.shift();if(s)return{type:"table",index:Number(s)}}}function Lb(t){const e=[];for(;t.length>0;){const s=t.shift();if(!s)continue;const n=Number.parseInt(s);if(!Number.isNaN(n))if(n===0)e.push({type:"resetAll"});else if(n<=9)Ri[n]&&e.push({type:"setDecoration",value:Ri[n]});else if(n<=29){const r=Ri[n-20];r&&(e.push({type:"resetDecoration",value:r}),r==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Us[n-30]}});else if(n===38){const r=Jc(t);r&&e.push({type:"setForegroundColor",value:r})}else if(n===39)e.push({type:"resetForegroundColor"});else if(n<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Us[n-40]}});else if(n===48){const r=Jc(t);r&&e.push({type:"setBackgroundColor",value:r})}else n===49?e.push({type:"resetBackgroundColor"}):n===53?e.push({type:"setDecoration",value:"overline"}):n===55?e.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Us[n-90+8]}}):n>=100&&n<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Us[n-100+8]}})}return e}function Rb(){let t=null,e=null,s=new Set;return{parse(n){const r=[];let o=0;do{const i=Tb(n,o),a=i.sequence?n.substring(o,i.startPosition):n.substring(o);if(a.length>0&&r.push({value:a,foreground:t,background:e,decorations:new Set(s)}),i.sequence){const l=Lb(i.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,s.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&s.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&s.add(c.value)}o=i.position}while(o<n.length);return r}}}var Pb={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Db(t=Pb){function e(a){return t[a]}function s(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let n;function r(){if(n)return n;n=[];for(let c=0;c<Us.length;c++)n.push(e(Us[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let d=0;d<6;d++)for(let u=0;u<6;u++)n.push(s([a[c],a[d],a[u]]));let l=8;for(let c=0;c<24;c++,l+=10)n.push(s([l,l,l]));return n}function o(a){return r()[a]}function i(a){switch(a.type){case"named":return e(a.name);case"rgb":return s(a.rgb);case"table":return o(a.index)}}return{value:i}}const Mb={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function Ob(t,e,s){const n=vo(t,s),r=Yo(e),o=Object.fromEntries(Us.map(l=>{const c=`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`,d=t.colors?.[c];return[l,d||Mb[l]]})),i=Db(o),a=Rb();return r.map(l=>a.parse(l[0]).map(c=>{let d,u;c.decorations.has("reverse")?(d=c.background?i.value(c.background):t.bg,u=c.foreground?i.value(c.foreground):t.fg):(d=c.foreground?i.value(c.foreground):t.fg,u=c.background?i.value(c.background):void 0),d=Es(d,n),u=Es(u,n),c.decorations.has("dim")&&(d=Gb(d));let f=it.None;return c.decorations.has("bold")&&(f|=it.Bold),c.decorations.has("italic")&&(f|=it.Italic),c.decorations.has("underline")&&(f|=it.Underline),c.decorations.has("strikethrough")&&(f|=it.Strikethrough),{content:c.value,offset:l[1],color:d,bgColor:u,fontStyle:f}}))}function Gb(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(e)if(e[3]){const n=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${n}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(n=>`${n}${n}`).join("")}80`;const s=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return s?`var(${s[1]}-dim)`:t}function nl(t,e,s={}){const{lang:n="text",theme:r=t.getLoadedThemes()[0]}=s;if(el(n)||tl(r))return Yo(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:o,colorMap:i}=t.setTheme(r);if(n==="ansi")return Ob(o,e,s);const a=t.getLanguage(n);if(s.grammarState){if(s.grammarState.lang!==a.name)throw new Ue(`Grammar state language "${s.grammarState.lang}" does not match highlight language "${a.name}"`);if(!s.grammarState.themes.includes(o.name))throw new Ue(`Grammar state themes "${s.grammarState.themes}" do not contain highlight theme "${o.name}"`)}return Vb(e,a,o,i,s)}function Fb(...t){if(t.length===2)return pr(t[1]);const[e,s,n={}]=t,{lang:r="text",theme:o=e.getLoadedThemes()[0]}=n;if(el(r)||tl(o))throw new Ue("Plain language does not have grammar state");if(r==="ansi")throw new Ue("ANSI language does not have grammar state");const{theme:i,colorMap:a}=e.setTheme(o),l=e.getLanguage(r);return new Tn(ko(s,l,i,a,n).stateStack,l.name,i.name)}function Vb(t,e,s,n,r){const o=ko(t,e,s,n,r),i=new Tn(ko(t,e,s,n,r).stateStack,e.name,s.name);return Qo(o.tokens,i),o.tokens}function ko(t,e,s,n,r){const o=vo(s,r),{tokenizeMaxLineLength:i=0,tokenizeTimeLimit:a=500}=r,l=Yo(t);let c=r.grammarState?Cb(r.grammarState,s.name)??pa:r.grammarContextCode!=null?ko(r.grammarContextCode,e,s,n,{...r,grammarState:void 0,grammarContextCode:void 0}).stateStack:pa,d=[];const u=[];for(let f=0,p=l.length;f<p;f++){const[y,_]=l[f];if(y===""){d=[],u.push([]);continue}if(i>0&&y.length>=i){d=[],u.push([{content:y,offset:_,color:"",fontStyle:0}]);continue}let x,v,w;r.includeExplanation&&(x=e.tokenizeLine(y,c,a),v=x.tokens,w=0);const E=e.tokenizeLine2(y,c,a),A=E.tokens.length/2;for(let L=0;L<A;L++){const z=E.tokens[2*L],j=L+1<A?E.tokens[2*L+2]:y.length;if(z===j)continue;const ee=E.tokens[2*L+1],W=Es(n[An.getForeground(ee)],o),Z=An.getFontStyle(ee),U={content:y.substring(z,j),offset:_+z,color:W,fontStyle:Z};if(r.includeExplanation){const R=[];if(r.includeExplanation!=="scopeName")for(const S of s.settings){let M;switch(typeof S.scope){case"string":M=S.scope.split(/,/).map(T=>T.trim());break;case"object":M=S.scope;break;default:continue}R.push({settings:S,selectors:M.map(T=>T.split(/ /))})}U.explanation=[];let G=0;for(;z+G<j;){const S=v[w],M=y.substring(S.startIndex,S.endIndex);G+=M.length,U.explanation.push({content:M,scopes:r.includeExplanation==="scopeName"?$b(S.scopes):Bb(R,S.scopes)}),w+=1}}d.push(U)}u.push(d),d=[],c=E.ruleStack}return{tokens:u,stateStack:c}}function $b(t){return t.map(e=>({scopeName:e}))}function Bb(t,e){const s=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];s[n]={scopeName:o,themeMatches:jb(t,o,e.slice(0,n))}}return s}function Yc(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function zb(t,e,s){if(!Yc(t[t.length-1],e))return!1;let n=t.length-2,r=s.length-1;for(;n>=0&&r>=0;)Yc(t[n],s[r])&&(n-=1),r-=1;return n===-1}function jb(t,e,s){const n=[];for(const{selectors:r,settings:o}of t)for(const i of r)if(zb(i,e,s)){n.push(o);break}return n}function Qh(t,e,s){const n=Object.entries(s.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),r=n.map(l=>{const c=nl(t,e,{...s,theme:l.theme}),d=pr(c),u=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:d,theme:u}}),o=Ub(...r.map(l=>l.tokens)),i=o[0].map((l,c)=>l.map((d,u)=>{const f={content:d.content,variants:{},offset:d.offset};return"includeExplanation"in s&&s.includeExplanation&&(f.explanation=d.explanation),o.forEach((p,y)=>{const{content:_,explanation:x,offset:v,...w}=p[c][u];f.variants[n[y].color]=w}),f})),a=r[0].state?new Tn(Object.fromEntries(r.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),r[0].state.lang):void 0;return a&&Qo(i,a),i}function Ub(...t){const e=t.map(()=>[]),s=t.length;for(let n=0;n<t[0].length;n++){const r=t.map(l=>l[n]),o=e.map(()=>[]);e.forEach((l,c)=>l.push(o[c]));const i=r.map(()=>0),a=r.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<s;c++){const d=a[c];d.content.length===l?(o[c].push(d),i[c]+=1,a[c]=r[c][i[c]]):(o[c].push({...d,content:d.content.slice(0,l)}),a[c]={...d,content:d.content.slice(l),offset:d.offset+l})}}}return e}function Ao(t,e,s){let n,r,o,i,a,l;if("themes"in s){const{defaultColor:c="light",cssVariablePrefix:d="--shiki-",colorsRendering:u="css-vars"}=s,f=Object.entries(s.themes).filter(v=>v[1]).map(v=>({color:v[0],theme:v[1]})).sort((v,w)=>v.color===c?-1:w.color===c?1:0);if(f.length===0)throw new Ue("`themes` option must not be empty");const p=Qh(t,e,s);if(l=pr(p),c&&sl!==c&&!f.find(v=>v.color===c))throw new Ue(`\`themes\` option must contain the defaultColor key \`${c}\``);const y=f.map(v=>t.getTheme(v.theme)),_=f.map(v=>v.color);o=p.map(v=>v.map(w=>kb(w,_,d,c,u))),l&&Qo(o,l);const x=f.map(v=>vo(v.theme,s));r=Qc(f,y,x,d,c,"fg",u),n=Qc(f,y,x,d,c,"bg",u),i=`shiki-themes ${y.map(v=>v.name).join(" ")}`,a=c?void 0:[r,n].join(";")}else if("theme"in s){const c=vo(s.theme,s);o=nl(t,e,s);const d=t.getTheme(s.theme);n=Es(d.bg,c),r=Es(d.fg,c),i=d.name,l=pr(o)}else throw new Ue("Invalid options, either `theme` or `themes` must be provided");return{tokens:o,fg:r,bg:n,themeName:i,rootStyle:a,grammarState:l}}function Qc(t,e,s,n,r,o,i){return t.map((a,l)=>{const c=Es(e[l][o],s[l])||"inherit",d=`${n+a.color}${o==="bg"?"-bg":""}:${c}`;if(l===0&&r){if(r===sl&&t.length>1){const u=t.findIndex(_=>_.color==="light"),f=t.findIndex(_=>_.color==="dark");if(u===-1||f===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const p=Es(e[u][o],s[u])||"inherit",y=Es(e[f][o],s[f])||"inherit";return`light-dark(${p}, ${y});${d}`}return c}return i==="css-vars"?d:null}).filter(a=>!!a).join(";")}function Co(t,e,s,n={meta:{},options:s,codeToHast:(r,o)=>Co(t,r,o),codeToTokens:(r,o)=>Ao(t,r,o)}){let r=e;for(const y of wo(s))r=y.preprocess?.call(n,r,s)||r;let{tokens:o,fg:i,bg:a,themeName:l,rootStyle:c,grammarState:d}=Ao(t,r,s);const{mergeWhitespaces:u=!0,mergeSameStyleTokens:f=!1}=s;u===!0?o=Wb(o):u==="never"&&(o=Xb(o)),f&&(o=qb(o));const p={...n,get source(){return r}};for(const y of wo(s))o=y.tokens?.call(p,o)||o;return Hb(o,{...s,fg:i,bg:a,themeName:l,rootStyle:c},p,d)}function Hb(t,e,s,n=pr(t)){const r=wo(e),o=[],i={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([y])=>!y.startsWith("_")))},children:[]},d={type:"element",tagName:"code",properties:{},children:o};const u=[],f={...s,structure:a,addClassToHast:Kh,get source(){return s.source},get tokens(){return t},get options(){return e},get root(){return i},get pre(){return c},get code(){return d},get lines(){return u}};if(t.forEach((y,_)=>{_&&(a==="inline"?i.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&o.push({type:"text",value:`
`}));let x={type:"element",tagName:"span",properties:{class:"line"},children:[]},v=0;for(const w of y){let E={type:"element",tagName:"span",properties:{...w.htmlAttrs},children:[{type:"text",value:w.content}]};const A=ba(w.htmlStyle||xo(w));A&&(E.properties.style=A);for(const L of r)E=L?.span?.call(f,E,_+1,v,x,w)||E;a==="inline"?i.children.push(E):a==="classic"&&x.children.push(E),v+=w.content.length}if(a==="classic"){for(const w of r)x=w?.line?.call(f,x,_+1)||x;u.push(x),o.push(x)}}),a==="classic"){for(const y of r)d=y?.code?.call(f,d)||d;c.children.push(d);for(const y of r)c=y?.pre?.call(f,c)||c;i.children.push(c)}let p=i;for(const y of r)p=y?.root?.call(f,p)||p;return n&&Qo(p,n),p}function Wb(t){return t.map(e=>{const s=[];let n="",r=0;return e.forEach((o,i)=>{const l=!(o.fontStyle&&(o.fontStyle&it.Underline||o.fontStyle&it.Strikethrough));l&&o.content.match(/^\s+$/)&&e[i+1]?(r||(r=o.offset),n+=o.content):n?(l?s.push({...o,offset:r,content:n+o.content}):s.push({content:n,offset:r},o),r=0,n=""):s.push(o)}),s})}function Xb(t){return t.map(e=>e.flatMap(s=>{if(s.content.match(/^\s+$/))return s;const n=s.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return s;const[,r,o,i]=n;if(!r&&!i)return s;const a=[{...s,offset:s.offset+r.length,content:o}];return r&&a.unshift({content:r,offset:s.offset}),i&&a.push({content:i,offset:s.offset+r.length+o.length}),a}))}function qb(t){return t.map(e=>{const s=[];for(const n of e){if(s.length===0){s.push({...n});continue}const r=s[s.length-1],o=ba(r.htmlStyle||xo(r)),i=ba(n.htmlStyle||xo(n)),a=r.fontStyle&&(r.fontStyle&it.Underline||r.fontStyle&it.Strikethrough),l=n.fontStyle&&(n.fontStyle&it.Underline||n.fontStyle&it.Strikethrough);!a&&!l&&o===i?r.content+=n.content:s.push({...n})}return s})}const Zb=mb;function Kb(t,e,s){const n={meta:{},options:s,codeToHast:(o,i)=>Co(t,o,i),codeToTokens:(o,i)=>Ao(t,o,i)};let r=Zb(Co(t,e,s,n));for(const o of wo(s))r=o.postprocess?.call(n,r,s)||r;return r}const ed={light:"#333333",dark:"#bbbbbb"},td={light:"#fffffe",dark:"#1e1e1e"},sd="__shiki_resolved";function rl(t){if(t?.[sd])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:s,fg:n}=e;if(!s||!n){const a=e.settings?e.settings.find(l=>!l.name&&!l.scope):void 0;a?.settings?.foreground&&(n=a.settings.foreground),a?.settings?.background&&(s=a.settings.background),!n&&e?.colors?.["editor.foreground"]&&(n=e.colors["editor.foreground"]),!s&&e?.colors?.["editor.background"]&&(s=e.colors["editor.background"]),n||(n=e.type==="light"?ed.light:ed.dark),s||(s=e.type==="light"?td.light:td.dark),e.fg=n,e.bg=s}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let r=0;const o=new Map;function i(a){if(o.has(a))return o.get(a);r+=1;const l=`#${r.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${l}`]?i(a):(o.set(a,l),l)}e.settings=e.settings.map(a=>{const l=a.settings?.foreground&&!a.settings.foreground.startsWith("#"),c=a.settings?.background&&!a.settings.background.startsWith("#");if(!l&&!c)return a;const d={...a,settings:{...a.settings}};if(l){const u=i(a.settings.foreground);e.colorReplacements[u]=a.settings.foreground,d.settings.foreground=u}if(c){const u=i(a.settings.background);e.colorReplacements[u]=a.settings.background,d.settings.background=u}return d});for(const a of Object.keys(e.colors||{}))if((a==="editor.foreground"||a==="editor.background"||a.startsWith("terminal.ansi"))&&!e.colors[a]?.startsWith("#")){const l=i(e.colors[a]);e.colorReplacements[l]=e.colors[a],e.colors[a]=l}return Object.defineProperty(e,sd,{enumerable:!1,writable:!1,value:!0}),e}async function ef(t){return Array.from(new Set((await Promise.all(t.filter(e=>!qh(e)).map(async e=>await Xh(e).then(s=>Array.isArray(s)?s:[s])))).flat()))}async function tf(t){return(await Promise.all(t.map(async s=>Zh(s)?null:rl(await Xh(s))))).filter(s=>!!s)}let Jb=3;function Yb(t,e=3){e>Jb||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let on=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class Qb extends t_{constructor(e,s,n,r={}){super(e),this._resolver=e,this._themes=s,this._langs=n,this._alias=r,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const s=rl(e);return s.name&&(this._resolvedThemes.set(s.name,s),this._loadedThemesCache=null),s}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let s=this._textmateThemeCache.get(e);s||(s=mo.createFromRawTheme(e),this._textmateThemeCache.set(e,s)),this._syncRegistry.setTheme(s)}getGrammar(e){if(this._alias[e]){const s=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],s.has(e))throw new on(`Circular alias \`${Array.from(s).join(" -> ")} -> ${e}\``);s.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const s=new Set([...this._langMap.values()].filter(o=>o.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const n={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const r=this.loadGrammarWithConfiguration(e.scopeName,1,n);if(r.name=e.name,this._resolvedGrammars.set(e.name,r),e.aliases&&e.aliases.forEach(o=>{this._alias[o]=e.name}),this._loadedLanguagesCache=null,s.size)for(const o of s)this._resolvedGrammars.delete(o.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(o.scopeName),this._syncRegistry?._grammars?.delete(o.scopeName),this.loadLanguage(this._langMap.get(o.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const r of e)this.resolveEmbeddedLanguages(r);const s=Array.from(this._langGraph.entries()),n=s.filter(([r,o])=>!o);if(n.length){const r=s.filter(([o,i])=>i&&i.embeddedLangs?.some(a=>n.map(([l])=>l).includes(a))).filter(o=>!n.includes(o));throw new on(`Missing languages ${n.map(([o])=>`\`${o}\``).join(", ")}, required by ${r.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[r,o]of s)this._resolver.addLanguage(o);for(const[r,o]of s)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const s of e.embeddedLangs)this._langGraph.set(s,this._langMap.get(s))}}class ev{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,s){this._onigLib={createOnigScanner:n=>e.createScanner(n),createOnigString:n=>e.createString(n)},s.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(s=>{this._langs.set(s,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(s=>{this._injections.get(s)||this._injections.set(s,[]),this._injections.get(s).push(e.scopeName)})}getInjections(e){const s=e.split(".");let n=[];for(let r=1;r<=s.length;r++){const o=s.slice(0,r).join(".");n=[...n,...this._injections.get(o)||[]]}return n}}let Vn=0;function tv(t){Vn+=1,t.warnings!==!1&&Vn>=10&&Vn%10===0&&console.warn(`[Shiki] ${Vn} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new on("`engine` option is required for synchronous mode");const s=(t.langs||[]).flat(1),n=(t.themes||[]).flat(1).map(rl),r=new ev(t.engine,s),o=new Qb(r,n,s,t.langAlias);let i;function a(w){x();const E=o.getGrammar(typeof w=="string"?w:w.name);if(!E)throw new on(`Language \`${w}\` not found, you may need to load it first`);return E}function l(w){if(w==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};x();const E=o.getTheme(w);if(!E)throw new on(`Theme \`${w}\` not found, you may need to load it first`);return E}function c(w){x();const E=l(w);i!==w&&(o.setTheme(E),i=w);const A=o.getColorMap();return{theme:E,colorMap:A}}function d(){return x(),o.getLoadedThemes()}function u(){return x(),o.getLoadedLanguages()}function f(...w){x(),o.loadLanguages(w.flat(1))}async function p(...w){return f(await ef(w))}function y(...w){x();for(const E of w.flat(1))o.loadTheme(E)}async function _(...w){return x(),y(await tf(w))}function x(){if(e)throw new on("Shiki instance has been disposed")}function v(){e||(e=!0,o.dispose(),Vn-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:d,getLoadedLanguages:u,loadLanguage:p,loadLanguageSync:f,loadTheme:_,loadThemeSync:y,dispose:v,[Symbol.dispose]:v}}async function sv(t){t.engine||Yb("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,s,n]=await Promise.all([tf(t.themes||[]),ef(t.langs||[]),t.engine]);return tv({...t,themes:e,langs:s,engine:n})}async function nv(t){const e=await sv(t);return{getLastGrammarState:(...s)=>Fb(e,...s),codeToTokensBase:(s,n)=>nl(e,s,n),codeToTokensWithThemes:(s,n)=>Qh(e,s,n),codeToTokens:(s,n)=>Ao(e,s,n),codeToHast:(s,n)=>Co(e,s,n),codeToHtml:(s,n)=>Kb(e,s,n),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function rv(t){const e=t.langs,s=t.themes,n=t.engine;async function r(o){function i(u){if(typeof u=="string"){if(qh(u))return[];u=o.langAlias?.[u]||u;const f=e[u];if(!f)throw new Ue(`Language \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}function a(u){if(Zh(u))return"none";if(typeof u=="string"){const f=s[u];if(!f)throw new Ue(`Theme \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}const l=(o.themes??[]).map(u=>a(u)),c=(o.langs??[]).map(u=>i(u)),d=await nv({engine:o.engine??n(),...o,themes:l,langs:c});return{...d,loadLanguage(...u){return d.loadLanguage(...u.map(i))},loadTheme(...u){return d.loadTheme(...u.map(a))},getBundledLanguages(){return e},getBundledThemes(){return s}}}return r}const sf=[{id:"abap",name:"ABAP",import:(()=>b(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>b(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>b(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>b(()=>import("./angular-html-CU67Zn6k.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>b(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>b(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>b(()=>import("./apex-DhZLUxFE.js"),[]))},{id:"apl",name:"APL",import:(()=>b(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>b(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>b(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>b(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>b(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>b(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>b(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>b(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>b(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>b(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>b(()=>import("./berry-D08WgyRC.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>b(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>b(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>b(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>b(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>b(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>b(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>b(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>b(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>b(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>b(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>b(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>b(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>b(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>b(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>b(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>b(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>b(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>b(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>b(()=>import("./csharp-CX12Zw3r.js"),[]))},{id:"css",name:"CSS",import:(()=>b(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>b(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>b(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>b(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>b(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>b(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>b(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>b(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>b(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>b(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>b(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>b(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>b(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>b(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>b(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>b(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>b(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>b(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>b(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>b(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>b(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>b(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>b(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>b(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>b(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>b(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>b(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>b(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>b(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>b(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>b(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>b(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>b(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>b(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>b(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>b(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>b(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>b(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>b(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>b(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>b(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>b(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>b(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>b(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>b(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>b(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>b(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>b(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>b(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>b(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>b(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>b(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>b(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>b(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>b(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>b(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>b(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>b(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>b(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>b(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>b(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>b(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>b(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>b(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>b(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>b(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>b(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>b(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>b(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>b(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>b(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>b(()=>import("./lean-DP1Csr6i.js"),[]))},{id:"less",name:"Less",import:(()=>b(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>b(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>b(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>b(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>b(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>b(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>b(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>b(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>b(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>b(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>b(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>b(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>b(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>b(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>b(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>b(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>b(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>b(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>b(()=>import("./nextflow-CUEJCptM.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>b(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>b(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>b(()=>import("./nix-BbRYJGeE.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>b(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>b(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>b(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>b(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>b(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>b(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>b(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>b(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>b(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>b(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>b(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>b(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>b(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>b(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>b(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>b(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>b(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>b(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>b(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>b(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>b(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>b(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>b(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>b(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>b(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>b(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>b(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>b(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>b(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>b(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>b(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>b(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>b(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>b(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>b(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>b(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>b(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>b(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>b(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>b(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>b(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>b(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>b(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>b(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>b(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>b(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>b(()=>import("./solidity-BbcW6ACK.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>b(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>b(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>b(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>b(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>b(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>b(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>b(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>b(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>b(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>b(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>b(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>b(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>b(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>b(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>b(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>b(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>b(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>b(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>b(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>b(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>b(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>b(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>b(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>b(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>b(()=>import("./typespec-Df68jz8_.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>b(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>b(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>b(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>b(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>b(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>b(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>b(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>b(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>b(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>b(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>b(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>b(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>b(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>b(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>b(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>b(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>b(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>b(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>b(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>b(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>b(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>b(()=>import("./zig-VOosw3JB.js"),[]))}],ov=Object.fromEntries(sf.map(t=>[t.id,t.import])),iv=Object.fromEntries(sf.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),av={...ov,...iv},lv=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>b(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>b(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>b(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>b(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>b(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>b(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>b(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>b(()=>import("./dark-plus-eOWES_5F.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>b(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>b(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>b(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>b(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>b(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>b(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>b(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>b(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>b(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>b(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>b(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>b(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>b(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>b(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>b(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>b(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>b(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>b(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>b(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>b(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>b(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>b(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>b(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>b(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>b(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>b(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>b(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>b(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>b(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>b(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>b(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>b(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>b(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>b(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>b(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>b(()=>import("./rose-pine-BHrmToEH.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>b(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>b(()=>import("./rose-pine-moon-NleAzG8P.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>b(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>b(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>b(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>b(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>b(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>b(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>b(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>b(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>b(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>b(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>b(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],cv=Object.fromEntries(lv.map(t=>[t.id,t.import]));class ol extends Error{constructor(e){super(e),this.name="ShikiError"}}function dv(){return 2147483648}function uv(){return typeof performance<"u"?performance.now():Date.now()}const hv=(t,e)=>t+(e-t%e)%e;async function fv(t){let e,s;const n={};function r(p){s=p,n.HEAPU8=new Uint8Array(p),n.HEAPU32=new Uint32Array(p)}function o(p,y,_){n.HEAPU8.copyWithin(p,y,y+_)}function i(p){try{return e.grow(p-s.byteLength+65535>>>16),r(e.buffer),1}catch{}}function a(p){const y=n.HEAPU8.length;p=p>>>0;const _=dv();if(p>_)return!1;for(let x=1;x<=4;x*=2){let v=y*(1+.2/x);v=Math.min(v,p+100663296);const w=Math.min(_,hv(Math.max(p,v),65536));if(i(w))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(p,y,_=1024){const x=y+_;let v=y;for(;p[v]&&!(v>=x);)++v;if(v-y>16&&p.buffer&&l)return l.decode(p.subarray(y,v));let w="";for(;y<v;){let E=p[y++];if(!(E&128)){w+=String.fromCharCode(E);continue}const A=p[y++]&63;if((E&224)===192){w+=String.fromCharCode((E&31)<<6|A);continue}const L=p[y++]&63;if((E&240)===224?E=(E&15)<<12|A<<6|L:E=(E&7)<<18|A<<12|L<<6|p[y++]&63,E<65536)w+=String.fromCharCode(E);else{const z=E-65536;w+=String.fromCharCode(55296|z>>10,56320|z&1023)}}return w}function d(p,y){return p?c(n.HEAPU8,p,y):""}const u={emscripten_get_now:uv,emscripten_memcpy_big:o,emscripten_resize_heap:a,fd_write:()=>0};async function f(){const y=await t({env:u,wasi_snapshot_preview1:u});e=y.memory,r(e.buffer),Object.assign(n,y),n.UTF8ToString=d}return await f(),n}var pv=Object.defineProperty,mv=(t,e,s)=>e in t?pv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,We=(t,e,s)=>mv(t,typeof e!="symbol"?e+"":e,s);let Ze=null;function gv(t){throw new ol(t.UTF8ToString(t.getLastOnigError()))}class ei{constructor(e){We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16Value"),We(this,"utf8Value"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16");const s=e.length,n=ei._utf8ByteLength(e),r=n!==s,o=r?new Uint32Array(s+1):null;r&&(o[s]=n);const i=r?new Uint32Array(n+1):null;r&&(i[n]=s);const a=new Uint8Array(n);let l=0;for(let c=0;c<s;c++){const d=e.charCodeAt(c);let u=d,f=!1;if(d>=55296&&d<=56319&&c+1<s){const p=e.charCodeAt(c+1);p>=56320&&p<=57343&&(u=(d-55296<<10)+65536|p-56320,f=!0)}r&&(o[c]=l,f&&(o[c+1]=l),u<=127?i[l+0]=c:u<=2047?(i[l+0]=c,i[l+1]=c):u<=65535?(i[l+0]=c,i[l+1]=c,i[l+2]=c):(i[l+0]=c,i[l+1]=c,i[l+2]=c,i[l+3]=c)),u<=127?a[l++]=u:u<=2047?(a[l++]=192|(u&1984)>>>6,a[l++]=128|(u&63)>>>0):u<=65535?(a[l++]=224|(u&61440)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0):(a[l++]=240|(u&1835008)>>>18,a[l++]=128|(u&258048)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0),f&&c++}this.utf16Length=s,this.utf8Length=n,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=i}static _utf8ByteLength(e){let s=0;for(let n=0,r=e.length;n<r;n++){const o=e.charCodeAt(n);let i=o,a=!1;if(o>=55296&&o<=56319&&n+1<r){const l=e.charCodeAt(n+1);l>=56320&&l<=57343&&(i=(o-55296<<10)+65536|l-56320,a=!0)}i<=127?s+=1:i<=2047?s+=2:i<=65535?s+=3:s+=4,a&&n++}return s}createString(e){const s=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,s),s}}const ti=class Ut{constructor(e){if(We(this,"id",++Ut.LAST_ID),We(this,"_onigBinding"),We(this,"content"),We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16"),We(this,"ptr"),!Ze)throw new ol("Must invoke loadWasm first.");this._onigBinding=Ze,this.content=e;const s=new ei(e);this.utf16Length=s.utf16Length,this.utf8Length=s.utf8Length,this.utf16OffsetToUtf8=s.utf16OffsetToUtf8,this.utf8OffsetToUtf16=s.utf8OffsetToUtf16,this.utf8Length<1e4&&!Ut._sharedPtrInUse?(Ut._sharedPtr||(Ut._sharedPtr=Ze.omalloc(1e4)),Ut._sharedPtrInUse=!0,Ze.HEAPU8.set(s.utf8Value,Ut._sharedPtr),this.ptr=Ut._sharedPtr):this.ptr=s.createString(Ze)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Ut._sharedPtr?Ut._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};We(ti,"LAST_ID",0);We(ti,"_sharedPtr",0);We(ti,"_sharedPtrInUse",!1);let nf=ti;class yv{constructor(e){if(We(this,"_onigBinding"),We(this,"_ptr"),!Ze)throw new ol("Must invoke loadWasm first.");const s=[],n=[];for(let a=0,l=e.length;a<l;a++){const c=new ei(e[a]);s[a]=c.createString(Ze),n[a]=c.utf8Length}const r=Ze.omalloc(4*e.length);Ze.HEAPU32.set(s,r/4);const o=Ze.omalloc(4*e.length);Ze.HEAPU32.set(n,o/4);const i=Ze.createOnigScanner(r,o,e.length);for(let a=0,l=e.length;a<l;a++)Ze.ofree(s[a]);Ze.ofree(o),Ze.ofree(r),i===0&&gv(Ze),this._onigBinding=Ze,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,s,n){let r=0;if(typeof n=="number"&&(r=n),typeof e=="string"){e=new nf(e);const o=this._findNextMatchSync(e,s,!1,r);return e.dispose(),o}return this._findNextMatchSync(e,s,!1,r)}_findNextMatchSync(e,s,n,r){const o=this._onigBinding,i=o.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(s),r);if(i===0)return null;const a=o.HEAPU32;let l=i/4;const c=a[l++],d=a[l++],u=[];for(let f=0;f<d;f++){const p=e.convertUtf8OffsetToUtf16(a[l++]),y=e.convertUtf8OffsetToUtf16(a[l++]);u[f]={start:p,end:y,length:y-p}}return{index:c,captureIndices:u}}}function _v(t){return typeof t.instantiator=="function"}function bv(t){return typeof t.default=="function"}function vv(t){return typeof t.data<"u"}function xv(t){return typeof Response<"u"&&t instanceof Response}function wv(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Fr;function kv(t){if(Fr)return Fr;async function e(){Ze=await fv(async s=>{let n=t;return n=await n,typeof n=="function"&&(n=await n(s)),typeof n=="function"&&(n=await n(s)),_v(n)?n=await n.instantiator(s):bv(n)?n=await n.default(s):(vv(n)&&(n=n.data),xv(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await Av(n)(s):n=await Cv(n)(s):wv(n)?n=await Pi(n)(s):n instanceof WebAssembly.Module?n=await Pi(n)(s):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await Pi(n.default)(s))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return Fr=e(),Fr}function Pi(t){return e=>WebAssembly.instantiate(t,e)}function Av(t){return e=>WebAssembly.instantiateStreaming(t,e)}function Cv(t){return async e=>{const s=await t.arrayBuffer();return WebAssembly.instantiate(s,e)}}async function Sv(t){return t&&await kv(t),{createScanner(e){return new yv(e.map(s=>typeof s=="string"?s:s.source))},createString(e){return new nf(e)}}}const Ev=rv({langs:av,themes:cv,engine:()=>Sv(b(()=>import("./wasm-CG6Dc4jp.js"),[]))});let Vr=null,Di=null;function Nv(){const t=ae(!1);async function e(){return Vr?(t.value=!0,Vr):(Di||(Di=Ev({themes:["github-dark","github-light"],langs:["javascript","typescript","python","bash","json","css","html"]})),Vr=await Di,t.value=!0,Vr)}async function s(n,r="javascript",o="github-dark"){return(await e()).codeToHtml(n,{lang:r,theme:o})}return Ps(()=>{e()}),{isReady:t,highlight:s,initHighlighter:e}}const Ln=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Iv={class:"code-block-wrapper"},Tv={key:0,class:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4"},Lv=["innerHTML"],Rv={__name:"CodeBlock",props:{code:{type:String,required:!0},language:{type:String,default:"javascript"},customClass:{type:String,default:""}},setup(t){const e=t,{highlight:s}=Nv(),{darkMode:n}=_h(),r=ae(""),o=ae(!0),i=ot(()=>n.value?"github-dark":"github-light");async function a(){o.value=!0;try{r.value=await s(e.code,e.language,i.value)}catch(l){console.error("Failed to highlight code:",l),r.value=`<pre class="bg-gray-900 rounded-lg p-4"><code>${e.code}</code></pre>`}finally{o.value=!1}}return Ct([()=>e.code,()=>e.language,i],a),Ps(a),(l,c)=>(H(),q("div",Iv,[o.value?(H(),q("div",Tv,[...c[0]||(c[0]=[h("div",{class:"animate-pulse"},[h("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),h("div",{class:"h-4 bg-gray-700 rounded w-1/2"})],-1)])])):(H(),q("div",{key:1,innerHTML:r.value,class:bt(["code-block rounded-lg overflow-x-auto",t.customClass])},null,10,Lv))]))}},mt=Ln(Rv,[["__scopeId","data-v-fdf7ed14"]]),Pv={class:"relative"},Dv={class:"relative py-20 px-4"},Mv={class:"max-w-4xl mx-auto text-center"},Ov={class:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent"},Gv={class:"text-xl md:text-2xl text-secondary mb-4"},Fv={class:"text-lg text-secondary mb-8 max-w-2xl mx-auto"},Vv={class:"flex flex-col sm:flex-row gap-4 justify-center"},$v={href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-secondary"},Bv={class:"container-main section py-16"},zv={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},jv={class:"text-4xl mb-4"},Uv={class:"text-xl font-bold mb-2"},Hv={class:"text-secondary"},Wv={class:"container-main section py-16"},Xv={class:"max-w-3xl mx-auto"},qv={class:"card overflow-hidden"},Zv={class:"flex items-center justify-between px-6 py-3 bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]"},Kv={class:"text-secondary font-mono text-sm"},Jv=`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`,Yv={__name:"HomePage",setup(t){const{t:e}=Jt();return(s,n)=>{const r=qi("router-link");return H(),q("div",Pv,[h("div",Dv,[h("div",Mv,[h("h1",Ov,g(m(e)("home.hero.title")),1),h("p",Gv,g(m(e)("home.hero.subtitle")),1),h("p",Fv,g(m(e)("home.hero.description")),1),h("div",Vv,[_e(r,{to:"/showcase",class:"btn-primary"},{default:Be(()=>[xe("  "+g(m(e)("home.hero.cta")),1)]),_:1}),h("a",$v,"  "+g(m(e)("home.hero.github")),1)])])]),h("div",Bv,[h("div",zv,[(H(!0),q(Ge,null,Ss(m(e)("home.features"),(o,i)=>(H(),q("div",{key:i,class:"card p-6 hover:shadow-xl transition-shadow"},[h("div",jv,g(o.icon),1),h("h3",Uv,g(o.title),1),h("p",Hv,g(o.description),1)]))),128))])]),h("div",Wv,[h("div",Xv,[h("div",qv,[h("div",Zv,[h("span",Kv,g(m(e)("home.code.title")),1),n[0]||(n[0]=h("div",{class:"flex gap-2"},[h("div",{class:"w-3 h-3 rounded-full bg-red-500"}),h("div",{class:"w-3 h-3 rounded-full bg-yellow-500"}),h("div",{class:"w-3 h-3 rounded-full bg-green-500"})],-1))]),_e(mt,{code:Jv,language:"javascript"})])])])])}}},Qv={class:"demo-layout"},e1={class:"demo-controls-content"},t1={class:"demo-graph"},s1=["aria-label"],n1={key:0,class:"text-2xl"},r1={key:1,class:"text-2xl"},il={__name:"DemoLayout",setup(t,{expose:e}){const s=ae(!1),n=()=>{s.value=!s.value};return e({toggleControls:n,controlsVisible:s}),(r,o)=>(H(),q("div",Qv,[h("aside",{class:bt(["demo-controls",s.value?"mobile-visible":"mobile-hidden"])},[h("div",e1,[Zi(r.$slots,"controls")])],2),h("main",t1,[Zi(r.$slots,"graph")]),h("button",{onClick:n,class:"demo-controls-toggle lg:hidden","aria-label":s.value?"Close controls":"Open controls"},[s.value?(H(),q("span",r1,"")):(H(),q("span",n1,""))],8,s1)]))}},o1={class:"layout-picker"},i1={class:"space-y-2"},a1={class:"block text-sm font-medium text-secondary"},l1=["value","disabled"],c1=["value"],d1=["disabled"],u1={key:0},h1={key:1},f1={key:0,class:"info-box-yellow mt-3"},p1={class:"text-xs text-yellow-800 dark:text-yellow-200"},m1={__name:"LayoutPicker",props:{modelValue:{type:String,required:!0},availableLayouts:{type:Array,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","apply"],setup(t,{emit:e}){const{t:s}=Jt(),n=t,r=ot(()=>n.availableLayouts.find(o=>o.id===n.modelValue));return(o,i)=>(H(),q("div",o1,[h("div",i1,[h("label",a1,g(m(s)("showcase.layoutPicker.chooseLayout")),1),h("select",{value:t.modelValue,onInput:i[0]||(i[0]=a=>o.$emit("update:modelValue",a.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(H(!0),q(Ge,null,Ss(t.availableLayouts,a=>(H(),q("option",{key:a.id,value:a.id},g(a.name),9,c1))),128))],40,l1)]),h("button",{onClick:i[1]||(i[1]=a=>o.$emit("apply")),disabled:t.disabled||t.loading,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.loading?(H(),q("span",h1,g(m(s)("showcase.layoutPicker.applyingButton")),1)):(H(),q("span",u1,g(m(s)("showcase.layoutPicker.applyButton")),1))],8,d1),t.modelValue!=="none"&&r.value?(H(),q("div",f1,[h("p",p1,[h("strong",null,g(r.value.name)+":",1),xe(" "+g(r.value.description),1)])])):Re("",!0)]))}},al=Ln(m1,[["__scopeId","data-v-49c14ca8"]]),g1={class:"community-picker"},y1={class:"space-y-2"},_1={class:"block text-sm font-medium text-secondary"},b1=["value","disabled"],v1=["value"],x1=["disabled"],w1={key:0},k1={key:1},A1={__name:"CommunityPicker",props:{modelValue:{type:String,required:!0},availableAlgorithms:{type:Array,required:!0},detecting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue","detect"],setup(t,{emit:e}){const{t:s}=Jt();return(n,r)=>(H(),q("div",g1,[h("div",y1,[h("label",_1,g(t.label||m(s)("showcase.communityPicker.chooseAlgorithm")),1),h("select",{value:t.modelValue,onInput:r[0]||(r[0]=o=>n.$emit("update:modelValue",o.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(H(!0),q(Ge,null,Ss(t.availableAlgorithms,o=>(H(),q("option",{key:o.id,value:o.id},g(o.name),9,v1))),128))],40,b1)]),h("button",{onClick:r[1]||(r[1]=o=>n.$emit("detect")),disabled:t.disabled||t.detecting,class:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.detecting?(H(),q("span",k1,g(m(s)("showcase.communityPicker.detectingButton")),1)):(H(),q("span",w1,g(m(s)("showcase.communityPicker.detectButton")),1))],8,x1),Zi(n.$slots,"results",{},void 0,!0)]))}},rf=Ln(A1,[["__scopeId","data-v-1b411c72"]]),C1={class:"network-analysis"},S1={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 space-y-2 mb-3"},E1={class:"text-sm font-semibold text-primary"},N1={class:"space-y-2"},I1={class:"flex items-center gap-2 text-sm"},T1=["checked"],L1={class:"text-secondary"},R1={class:"flex items-center gap-2 text-sm"},P1=["checked"],D1={class:"text-secondary"},M1={class:"flex items-center gap-2 text-sm"},O1=["checked"],G1={class:"text-secondary"},F1={class:"flex items-center gap-2 text-sm"},V1=["checked"],$1={class:"text-secondary"},B1={key:0,class:"flex items-center gap-2 text-sm"},z1=["checked"],j1={class:"text-secondary"},U1={class:"space-y-2 mb-3"},H1={class:"block text-sm font-medium text-secondary"},W1=["value","disabled"],X1={value:""},q1={key:0,value:"degree"},Z1={key:1,value:"betweenness"},K1={key:2,value:"clustering"},J1={key:3,value:"eigenvector"},Y1=["disabled"],Q1={key:0},ex={key:1},tx={key:0,class:"mt-2"},sx={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},nx={class:"text-xs text-secondary mt-1 text-center"},rx={__name:"NetworkAnalysis",props:{selectedMetrics:{type:Array,required:!0},sizeMetric:{type:String,default:""},analyzing:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},progress:{type:Number,default:0},showSpectralMetric:{type:Boolean,default:!1}},emits:["update:selectedMetrics","update:sizeMetric","analyze"],setup(t,{emit:e}){const{t:s}=Jt(),n=t,r=e,o=(i,a)=>{let l=[...n.selectedMetrics];a?l.includes(i)||l.push(i):l=l.filter(c=>c!==i),r("update:selectedMetrics",l)};return(i,a)=>(H(),q("div",C1,[h("div",S1,[h("h3",E1,g(m(s)("showcase.networkAnalysis.metricsTitle")),1),h("div",N1,[h("label",I1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("degree"),onChange:a[0]||(a[0]=l=>o("degree",l.target.checked)),class:"rounded"},null,40,T1),h("span",L1,g(m(s)("showcase.networkAnalysis.degreeCentrality")),1)]),h("label",R1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("betweenness"),onChange:a[1]||(a[1]=l=>o("betweenness",l.target.checked)),class:"rounded"},null,40,P1),h("span",D1,g(m(s)("showcase.networkAnalysis.betweennessCentrality")),1)]),h("label",M1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("clustering"),onChange:a[2]||(a[2]=l=>o("clustering",l.target.checked)),class:"rounded"},null,40,O1),h("span",G1,g(m(s)("showcase.networkAnalysis.clusteringCoefficient")),1)]),h("label",F1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector"),onChange:a[3]||(a[3]=l=>o("eigenvector",l.target.checked)),class:"rounded"},null,40,V1),h("span",$1,g(m(s)("showcase.networkAnalysis.eigenvectorCentrality")),1)]),t.showSpectralMetric?(H(),q("label",B1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector-laplacian"),onChange:a[4]||(a[4]=l=>o("eigenvector-laplacian",l.target.checked)),class:"rounded"},null,40,z1),h("span",j1,g(m(s)("showcase.networkAnalysis.eigenvectorLaplacian")),1)])):Re("",!0)])]),h("div",U1,[h("label",H1,g(m(s)("showcase.networkAnalysis.nodeSizeLabel")),1),h("select",{value:t.sizeMetric,onInput:a[5]||(a[5]=l=>i.$emit("update:sizeMetric",l.target.value)),disabled:t.disabled||t.selectedMetrics.length===0,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[h("option",X1,g(m(s)("showcase.networkAnalysis.selectMetric")),1),t.selectedMetrics.includes("degree")?(H(),q("option",q1,g(m(s)("showcase.networkAnalysis.degreeName")),1)):Re("",!0),t.selectedMetrics.includes("betweenness")?(H(),q("option",Z1,g(m(s)("showcase.networkAnalysis.betweennessName")),1)):Re("",!0),t.selectedMetrics.includes("clustering")?(H(),q("option",K1,g(m(s)("showcase.networkAnalysis.clusteringName")),1)):Re("",!0),t.selectedMetrics.includes("eigenvector")?(H(),q("option",J1,g(m(s)("showcase.networkAnalysis.eigenvectorName")),1)):Re("",!0)],40,W1)]),h("button",{onClick:a[6]||(a[6]=l=>i.$emit("analyze")),disabled:t.disabled||t.analyzing||t.selectedMetrics.length===0,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors"},[t.analyzing?(H(),q("span",ex,g(m(s)("showcase.networkAnalysis.analyzingButton")),1)):(H(),q("span",Q1,g(m(s)("showcase.networkAnalysis.analyzeButton")),1))],8,Y1),t.analyzing&&t.progress>0?(H(),q("div",tx,[h("div",sx,[h("div",{class:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:Bo({width:`${t.progress*100}%`})},null,4)]),h("p",nx,g(Math.round(t.progress*100))+"% ",1)])):Re("",!0)]))}},ll=Ln(rx,[["__scopeId","data-v-44232eba"]]);function Qr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ox(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function of(t){let e,s,n;t.length!==2?(e=Qr,s=(a,l)=>Qr(t(a),l),n=(a,l)=>t(a)-l):(e=t===Qr||t===ox?t:ix,s=t,n=t);function r(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;s(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;s(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function i(a,l,c=0,d=a.length){const u=r(a,l,c,d-1);return u>c&&n(a[u-1],l)>-n(a[u],l)?u-1:u}return{left:r,center:i,right:o}}function ix(){return 0}function ax(t){return t===null?NaN:+t}const lx=of(Qr),cx=lx.right;of(ax).center;class nd extends Map{constructor(e,s=hx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(rd(this,e))}has(e){return super.has(rd(this,e))}set(e,s){return super.set(dx(this,e),s)}delete(e){return super.delete(ux(this,e))}}function rd({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):s}function dx({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):(t.set(n,s),s)}function ux({_intern:t,_key:e},s){const n=e(s);return t.has(n)&&(s=t.get(n),t.delete(n)),s}function hx(t){return t!==null&&typeof t=="object"?t.valueOf():t}const fx=Math.sqrt(50),px=Math.sqrt(10),mx=Math.sqrt(2);function So(t,e,s){const n=(e-t)/Math.max(0,s),r=Math.floor(Math.log10(n)),o=n/Math.pow(10,r),i=o>=fx?10:o>=px?5:o>=mx?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/i,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*i,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=s&&s<2?So(t,e,s*2):[a,l,c]}function gx(t,e,s){if(e=+e,t=+t,s=+s,!(s>0))return[];if(t===e)return[t];const n=e<t,[r,o,i]=n?So(e,t,s):So(t,e,s);if(!(o>=r))return[];const a=o-r+1,l=new Array(a);if(n)if(i<0)for(let c=0;c<a;++c)l[c]=(o-c)/-i;else for(let c=0;c<a;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<a;++c)l[c]=(r+c)/-i;else for(let c=0;c<a;++c)l[c]=(r+c)*i;return l}function va(t,e,s){return e=+e,t=+t,s=+s,So(t,e,s)[2]}function yx(t,e,s){e=+e,t=+t,s=+s;const n=e<t,r=n?va(e,t,s):va(t,e,s);return(n?-1:1)*(r<0?1/-r:r)}var _x={value:()=>{}};function Cr(){for(var t=0,e=arguments.length,s={},n;t<e;++t){if(!(n=arguments[t]+"")||n in s||/[\s.]/.test(n))throw new Error("illegal type: "+n);s[n]=[]}return new eo(s)}function eo(t){this._=t}function bx(t,e){return t.trim().split(/^|\s+/).map(function(s){var n="",r=s.indexOf(".");if(r>=0&&(n=s.slice(r+1),s=s.slice(0,r)),s&&!e.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:n}})}eo.prototype=Cr.prototype={constructor:eo,on:function(t,e){var s=this._,n=bx(t+"",s),r,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((r=(t=n[o]).type)&&(r=vx(s[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(r=(t=n[o]).type)s[r]=od(s[r],t.name,e);else if(e==null)for(r in s)s[r]=od(s[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new eo(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var s=new Array(r),n=0,r,o;n<r;++n)s[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,r=o.length;n<r;++n)o[n].value.apply(e,s)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,o=n.length;r<o;++r)n[r].value.apply(e,s)}};function vx(t,e){for(var s=0,n=t.length,r;s<n;++s)if((r=t[s]).name===e)return r.value}function od(t,e,s){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=_x,t=t.slice(0,n).concat(t.slice(n+1));break}return s!=null&&t.push({name:e,value:s}),t}var xa="http://www.w3.org/1999/xhtml";const id={svg:"http://www.w3.org/2000/svg",xhtml:xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function si(t){var e=t+="",s=e.indexOf(":");return s>=0&&(e=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),id.hasOwnProperty(e)?{space:id[e],local:t}:t}function xx(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===xa&&e.documentElement.namespaceURI===xa?e.createElement(t):e.createElementNS(s,t)}}function wx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function af(t){var e=si(t);return(e.local?wx:xx)(e)}function kx(){}function cl(t){return t==null?kx:function(){return this.querySelector(t)}}function Ax(t){typeof t!="function"&&(t=cl(t));for(var e=this._groups,s=e.length,n=new Array(s),r=0;r<s;++r)for(var o=e[r],i=o.length,a=n[r]=new Array(i),l,c,d=0;d<i;++d)(l=o[d])&&(c=t.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new St(n,this._parents)}function Cx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sx(){return[]}function lf(t){return t==null?Sx:function(){return this.querySelectorAll(t)}}function Ex(t){return function(){return Cx(t.apply(this,arguments))}}function Nx(t){typeof t=="function"?t=Ex(t):t=lf(t);for(var e=this._groups,s=e.length,n=[],r=[],o=0;o<s;++o)for(var i=e[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(n.push(t.call(l,l.__data__,c,i)),r.push(l));return new St(n,r)}function cf(t){return function(){return this.matches(t)}}function df(t){return function(e){return e.matches(t)}}var Ix=Array.prototype.find;function Tx(t){return function(){return Ix.call(this.children,t)}}function Lx(){return this.firstElementChild}function Rx(t){return this.select(t==null?Lx:Tx(typeof t=="function"?t:df(t)))}var Px=Array.prototype.filter;function Dx(){return Array.from(this.children)}function Mx(t){return function(){return Px.call(this.children,t)}}function Ox(t){return this.selectAll(t==null?Dx:Mx(typeof t=="function"?t:df(t)))}function Gx(t){typeof t!="function"&&(t=cf(t));for(var e=this._groups,s=e.length,n=new Array(s),r=0;r<s;++r)for(var o=e[r],i=o.length,a=n[r]=[],l,c=0;c<i;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new St(n,this._parents)}function uf(t){return new Array(t.length)}function Fx(){return new St(this._enter||this._groups.map(uf),this._parents)}function Eo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Eo.prototype={constructor:Eo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vx(t){return function(){return t}}function $x(t,e,s,n,r,o){for(var i=0,a,l=e.length,c=o.length;i<c;++i)(a=e[i])?(a.__data__=o[i],n[i]=a):s[i]=new Eo(t,o[i]);for(;i<l;++i)(a=e[i])&&(r[i]=a)}function Bx(t,e,s,n,r,o,i){var a,l,c=new Map,d=e.length,u=o.length,f=new Array(d),p;for(a=0;a<d;++a)(l=e[a])&&(f[a]=p=i.call(l,l.__data__,a,e)+"",c.has(p)?r[a]=l:c.set(p,l));for(a=0;a<u;++a)p=i.call(t,o[a],a,o)+"",(l=c.get(p))?(n[a]=l,l.__data__=o[a],c.delete(p)):s[a]=new Eo(t,o[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(f[a])===l&&(r[a]=l)}function zx(t){return t.__data__}function jx(t,e){if(!arguments.length)return Array.from(this,zx);var s=e?Bx:$x,n=this._parents,r=this._groups;typeof t!="function"&&(t=Vx(t));for(var o=r.length,i=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var d=n[c],u=r[c],f=u.length,p=Ux(t.call(d,d&&d.__data__,c,n)),y=p.length,_=a[c]=new Array(y),x=i[c]=new Array(y),v=l[c]=new Array(f);s(d,u,_,x,v,p,e);for(var w=0,E=0,A,L;w<y;++w)if(A=_[w]){for(w>=E&&(E=w+1);!(L=x[E])&&++E<y;);A._next=L||null}}return i=new St(i,n),i._enter=a,i._exit=l,i}function Ux(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hx(){return new St(this._exit||this._groups.map(uf),this._parents)}function Wx(t,e,s){var n=this.enter(),r=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),s==null?o.remove():s(o),n&&r?n.merge(r).order():r}function Xx(t){for(var e=t.selection?t.selection():t,s=this._groups,n=e._groups,r=s.length,o=n.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var c=s[l],d=n[l],u=c.length,f=a[l]=new Array(u),p,y=0;y<u;++y)(p=c[y]||d[y])&&(f[y]=p);for(;l<r;++l)a[l]=s[l];return new St(a,this._parents)}function qx(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var n=t[e],r=n.length-1,o=n[r],i;--r>=0;)(i=n[r])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function Zx(t){t||(t=Kx);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var s=this._groups,n=s.length,r=new Array(n),o=0;o<n;++o){for(var i=s[o],a=i.length,l=r[o]=new Array(a),c,d=0;d<a;++d)(c=i[d])&&(l[d]=c);l.sort(e)}return new St(r,this._parents).order()}function Kx(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Jx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yx(){return Array.from(this)}function Qx(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var n=t[e],r=0,o=n.length;r<o;++r){var i=n[r];if(i)return i}return null}function ew(){let t=0;for(const e of this)++t;return t}function tw(){return!this.node()}function sw(t){for(var e=this._groups,s=0,n=e.length;s<n;++s)for(var r=e[s],o=0,i=r.length,a;o<i;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function nw(t){return function(){this.removeAttribute(t)}}function rw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ow(t,e){return function(){this.setAttribute(t,e)}}function iw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function aw(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function lw(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function cw(t,e){var s=si(t);if(arguments.length<2){var n=this.node();return s.local?n.getAttributeNS(s.space,s.local):n.getAttribute(s)}return this.each((e==null?s.local?rw:nw:typeof e=="function"?s.local?lw:aw:s.local?iw:ow)(s,e))}function hf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dw(t){return function(){this.style.removeProperty(t)}}function uw(t,e,s){return function(){this.style.setProperty(t,e,s)}}function hw(t,e,s){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,s)}}function fw(t,e,s){return arguments.length>1?this.each((e==null?dw:typeof e=="function"?hw:uw)(t,e,s??"")):Cn(this.node(),t)}function Cn(t,e){return t.style.getPropertyValue(e)||hf(t).getComputedStyle(t,null).getPropertyValue(e)}function pw(t){return function(){delete this[t]}}function mw(t,e){return function(){this[t]=e}}function gw(t,e){return function(){var s=e.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function yw(t,e){return arguments.length>1?this.each((e==null?pw:typeof e=="function"?gw:mw)(t,e)):this.node()[t]}function ff(t){return t.trim().split(/^|\s+/)}function dl(t){return t.classList||new pf(t)}function pf(t){this._node=t,this._names=ff(t.getAttribute("class")||"")}pf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mf(t,e){for(var s=dl(t),n=-1,r=e.length;++n<r;)s.add(e[n])}function gf(t,e){for(var s=dl(t),n=-1,r=e.length;++n<r;)s.remove(e[n])}function _w(t){return function(){mf(this,t)}}function bw(t){return function(){gf(this,t)}}function vw(t,e){return function(){(e.apply(this,arguments)?mf:gf)(this,t)}}function xw(t,e){var s=ff(t+"");if(arguments.length<2){for(var n=dl(this.node()),r=-1,o=s.length;++r<o;)if(!n.contains(s[r]))return!1;return!0}return this.each((typeof e=="function"?vw:e?_w:bw)(s,e))}function ww(){this.textContent=""}function kw(t){return function(){this.textContent=t}}function Aw(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Cw(t){return arguments.length?this.each(t==null?ww:(typeof t=="function"?Aw:kw)(t)):this.node().textContent}function Sw(){this.innerHTML=""}function Ew(t){return function(){this.innerHTML=t}}function Nw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Iw(t){return arguments.length?this.each(t==null?Sw:(typeof t=="function"?Nw:Ew)(t)):this.node().innerHTML}function Tw(){this.nextSibling&&this.parentNode.appendChild(this)}function Lw(){return this.each(Tw)}function Rw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pw(){return this.each(Rw)}function Dw(t){var e=typeof t=="function"?t:af(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Mw(){return null}function Ow(t,e){var s=typeof t=="function"?t:af(t),n=e==null?Mw:typeof e=="function"?e:cl(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),n.apply(this,arguments)||null)})}function Gw(){var t=this.parentNode;t&&t.removeChild(this)}function Fw(){return this.each(Gw)}function Vw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $w(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bw(t){return this.select(t?$w:Vw)}function zw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jw(t){return function(e){t.call(this,e,this.__data__)}}function Uw(t){return t.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");return n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),{type:e,name:s}})}function Hw(t){return function(){var e=this.__on;if(e){for(var s=0,n=-1,r=e.length,o;s<r;++s)o=e[s],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function Ww(t,e,s){return function(){var n=this.__on,r,o=jw(e);if(n){for(var i=0,a=n.length;i<a;++i)if((r=n[i]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=s),r.value=e;return}}this.addEventListener(t.type,o,s),r={type:t.type,name:t.name,value:e,listener:o,options:s},n?n.push(r):this.__on=[r]}}function Xw(t,e,s){var n=Uw(t+""),r,o=n.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(r=0,d=a[l];r<o;++r)if((i=n[r]).type===d.type&&i.name===d.name)return d.value}return}for(a=e?Ww:Hw,r=0;r<o;++r)this.each(a(n[r],e,s));return this}function yf(t,e,s){var n=hf(t),r=n.CustomEvent;typeof r=="function"?r=new r(e,s):(r=n.document.createEvent("Event"),s?(r.initEvent(e,s.bubbles,s.cancelable),r.detail=s.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function qw(t,e){return function(){return yf(this,t,e)}}function Zw(t,e){return function(){return yf(this,t,e.apply(this,arguments))}}function Kw(t,e){return this.each((typeof e=="function"?Zw:qw)(t,e))}function*Jw(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var n=t[e],r=0,o=n.length,i;r<o;++r)(i=n[r])&&(yield i)}var _f=[null];function St(t,e){this._groups=t,this._parents=e}function Sr(){return new St([[document.documentElement]],_f)}function Yw(){return this}St.prototype=Sr.prototype={constructor:St,select:Ax,selectAll:Nx,selectChild:Rx,selectChildren:Ox,filter:Gx,data:jx,enter:Fx,exit:Hx,join:Wx,merge:Xx,selection:Yw,order:qx,sort:Zx,call:Jx,nodes:Yx,node:Qx,size:ew,empty:tw,each:sw,attr:cw,style:fw,property:yw,classed:xw,text:Cw,html:Iw,raise:Lw,lower:Pw,append:Dw,insert:Ow,remove:Fw,clone:Bw,datum:zw,on:Xw,dispatch:Kw,[Symbol.iterator]:Jw};function _t(t){return typeof t=="string"?new St([[document.querySelector(t)]],[document.documentElement]):new St([[t]],_f)}function Qw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function is(t,e){if(t=Qw(t),e===void 0&&(e=t.currentTarget),e){var s=e.ownerSVGElement||e;if(s.createSVGPoint){var n=s.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const ek={passive:!1},mr={capture:!0,passive:!1};function Mi(t){t.stopImmediatePropagation()}function yn(t){t.preventDefault(),t.stopImmediatePropagation()}function bf(t){var e=t.document.documentElement,s=_t(t).on("dragstart.drag",yn,mr);"onselectstart"in e?s.on("selectstart.drag",yn,mr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function vf(t,e){var s=t.document.documentElement,n=_t(t).on("dragstart.drag",null);e&&(n.on("click.drag",yn,mr),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in s?n.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const $r=t=>()=>t;function wa(t,{sourceEvent:e,subject:s,target:n,identifier:r,active:o,x:i,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}wa.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function tk(t){return!t.ctrlKey&&!t.button}function sk(){return this.parentNode}function nk(t,e){return e??{x:t.x,y:t.y}}function rk(){return navigator.maxTouchPoints||"ontouchstart"in this}function ok(){var t=tk,e=sk,s=nk,n=rk,r={},o=Cr("start","drag","end"),i=0,a,l,c,d,u=0;function f(A){A.on("mousedown.drag",p).filter(n).on("touchstart.drag",x).on("touchmove.drag",v,ek).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(A,L){if(!(d||!t.call(this,A,L))){var z=E(this,e.call(this,A,L),A,L,"mouse");z&&(_t(A.view).on("mousemove.drag",y,mr).on("mouseup.drag",_,mr),bf(A.view),Mi(A),c=!1,a=A.clientX,l=A.clientY,z("start",A))}}function y(A){if(yn(A),!c){var L=A.clientX-a,z=A.clientY-l;c=L*L+z*z>u}r.mouse("drag",A)}function _(A){_t(A.view).on("mousemove.drag mouseup.drag",null),vf(A.view,c),yn(A),r.mouse("end",A)}function x(A,L){if(t.call(this,A,L)){var z=A.changedTouches,j=e.call(this,A,L),ee=z.length,W,Z;for(W=0;W<ee;++W)(Z=E(this,j,A,L,z[W].identifier,z[W]))&&(Mi(A),Z("start",A,z[W]))}}function v(A){var L=A.changedTouches,z=L.length,j,ee;for(j=0;j<z;++j)(ee=r[L[j].identifier])&&(yn(A),ee("drag",A,L[j]))}function w(A){var L=A.changedTouches,z=L.length,j,ee;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<z;++j)(ee=r[L[j].identifier])&&(Mi(A),ee("end",A,L[j]))}function E(A,L,z,j,ee,W){var Z=o.copy(),U=is(W||z,L),R,G,S;if((S=s.call(A,new wa("beforestart",{sourceEvent:z,target:f,identifier:ee,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:Z}),j))!=null)return R=S.x-U[0]||0,G=S.y-U[1]||0,function M(T,F,X){var oe=U,ue;switch(T){case"start":r[ee]=M,ue=i++;break;case"end":delete r[ee],--i;case"drag":U=is(X||F,L),ue=i;break}Z.call(T,A,new wa(T,{sourceEvent:F,subject:S,target:f,identifier:ee,active:ue,x:U[0]+R,y:U[1]+G,dx:U[0]-oe[0],dy:U[1]-oe[1],dispatch:Z}),j)}}return f.filter=function(A){return arguments.length?(t=typeof A=="function"?A:$r(!!A),f):t},f.container=function(A){return arguments.length?(e=typeof A=="function"?A:$r(A),f):e},f.subject=function(A){return arguments.length?(s=typeof A=="function"?A:$r(A),f):s},f.touchable=function(A){return arguments.length?(n=typeof A=="function"?A:$r(!!A),f):n},f.on=function(){var A=o.on.apply(o,arguments);return A===o?f:A},f.clickDistance=function(A){return arguments.length?(u=(A=+A)*A,f):Math.sqrt(u)},f}function ul(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function xf(t,e){var s=Object.create(t.prototype);for(var n in e)s[n]=e[n];return s}function Er(){}var gr=.7,No=1/gr,_n="\\s*([+-]?\\d+)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ik=/^#([0-9a-f]{3,8})$/,ak=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),lk=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),ck=new RegExp(`^rgba\\(${_n},${_n},${_n},${yr}\\)$`),dk=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${yr}\\)$`),uk=new RegExp(`^hsl\\(${yr},${Kt},${Kt}\\)$`),hk=new RegExp(`^hsla\\(${yr},${Kt},${Kt},${yr}\\)$`),ad={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ul(Er,Zs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ld,formatHex:ld,formatHex8:fk,formatHsl:pk,formatRgb:cd,toString:cd});function ld(){return this.rgb().formatHex()}function fk(){return this.rgb().formatHex8()}function pk(){return wf(this).formatHsl()}function cd(){return this.rgb().formatRgb()}function Zs(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=ik.exec(t))?(s=e[1].length,e=parseInt(e[1],16),s===6?dd(e):s===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?Br(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?Br(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ak.exec(t))?new vt(e[1],e[2],e[3],1):(e=lk.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ck.exec(t))?Br(e[1],e[2],e[3],e[4]):(e=dk.exec(t))?Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uk.exec(t))?fd(e[1],e[2]/100,e[3]/100,1):(e=hk.exec(t))?fd(e[1],e[2]/100,e[3]/100,e[4]):ad.hasOwnProperty(t)?dd(ad[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function dd(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Br(t,e,s,n){return n<=0&&(t=e=s=NaN),new vt(t,e,s,n)}function mk(t){return t instanceof Er||(t=Zs(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function ka(t,e,s,n){return arguments.length===1?mk(t):new vt(t,e,s,n??1)}function vt(t,e,s,n){this.r=+t,this.g=+e,this.b=+s,this.opacity=+n}ul(vt,ka,xf(Er,{brighter(t){return t=t==null?No:Math.pow(No,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gr:Math.pow(gr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Xs(this.r),Xs(this.g),Xs(this.b),Io(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ud,formatHex:ud,formatHex8:gk,formatRgb:hd,toString:hd}));function ud(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}`}function gk(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}${Hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function hd(){const t=Io(this.opacity);return`${t===1?"rgb(":"rgba("}${Xs(this.r)}, ${Xs(this.g)}, ${Xs(this.b)}${t===1?")":`, ${t})`}`}function Io(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hs(t){return t=Xs(t),(t<16?"0":"")+t.toString(16)}function fd(t,e,s,n){return n<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new Pt(t,e,s,n)}function wf(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);if(t instanceof Er||(t=Zs(t)),!t)return new Pt;if(t instanceof Pt)return t;t=t.rgb();var e=t.r/255,s=t.g/255,n=t.b/255,r=Math.min(e,s,n),o=Math.max(e,s,n),i=NaN,a=o-r,l=(o+r)/2;return a?(e===o?i=(s-n)/a+(s<n)*6:s===o?i=(n-e)/a+2:i=(e-s)/a+4,a/=l<.5?o+r:2-o-r,i*=60):a=l>0&&l<1?0:i,new Pt(i,a,l,t.opacity)}function yk(t,e,s,n){return arguments.length===1?wf(t):new Pt(t,e,s,n??1)}function Pt(t,e,s,n){this.h=+t,this.s=+e,this.l=+s,this.opacity=+n}ul(Pt,yk,xf(Er,{brighter(t){return t=t==null?No:Math.pow(No,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gr:Math.pow(gr,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*e,r=2*s-n;return new vt(Oi(t>=240?t-240:t+120,r,n),Oi(t,r,n),Oi(t<120?t+240:t-120,r,n),this.opacity)},clamp(){return new Pt(pd(this.h),zr(this.s),zr(this.l),Io(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Io(this.opacity);return`${t===1?"hsl(":"hsla("}${pd(this.h)}, ${zr(this.s)*100}%, ${zr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pd(t){return t=(t||0)%360,t<0?t+360:t}function zr(t){return Math.max(0,Math.min(1,t||0))}function Oi(t,e,s){return(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)*255}const hl=t=>()=>t;function _k(t,e){return function(s){return t+s*e}}function bk(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(n){return Math.pow(t+n*e,s)}}function vk(t){return(t=+t)==1?kf:function(e,s){return s-e?bk(e,s,t):hl(isNaN(e)?s:e)}}function kf(t,e){var s=e-t;return s?_k(t,s):hl(isNaN(t)?e:t)}const To=(function t(e){var s=vk(e);function n(r,o){var i=s((r=ka(r)).r,(o=ka(o)).r),a=s(r.g,o.g),l=s(r.b,o.b),c=kf(r.opacity,o.opacity);return function(d){return r.r=i(d),r.g=a(d),r.b=l(d),r.opacity=c(d),r+""}}return n.gamma=t,n})(1);function xk(t,e){e||(e=[]);var s=t?Math.min(e.length,t.length):0,n=e.slice(),r;return function(o){for(r=0;r<s;++r)n[r]=t[r]*(1-o)+e[r]*o;return n}}function wk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kk(t,e){var s=e?e.length:0,n=t?Math.min(s,t.length):0,r=new Array(n),o=new Array(s),i;for(i=0;i<n;++i)r[i]=ni(t[i],e[i]);for(;i<s;++i)o[i]=e[i];return function(a){for(i=0;i<n;++i)o[i]=r[i](a);return o}}function Ak(t,e){var s=new Date;return t=+t,e=+e,function(n){return s.setTime(t*(1-n)+e*n),s}}function Rt(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function Ck(t,e){var s={},n={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?s[r]=ni(t[r],e[r]):n[r]=e[r];return function(o){for(r in s)n[r]=s[r](o);return n}}var Aa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gi=new RegExp(Aa.source,"g");function Sk(t){return function(){return t}}function Ek(t){return function(e){return t(e)+""}}function Af(t,e){var s=Aa.lastIndex=Gi.lastIndex=0,n,r,o,i=-1,a=[],l=[];for(t=t+"",e=e+"";(n=Aa.exec(t))&&(r=Gi.exec(e));)(o=r.index)>s&&(o=e.slice(s,o),a[i]?a[i]+=o:a[++i]=o),(n=n[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Rt(n,r)})),s=Gi.lastIndex;return s<e.length&&(o=e.slice(s),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?Ek(l[0].x):Sk(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function ni(t,e){var s=typeof e,n;return e==null||s==="boolean"?hl(e):(s==="number"?Rt:s==="string"?(n=Zs(e))?(e=n,To):Af:e instanceof Zs?To:e instanceof Date?Ak:wk(e)?xk:Array.isArray(e)?kk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ck:Rt)(t,e)}function Cf(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}var md=180/Math.PI,Ca={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sf(t,e,s,n,r,o){var i,a,l;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(l=t*s+e*n)&&(s-=t*l,n-=e*l),(a=Math.sqrt(s*s+n*n))&&(s/=a,n/=a,l/=a),t*n<e*s&&(t=-t,e=-e,l=-l,i=-i),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*md,skewX:Math.atan(l)*md,scaleX:i,scaleY:a}}var jr;function Nk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ca:Sf(e.a,e.b,e.c,e.d,e.e,e.f)}function Ik(t){return t==null||(jr||(jr=document.createElementNS("http://www.w3.org/2000/svg","g")),jr.setAttribute("transform",t),!(t=jr.transform.baseVal.consolidate()))?Ca:(t=t.matrix,Sf(t.a,t.b,t.c,t.d,t.e,t.f))}function Ef(t,e,s,n){function r(c){return c.length?c.pop()+" ":""}function o(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push("translate(",null,e,null,s);y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u||f)&&p.push("translate("+u+e+f+s)}function i(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(r(u)+"rotate(",null,n)-2,x:Rt(c,d)})):d&&u.push(r(u)+"rotate("+d+n)}function a(c,d,u,f){c!==d?f.push({i:u.push(r(u)+"skewX(",null,n)-2,x:Rt(c,d)}):d&&u.push(r(u)+"skewX("+d+n)}function l(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push(r(p)+"scale(",null,",",null,")");y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u!==1||f!==1)&&p.push(r(p)+"scale("+u+","+f+")")}return function(c,d){var u=[],f=[];return c=t(c),d=t(d),o(c.translateX,c.translateY,d.translateX,d.translateY,u,f),i(c.rotate,d.rotate,u,f),a(c.skewX,d.skewX,u,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(p){for(var y=-1,_=f.length,x;++y<_;)u[(x=f[y]).i]=x.x(p);return u.join("")}}}var Tk=Ef(Nk,"px, ","px)","deg)"),Lk=Ef(Ik,", ",")",")"),Rk=1e-12;function gd(t){return((t=Math.exp(t))+1/t)/2}function Pk(t){return((t=Math.exp(t))-1/t)/2}function Dk(t){return((t=Math.exp(2*t))-1)/(t+1)}const Mk=(function t(e,s,n){function r(o,i){var a=o[0],l=o[1],c=o[2],d=i[0],u=i[1],f=i[2],p=d-a,y=u-l,_=p*p+y*y,x,v;if(_<Rk)v=Math.log(f/c)/e,x=function(j){return[a+j*p,l+j*y,c*Math.exp(e*j*v)]};else{var w=Math.sqrt(_),E=(f*f-c*c+n*_)/(2*c*s*w),A=(f*f-c*c-n*_)/(2*f*s*w),L=Math.log(Math.sqrt(E*E+1)-E),z=Math.log(Math.sqrt(A*A+1)-A);v=(z-L)/e,x=function(j){var ee=j*v,W=gd(L),Z=c/(s*w)*(W*Dk(e*ee+L)-Pk(L));return[a+Z*p,l+Z*y,c*W/gd(e*ee+L)]}}return x.duration=v*1e3*e/Math.SQRT2,x}return r.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return t(i,a,l)},r})(Math.SQRT2,2,4);var Sn=0,Un=0,$n=0,Nf=1e3,Lo,Hn,Ro=0,Ks=0,ri=0,_r=typeof performance=="object"&&performance.now?performance:Date,If=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fl(){return Ks||(If(Ok),Ks=_r.now()+ri)}function Ok(){Ks=0}function Po(){this._call=this._time=this._next=null}Po.prototype=pl.prototype={constructor:Po,restart:function(t,e,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?fl():+s)+(e==null?0:+e),!this._next&&Hn!==this&&(Hn?Hn._next=this:Lo=this,Hn=this),this._call=t,this._time=s,Sa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sa())}};function pl(t,e,s){var n=new Po;return n.restart(t,e,s),n}function Gk(){fl(),++Sn;for(var t=Lo,e;t;)(e=Ks-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Sn}function yd(){Ks=(Ro=_r.now())+ri,Sn=Un=0;try{Gk()}finally{Sn=0,Vk(),Ks=0}}function Fk(){var t=_r.now(),e=t-Ro;e>Nf&&(ri-=e,Ro=t)}function Vk(){for(var t,e=Lo,s,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(s=e._next,e._next=null,e=t?t._next=s:Lo=s);Hn=t,Sa(n)}function Sa(t){if(!Sn){Un&&(Un=clearTimeout(Un));var e=t-Ks;e>24?(t<1/0&&(Un=setTimeout(yd,t-_r.now()-ri)),$n&&($n=clearInterval($n))):($n||(Ro=_r.now(),$n=setInterval(Fk,Nf)),Sn=1,If(yd))}}function _d(t,e,s){var n=new Po;return e=e==null?0:+e,n.restart(r=>{n.stop(),t(r+e)},e,s),n}var $k=Cr("start","end","cancel","interrupt"),Bk=[],Tf=0,bd=1,Ea=2,to=3,vd=4,Na=5,so=6;function oi(t,e,s,n,r,o){var i=t.__transition;if(!i)t.__transition={};else if(s in i)return;zk(t,s,{name:e,index:n,group:r,on:$k,tween:Bk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Tf})}function ml(t,e){var s=Ft(t,e);if(s.state>Tf)throw new Error("too late; already scheduled");return s}function Yt(t,e){var s=Ft(t,e);if(s.state>to)throw new Error("too late; already running");return s}function Ft(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function zk(t,e,s){var n=t.__transition,r;n[e]=s,s.timer=pl(o,0,s.time);function o(c){s.state=bd,s.timer.restart(i,s.delay,s.time),s.delay<=c&&i(c-s.delay)}function i(c){var d,u,f,p;if(s.state!==bd)return l();for(d in n)if(p=n[d],p.name===s.name){if(p.state===to)return _d(i);p.state===vd?(p.state=so,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[d]):+d<e&&(p.state=so,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[d])}if(_d(function(){s.state===to&&(s.state=vd,s.timer.restart(a,s.delay,s.time),a(c))}),s.state=Ea,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Ea){for(s.state=to,r=new Array(f=s.tween.length),d=0,u=-1;d<f;++d)(p=s.tween[d].value.call(t,t.__data__,s.index,s.group))&&(r[++u]=p);r.length=u+1}}function a(c){for(var d=c<s.duration?s.ease.call(null,c/s.duration):(s.timer.restart(l),s.state=Na,1),u=-1,f=r.length;++u<f;)r[u].call(t,d);s.state===Na&&(s.on.call("end",t,t.__data__,s.index,s.group),l())}function l(){s.state=so,s.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function no(t,e){var s=t.__transition,n,r,o=!0,i;if(s){e=e==null?null:e+"";for(i in s){if((n=s[i]).name!==e){o=!1;continue}r=n.state>Ea&&n.state<Na,n.state=so,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]}o&&delete t.__transition}}function jk(t){return this.each(function(){no(this,t)})}function Uk(t,e){var s,n;return function(){var r=Yt(this,t),o=r.tween;if(o!==s){n=s=o;for(var i=0,a=n.length;i<a;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}r.tween=n}}function Hk(t,e,s){var n,r;if(typeof s!="function")throw new Error;return function(){var o=Yt(this,t),i=o.tween;if(i!==n){r=(n=i).slice();for(var a={name:e,value:s},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function Wk(t,e){var s=this._id;if(t+="",arguments.length<2){for(var n=Ft(this.node(),s).tween,r=0,o=n.length,i;r<o;++r)if((i=n[r]).name===t)return i.value;return null}return this.each((e==null?Uk:Hk)(s,t,e))}function gl(t,e,s){var n=t._id;return t.each(function(){var r=Yt(this,n);(r.value||(r.value={}))[e]=s.apply(this,arguments)}),function(r){return Ft(r,n).value[e]}}function Lf(t,e){var s;return(typeof e=="number"?Rt:e instanceof Zs?To:(s=Zs(e))?(e=s,To):Af)(t,e)}function Xk(t){return function(){this.removeAttribute(t)}}function qk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zk(t,e,s){var n,r=s+"",o;return function(){var i=this.getAttribute(t);return i===r?null:i===n?o:o=e(n=i,s)}}function Kk(t,e,s){var n,r=s+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===r?null:i===n?o:o=e(n=i,s)}}function Jk(t,e,s){var n,r,o;return function(){var i,a=s(this),l;return a==null?void this.removeAttribute(t):(i=this.getAttribute(t),l=a+"",i===l?null:i===n&&l===r?o:(r=l,o=e(n=i,a)))}}function Yk(t,e,s){var n,r,o;return function(){var i,a=s(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),l=a+"",i===l?null:i===n&&l===r?o:(r=l,o=e(n=i,a)))}}function Qk(t,e){var s=si(t),n=s==="transform"?Lk:Lf;return this.attrTween(t,typeof e=="function"?(s.local?Yk:Jk)(s,n,gl(this,"attr."+t,e)):e==null?(s.local?qk:Xk)(s):(s.local?Kk:Zk)(s,n,e))}function eA(t,e){return function(s){this.setAttribute(t,e.call(this,s))}}function tA(t,e){return function(s){this.setAttributeNS(t.space,t.local,e.call(this,s))}}function sA(t,e){var s,n;function r(){var o=e.apply(this,arguments);return o!==n&&(s=(n=o)&&tA(t,o)),s}return r._value=e,r}function nA(t,e){var s,n;function r(){var o=e.apply(this,arguments);return o!==n&&(s=(n=o)&&eA(t,o)),s}return r._value=e,r}function rA(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;var n=si(t);return this.tween(s,(n.local?sA:nA)(n,e))}function oA(t,e){return function(){ml(this,t).delay=+e.apply(this,arguments)}}function iA(t,e){return e=+e,function(){ml(this,t).delay=e}}function aA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?oA:iA)(e,t)):Ft(this.node(),e).delay}function lA(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function cA(t,e){return e=+e,function(){Yt(this,t).duration=e}}function dA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lA:cA)(e,t)):Ft(this.node(),e).duration}function uA(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function hA(t){var e=this._id;return arguments.length?this.each(uA(e,t)):Ft(this.node(),e).ease}function fA(t,e){return function(){var s=e.apply(this,arguments);if(typeof s!="function")throw new Error;Yt(this,t).ease=s}}function pA(t){if(typeof t!="function")throw new Error;return this.each(fA(this._id,t))}function mA(t){typeof t!="function"&&(t=cf(t));for(var e=this._groups,s=e.length,n=new Array(s),r=0;r<s;++r)for(var o=e[r],i=o.length,a=n[r]=[],l,c=0;c<i;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new ms(n,this._parents,this._name,this._id)}function gA(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,n=e.length,r=s.length,o=Math.min(n,r),i=new Array(n),a=0;a<o;++a)for(var l=e[a],c=s[a],d=l.length,u=i[a]=new Array(d),f,p=0;p<d;++p)(f=l[p]||c[p])&&(u[p]=f);for(;a<n;++a)i[a]=e[a];return new ms(i,this._parents,this._name,this._id)}function yA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var s=e.indexOf(".");return s>=0&&(e=e.slice(0,s)),!e||e==="start"})}function _A(t,e,s){var n,r,o=yA(e)?ml:Yt;return function(){var i=o(this,t),a=i.on;a!==n&&(r=(n=a).copy()).on(e,s),i.on=r}}function bA(t,e){var s=this._id;return arguments.length<2?Ft(this.node(),s).on.on(t):this.each(_A(s,t,e))}function vA(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}function xA(){return this.on("end.remove",vA(this._id))}function wA(t){var e=this._name,s=this._id;typeof t!="function"&&(t=cl(t));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var a=n[i],l=a.length,c=o[i]=new Array(l),d,u,f=0;f<l;++f)(d=a[f])&&(u=t.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,oi(c[f],e,s,f,c,Ft(d,s)));return new ms(o,this._parents,e,s)}function kA(t){var e=this._name,s=this._id;typeof t!="function"&&(t=lf(t));for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var l=n[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var f=t.call(d,d.__data__,u,l),p,y=Ft(d,s),_=0,x=f.length;_<x;++_)(p=f[_])&&oi(p,e,s,_,f,y);o.push(f),i.push(d)}return new ms(o,i,e,s)}var AA=Sr.prototype.constructor;function CA(){return new AA(this._groups,this._parents)}function SA(t,e){var s,n,r;return function(){var o=Cn(this,t),i=(this.style.removeProperty(t),Cn(this,t));return o===i?null:o===s&&i===n?r:r=e(s=o,n=i)}}function Rf(t){return function(){this.style.removeProperty(t)}}function EA(t,e,s){var n,r=s+"",o;return function(){var i=Cn(this,t);return i===r?null:i===n?o:o=e(n=i,s)}}function NA(t,e,s){var n,r,o;return function(){var i=Cn(this,t),a=s(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Cn(this,t))),i===l?null:i===n&&l===r?o:(r=l,o=e(n=i,a))}}function IA(t,e){var s,n,r,o="style."+e,i="end."+o,a;return function(){var l=Yt(this,t),c=l.on,d=l.value[o]==null?a||(a=Rf(e)):void 0;(c!==s||r!==d)&&(n=(s=c).copy()).on(i,r=d),l.on=n}}function TA(t,e,s){var n=(t+="")=="transform"?Tk:Lf;return e==null?this.styleTween(t,SA(t,n)).on("end.style."+t,Rf(t)):typeof e=="function"?this.styleTween(t,NA(t,n,gl(this,"style."+t,e))).each(IA(this._id,t)):this.styleTween(t,EA(t,n,e),s).on("end.style."+t,null)}function LA(t,e,s){return function(n){this.style.setProperty(t,e.call(this,n),s)}}function RA(t,e,s){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&LA(t,i,s)),n}return o._value=e,o}function PA(t,e,s){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,RA(t,e,s??""))}function DA(t){return function(){this.textContent=t}}function MA(t){return function(){var e=t(this);this.textContent=e??""}}function OA(t){return this.tween("text",typeof t=="function"?MA(gl(this,"text",t)):DA(t==null?"":t+""))}function GA(t){return function(e){this.textContent=t.call(this,e)}}function FA(t){var e,s;function n(){var r=t.apply(this,arguments);return r!==s&&(e=(s=r)&&GA(r)),e}return n._value=t,n}function VA(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,FA(t))}function $A(){for(var t=this._name,e=this._id,s=Pf(),n=this._groups,r=n.length,o=0;o<r;++o)for(var i=n[o],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var d=Ft(l,e);oi(l,t,s,c,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ms(n,this._parents,t,s)}function BA(){var t,e,s=this,n=s._id,r=s.size();return new Promise(function(o,i){var a={value:i},l={value:function(){--r===0&&o()}};s.each(function(){var c=Yt(this,n),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&o()})}var zA=0;function ms(t,e,s,n){this._groups=t,this._parents=e,this._name=s,this._id=n}function Pf(){return++zA}var ns=Sr.prototype;ms.prototype={constructor:ms,select:wA,selectAll:kA,selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:mA,merge:gA,selection:CA,transition:$A,call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:bA,attr:Qk,attrTween:rA,style:TA,styleTween:PA,text:OA,textTween:VA,remove:xA,tween:Wk,delay:aA,duration:dA,ease:hA,easeVarying:pA,end:BA,[Symbol.iterator]:ns[Symbol.iterator]};function jA(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var UA={time:null,delay:0,duration:250,ease:jA};function HA(t,e){for(var s;!(s=t.__transition)||!(s=s[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return s}function WA(t){var e,s;t instanceof ms?(e=t._id,t=t._name):(e=Pf(),(s=UA).time=fl(),t=t==null?null:t+"");for(var n=this._groups,r=n.length,o=0;o<r;++o)for(var i=n[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&oi(l,t,e,c,i,s||HA(l,e));return new ms(n,this._parents,t,e)}Sr.prototype.interrupt=jk;Sr.prototype.transition=WA;function xd(t,e){var s,n=1;t==null&&(t=0),e==null&&(e=0);function r(){var o,i=s.length,a,l=0,c=0;for(o=0;o<i;++o)a=s[o],l+=a.x,c+=a.y;for(l=(l/i-t)*n,c=(c/i-e)*n,o=0;o<i;++o)a=s[o],a.x-=l,a.y-=c}return r.initialize=function(o){s=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r.strength=function(o){return arguments.length?(n=+o,r):n},r}function XA(t){const e=+this._x.call(null,t),s=+this._y.call(null,t);return Df(this.cover(e,s),e,s,t)}function Df(t,e,s,n){if(isNaN(e)||isNaN(s))return t;var r,o=t._root,i={data:n},a=t._x0,l=t._y0,c=t._x1,d=t._y1,u,f,p,y,_,x,v,w;if(!o)return t._root=i,t;for(;o.length;)if((_=e>=(u=(a+c)/2))?a=u:c=u,(x=s>=(f=(l+d)/2))?l=f:d=f,r=o,!(o=o[v=x<<1|_]))return r[v]=i,t;if(p=+t._x.call(null,o.data),y=+t._y.call(null,o.data),e===p&&s===y)return i.next=o,r?r[v]=i:t._root=i,t;do r=r?r[v]=new Array(4):t._root=new Array(4),(_=e>=(u=(a+c)/2))?a=u:c=u,(x=s>=(f=(l+d)/2))?l=f:d=f;while((v=x<<1|_)===(w=(y>=f)<<1|p>=u));return r[w]=o,r[v]=i,t}function qA(t){var e,s,n=t.length,r,o,i=new Array(n),a=new Array(n),l=1/0,c=1/0,d=-1/0,u=-1/0;for(s=0;s<n;++s)isNaN(r=+this._x.call(null,e=t[s]))||isNaN(o=+this._y.call(null,e))||(i[s]=r,a[s]=o,r<l&&(l=r),r>d&&(d=r),o<c&&(c=o),o>u&&(u=o));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),s=0;s<n;++s)Df(this,i[s],a[s],t[s]);return this}function ZA(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var s=this._x0,n=this._y0,r=this._x1,o=this._y1;if(isNaN(s))r=(s=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var i=r-s||1,a=this._root,l,c;s>t||t>=r||n>e||e>=o;)switch(c=(e<n)<<1|t<s,l=new Array(4),l[c]=a,a=l,i*=2,c){case 0:r=s+i,o=n+i;break;case 1:s=r-i,o=n+i;break;case 2:r=s+i,n=o-i;break;case 3:s=r-i,n=o-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=s,this._y0=n,this._x1=r,this._y1=o,this}function KA(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function JA(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ft(t,e,s,n,r){this.node=t,this.x0=e,this.y0=s,this.x1=n,this.y1=r}function YA(t,e,s){var n,r=this._x0,o=this._y0,i,a,l,c,d=this._x1,u=this._y1,f=[],p=this._root,y,_;for(p&&f.push(new ft(p,r,o,d,u)),s==null?s=1/0:(r=t-s,o=e-s,d=t+s,u=e+s,s*=s);y=f.pop();)if(!(!(p=y.node)||(i=y.x0)>d||(a=y.y0)>u||(l=y.x1)<r||(c=y.y1)<o))if(p.length){var x=(i+l)/2,v=(a+c)/2;f.push(new ft(p[3],x,v,l,c),new ft(p[2],i,v,x,c),new ft(p[1],x,a,l,v),new ft(p[0],i,a,x,v)),(_=(e>=v)<<1|t>=x)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-_],f[f.length-1-_]=y)}else{var w=t-+this._x.call(null,p.data),E=e-+this._y.call(null,p.data),A=w*w+E*E;if(A<s){var L=Math.sqrt(s=A);r=t-L,o=e-L,d=t+L,u=e+L,n=p.data}}return n}function QA(t){if(isNaN(d=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var e,s=this._root,n,r,o,i=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,f,p,y,_,x,v;if(!s)return this;if(s.length)for(;;){if((y=d>=(f=(i+l)/2))?i=f:l=f,(_=u>=(p=(a+c)/2))?a=p:c=p,e=s,!(s=s[x=_<<1|y]))return this;if(!s.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(n=e,v=x)}for(;s.data!==t;)if(r=s,!(s=s.next))return this;return(o=s.next)&&delete s.next,r?(o?r.next=o:delete r.next,this):e?(o?e[x]=o:delete e[x],(s=e[0]||e[1]||e[2]||e[3])&&s===(e[3]||e[2]||e[1]||e[0])&&!s.length&&(n?n[v]=s:this._root=s),this):(this._root=o,this)}function eC(t){for(var e=0,s=t.length;e<s;++e)this.remove(t[e]);return this}function tC(){return this._root}function sC(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function nC(t){var e=[],s,n=this._root,r,o,i,a,l;for(n&&e.push(new ft(n,this._x0,this._y0,this._x1,this._y1));s=e.pop();)if(!t(n=s.node,o=s.x0,i=s.y0,a=s.x1,l=s.y1)&&n.length){var c=(o+a)/2,d=(i+l)/2;(r=n[3])&&e.push(new ft(r,c,d,a,l)),(r=n[2])&&e.push(new ft(r,o,d,c,l)),(r=n[1])&&e.push(new ft(r,c,i,a,d)),(r=n[0])&&e.push(new ft(r,o,i,c,d))}return this}function rC(t){var e=[],s=[],n;for(this._root&&e.push(new ft(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var r=n.node;if(r.length){var o,i=n.x0,a=n.y0,l=n.x1,c=n.y1,d=(i+l)/2,u=(a+c)/2;(o=r[0])&&e.push(new ft(o,i,a,d,u)),(o=r[1])&&e.push(new ft(o,d,a,l,u)),(o=r[2])&&e.push(new ft(o,i,u,d,c)),(o=r[3])&&e.push(new ft(o,d,u,l,c))}s.push(n)}for(;n=s.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function oC(t){return t[0]}function iC(t){return arguments.length?(this._x=t,this):this._x}function aC(t){return t[1]}function lC(t){return arguments.length?(this._y=t,this):this._y}function yl(t,e,s){var n=new _l(e??oC,s??aC,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function _l(t,e,s,n,r,o){this._x=t,this._y=e,this._x0=s,this._y0=n,this._x1=r,this._y1=o,this._root=void 0}function wd(t){for(var e={data:t.data},s=e;t=t.next;)s=s.next={data:t.data};return e}var pt=yl.prototype=_l.prototype;pt.copy=function(){var t=new _l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,s,n;if(!e)return t;if(!e.length)return t._root=wd(e),t;for(s=[{source:e,target:t._root=new Array(4)}];e=s.pop();)for(var r=0;r<4;++r)(n=e.source[r])&&(n.length?s.push({source:n,target:e.target[r]=new Array(4)}):e.target[r]=wd(n));return t};pt.add=XA;pt.addAll=qA;pt.cover=ZA;pt.data=KA;pt.extent=JA;pt.find=YA;pt.remove=QA;pt.removeAll=eC;pt.root=tC;pt.size=sC;pt.visit=nC;pt.visitAfter=rC;pt.x=iC;pt.y=lC;function qs(t){return function(){return t}}function As(t){return(t()-.5)*1e-6}function cC(t){return t.x+t.vx}function dC(t){return t.y+t.vy}function uC(t){var e,s,n,r=1,o=1;typeof t!="function"&&(t=qs(t==null?1:+t));function i(){for(var c,d=e.length,u,f,p,y,_,x,v=0;v<o;++v)for(u=yl(e,cC,dC).visitAfter(a),c=0;c<d;++c)f=e[c],_=s[f.index],x=_*_,p=f.x+f.vx,y=f.y+f.vy,u.visit(w);function w(E,A,L,z,j){var ee=E.data,W=E.r,Z=_+W;if(ee){if(ee.index>f.index){var U=p-ee.x-ee.vx,R=y-ee.y-ee.vy,G=U*U+R*R;G<Z*Z&&(U===0&&(U=As(n),G+=U*U),R===0&&(R=As(n),G+=R*R),G=(Z-(G=Math.sqrt(G)))/G*r,f.vx+=(U*=G)*(Z=(W*=W)/(x+W)),f.vy+=(R*=G)*Z,ee.vx-=U*(Z=1-Z),ee.vy-=R*Z)}return}return A>p+Z||z<p-Z||L>y+Z||j<y-Z}}function a(c){if(c.data)return c.r=s[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(e){var c,d=e.length,u;for(s=new Array(d),c=0;c<d;++c)u=e[c],s[u.index]=+t(u,c,e)}}return i.initialize=function(c,d){e=c,n=d,l()},i.iterations=function(c){return arguments.length?(o=+c,i):o},i.strength=function(c){return arguments.length?(r=+c,i):r},i.radius=function(c){return arguments.length?(t=typeof c=="function"?c:qs(+c),l(),i):t},i}function hC(t){return t.index}function kd(t,e){var s=t.get(e);if(!s)throw new Error("node not found: "+e);return s}function fC(t){var e=hC,s=u,n,r=qs(30),o,i,a,l,c,d=1;t==null&&(t=[]);function u(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function f(x){for(var v=0,w=t.length;v<d;++v)for(var E=0,A,L,z,j,ee,W,Z;E<w;++E)A=t[E],L=A.source,z=A.target,j=z.x+z.vx-L.x-L.vx||As(c),ee=z.y+z.vy-L.y-L.vy||As(c),W=Math.sqrt(j*j+ee*ee),W=(W-o[E])/W*x*n[E],j*=W,ee*=W,z.vx-=j*(Z=l[E]),z.vy-=ee*Z,L.vx+=j*(Z=1-Z),L.vy+=ee*Z}function p(){if(i){var x,v=i.length,w=t.length,E=new Map(i.map((L,z)=>[e(L,z,i),L])),A;for(x=0,a=new Array(v);x<w;++x)A=t[x],A.index=x,typeof A.source!="object"&&(A.source=kd(E,A.source)),typeof A.target!="object"&&(A.target=kd(E,A.target)),a[A.source.index]=(a[A.source.index]||0)+1,a[A.target.index]=(a[A.target.index]||0)+1;for(x=0,l=new Array(w);x<w;++x)A=t[x],l[x]=a[A.source.index]/(a[A.source.index]+a[A.target.index]);n=new Array(w),y(),o=new Array(w),_()}}function y(){if(i)for(var x=0,v=t.length;x<v;++x)n[x]=+s(t[x],x,t)}function _(){if(i)for(var x=0,v=t.length;x<v;++x)o[x]=+r(t[x],x,t)}return f.initialize=function(x,v){i=x,c=v,p()},f.links=function(x){return arguments.length?(t=x,p(),f):t},f.id=function(x){return arguments.length?(e=x,f):e},f.iterations=function(x){return arguments.length?(d=+x,f):d},f.strength=function(x){return arguments.length?(s=typeof x=="function"?x:qs(+x),y(),f):s},f.distance=function(x){return arguments.length?(r=typeof x=="function"?x:qs(+x),_(),f):r},f}const pC=1664525,mC=1013904223,Ad=4294967296;function gC(){let t=1;return()=>(t=(pC*t+mC)%Ad)/Ad}function yC(t){return t.x}function _C(t){return t.y}var bC=10,vC=Math.PI*(3-Math.sqrt(5));function xC(t){var e,s=1,n=.001,r=1-Math.pow(n,1/300),o=0,i=.6,a=new Map,l=pl(u),c=Cr("tick","end"),d=gC();t==null&&(t=[]);function u(){f(),c.call("tick",e),s<n&&(l.stop(),c.call("end",e))}function f(_){var x,v=t.length,w;_===void 0&&(_=1);for(var E=0;E<_;++E)for(s+=(o-s)*r,a.forEach(function(A){A(s)}),x=0;x<v;++x)w=t[x],w.fx==null?w.x+=w.vx*=i:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=i:(w.y=w.fy,w.vy=0);return e}function p(){for(var _=0,x=t.length,v;_<x;++_){if(v=t[_],v.index=_,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var w=bC*Math.sqrt(.5+_),E=_*vC;v.x=w*Math.cos(E),v.y=w*Math.sin(E)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function y(_){return _.initialize&&_.initialize(t,d),_}return p(),e={tick:f,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(_){return arguments.length?(t=_,p(),a.forEach(y),e):t},alpha:function(_){return arguments.length?(s=+_,e):s},alphaMin:function(_){return arguments.length?(n=+_,e):n},alphaDecay:function(_){return arguments.length?(r=+_,e):+r},alphaTarget:function(_){return arguments.length?(o=+_,e):o},velocityDecay:function(_){return arguments.length?(i=1-_,e):1-i},randomSource:function(_){return arguments.length?(d=_,a.forEach(y),e):d},force:function(_,x){return arguments.length>1?(x==null?a.delete(_):a.set(_,y(x)),e):a.get(_)},find:function(_,x,v){var w=0,E=t.length,A,L,z,j,ee;for(v==null?v=1/0:v*=v,w=0;w<E;++w)j=t[w],A=_-j.x,L=x-j.y,z=A*A+L*L,z<v&&(ee=j,v=z);return ee},on:function(_,x){return arguments.length>1?(c.on(_,x),e):c.on(_)}}}function wC(){var t,e,s,n,r=qs(-30),o,i=1,a=1/0,l=.81;function c(p){var y,_=t.length,x=yl(t,yC,_C).visitAfter(u);for(n=p,y=0;y<_;++y)e=t[y],x.visit(f)}function d(){if(t){var p,y=t.length,_;for(o=new Array(y),p=0;p<y;++p)_=t[p],o[_.index]=+r(_,p,t)}}function u(p){var y=0,_,x,v=0,w,E,A;if(p.length){for(w=E=A=0;A<4;++A)(_=p[A])&&(x=Math.abs(_.value))&&(y+=_.value,v+=x,w+=x*_.x,E+=x*_.y);p.x=w/v,p.y=E/v}else{_=p,_.x=_.data.x,_.y=_.data.y;do y+=o[_.data.index];while(_=_.next)}p.value=y}function f(p,y,_,x){if(!p.value)return!0;var v=p.x-e.x,w=p.y-e.y,E=x-y,A=v*v+w*w;if(E*E/l<A)return A<a&&(v===0&&(v=As(s),A+=v*v),w===0&&(w=As(s),A+=w*w),A<i&&(A=Math.sqrt(i*A)),e.vx+=v*p.value*n/A,e.vy+=w*p.value*n/A),!0;if(p.length||A>=a)return;(p.data!==e||p.next)&&(v===0&&(v=As(s),A+=v*v),w===0&&(w=As(s),A+=w*w),A<i&&(A=Math.sqrt(i*A)));do p.data!==e&&(E=o[p.data.index]*n/A,e.vx+=v*E,e.vy+=w*E);while(p=p.next)}return c.initialize=function(p,y){t=p,s=y,d()},c.strength=function(p){return arguments.length?(r=typeof p=="function"?p:qs(+p),d(),c):r},c.distanceMin=function(p){return arguments.length?(i=p*p,c):Math.sqrt(i)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function kC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Do(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,n=t.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+t.slice(s+1)]}function En(t){return t=Do(Math.abs(t)),t?t[1]:NaN}function AC(t,e){return function(s,n){for(var r=s.length,o=[],i=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(s.substring(r-=a,r+a)),!((l+=a+1)>n));)a=t[i=(i+1)%t.length];return o.reverse().join(e)}}function CC(t){return function(e){return e.replace(/[0-9]/g,function(s){return t[+s]})}}var SC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mo(t){if(!(e=SC.exec(t)))throw new Error("invalid format: "+t);var e;return new bl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mo.prototype=bl.prototype;function bl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EC(t){e:for(var e=t.length,s=1,n=-1,r;s<e;++s)switch(t[s]){case".":n=r=s;break;case"0":n===0&&(n=s),r=s;break;default:if(!+t[s])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(r+1):t}var Mf;function NC(t,e){var s=Do(t,e);if(!s)return t+"";var n=s[0],r=s[1],o=r-(Mf=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Do(t,Math.max(0,e+o-1))[0]}function Cd(t,e){var s=Do(t,e);if(!s)return t+"";var n=s[0],r=s[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const Sd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kC,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cd(t*100,e),r:Cd,s:NC,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ed(t){return t}var Nd=Array.prototype.map,Id=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IC(t){var e=t.grouping===void 0||t.thousands===void 0?Ed:AC(Nd.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ed:CC(Nd.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Mo(u);var f=u.fill,p=u.align,y=u.sign,_=u.symbol,x=u.zero,v=u.width,w=u.comma,E=u.precision,A=u.trim,L=u.type;L==="n"?(w=!0,L="g"):Sd[L]||(E===void 0&&(E=12),A=!0,L="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var z=_==="$"?s:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",j=_==="$"?n:/[%p]/.test(L)?i:"",ee=Sd[L],W=/[defgprs%]/.test(L);E=E===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function Z(U){var R=z,G=j,S,M,T;if(L==="c")G=ee(U)+G,U="";else{U=+U;var F=U<0||1/U<0;if(U=isNaN(U)?l:ee(Math.abs(U),E),A&&(U=EC(U)),F&&+U==0&&y!=="+"&&(F=!1),R=(F?y==="("?y:a:y==="-"||y==="("?"":y)+R,G=(L==="s"?Id[8+Mf/3]:"")+G+(F&&y==="("?")":""),W){for(S=-1,M=U.length;++S<M;)if(T=U.charCodeAt(S),48>T||T>57){G=(T===46?r+U.slice(S+1):U.slice(S))+G,U=U.slice(0,S);break}}}w&&!x&&(U=e(U,1/0));var X=R.length+U.length+G.length,oe=X<v?new Array(v-X+1).join(f):"";switch(w&&x&&(U=e(oe+U,oe.length?v-G.length:1/0),oe=""),p){case"<":U=R+U+G+oe;break;case"=":U=R+oe+U+G;break;case"^":U=oe.slice(0,X=oe.length>>1)+R+U+G+oe.slice(X);break;default:U=oe+R+U+G;break}return o(U)}return Z.toString=function(){return u+""},Z}function d(u,f){var p=c((u=Mo(u),u.type="f",u)),y=Math.max(-8,Math.min(8,Math.floor(En(f)/3)))*3,_=Math.pow(10,-y),x=Id[8+y/3];return function(v){return p(_*v)+x}}return{format:c,formatPrefix:d}}var Ur,Of,Gf;TC({thousands:",",grouping:[3],currency:["$",""]});function TC(t){return Ur=IC(t),Of=Ur.format,Gf=Ur.formatPrefix,Ur}function LC(t){return Math.max(0,-En(Math.abs(t)))}function RC(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(En(e)/3)))*3-En(Math.abs(t)))}function PC(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,En(e)-En(t))+1}function Ff(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function DC(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Td=Symbol("implicit");function Vf(){var t=new nd,e=[],s=[],n=Td;function r(o){let i=t.get(o);if(i===void 0){if(n!==Td)return n;t.set(o,i=e.push(o)-1)}return s[i%s.length]}return r.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new nd;for(const i of o)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(o){return arguments.length?(s=Array.from(o),r):s.slice()},r.unknown=function(o){return arguments.length?(n=o,r):n},r.copy=function(){return Vf(e,s).unknown(n)},Ff.apply(r,arguments),r}function MC(t){return function(){return t}}function OC(t){return+t}var Ld=[0,1];function Xt(t){return t}function Ia(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:MC(isNaN(e)?NaN:.5)}function GC(t,e){var s;return t>e&&(s=t,t=e,e=s),function(n){return Math.max(t,Math.min(e,n))}}function FC(t,e,s){var n=t[0],r=t[1],o=e[0],i=e[1];return r<n?(n=Ia(r,n),o=s(i,o)):(n=Ia(n,r),o=s(o,i)),function(a){return o(n(a))}}function VC(t,e,s){var n=Math.min(t.length,e.length)-1,r=new Array(n),o=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)r[i]=Ia(t[i],t[i+1]),o[i]=s(e[i],e[i+1]);return function(a){var l=cx(t,a,1,n)-1;return o[l](r[l](a))}}function $C(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function BC(){var t=Ld,e=Ld,s=ni,n,r,o,i=Xt,a,l,c;function d(){var f=Math.min(t.length,e.length);return i!==Xt&&(i=GC(t[0],t[f-1])),a=f>2?VC:FC,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(n),e,s)))(n(i(f)))}return u.invert=function(f){return i(r((c||(c=a(e,t.map(n),Rt)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,OC),d()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),s=Cf,d()},u.clamp=function(f){return arguments.length?(i=f?!0:Xt,d()):i!==Xt},u.interpolate=function(f){return arguments.length?(s=f,d()):s},u.unknown=function(f){return arguments.length?(o=f,u):o},function(f,p){return n=f,r=p,d()}}function zC(t,e,s,n){var r=yx(t,e,s),o;switch(n=Mo(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=RC(r,i))&&(n.precision=o),Gf(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=PC(r,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=LC(r))&&(n.precision=o-(n.type==="%")*2);break}}return Of(n)}function $f(t){var e=t.domain;return t.ticks=function(s){var n=e();return gx(n[0],n[n.length-1],s??10)},t.tickFormat=function(s,n){var r=e();return zC(r[0],r[r.length-1],s??10,n)},t.nice=function(s){s==null&&(s=10);var n=e(),r=0,o=n.length-1,i=n[r],a=n[o],l,c,d=10;for(a<i&&(c=i,i=a,a=c,c=r,r=o,o=c);d-- >0;){if(c=va(i,a,s),c===l)return n[r]=i,n[o]=a,e(n);if(c>0)i=Math.floor(i/c)*c,a=Math.ceil(a/c)*c;else if(c<0)i=Math.ceil(i*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Rd(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jC(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UC(t){return t<0?-t*t:t*t}function HC(t){var e=t(Xt,Xt),s=1;function n(){return s===1?t(Xt,Xt):s===.5?t(jC,UC):t(Rd(s),Rd(1/s))}return e.exponent=function(r){return arguments.length?(s=+r,n()):s},$f(e)}function Bf(){var t=HC(BC());return t.copy=function(){return $C(t,Bf()).exponent(t.exponent())},Ff.apply(t,arguments),t}function WC(){return Bf.apply(null,arguments).exponent(.5)}function XC(){var t=0,e=1,s,n,r,o,i=Xt,a=!1,l;function c(u){return u==null||isNaN(u=+u)?l:i(r===0?.5:(u=(o(u)-s)*r,a?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,s=o(t=+t),n=o(e=+e),r=s===n?0:1/(n-s),c):[t,e]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(i=u,c):i};function d(u){return function(f){var p,y;return arguments.length?([p,y]=f,i=u(p,y),c):[i(0),i(1)]}}return c.range=d(ni),c.rangeRound=d(Cf),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,s=u(t),n=u(e),r=s===n?0:1/(n-s),c}}function qC(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zf(){var t=$f(XC()(Xt));return t.copy=function(){return qC(t,zf())},DC.apply(t,arguments)}function Nr(t){for(var e=t.length/6|0,s=new Array(e),n=0;n<e;)s[n]="#"+t.slice(n*6,++n*6);return s}const ZC=Nr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ii(t){var e=t.length;return function(s){return t[Math.max(0,Math.min(e-1,Math.floor(s*e)))]}}const KC=ii(Nr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ii(Nr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));ii(Nr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));ii(Nr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Hr=t=>()=>t;function JC(t,{sourceEvent:e,target:s,transform:n,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:r}})}function us(t,e,s){this.k=t,this.x=e,this.y=s}us.prototype={constructor:us,scale:function(t){return t===1?this:new us(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new us(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ai=new us(1,0,0);jf.prototype=us.prototype;function jf(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ai;return t.__zoom}function Fi(t){t.stopImmediatePropagation()}function Bn(t){t.preventDefault(),t.stopImmediatePropagation()}function YC(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function QC(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Pd(){return this.__zoom||ai}function eS(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tS(){return navigator.maxTouchPoints||"ontouchstart"in this}function sS(t,e,s){var n=t.invertX(e[0][0])-s[0][0],r=t.invertX(e[1][0])-s[1][0],o=t.invertY(e[0][1])-s[0][1],i=t.invertY(e[1][1])-s[1][1];return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function nS(){var t=YC,e=QC,s=sS,n=eS,r=tS,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Mk,c=Cr("start","zoom","end"),d,u,f,p=500,y=150,_=0,x=10;function v(S){S.property("__zoom",Pd).on("wheel.zoom",ee,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Z).filter(r).on("touchstart.zoom",U).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(S,M,T,F){var X=S.selection?S.selection():S;X.property("__zoom",Pd),S!==X?L(S,M,T,F):X.interrupt().each(function(){z(this,arguments).event(F).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function(S,M,T,F){v.scaleTo(S,function(){var X=this.__zoom.k,oe=typeof M=="function"?M.apply(this,arguments):M;return X*oe},T,F)},v.scaleTo=function(S,M,T,F){v.transform(S,function(){var X=e.apply(this,arguments),oe=this.__zoom,ue=T==null?A(X):typeof T=="function"?T.apply(this,arguments):T,K=oe.invert(ue),le=typeof M=="function"?M.apply(this,arguments):M;return s(E(w(oe,le),ue,K),X,i)},T,F)},v.translateBy=function(S,M,T,F){v.transform(S,function(){return s(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),i)},null,F)},v.translateTo=function(S,M,T,F,X){v.transform(S,function(){var oe=e.apply(this,arguments),ue=this.__zoom,K=F==null?A(oe):typeof F=="function"?F.apply(this,arguments):F;return s(ai.translate(K[0],K[1]).scale(ue.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof T=="function"?-T.apply(this,arguments):-T),oe,i)},F,X)};function w(S,M){return M=Math.max(o[0],Math.min(o[1],M)),M===S.k?S:new us(M,S.x,S.y)}function E(S,M,T){var F=M[0]-T[0]*S.k,X=M[1]-T[1]*S.k;return F===S.x&&X===S.y?S:new us(S.k,F,X)}function A(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function L(S,M,T,F){S.on("start.zoom",function(){z(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(F).end()}).tween("zoom",function(){var X=this,oe=arguments,ue=z(X,oe).event(F),K=e.apply(X,oe),le=T==null?A(K):typeof T=="function"?T.apply(X,oe):T,Te=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),Ae=X.__zoom,ce=typeof M=="function"?M.apply(X,oe):M,ge=l(Ae.invert(le).concat(Te/Ae.k),ce.invert(le).concat(Te/ce.k));return function(I){if(I===1)I=ce;else{var te=ge(I),se=Te/te[2];I=new us(se,le[0]-te[0]*se,le[1]-te[1]*se)}ue.zoom(null,I)}})}function z(S,M,T){return!T&&S.__zooming||new j(S,M)}function j(S,M){this.that=S,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,M),this.taps=0}j.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,M){return this.mouse&&S!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var M=_t(this.that).datum();c.call(S,this.that,new JC(S,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),M)}};function ee(S,...M){if(!t.apply(this,arguments))return;var T=z(this,M).event(S),F=this.__zoom,X=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,n.apply(this,arguments)))),oe=is(S);if(T.wheel)(T.mouse[0][0]!==oe[0]||T.mouse[0][1]!==oe[1])&&(T.mouse[1]=F.invert(T.mouse[0]=oe)),clearTimeout(T.wheel);else{if(F.k===X)return;T.mouse=[oe,F.invert(oe)],no(this),T.start()}Bn(S),T.wheel=setTimeout(ue,y),T.zoom("mouse",s(E(w(F,X),T.mouse[0],T.mouse[1]),T.extent,i));function ue(){T.wheel=null,T.end()}}function W(S,...M){if(f||!t.apply(this,arguments))return;var T=S.currentTarget,F=z(this,M,!0).event(S),X=_t(S.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",Te,!0),oe=is(S,T),ue=S.clientX,K=S.clientY;bf(S.view),Fi(S),F.mouse=[oe,this.__zoom.invert(oe)],no(this),F.start();function le(Ae){if(Bn(Ae),!F.moved){var ce=Ae.clientX-ue,ge=Ae.clientY-K;F.moved=ce*ce+ge*ge>_}F.event(Ae).zoom("mouse",s(E(F.that.__zoom,F.mouse[0]=is(Ae,T),F.mouse[1]),F.extent,i))}function Te(Ae){X.on("mousemove.zoom mouseup.zoom",null),vf(Ae.view,F.moved),Bn(Ae),F.event(Ae).end()}}function Z(S,...M){if(t.apply(this,arguments)){var T=this.__zoom,F=is(S.changedTouches?S.changedTouches[0]:S,this),X=T.invert(F),oe=T.k*(S.shiftKey?.5:2),ue=s(E(w(T,oe),F,X),e.apply(this,M),i);Bn(S),a>0?_t(this).transition().duration(a).call(L,ue,F,S):_t(this).call(v.transform,ue,F,S)}}function U(S,...M){if(t.apply(this,arguments)){var T=S.touches,F=T.length,X=z(this,M,S.changedTouches.length===F).event(S),oe,ue,K,le;for(Fi(S),ue=0;ue<F;++ue)K=T[ue],le=is(K,this),le=[le,this.__zoom.invert(le),K.identifier],X.touch0?!X.touch1&&X.touch0[2]!==le[2]&&(X.touch1=le,X.taps=0):(X.touch0=le,oe=!0,X.taps=1+!!d);d&&(d=clearTimeout(d)),oe&&(X.taps<2&&(u=le[0],d=setTimeout(function(){d=null},p)),no(this),X.start())}}function R(S,...M){if(this.__zooming){var T=z(this,M).event(S),F=S.changedTouches,X=F.length,oe,ue,K,le;for(Bn(S),oe=0;oe<X;++oe)ue=F[oe],K=is(ue,this),T.touch0&&T.touch0[2]===ue.identifier?T.touch0[0]=K:T.touch1&&T.touch1[2]===ue.identifier&&(T.touch1[0]=K);if(ue=T.that.__zoom,T.touch1){var Te=T.touch0[0],Ae=T.touch0[1],ce=T.touch1[0],ge=T.touch1[1],I=(I=ce[0]-Te[0])*I+(I=ce[1]-Te[1])*I,te=(te=ge[0]-Ae[0])*te+(te=ge[1]-Ae[1])*te;ue=w(ue,Math.sqrt(I/te)),K=[(Te[0]+ce[0])/2,(Te[1]+ce[1])/2],le=[(Ae[0]+ge[0])/2,(Ae[1]+ge[1])/2]}else if(T.touch0)K=T.touch0[0],le=T.touch0[1];else return;T.zoom("touch",s(E(ue,K,le),T.extent,i))}}function G(S,...M){if(this.__zooming){var T=z(this,M).event(S),F=S.changedTouches,X=F.length,oe,ue;for(Fi(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),oe=0;oe<X;++oe)ue=F[oe],T.touch0&&T.touch0[2]===ue.identifier?delete T.touch0:T.touch1&&T.touch1[2]===ue.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(ue=is(ue,this),Math.hypot(u[0]-ue[0],u[1]-ue[1])<x)){var K=_t(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return v.wheelDelta=function(S){return arguments.length?(n=typeof S=="function"?S:Hr(+S),v):n},v.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Hr(!!S),v):t},v.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Hr(!!S),v):r},v.extent=function(S){return arguments.length?(e=typeof S=="function"?S:Hr([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),v):e},v.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],v):[o[0],o[1]]},v.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(S){return arguments.length?(s=S,v):s},v.duration=function(S){return arguments.length?(a=+S,v):a},v.interpolate=function(S){return arguments.length?(l=S,v):l},v.on=function(){var S=c.on.apply(c,arguments);return S===c?v:S},v.clickDistance=function(S){return arguments.length?(_=(S=+S)*S,v):Math.sqrt(_)},v.tapDistance=function(S){return arguments.length?(x=+S,v):x},v}const Ee={WIDTH:800,HEIGHT:600,NODE_RADIUS:8,LINK_DISTANCE:100,CHARGE_STRENGTH:-300,MIN_RADIUS:4,MAX_RADIUS:20,COLLISION_PADDING:2,COLLISION_STRENGTH:.7,LINK_STRENGTH:.5,ZOOM_MIN:.1,ZOOM_MAX:4,RESIZE_DEBOUNCE_MS:150,TOOLTIP_PADDING:12,TOOLTIP_DURATION:150,TOOLTIP_MAX_WIDTH:280,DRAG_ALPHA_TARGET:.3,SIMULATION_ALPHA:1,SIMULATION_RESTART_ALPHA:.3,LABEL_VISIBILITY_THRESHOLD:.5};function gt(t){return typeof t=="string"?t:t?.id||String(t)}function bs(t){const e=gt(t.source),s=gt(t.target);return e<s?`${e}-${s}`:`${s}-${e}`}function rS(t,e){let s;return function(...r){const o=()=>{clearTimeout(s),t(...r)};clearTimeout(s),s=setTimeout(o,e)}}class oS{constructor(e,s={}){if(this.container=typeof e=="string"?document.querySelector(e):e,!this.container)throw new Error("NetworkGraphD3: Container not found");this.log=Lt({prefix:"NetworkGraphD3",level:"info"}),this.options={width:s.width||Ee.WIDTH,height:s.height||Ee.HEIGHT,nodeRadius:s.nodeRadius||Ee.NODE_RADIUS,linkDistance:s.linkDistance||Ee.LINK_DISTANCE,chargeStrength:s.chargeStrength||Ee.CHARGE_STRENGTH,sizeBy:s.sizeBy||null,minRadius:s.minRadius||Ee.MIN_RADIUS,maxRadius:s.maxRadius||Ee.MAX_RADIUS,colorBy:s.colorBy||"group",colorScheme:s.colorScheme||"categorical",showLabels:s.showLabels!==!1,tooltipBuilder:s.tooltipBuilder||null,renderMode:s.renderMode||"colors",...s},this.options.minRadius>=this.options.maxRadius&&(this.log.warn("minRadius should be less than maxRadius, adjusting..."),this.options.minRadius=Math.min(this.options.minRadius,this.options.maxRadius-1)),this.data={nodes:[],links:[]},this.svg=null,this.simulation=null,this.isDestroyed=!1,this.isReady=!1,this.isRendering=!1,this.selectedNode=null,this.sizeScale=null,this.colorScale=null,this.resizeHandler=null,this.darkModeQuery=null,this.darkModeHandler=null,this.tooltip=null,this.currentTooltipNode=null,this.linkKeyCache=new Map,this.stabilizationCheckFrame=null,this.lastAlpha=1,this.stableTickCount=0,this.requiredStableTicks=10,this.stabilizationThreshold=.01,this.init()}init(){this.log.debug("Initializing graph",{width:this.options.width,height:this.options.height}),this.svg=_t(this.container).append("svg").attr("width",this.options.width).attr("height",this.options.height).attr("viewBox",`0 0 ${this.options.width} ${this.options.height}`).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label","Network graph visualization").style("background","transparent").style("opacity",0).style("visibility","hidden").attr("class","network-graph-svg"),this.g=this.svg.append("g").attr("class","main-group"),this.linkGroup=this.g.append("g").attr("class","links").attr("aria-label","Graph links"),this.nodeGroup=this.g.append("g").attr("class","nodes").attr("aria-label","Graph nodes"),this.options.showLabels&&(this.labelGroup=this.g.append("g").attr("class","labels").attr("aria-label","Node labels")),this.createTooltip(),this.zoomBehavior=nS().scaleExtent([Ee.ZOOM_MIN,Ee.ZOOM_MAX]).on("zoom",e=>{this.g.attr("transform",e.transform),this.currentZoom=e.transform.k,this.updateLabelVisibility()}),this.svg.call(this.zoomBehavior),this.currentZoom=1,this.svg.on("click",e=>{e.target===this.svg.node()&&this.deselectNode()}),this.simulation=xC().force("link",fC().id(e=>e.id).distance(this.options.linkDistance).strength(Ee.LINK_STRENGTH)).force("charge",wC().strength(this.options.chargeStrength)).force("center",xd(this.options.width/2,this.options.height/2)).force("collision",uC().radius(e=>this.getNodeRadius(e)+Ee.COLLISION_PADDING).strength(Ee.COLLISION_STRENGTH)).on("tick",()=>this.onTick()).on("end",()=>this.onSimulationEnd()),this.resizeHandler=rS(()=>this.handleResize(),Ee.RESIZE_DEBOUNCE_MS),window.addEventListener("resize",this.resizeHandler)}setData(e,s){if(this.isDestroyed){this.log.warn("Cannot set data on destroyed instance");return}if(!Array.isArray(e))throw new Error("NetworkGraphD3: nodes must be an array");if(!Array.isArray(s))throw new Error("NetworkGraphD3: links must be an array");const n=e.filter(r=>!r||!r.id);n.length>0&&this.log.warn(`Found ${n.length} nodes without id property`),this.log.debug("Setting graph data",{nodeCount:e.length,linkCount:s.length}),this.data.nodes=e,this.data.links=s.map(r=>({...r,source:gt(r.source),target:gt(r.target)})),this.linkKeyCache.clear(),this.selectedNode=null,this.computeScales(),this.updateGraph()}computeScales(){if(!this.data.nodes||this.data.nodes.length===0)return;if(this.options.sizeBy){const n=this.data.nodes.map(r=>r[this.options.sizeBy]).filter(r=>r!=null);if(n.length>0){const r=Math.min(...n),o=Math.max(...n);this.sizeScale=WC().domain([r,o]).range([this.options.minRadius,this.options.maxRadius]).clamp(!0)}}const e=this.options.colorBy,s=this.data.nodes.map(n=>n[e]).filter(n=>n!=null);if(s.length>0){const n=s.every(r=>typeof r=="number");if(this.options.colorScheme==="sequential"||n){const r=Math.min(...s),o=Math.max(...s);this.colorScale=zf(KC).domain([r,o])}else{const r=[...new Set(s)];this.colorScale=Vf().domain(r).range(ZC)}}}updateVisualEncoding(e={}){e.sizeBy!==void 0&&(this.options.sizeBy=e.sizeBy),e.minRadius!==void 0&&(this.options.minRadius=e.minRadius),e.maxRadius!==void 0&&(this.options.maxRadius=e.maxRadius),e.colorBy!==void 0&&(this.options.colorBy=e.colorBy),e.colorScheme!==void 0&&(this.options.colorScheme=e.colorScheme);const s=e.preserveZoom!==!1;let n=null;s&&this.g&&(n=jf(this.svg.node())),this.computeScales(),this.node&&this.node.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)),this.simulation&&this.simulation.force("collision").radius(r=>this.getNodeRadius(r)+Ee.COLLISION_PADDING),s&&n&&this.zoomBehavior&&this.svg&&(this.svg.call(this.zoomBehavior.transform,n),this.g.attr("transform",n),this.currentZoom=n.k)}setRenderMode(e){if(e!=="colors"&&e!=="avatars"){this.log.warn(`Invalid render mode: ${e}. Must be 'colors' or 'avatars'`);return}this.options.renderMode=e,this.log.debug(`Render mode changed to: ${e}`),this.nodeGroup&&(this.nodeGroup.selectAll("circle").remove(),this.nodeGroup.selectAll("text").remove(),this.node=null),this.labelGroup&&(this.labelGroup.selectAll("text").remove(),this.label=null),this.updateGraph()}updateNodeStatistics(e,s="eigenvector",n=!0){if(!e||!Array.isArray(e)){this.log.warn("updateNodeStatistics: enrichedNodes must be an array");return}const r=new Map;e.forEach(i=>{r.set(i.id,i)});let o=!1;this.data.nodes.forEach(i=>{const a=r.get(i.id);a&&(Object.keys(a).forEach(l=>{l!=="x"&&l!=="y"&&l!=="vx"&&l!=="vy"&&l!=="fx"&&l!=="fy"&&(i[l]=a[l])}),a.eigenvector!==void 0&&(o=!0))}),o&&s==="eigenvector"?this.updateVisualEncoding({sizeBy:"eigenvector",preserveZoom:n}):(this.computeScales(),this.node&&this.node.attr("r",i=>this.getNodeRadius(i)).attr("fill",i=>this.getNodeColor(i)),this.simulation&&this.simulation.force("collision").radius(i=>this.getNodeRadius(i)+Ee.COLLISION_PADDING)),this.log.debug("Node statistics updated",{nodeCount:e.length,sizingBy:o?s:"none"})}updateGraph(){if(!this.data.nodes||!this.data.links)return;this.isReady=!1,this.isRendering=!1,this.stableTickCount=0,this.lastAlpha=1,this.svg&&this.svg.style("opacity",0).style("visibility","hidden"),this.link=this.linkGroup.selectAll("line").data(this.data.links,r=>bs(r)),this.link.exit().remove();const e=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("aria-label",r=>`Link from ${gt(r.source)} to ${gt(r.target)}`);this.link=e.merge(this.link);const s=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(s).data(this.data.nodes,r=>r.id),this.node.exit().remove();const n=this.node.enter().append(s);if(this.options.renderMode==="avatars"?n.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",r=>`${this.getNodeRadius(r)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",r=>`Node ${r.id}`).text(r=>r.avatar||"").attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(r,o)=>this.onNodeMouseOver(r,o)).on("mouseout",(r,o)=>this.onNodeMouseOut(r,o)).on("click",(r,o)=>{r.stopPropagation(),this.toggleNodeSelection(o),this.emit("nodeClick",o)}).on("keydown",(r,o)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),this.toggleNodeSelection(o),this.emit("nodeClick",o))}):n.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",r=>`Node ${r.id}`).call(this.createDragBehavior()).on("mouseover",(r,o)=>this.onNodeMouseOver(r,o)).on("mouseout",(r,o)=>this.onNodeMouseOut(r,o)).on("click",(r,o)=>{r.stopPropagation(),this.toggleNodeSelection(o),this.emit("nodeClick",o)}).on("keydown",(r,o)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),this.toggleNodeSelection(o),this.emit("nodeClick",o))}),this.node=n.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",r=>`${this.getNodeRadius(r)*2}px`).text(r=>r.avatar||"").attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)*.5):this.node.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)).attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)),this.simulation.force("collision").radius(r=>this.getNodeRadius(r)+Ee.COLLISION_PADDING),this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,o=>o.id),this.label.exit().remove();const r=this.label.enter().append("text").text(o=>o.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",o=>this.getNodeRadius(o)+15).attr("fill","var(--color-text-primary)").style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=r.merge(this.label),this.label.attr("dy",o=>this.getNodeRadius(o)+15),this.updateLabelVisibility()}this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),requestAnimationFrame(()=>{this.isRendering=!0,this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})}onTick(){this.isDestroyed||!this.isRendering&&!this.isReady||(this.link&&this.link.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),this.node&&(this.options.renderMode==="avatars"?this.node.attr("x",e=>e.x).attr("y",e=>e.y):this.node.attr("cx",e=>e.x).attr("cy",e=>e.y)),this.label&&this.label.attr("x",e=>e.x).attr("y",e=>e.y),!this.isReady&&this.simulation&&this.checkStabilization())}checkStabilization(){if(!this.simulation||this.isDestroyed)return;const e=this.simulation.alpha();e<this.stabilizationThreshold?this.stableTickCount++:this.stableTickCount=0,this.stableTickCount>=this.requiredStableTicks?this.markAsReady():this.stabilizationCheckFrame||(this.stabilizationCheckFrame=requestAnimationFrame(()=>{this.stabilizationCheckFrame=null})),this.lastAlpha=e}onSimulationEnd(){this.isDestroyed||this.markAsReady()}markAsReady(){this.isReady||this.isDestroyed||(this.log.debug("Graph marked as ready"),this.isReady=!0,this.isRendering=!0,this.svg&&this.svg.style("opacity",1).style("visibility","visible"),this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.fitToView(),this.emit("ready")})}))}createDragBehavior(){return ok().on("start",(e,s)=>{e.active||this.simulation.alphaTarget(Ee.DRAG_ALPHA_TARGET).restart(),s.fx=s.x,s.fy=s.y,this.emit("nodeDragStart",s)}).on("drag",(e,s)=>{s.fx=e.x,s.fy=e.y,this.emit("nodeDrag",s)}).on("end",(e,s)=>{e.active||this.simulation.alphaTarget(0),this.emit("nodeDragEnd",s)})}isDarkMode(){return document.documentElement.classList.contains("dark")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}updateTooltipStyles(e){this.tooltip&&this.tooltip.style("background",e?"rgba(17, 24, 39, 0.95)":"rgba(0, 0, 0, 0.9)").style("color",e?"#f9fafb":"#fff").style("box-shadow",e?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.3)").style("border",e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.2)")}createTooltip(){this.tooltip&&this.tooltip.remove(),this.darkModeQuery&&this.darkModeHandler&&this.darkModeQuery.removeEventListener("change",this.darkModeHandler);const e=this.isDarkMode();this.tooltip=_t("body").append("div").attr("class","network-graph-tooltip").attr("role","tooltip").attr("aria-hidden","true").style("position","absolute").style("padding","10px 14px").style("border-radius","8px").style("font-size","12px").style("font-family","system-ui, -apple-system, sans-serif").style("pointer-events","none").style("opacity",0).style("visibility","hidden").style("z-index",1e3).style("max-width",`${Ee.TOOLTIP_MAX_WIDTH}px`).style("line-height","1.6").style("backdrop-filter","blur(8px)"),this.updateTooltipStyles(e),window.matchMedia&&(this.darkModeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeHandler=s=>{!this.isDestroyed&&this.tooltip&&this.updateTooltipStyles(s.matches)},this.darkModeQuery.addEventListener("change",this.darkModeHandler))}showTooltip(e,s){if(!this.tooltip||this.isDestroyed)return;const n=this.options.tooltipBuilder?this.options.tooltipBuilder(s):this.buildTooltipContent(s);this.tooltip.html(n);const r=e.clientX||e.pageX,o=e.clientY||e.pageY;this.tooltip.style("opacity",0).style("visibility","visible").attr("aria-hidden","false");const i=this.tooltip.node();if(!i)return;const a=i.offsetWidth||200,l=i.offsetHeight||100,c=Ee.TOOLTIP_PADDING;let d=r+c,u=o-l-c;const f=window.innerWidth,p=window.innerHeight;d+a>f-c&&(d=r-a-c),d<c&&(d=r+c),u<c&&(u=o+c),u+l>p-c&&(u=o-l-c),this.tooltip.style("left",`${d}px`).style("top",`${u}px`).transition().duration(Ee.TOOLTIP_DURATION).style("opacity",1),this.currentTooltipNode=s}hideTooltip(){this.tooltip&&(this.tooltip.transition().duration(Ee.TOOLTIP_DURATION).style("opacity",0).on("end",function(){_t(this).style("visibility","hidden").attr("aria-hidden","true")}),this.currentTooltipNode=null)}updateLabelVisibility(){if(!this.label||!this.options.showLabels)return;const e=this.currentZoom>=Ee.LABEL_VISIBILITY_THRESHOLD;this.label.style("opacity",e?1:0).style("visibility",e?"visible":"hidden")}buildTooltipContent(e){if(!e)return"";const s=[];s.push(`<div style="font-weight: 600; margin-bottom: 6px; font-size: 13px;"> ${e.id}</div>`);const n=new Set(["id","x","y","fx","fy","vx","vy","index","__data__","__transition__"]),r=["relationship","gender","avatar","group","community"],o=["degree","eigenvector","betweenness","clustering","closeness","centrality"];r.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!n.has(l)){const c=e[l];let d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="relationship")s.push(`<div style="margin-bottom: 3px;"><strong> Relationship:</strong> ${this.escapeHtml(c)}</div>`);else if(l==="gender"){const f={male:{emoji:"",text:"Male"},female:{emoji:"",text:"Female"},other:{emoji:"",text:"Other"}}[c]||{emoji:"",text:c};s.push(`<div style="margin-bottom: 3px;"><strong>Gender:</strong> ${f.emoji} ${f.text}</div>`)}else l==="avatar"?s.push(`<div style="margin-bottom: 3px;"><strong>Avatar:</strong> ${c}</div>`):l==="group"?s.push(`<div style="margin-bottom: 3px;"><strong>Group:</strong> ${c}</div>`):l==="community"?s.push(`<div style="margin-bottom: 3px;"><strong> Community:</strong> ${c}</div>`):s.push(`<div style="margin-bottom: 3px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}}),o.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!n.has(l)){const c=e[l],d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="centrality"&&e.eigenvector!==void 0)return;typeof c=="number"?s.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${c.toFixed(4)}</div>`):s.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}});const i=new Set([...r,...o,"x","y"]),a=Object.keys(e).filter(l=>!n.has(l)&&!i.has(l)&&e[l]!==void 0&&e[l]!==null&&typeof e[l]!="function"&&!l.startsWith("__")).sort();return a.length>0&&(s.push(`<div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid ${this.isDarkMode()?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.1)"}; font-size: 11px;">`),s.push(`<div style="margin-bottom: 4px; font-weight: 600; color: ${this.isDarkMode()?"rgba(249,250,251,0.8)":"rgba(0,0,0,0.7)"};">Other Properties:</div>`),a.forEach(l=>{const c=e[l];let d;typeof c=="object"&&c!==null?Array.isArray(c)?d=`[${c.length} items]`:d=`{${Object.keys(c).length} keys}`:d=String(c);const u=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");s.push(`<div style="margin-bottom: 2px; font-family: monospace; font-size: 10px;"><strong>${u}:</strong> ${this.escapeHtml(d)}</div>`)}),s.push("</div>")),e.x!==void 0&&e.y,s.join("")}escapeHtml(e){const s=document.createElement("div");return s.textContent=e,s.innerHTML}onNodeMouseOver(e,s){_t(e.currentTarget).attr("stroke-width",4).attr("stroke","#fbbf24"),this.showTooltip(e,s),this.emit("nodeHover",s)}onNodeMouseOut(e,s){_t(e.currentTarget).attr("stroke-width",this.getNodeStrokeWidth(s)).attr("stroke",this.getNodeStrokeColor(s)),this.hideTooltip(),this.emit("nodeLeave",s)}getNodeRadius(e){if(this.options.sizeBy&&this.sizeScale){const s=e[this.options.sizeBy];if(s!=null)return this.sizeScale(s)}return this.options.nodeRadius}getNodeColor(e){if(this.options.customColorFunction){const o=this.options.customColorFunction(e);if(o)return o}const s=this.options.colorBy;if(this.colorScale){const o=e[s];if(o!=null)return this.colorScale(o)}const n=e.group||0,r=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return r[(n-1)%r.length]}getNodeStrokeColor(e){return this.selectedNode&&this.selectedNode.id===e.id?"#fb923c":"#fff"}getNodeStrokeWidth(e){return this.selectedNode&&this.selectedNode.id===e.id?3:2}toggleNodeSelection(e){this.selectedNode&&this.selectedNode.id===e.id?this.deselectNode():this.selectNode(e)}selectNode(e){if(!e)return;const s=this.selectedNode;s&&(s.fx=null,s.fy=null),this.selectedNode=e,this.node&&this.node.attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)),this.log.debug("Node selected",{nodeId:e.id}),this.emit("nodeSelected",{node:e,previousSelection:s})}deselectNode(){if(!this.selectedNode)return;const e=this.selectedNode;e.fx=null,e.fy=null,this.selectedNode=null,this.node&&this.node.attr("stroke",s=>this.getNodeStrokeColor(s)).attr("stroke-width",s=>this.getNodeStrokeWidth(s)),this.simulation&&this.simulation.alpha(.3).restart(),this.log.debug("Node deselected",{nodeId:e.id}),this.emit("nodeDeselected",{previousSelection:e})}getSelectedNode(){return this.selectedNode}handleResize(){if(this.isDestroyed||!this.container)return;const e=this.container.getBoundingClientRect(),s=e.width||this.options.width,n=e.height||this.options.height;s===this.options.width&&n===this.options.height||(this.options.width=s,this.options.height=n,this.svg&&this.svg.attr("width",s).attr("height",n).attr("viewBox",`0 0 ${s} ${n}`),this.simulation&&this.simulation.force("center",xd(s/2,n/2)).alpha(Ee.SIMULATION_RESTART_ALPHA).restart(),this.emit("resize",{width:s,height:n}))}emit(e,s){this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(n=>n(s))}on(e,s){this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(s)}off(e,s){this.eventHandlers&&this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter(n=>n!==s))}addNodeIncremental(e=[],s=null,n=null){const r=s||`Node${this.data.nodes.length+1}`,o=n!==null?n:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const d=this.data.nodes.filter(u=>e.includes(u.id));if(d.length>0){i=d.reduce((p,y)=>p+y.x,0)/d.length,a=d.reduce((p,y)=>p+y.y,0)/d.length;const u=Math.random()*2*Math.PI,f=50+Math.random()*50;i+=Math.cos(u)*f,a+=Math.sin(u)*f}}const l={id:r,group:o,centrality:.5,x:i,y:a,fx:i,fy:a};this.data.nodes.push(l);const c=[];if(e.forEach(d=>{if(this.data.nodes.find(u=>u.id===d)){const u={source:r,target:d};this.data.links.push(u),c.push(u)}}),this.computeScales(),this.nodeGroup){const d=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(d).data(this.data.nodes,f=>f.id);const u=this.node.enter().append(d);this.options.renderMode==="avatars"?u.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("x",f=>f.x).attr("y",f=>f.y).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}):u.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("cx",f=>f.x).attr("cy",f=>f.y).call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}),this.node=u.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5):this.node.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f))}if(this.linkGroup&&c.length>0){this.link=this.linkGroup.selectAll("line").data(this.data.links,u=>bs(u));const d=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.x||0).attr("y1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.y||0).attr("x2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.x||0).attr("y2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.y||0).attr("aria-label",u=>`Link from ${gt(u.source)} to ${gt(u.target)}`);this.link=d.merge(this.link)}if(this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,u=>u.id);const d=this.label.enter().append("text").text(u=>u.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",u=>this.getNodeRadius(u)+15).attr("fill","var(--color-text-primary)").attr("x",u=>u.x).attr("y",u=>u.y).style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=d.merge(this.label),this.label.attr("dy",u=>this.getNodeRadius(u)+15),this.updateLabelVisibility()}return this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(d=>this.getNodeRadius(d)+Ee.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),setTimeout(()=>{const d=this.data.nodes.find(u=>u.id===r);d&&(d.fx=null,d.fy=null,this.simulation.alpha(.3).restart())},1e3),l}addNode(e=[],s=null,n=null){const r=s||`Node${this.data.nodes.length+1}`,o=n!==null?n:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const c=this.data.nodes.filter(d=>e.includes(d.id));if(c.length>0){i=c.reduce((f,p)=>f+p.x,0)/c.length,a=c.reduce((f,p)=>f+p.y,0)/c.length;const d=Math.random()*2*Math.PI,u=50+Math.random()*50;i+=Math.cos(d)*u,a+=Math.sin(d)*u}}const l={id:r,group:o,centrality:.5,x:i,y:a,fx:i,fy:a};return this.data.nodes.push(l),e.forEach(c=>{this.data.nodes.find(d=>d.id===c)&&this.data.links.push({source:r,target:c})}),this.updateGraph(),setTimeout(()=>{const c=this.data.nodes.find(d=>d.id===r);c&&(c.fx=null,c.fy=null,this.simulation.alpha(.3).restart())},1e3),l}removeNode(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(n=>n.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(n=>{const r=gt(n.source),o=gt(n.target);return r!==e&&o!==e}),this.linkKeyCache.clear(),this.updateGraph(),this.emit("nodeRemoved",e),!0)}removeNodeIncremental(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(n=>n.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(n=>{const r=gt(n.source),o=gt(n.target);return r!==e&&o!==e}),this.linkKeyCache.clear(),this.computeScales(),this.nodeGroup&&(this.node=this.nodeGroup.selectAll("circle").data(this.data.nodes,n=>n.id),this.node.exit().remove()),this.linkGroup&&(this.link=this.linkGroup.selectAll("line").data(this.data.links,n=>bs(n)),this.link.exit().remove()),this.options.showLabels&&this.labelGroup&&(this.label=this.labelGroup.selectAll("text").data(this.data.nodes,n=>n.id),this.label.exit().remove()),this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(n=>this.getNodeRadius(n)+Ee.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),this.emit("nodeRemoved",e),!0)}addLinkIncremental(e,s){if(!e||!s)return!1;const n=this.data.nodes.find(l=>l.id===e),r=this.data.nodes.find(l=>l.id===s);if(!n||!r)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const o={source:e,target:s},i=bs(o);if(this.data.links.some(l=>bs(l)===i))return this.log.debug(`Link already exists: ${e} -> ${s}`),!1;if(this.data.links.push(o),this.linkGroup){this.link=this.linkGroup.selectAll("line").data(this.data.links,c=>bs(c));const l=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.x||0).attr("y1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.y||0).attr("x2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.x||0).attr("y2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.y||0).attr("aria-label",c=>`Link from ${gt(c.source)} to ${gt(c.target)}`);this.link=l.merge(this.link)}return this.simulation.force("link").links(this.data.links),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),this.emit("linkAdded",{source:e,target:s}),!0}addLink(e,s){if(!e||!s)return!1;const n=this.data.nodes.some(l=>l.id===e),r=this.data.nodes.some(l=>l.id===s);if(!n||!r)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const o={source:e,target:s},i=bs(o);return this.data.links.some(l=>bs(l)===i)?(this.log.debug(`Link already exists: ${e} -> ${s}`),!1):(this.data.links.push(o),this.updateGraph(),this.emit("linkAdded",{source:e,target:s}),!0)}getNodeIds(){return this.data.nodes.map(e=>e.id)}hasNode(e){return this.data.nodes.some(s=>s.id===e)}fitToView(){if(!this.data.nodes||this.data.nodes.length===0||!this.svg)return;let e=1/0,s=1/0,n=-1/0,r=-1/0;if(this.data.nodes.forEach(w=>{if(w.x!==void 0&&w.y!==void 0){const E=this.getNodeRadius(w);e=Math.min(e,w.x-E),s=Math.min(s,w.y-E),n=Math.max(n,w.x+E),r=Math.max(r,w.y+E)}}),e===1/0||s===1/0)return;const o=50;e-=o,s-=o,n+=o,r+=o;const i=n-e,a=r-s,l=(e+n)/2,c=(s+r)/2,d=this.options.width,u=this.options.height,f=d/i,p=u/a,y=Math.min(f,p,Ee.ZOOM_MAX)*.9,_=d/2-l*y,x=u/2-c*y,v=ai.translate(_,x).scale(y);this.zoomBehavior&&this.svg&&this.svg.call(this.zoomBehavior.transform,v),this.g.attr("transform",v),this.currentZoom=y,this.updateLabelVisibility(),this.log.debug("Fitted graph to view",{scale:y,translateX:_,translateY:x})}lockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to lock");return}this.data.nodes.forEach(e=>{e.x!==void 0&&e.y!==void 0&&(e.fx=e.x,e.fy=e.y)}),this.simulation&&this.simulation.alpha(0).alphaTarget(0),this.log.debug("Node positions locked"),this.emit("positionsLocked")}unlockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to unlock");return}this.data.nodes.forEach(e=>{e.fx=null,e.fy=null}),this.simulation&&this.simulation.alpha(.3).alphaTarget(0).restart(),this.log.debug("Node positions unlocked"),this.emit("positionsUnlocked")}saveAsPNG(e="network-graph.png"){if(!this.svg||this.isDestroyed){this.log.warn("Cannot save PNG - graph not available");return}try{const s=this.svg.node();if(!s){this.log.warn("SVG element not found");return}const n=new XMLSerializer().serializeToString(s),r=new Image,o=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(o);r.onload=()=>{const a=document.createElement("canvas");a.width=this.options.width,a.height=this.options.height;const l=a.getContext("2d");l.fillStyle="white",l.fillRect(0,0,a.width,a.height),l.drawImage(r,0,0),a.toBlob(c=>{if(c){const d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=e,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d),this.log.info("PNG exported successfully",{filename:e})}},"image/png"),URL.revokeObjectURL(i)},r.onerror=()=>{this.log.error("Failed to load SVG for PNG export"),URL.revokeObjectURL(i)},r.src=i}catch(s){this.log.error("Failed to export PNG",{error:s.message,stack:s.stack})}}destroy(){this.isDestroyed||(this.log.debug("Destroying graph instance"),this.isDestroyed=!0,this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),this.simulation&&(this.simulation.stop(),this.simulation=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.darkModeQuery&&this.darkModeHandler&&(this.darkModeQuery.removeEventListener("change",this.darkModeHandler),this.darkModeQuery=null,this.darkModeHandler=null),this.svg&&(this.svg.remove(),this.svg=null),this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this.data={nodes:[],links:[]},this.linkKeyCache.clear(),this.eventHandlers={},this.log.info("Graph destroyed"))}}const tn={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},iS="info",Dd="sandbox_logging_filters",Md=["themeswitcher","codemirroreditor","editoradapter"];class aS{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||iS,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=tn[this.level.toUpperCase()]??tn.INFO,this.loggingManager=e.loggingManager,this.console=e.console||console,this.component&&this.loggingManager&&this.loggingManager.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&tn[e.toUpperCase()]<=this.currentLevel;const s=!this.component||!this.loggingManager||this.loggingManager.isComponentEnabled(this.component);return this.enabled&&s&&tn[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>this.redactValue(s)):e}redactValue(e){if(typeof e=="string")return e.replace(/\b[a-zA-Z0-9_-]{20,}\b/g,"[REDACTED]");if(Array.isArray(e))return e.map(s=>this.redactValue(s));if(e&&typeof e=="object"&&e.constructor===Object){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=this.redactValue(e[n]));return s}return e}formatMessage(e,...s){const n=this.prefix?`[${this.prefix}] `:"",r=this.redactArgs(s);return[n+e,...r]}error(e,...s){this.shouldLog("error")&&this.console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&this.console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&this.console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&this.console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&this.console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0;const r=this.formatMessage(e,...s);this.redactSecrets=n,this.console.trace(...r)}}table(e,s){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&this.console.log(n),this.console.table(e,s)}}group(e){this.shouldLog("info")&&this.console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&this.console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&this.console.groupEnd()}time(e){this.shouldLog("debug")&&this.console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&this.console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=tn[e.toUpperCase()]??tn.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}}let lS=class{constructor(e={}){this.storage=e.storage,this.console=e.console||console,this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.registeredComponents=new Set,this.storage&&this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),this.console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),this.console.log(" Logging disabled for ALL components (errors still show)")}status(){this.console.log(" Logging Status:"),this.console.log("  Global enabled:",this.globalEnabled),this.console.log("  Allow all:",this.allowAll),this.console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){this.console.log(" Available components to filter:"),Array.from(this.registeredComponents).sort().forEach(e=>{const s=this.isComponentEnabled(e);this.console.log(`  ${s?"":""} ${e}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents.add(e)}saveToStorage(){if(this.storage)try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};this.storage.setItem(Dd,JSON.stringify(e))}catch{}}loadFromStorage(){if(this.storage)try{const e=this.storage.getItem(Dd),s=JSON.parse(e||"{}");this.allowedComponents=new Set(s.allowedComponents||[]),this.allowAll=s.allowAll||!1,this.globalEnabled=s.globalEnabled!==!1,e||(this.allowedComponents=new Set(Md))}catch{this.allowedComponents=new Set(Md)}}};class Uf{getItem(e){throw new Error("StorageAdapter.getItem must be implemented")}setItem(e,s){throw new Error("StorageAdapter.setItem must be implemented")}removeItem(e){throw new Error("StorageAdapter.removeItem must be implemented")}}let cS=class extends Uf{constructor(){super(),this.storage=new Map}getItem(e){return this.storage.get(e)??null}setItem(e,s){this.storage.set(e,s)}removeItem(e){this.storage.delete(e)}},dS=class extends Uf{getItem(e){try{return localStorage.getItem(e)}catch{return null}}setItem(e,s){try{localStorage.setItem(e,s)}catch{}}removeItem(e){try{localStorage.removeItem(e)}catch{}}};function uS(){return typeof localStorage<"u"?new dS:new cS}let Hf=class{getGlobal(){throw new Error("GlobalAdapter.getGlobal must be implemented")}setGlobalProperty(e,s){throw new Error("GlobalAdapter.setGlobalProperty must be implemented")}hasGlobalProperty(e){throw new Error("GlobalAdapter.hasGlobalProperty must be implemented")}};class hS extends Hf{getGlobal(){return window}setGlobalProperty(e,s){window[e]=s}hasGlobalProperty(e){return e in window}}let fS=class extends Hf{getGlobal(){return globalThis}setGlobalProperty(e,s){globalThis[e]=s}hasGlobalProperty(e){return e in globalThis}};function pS(){return typeof window<"u"?new hS:new fS}const mS=uS(),gS=pS(),Bs=new lS({storage:mS,console});typeof window<"u"&&gS.setGlobalProperty("logFilter",{enable:(...t)=>Bs.enable(...t),disable:(...t)=>Bs.disable(...t),enableAll:()=>Bs.enableAll(),disableAll:()=>Bs.disableAll(),status:()=>Bs.status(),list:()=>Bs.listComponents()});function Ys(t={}){return new aS({...t,loggingManager:Bs})}class vl{constructor(){this.nodes=new Set,this.edges=[],this.adjacencyMap=new Map}addNode(e){return this.nodes.add(e),this}addNodesFrom(e){return e.forEach(s=>this.nodes.add(s)),this}removeNode(e){if(!this.nodes.has(e))throw new Error(`Node '${e}' does not exist in the graph`);return this.nodes.delete(e),this.edges=this.edges.filter(s=>s.u!==e&&s.v!==e),this.adjacencyMap.has(e)&&(Array.from(this.adjacencyMap.get(e).keys()).forEach(s=>{this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e)}),this.adjacencyMap.delete(e)),this}hasNode(e){return this.nodes.has(e)}addEdgesFrom(e){return e.forEach(([s,n,r=1])=>{this.addEdge(s,n,r)}),this}addEdge(e,s,n=1){this.nodes.add(e),this.nodes.add(s);const r={u:e,v:s,weight:n};return this.edges.push(r),this.adjacencyMap.has(e)||this.adjacencyMap.set(e,new Map),this.adjacencyMap.has(s)||this.adjacencyMap.set(s,new Map),this.adjacencyMap.get(e).set(s,n),this.adjacencyMap.get(s).set(e,n),this}getNeighbors(e){return this.adjacencyMap.has(e)?Array.from(this.adjacencyMap.get(e).keys()):[]}getAllEdges(){return this.edges}getNodeList(){return Array.from(this.nodes)}numberOfNodes(){return this.nodes.size}numberOfEdges(){return this.edges.length}removeEdge(e,s){const n=this.edges.findIndex(r=>r.u===e&&r.v===s||r.u===s&&r.v===e);if(n===-1)throw new Error(`Edge between '${e}' and '${s}' does not exist`);return this.edges.splice(n,1),this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).delete(s),this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e),this}hasEdge(e,s){return this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).has(s)}getEdgeWeight(e,s){return this.hasEdge(e,s)?this.adjacencyMap.get(e).get(s):null}updateEdgeWeight(e,s,n){if(!this.hasEdge(e,s))throw new Error(`Edge between '${e}' and '${s}' does not exist`);this.adjacencyMap.get(e).set(s,n),this.adjacencyMap.get(s).set(e,n);const r=this.edges.find(o=>o.u===e&&o.v===s||o.u===s&&o.v===e);return r&&(r.weight=n),this}degree(e){return this.adjacencyMap.has(e)?this.adjacencyMap.get(e).size:0}clear(){return this.nodes.clear(),this.edges=[],this.adjacencyMap.clear(),this}}class br{constructor(e){this.workerScript=e,this.worker=null}static create(e){if(typeof Worker<"u")return new xl(e);if(typeof require<"u")try{return require.resolve("worker_threads"),new yS(e)}catch{throw new Error("Worker Threads not available in this Node.js version")}else throw new Error("No worker support available in this environment")}static isSupported(){if(typeof Worker<"u")return!0;if(typeof require<"u")try{return require.resolve("worker_threads"),!0}catch{return!1}return!1}postMessage(e,s=[]){throw new Error("Must implement postMessage")}onMessage(e){throw new Error("Must implement onMessage")}onError(e){throw new Error("Must implement onError")}terminate(){throw new Error("Must implement terminate")}}class xl extends br{constructor(e){super(e),this.worker=new Worker(e,{type:"module"})}static fromCode(e){const s=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(s);return new xl(n)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.onmessage=s=>e(s.data)}onError(e){this.worker.onerror=s=>{e(new Error(s.message||"Worker error"))}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class yS extends br{constructor(e){super(e);const{Worker:s}=require("worker_threads");this.worker=new s(e)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.on("message",e)}onError(e){this.worker.on("error",s=>{e(s)}),this.worker.on("exit",s=>{s!==0&&e(new Error(`Worker stopped with exit code ${s}`))})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class _S{constructor(e={}){this.maxWorkers=e.maxWorkers||this.detectCPUCount(),this.workerScript=e.workerScript||this.getDefaultWorkerScript(),this.taskTimeout=e.taskTimeout||6e4,this.verbose=e.verbose||!1,this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.activeTasks=new Map,this.taskIdCounter=0,this.initialized=!1,this.log=Ys({prefix:"WorkerPool",level:this.verbose?"debug":"info"})}detectCPUCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;if(typeof require<"u")try{return require("os").cpus().length}catch{}return 4}getDefaultWorkerScript(){return typeof window<"u"?new URL("data:text/javascript;base64,LyoqCiAqIE5ldHdvcmsgV29ya2VyIC0gRXhlY3V0ZXMgY29tcHV0ZSBmdW5jdGlvbnMgZnJvbSBhbGdvcml0aG0gbW9kdWxlcwogKgogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqCiAqIC0gU3RhdGljYWxseSBpbXBvcnRzIGFsbCBhbGdvcml0aG0gbW9kdWxlcyB1cGZyb250CiAqIC0gQ3JlYXRlcyBhIHJlZ2lzdHJ5IHRoYXQgbWFwcyBtb2R1bGUgcGF0aHMgdG8gdGhlaXIgZXhwb3J0cwogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9CiAqIC0gV29ya2VyIGxvb2tzIHVwIG1vZHVsZSBmcm9tIHJlZ2lzdHJ5IGFuZCBleGVjdXRlcyBmdW5jdGlvbgogKgogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UKICogaW1wb3J0cyBhcmUga25vd24gYXQgYnVpbGQgdGltZS4KICoKICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcgogKi8KCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQpjb25zdCBsb2cgPSBjcmVhdGVMb2dnZXIoewogIHByZWZpeDogJ25ldHdvcmstd29ya2VyJywKICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsCn0pOwoKLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkKaW1wb3J0ICogYXMgbm9kZVN0YXRzQ29tcHV0ZSBmcm9tICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvbm9kZS1zdGF0cy5qcyc7CmltcG9ydCAqIGFzIGdyYXBoU3RhdHNDb21wdXRlIGZyb20gJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc7CgovLyBDb21tdW5pdHkgZGV0ZWN0aW9uIGFsZ29yaXRobXMKaW1wb3J0ICogYXMgbG91dmFpbkNvbXB1dGUgZnJvbSAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc7CgovLyBMYXlvdXQgYWxnb3JpdGhtcwppbXBvcnQgKiBhcyByYW5kb21Db21wdXRlIGZyb20gJy4uL2xheW91dHMvcmFuZG9tLmpzJzsKaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOwppbXBvcnQgKiBhcyBzcGlyYWxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc3BpcmFsLmpzJzsKaW1wb3J0ICogYXMgc2hlbGxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc2hlbGwuanMnOwppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7CmltcG9ydCAqIGFzIGZvcmNlRGlyZWN0ZWRDb21wdXRlIGZyb20gJy4uL2xheW91dHMvZm9yY2UtZGlyZWN0ZWQuanMnOwppbXBvcnQgKiBhcyBrYW1hZGFLYXdhaUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9rYW1hZGEta2F3YWkuanMnOwppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsKaW1wb3J0ICogYXMgbXVsdGlwYXJ0aXRlQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL211bHRpcGFydGl0ZS5qcyc7CmltcG9ydCAqIGFzIGJmc0NvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9iZnMuanMnOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBNT0RVTEUgUkVHSVNUUlkgLSBNYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNvbnN0IE1PRFVMRV9SRUdJU1RSWSA9IHsKICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkKICAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOiBub2RlU3RhdHNDb21wdXRlLAoKICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc6IGdyYXBoU3RhdHNDb21wdXRlLAoKICAvLyBDb21tdW5pdHkKICAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc6IGxvdXZhaW5Db21wdXRlLAoKICAvLyBMYXlvdXRzCiAgJy4uL2xheW91dHMvcmFuZG9tLmpzJzogcmFuZG9tQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9jaXJjdWxhci5qcyc6IGNpcmN1bGFyQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NoZWxsLmpzJzogc2hlbGxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NwZWN0cmFsLmpzJzogc3BlY3RyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsCiAgJy4uL2xheW91dHMva2FtYWRhLWthd2FpLmpzJzoga2FtYWRhS2F3YWlDb21wdXRlLAogICcuLi9sYXlvdXRzL2JpcGFydGl0ZS5qcyc6IGJpcGFydGl0ZUNvbXB1dGUsCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9iZnMuanMnOiBiZnNDb21wdXRlCn07CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIFdPUktFUiBNRVNTQUdFIEhBTkRMRVIKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLyoqCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcwogKi8Kc2VsZi5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihldmVudCkgewogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7CgogIHRyeSB7CiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdAogICAgaWYgKCFtb2R1bGUgfHwgIWZ1bmN0aW9uTmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFzazogbW9kdWxlIGFuZCBmdW5jdGlvbk5hbWUgYXJlIHJlcXVpcmVkJyk7CiAgICB9CgogICAgbG9nLmRlYnVnKCdQcm9jZXNzaW5nIHRhc2snLCB7CiAgICAgIGlkLAogICAgICBtb2R1bGUsCiAgICAgIGZ1bmN0aW9uTmFtZSwKICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDAKICAgIH0pOwoKICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZAogICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IChwcm9ncmVzcykgPT4gewogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBpZCwKICAgICAgICBzdGF0dXM6ICdwcm9ncmVzcycsCiAgICAgICAgcHJvZ3Jlc3M6IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSkgLy8gQ2xhbXAgdG8gWzAsIDFdCiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQogICAgY29uc3QgYWxnb3JpdGhtTW9kdWxlID0gTU9EVUxFX1JFR0lTVFJZW21vZHVsZV07CgogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBNb2R1bGUgJyR7bW9kdWxlfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5LiBgICsKICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWAKICAgICAgKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIGNvbnN0IGNvbXB1dGVGdW5jdGlvbiA9IGFsZ29yaXRobU1vZHVsZVtmdW5jdGlvbk5hbWVdOwoKICAgIGlmICghY29tcHV0ZUZ1bmN0aW9uIHx8IHR5cGVvZiBjb21wdXRlRnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsKICAgICAgICBgQXZhaWxhYmxlIGZ1bmN0aW9uczogJHtPYmplY3Qua2V5cyhhbGdvcml0aG1Nb2R1bGUpLmpvaW4oJywgJyl9YAogICAgICApOwogICAgfQoKICAgIC8vIEV4ZWN1dGUgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXB1dGVGdW5jdGlvbiguLi5hcmdzLCBwcm9ncmVzc0NhbGxiYWNrKTsKCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgaWQsCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywKICAgICAgcmVzdWx0CiAgICB9KTsKCiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vIFNlbmQgZXJyb3IKICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7CiAgICAgIGlkLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrCiAgICB9KTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBpZCwKICAgICAgc3RhdHVzOiAnZXJyb3InLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjawogICAgfSk7CiAgfQp9OwoKLyoqCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzCiAqLwpzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihlcnJvcikgewogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgewogICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ1dvcmtlciBlcnJvciBvY2N1cnJlZCcsCiAgICBzdGFjazogZXJyb3Iuc3RhY2sKICB9KTsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIHN0YXR1czogJ2Vycm9yJywKICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnCiAgfSk7Cn07CgovLyBMb2cgd29ya2VyIGluaXRpYWxpemF0aW9uCmxvZy5pbmZvKCdJbml0aWFsaXplZCcsIHsgbW9kdWxlQ291bnQ6IE9iamVjdC5rZXlzKE1PRFVMRV9SRUdJU1RSWSkubGVuZ3RoIH0pOwo=",import.meta.url).href:typeof require<"u"?require("path").join(__dirname,"network-worker.js"):"./network-worker.js"}async initialize(){if(!this.initialized){if(!br.isSupported())throw new Error("Workers not supported in this environment");this.log.debug("Initializing worker pool",{maxWorkers:this.maxWorkers});try{for(let e=0;e<this.maxWorkers;e++){const s=await this.createWorker(e);this.workers.push(s),this.availableWorkers.push(s)}this.initialized=!0,this.log.info("Worker pool initialized successfully",{workerCount:this.maxWorkers})}catch(e){throw this.log.error("Failed to initialize worker pool",{error:e.message,stack:e.stack}),await this.terminate(),e}}}async createWorker(e){const s=br.create(this.workerScript);return s.id=e,s.currentTaskId=null,s.onMessage(n=>{this.handleWorkerMessage(s,n)}),s.onError(n=>{this.handleWorkerError(s,n)}),this.log.debug("Worker created",{workerId:e}),s}async execute(e,s={}){if(!this.initialized)throw new Error("Worker pool not initialized. Call initialize() first.");return new Promise((n,r)=>{const o=`task_${this.taskIdCounter++}`,i={id:o,...e},a=s.timeout||this.taskTimeout,l=setTimeout(()=>{this.handleTaskTimeout(o)},a);if(this.activeTasks.set(o,{resolve:n,reject:r,onProgress:s.onProgress,timeoutId:l,startTime:Date.now()}),this.availableWorkers.length>0){const c=this.availableWorkers.pop();this.assignTask(c,i),this.log.debug("Task assigned to worker",{taskId:o,workerId:c.id})}else this.taskQueue.push(i),this.log.debug("Task queued",{taskId:o,queueLength:this.taskQueue.length})})}assignTask(e,s){e.currentTaskId=s.id,e.postMessage(s)}handleWorkerMessage(e,s){const{id:n,status:r,result:o,progress:i,error:a}=s,l=this.activeTasks.get(n);if(!l){this.log.warn("Received message for unknown task",{taskId:n});return}if(r==="progress")l.onProgress&&l.onProgress(i),this.log.debug("Task progress",{taskId:n,progress:Math.round(i*100)});else if(r==="complete"){const c=Date.now()-l.startTime;this.log.debug("Task completed",{taskId:n,duration:c}),clearTimeout(l.timeoutId),l.resolve(o),this.activeTasks.delete(n),this.freeWorker(e)}else r==="error"&&(this.log.error("Task failed",{taskId:n,error:a}),clearTimeout(l.timeoutId),l.reject(new Error(a)),this.activeTasks.delete(n),this.freeWorker(e))}handleWorkerError(e,s){if(this.log.error("Worker error",{workerId:e.id,error:s.message,stack:s.stack}),e.currentTaskId){const n=this.activeTasks.get(e.currentTaskId);n&&(clearTimeout(n.timeoutId),n.reject(s),this.activeTasks.delete(e.currentTaskId))}this.restartWorker(e)}handleTaskTimeout(e){const s=this.activeTasks.get(e);if(!s)return;this.log.warn("Task timed out",{taskId:e,timeout:this.taskTimeout}),s.reject(new Error(`Task timed out after ${this.taskTimeout}ms`)),this.activeTasks.delete(e);const n=this.workers.find(r=>r.currentTaskId===e);n&&this.restartWorker(n)}freeWorker(e){if(e.currentTaskId=null,this.taskQueue.length>0){const s=this.taskQueue.shift();this.assignTask(e,s),this.log.debug("Task assigned from queue",{taskId:s.id,workerId:e.id})}else this.availableWorkers.push(e)}async restartWorker(e){const s=this.workers.indexOf(e);if(s!==-1){this.log.debug("Restarting worker",{workerId:e.id});try{e.terminate();const n=await this.createWorker(e.id);this.workers[s]=n,this.availableWorkers.push(n),this.log.info("Worker restarted successfully",{workerId:e.id})}catch(n){this.log.error("Failed to restart worker",{workerId:e.id,error:n.message,stack:n.stack}),this.workers.splice(s,1)}}}async waitForActiveTasks(e=5e3){if(this.activeTasks.size!==0)return this.log.debug("Waiting for active tasks",{taskCount:this.activeTasks.size,timeout:e}),new Promise(s=>{const n=Date.now(),r=setInterval(()=>{(this.activeTasks.size===0||Date.now()-n>e)&&(clearInterval(r),this.log.debug("Wait complete",{remainingTasks:this.activeTasks.size}),s())},100)})}async terminate(e=!1){this.initialized&&(this.log.info("Terminating worker pool",{force:e}),e||await this.waitForActiveTasks(5e3),this.activeTasks.forEach((s,n)=>{clearTimeout(s.timeoutId),s.reject(new Error("Worker pool terminated"))}),this.activeTasks.clear(),this.workers.forEach(s=>{try{s.terminate()}catch(n){this.log.error("Error terminating worker",{workerId:s.id,error:n.message})}}),this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.initialized=!1,this.log.info("Worker pool terminated"))}getStatus(){return{initialized:this.initialized,totalWorkers:this.workers.length,availableWorkers:this.availableWorkers.length,busyWorkers:this.workers.length-this.availableWorkers.length,activeTasks:this.activeTasks.size,queuedTasks:this.taskQueue.length}}}class ls{constructor(){if(ls.instance)return ls.instance;this.workerPool=null,this.initialized=!1,this.initPromise=null,this.log=Ys({prefix:"WorkerManager",level:"info"}),ls.instance=this}async initialize(e={}){if(this.initPromise)return this.initPromise;if(this.initialized&&this.workerPool)return Promise.resolve();this.initPromise=this._doInitialize(e);try{await this.initPromise}finally{this.initPromise=null}}async _doInitialize(e){const{maxWorkers:s,workerScript:n,taskTimeout:r=6e4,verbose:o=!1}=e;this.log.setLevel(o?"debug":"info");let i=n;if(!i)try{i=new URL("data:text/javascript;base64,LyoqCiAqIE5ldHdvcmsgV29ya2VyIC0gRXhlY3V0ZXMgY29tcHV0ZSBmdW5jdGlvbnMgZnJvbSBhbGdvcml0aG0gbW9kdWxlcwogKgogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqCiAqIC0gU3RhdGljYWxseSBpbXBvcnRzIGFsbCBhbGdvcml0aG0gbW9kdWxlcyB1cGZyb250CiAqIC0gQ3JlYXRlcyBhIHJlZ2lzdHJ5IHRoYXQgbWFwcyBtb2R1bGUgcGF0aHMgdG8gdGhlaXIgZXhwb3J0cwogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9CiAqIC0gV29ya2VyIGxvb2tzIHVwIG1vZHVsZSBmcm9tIHJlZ2lzdHJ5IGFuZCBleGVjdXRlcyBmdW5jdGlvbgogKgogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UKICogaW1wb3J0cyBhcmUga25vd24gYXQgYnVpbGQgdGltZS4KICoKICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcgogKi8KCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQpjb25zdCBsb2cgPSBjcmVhdGVMb2dnZXIoewogIHByZWZpeDogJ25ldHdvcmstd29ya2VyJywKICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsCn0pOwoKLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkKaW1wb3J0ICogYXMgbm9kZVN0YXRzQ29tcHV0ZSBmcm9tICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvbm9kZS1zdGF0cy5qcyc7CmltcG9ydCAqIGFzIGdyYXBoU3RhdHNDb21wdXRlIGZyb20gJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc7CgovLyBDb21tdW5pdHkgZGV0ZWN0aW9uIGFsZ29yaXRobXMKaW1wb3J0ICogYXMgbG91dmFpbkNvbXB1dGUgZnJvbSAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc7CgovLyBMYXlvdXQgYWxnb3JpdGhtcwppbXBvcnQgKiBhcyByYW5kb21Db21wdXRlIGZyb20gJy4uL2xheW91dHMvcmFuZG9tLmpzJzsKaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOwppbXBvcnQgKiBhcyBzcGlyYWxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc3BpcmFsLmpzJzsKaW1wb3J0ICogYXMgc2hlbGxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc2hlbGwuanMnOwppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7CmltcG9ydCAqIGFzIGZvcmNlRGlyZWN0ZWRDb21wdXRlIGZyb20gJy4uL2xheW91dHMvZm9yY2UtZGlyZWN0ZWQuanMnOwppbXBvcnQgKiBhcyBrYW1hZGFLYXdhaUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9rYW1hZGEta2F3YWkuanMnOwppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsKaW1wb3J0ICogYXMgbXVsdGlwYXJ0aXRlQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL211bHRpcGFydGl0ZS5qcyc7CmltcG9ydCAqIGFzIGJmc0NvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9iZnMuanMnOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBNT0RVTEUgUkVHSVNUUlkgLSBNYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNvbnN0IE1PRFVMRV9SRUdJU1RSWSA9IHsKICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkKICAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOiBub2RlU3RhdHNDb21wdXRlLAoKICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc6IGdyYXBoU3RhdHNDb21wdXRlLAoKICAvLyBDb21tdW5pdHkKICAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc6IGxvdXZhaW5Db21wdXRlLAoKICAvLyBMYXlvdXRzCiAgJy4uL2xheW91dHMvcmFuZG9tLmpzJzogcmFuZG9tQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9jaXJjdWxhci5qcyc6IGNpcmN1bGFyQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NoZWxsLmpzJzogc2hlbGxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NwZWN0cmFsLmpzJzogc3BlY3RyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsCiAgJy4uL2xheW91dHMva2FtYWRhLWthd2FpLmpzJzoga2FtYWRhS2F3YWlDb21wdXRlLAogICcuLi9sYXlvdXRzL2JpcGFydGl0ZS5qcyc6IGJpcGFydGl0ZUNvbXB1dGUsCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9iZnMuanMnOiBiZnNDb21wdXRlCn07CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIFdPUktFUiBNRVNTQUdFIEhBTkRMRVIKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLyoqCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcwogKi8Kc2VsZi5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihldmVudCkgewogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7CgogIHRyeSB7CiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdAogICAgaWYgKCFtb2R1bGUgfHwgIWZ1bmN0aW9uTmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFzazogbW9kdWxlIGFuZCBmdW5jdGlvbk5hbWUgYXJlIHJlcXVpcmVkJyk7CiAgICB9CgogICAgbG9nLmRlYnVnKCdQcm9jZXNzaW5nIHRhc2snLCB7CiAgICAgIGlkLAogICAgICBtb2R1bGUsCiAgICAgIGZ1bmN0aW9uTmFtZSwKICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDAKICAgIH0pOwoKICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZAogICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IChwcm9ncmVzcykgPT4gewogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBpZCwKICAgICAgICBzdGF0dXM6ICdwcm9ncmVzcycsCiAgICAgICAgcHJvZ3Jlc3M6IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSkgLy8gQ2xhbXAgdG8gWzAsIDFdCiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQogICAgY29uc3QgYWxnb3JpdGhtTW9kdWxlID0gTU9EVUxFX1JFR0lTVFJZW21vZHVsZV07CgogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBNb2R1bGUgJyR7bW9kdWxlfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5LiBgICsKICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWAKICAgICAgKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIGNvbnN0IGNvbXB1dGVGdW5jdGlvbiA9IGFsZ29yaXRobU1vZHVsZVtmdW5jdGlvbk5hbWVdOwoKICAgIGlmICghY29tcHV0ZUZ1bmN0aW9uIHx8IHR5cGVvZiBjb21wdXRlRnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsKICAgICAgICBgQXZhaWxhYmxlIGZ1bmN0aW9uczogJHtPYmplY3Qua2V5cyhhbGdvcml0aG1Nb2R1bGUpLmpvaW4oJywgJyl9YAogICAgICApOwogICAgfQoKICAgIC8vIEV4ZWN1dGUgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXB1dGVGdW5jdGlvbiguLi5hcmdzLCBwcm9ncmVzc0NhbGxiYWNrKTsKCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgaWQsCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywKICAgICAgcmVzdWx0CiAgICB9KTsKCiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vIFNlbmQgZXJyb3IKICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7CiAgICAgIGlkLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrCiAgICB9KTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBpZCwKICAgICAgc3RhdHVzOiAnZXJyb3InLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjawogICAgfSk7CiAgfQp9OwoKLyoqCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzCiAqLwpzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihlcnJvcikgewogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgewogICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ1dvcmtlciBlcnJvciBvY2N1cnJlZCcsCiAgICBzdGFjazogZXJyb3Iuc3RhY2sKICB9KTsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIHN0YXR1czogJ2Vycm9yJywKICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnCiAgfSk7Cn07CgovLyBMb2cgd29ya2VyIGluaXRpYWxpemF0aW9uCmxvZy5pbmZvKCdJbml0aWFsaXplZCcsIHsgbW9kdWxlQ291bnQ6IE9iamVjdC5rZXlzKE1PRFVMRV9SRUdJU1RSWSkubGVuZ3RoIH0pOwo=",import.meta.url).href}catch{i="/graph-js/src/compute/network-worker.js",this.log.warn("Could not resolve worker path from import.meta.url, using fallback",{workerPath:i})}if(!br.isSupported())throw new Error("Web Workers are not supported in this environment. This library requires Web Worker support (browser) or Worker Threads (Node.js).");this.workerPool=new _S({maxWorkers:s||this._getDefaultWorkerCount(),workerScript:i,taskTimeout:r,verbose:o}),await this.workerPool.initialize(),this.initialized=!0,this.log.info("Initialized successfully",{workerCount:this.workerPool.maxWorkers})}_getDefaultWorkerCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;try{return require("os").cpus().length}catch{return 4}}async execute(e,s={}){return this.initialized||await this.initialize(),this.workerPool.execute(e,s)}serializeGraph(e){return{nodes:Array.from(e.nodes),edges:e.edges.map(s=>({source:s.u,target:s.v,weight:s.weight}))}}getStatus(){return this.workerPool?this.workerPool.getStatus():null}async terminate(e=!1){this.workerPool&&(await this.workerPool.terminate(e),this.workerPool=null,this.initialized=!1)}static reset(){ls.instance&&(ls.instance.terminate(!0),ls.instance=null)}}ls.instance=null;const Ls=new ls;Ys({prefix:"compute-utils",level:"info"});class at{constructor(e,s="",n="node",r=null){if(new.target===at)throw new Error("StatisticAlgorithm is abstract and cannot be instantiated directly");if(n!=="node"&&n!=="graph")throw new Error(`Scope must be 'node' or 'graph', got: ${n}`);if(!r||!r.module||!r.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.scope=n,this.computeConfig=r,this.options={}}async calculate(e,s=null,n={}){const r=Ls.serializeGraph(e),o={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[r,s,this.options]};return await Ls.execute(o,n)}getInfo(){return{name:this.name,description:this.description,scope:this.scope}}isNodeLevel(){return this.scope==="node"}isGraphLevel(){return this.scope==="graph"}}class bS extends at{constructor(){super("degree","Number of connections per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"degreeCompute"})}}class vS extends at{constructor(e={}){super("closeness","Average distance to all other nodes (inverted)","node",{module:"../statistics/algorithms/node-stats.js",functionName:"closenessCompute"}),this.options={normalized:e.normalized!==!1}}}class xS extends at{constructor(e={}){super("ego-density","Density of connections among neighbors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"egoDensityCompute"}),this.options={radius:e.radius||1}}}class wS extends at{constructor(){super("betweenness","Frequency on shortest paths between other nodes","node",{module:"../statistics/algorithms/node-stats.js",functionName:"betweennessCompute"})}}class kS extends at{constructor(){super("clustering","Local clustering coefficient","node",{module:"../statistics/algorithms/node-stats.js",functionName:"clusteringCompute"})}}class AS extends at{constructor(e={}){super("eigenvector","Importance based on neighbor importance","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class CS extends at{constructor(e={}){super("eigenvector-laplacian","X,Y coordinates from Laplacian eigenvectors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorLaplacianCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class SS extends at{constructor(){super("cliques","Number of maximal cliques per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"cliquesCompute"})}}class ES extends at{constructor(){super("density","Ratio of actual edges to possible edges","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"densityCompute"})}}class NS extends at{constructor(){super("diameter","Longest shortest path in the graph","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"diameterCompute"})}}class IS extends at{constructor(){super("average_clustering","Mean clustering coefficient across all nodes","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageClusteringCompute"})}}class TS extends at{constructor(){super("average_shortest_path","Mean distance between all node pairs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageShortestPathCompute"})}}class LS extends at{constructor(){super("connected_components","Number of disconnected subgraphs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"connectedComponentsCompute"})}}class RS extends at{constructor(){super("average_degree","Mean number of connections per node","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageDegreeCompute"})}}class li{constructor(e,s="",n=null){if(new.target===li)throw new Error("CommunityAlgorithm is abstract and cannot be instantiated directly");if(!n||!n.module||!n.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.computeConfig=n,this.options={}}async detect(e,s={}){const n=Ls.serializeGraph(e),r={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[n,this.options]};return{...await Ls.execute(r,s),algorithm:this.name}}getInfo(){return{name:this.name,description:this.description}}}class wl extends li{constructor(e={}){super("louvain","Louvain method for community detection using modularity optimization",{module:"../community/algorithms/louvain.js",functionName:"louvainCompute"}),this.options={resolution:e.resolution||1,maxIterations:e.maxIterations||100}}}class ci{constructor(e=null){this.graph=e}setGraph(e){return this.graph=e,this}async detectCommunities(e="louvain",s={}){if(!this.graph)throw new Error("No graph set. Use setGraph() or provide graph in constructor.");let n;if(e instanceof li)n=e;else if(typeof e=="string")n=this._createAlgorithmFromName(e,s);else throw new Error("Algorithm must be a CommunityAlgorithm instance or a string name");return await n.detect(this.graph,{onProgress:s.onProgress})}_createAlgorithmFromName(e,s={}){switch(e.toLowerCase()){case"louvain":return new wl(s);default:throw new Error(`Unknown community detection algorithm: ${e}`)}}calculateModularity(e){if(!this.graph)throw new Error("No graph set");const s=this.graph.numberOfEdges();if(s===0)return 0;let n=0;const r=Array.from(this.graph.nodes.keys());for(const o of r)for(const i of r)if(e[o]===e[i]){const a=this.graph.hasEdge(o,i)?this.graph.getEdgeWeight(o,i):0,l=this.graph.degree(o),c=this.graph.degree(i);n+=a-l*c/(2*s)}return n/(2*s)}static getNodesInCommunity(e,s){return Object.keys(e).filter(n=>e[n]===s)}static getCommunityGroups(e){const s={};for(const[n,r]of Object.entries(e))s[r]||(s[r]=[]),s[r].push(n);return s}static graphFromData(e){const s=new vl;for(const n of e.nodes)s.addNode(n.id);for(const n of e.edges)s.addEdge(n.source,n.target,n.weight||1);return s}static async detect(e,s="louvain",n={}){const r=this.graphFromData(e);return await new ci(r).detectCommunities(s,n)}}const Od={algorithms:[{id:"louvain",name:"Louvain Method",description:"Fast greedy algorithm that optimizes modularity",category:"modularity",complexity:"O(n log n)",bestFor:["General graphs","Large networks","Hierarchical communities"],supportsWeighted:!0,supportsDirected:!1,defaultOptions:{resolution:1,maxIterations:100}}],getAll(){return[...this.algorithms]},get(t){return this.algorithms.find(e=>e.id===t)||null},filter(t){return this.algorithms.filter(t)},getIds(){return this.algorithms.map(t=>t.id)}};class Qt{constructor(e,s={},n=null){if(!e)throw new Error("Graph is required for layout computation");if(!n||!n.module||!n.functionName)throw new Error("computeConfig with module and functionName is required");this.graph=e,this.options=s,this.computeConfig=n,this._positions=null}async computePositions(e={}){const s={...this.options,...e},{onProgress:n,timeout:r,...o}=s,i=Ls.serializeGraph(this.graph),a={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[i,o]};return await Ls.execute(a,{onProgress:n,timeout:r})}async getPositions(e={},s=!1){return(!this._positions||s)&&(this._positions=await this.computePositions(e)),this._positions}async updateLayout(e=1){return this.getPositions({},!0)}reset(){this._positions=null}getNodes(){return this.graph.getNodeList()}getNodeCount(){return this.graph.numberOfNodes()}}class PS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},seed:null,...s},{module:"../layouts/random.js",functionName:"randomCompute"})}}class DS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},sortBy:null,...s},{module:"../layouts/circular.js",functionName:"circularCompute"})}}class MS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},resolution:.35,equidistant:!1,...s},{module:"../layouts/spiral.js",functionName:"spiralCompute"})}}class OS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},nlist:null,rotate:null,nodeProperties:null,...s},{module:"../layouts/shell.js",functionName:"shellCompute"})}}class GS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},...s},{module:"../layouts/spectral.js",functionName:"spectralCompute"})}}class FS extends Qt{constructor(e,s={}){super(e,{iterations:50,k:null,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,...s},{module:"../layouts/force-directed.js",functionName:"forceDirectedCompute"})}}class VS extends Qt{constructor(e,s={}){super(e,{iterations:1e3,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,K:null,...s},{module:"../layouts/kamada-kawai.js",functionName:"kamadaKawaiCompute"})}}class $S extends Qt{constructor(e,s={}){super(e,{partition:null,align:"vertical",scale:1,aspectRatio:4/3,center:{x:0,y:0},...s},{module:"../layouts/bipartite.js",functionName:"bipartiteCompute"})}}class BS extends Qt{constructor(e,s={}){super(e,{subsets:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/multipartite.js",functionName:"multipartiteCompute"})}}class zS extends Qt{constructor(e,s={}){super(e,{startNode:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/bfs.js",functionName:"bfsCompute"})}}const jS={layouts:[{id:"none",name:"None (D3 Physics)",description:"D3's built-in force-directed physics simulation",category:"physics",complexity:"O(iterations)",bestFor:["General graphs","Interactive exploration"],requiresStats:!1},{id:"random",name:"Random",description:"Random node positioning",category:"simple",complexity:"O(n)",bestFor:["Testing","Initial visualization"],requiresStats:!1},{id:"circular",name:"Circular",description:"Nodes arranged in a circle",category:"simple",complexity:"O(n)",bestFor:["Symmetric graphs","Ring topologies"],requiresStats:!1},{id:"spiral",name:"Spiral",description:"Archimedean spiral arrangement",category:"simple",complexity:"O(n)",bestFor:["Linear structures","Sequences"],requiresStats:!1},{id:"shell",name:"Shell",description:"Concentric circles by degree",category:"simple",complexity:"O(n)",bestFor:["Star-like graphs","Hub structures"],requiresStats:!0},{id:"spectral",name:"Spectral",description:"Laplacian eigenvector layout",category:"spectral",complexity:"O(n)",bestFor:["Community detection visualization","Graph topology"],requiresStats:!0,requiredStat:"eigenvector-laplacian"},{id:"force-directed",name:"Force-Directed",description:"Spring-electrical model (Fruchterman-Reingold)",category:"physics",complexity:"O(iterations  n)",bestFor:["General graphs","Complex networks"],requiresStats:!1},{id:"kamada-kawai",name:"Kamada-Kawai",description:"Energy minimization based on shortest paths",category:"energy",complexity:"O(n + iterations  n)",bestFor:["Small-medium graphs","Trees","Planar graphs"],requiresStats:!1},{id:"bipartite",name:"Bipartite",description:"Two-line layout for bipartite graphs",category:"hierarchical",complexity:"O(n)",bestFor:["Bipartite graphs","Two-level hierarchies"],requiresStats:!1},{id:"multipartite",name:"Multipartite",description:"Multi-layer layout for hierarchical structures",category:"hierarchical",complexity:"O(n)",bestFor:["DAGs","Organizational hierarchies"],requiresStats:!1},{id:"bfs",name:"BFS Layout",description:"Layer-by-layer breadth-first search",category:"hierarchical",complexity:"O(n + m)",bestFor:["Trees","Network exploration"],requiresStats:!1}],getAll(){return[...this.layouts]},get(t){return this.layouts.find(e=>e.id===t)||null},filter(t){return this.layouts.filter(t)},byCategory(t){return this.layouts.filter(e=>e.category===t)},withoutStatRequirements(){return this.layouts.filter(t=>!t.requiresStats)},exists(t){return this.layouts.some(e=>e.id===t)}},US=Ys({prefix:"Adapter",level:"info"});class kl{static fromFormat(e,s={}){throw new Error("Adapter.fromFormat() must be implemented by subclass")}static toFormat(e,s={}){throw new Error("Adapter.toFormat() must be implemented by subclass")}static validateGraphData(e){if(!e||typeof e!="object")throw new Error("GraphData must be an object");if(!Array.isArray(e.nodes))throw new Error("GraphData.nodes must be an array");if(!Array.isArray(e.edges))throw new Error("GraphData.edges must be an array");for(const s of e.nodes)if(!s.id&&s.id!==0)throw new Error("All nodes must have an id property");for(const s of e.edges){if(!s.source&&s.source!==0)throw new Error("All edges must have a source property");if(!s.target&&s.target!==0)throw new Error("All edges must have a target property")}return!0}static normalizeIds(e){return{nodes:e.nodes.map(s=>({...s,id:String(s.id)})),edges:e.edges.map(s=>({...s,source:String(s.source),target:String(s.target)}))}}static getNodeIdSet(e){return new Set(e.map(s=>String(s.id)))}static filterInvalidEdges(e,s=!0){const n=this.getNodeIdSet(e.nodes),r=[],o=[];for(const i of e.edges){const a=String(i.source),l=String(i.target);n.has(a)&&n.has(l)?r.push(i):o.push(i)}return s&&o.length>0&&US.warn("Filtered out edges referencing non-existent nodes",{invalidEdgeCount:o.length,totalEdges:e.edges.length}),{nodes:e.nodes,edges:r}}}const Gd=Ys({prefix:"CSVAdapter",level:"info"});class Wf extends kl{static parseCSV(e,s=","){const n=[],r=e.trim().split(`
`);for(const o of r){const i=[];let a="",l=!1;for(let c=0;c<o.length;c++){const d=o[c];d==='"'?l=!l:d===s&&!l?(i.push(a.trim()),a=""):a+=d}i.push(a.trim()),n.push(i)}return n}static fromEdgeList(e,s={}){const{header:n=!0,delimiter:r=",",weighted:o=!0}=s,i=this.parseCSV(e,r),a=n?i.slice(1):i,l=new Set,c=[];for(const d of a){if(d.length<2)continue;const u=d[0],f=d[1],p=o&&d[2]?parseFloat(d[2]):1;l.add(u),l.add(f),c.push({source:u,target:f,weight:isNaN(p)?1:p})}return{nodes:Array.from(l).map(d=>({id:d,group:1})),edges:c}}static fromNodes(e,s={}){const{header:n=!0,delimiter:r=","}=s,o=this.parseCSV(e,r);if(o.length===0)return[];const i=n?o[0]:["id","group","label"];return(n?o.slice(1):o).map(a=>{const l={};for(let c=0;c<i.length;c++){const d=i[c],u=a[c];d==="group"&&u?l[d]=parseInt(u,10):!isNaN(u)&&u!==""?l[d]=parseFloat(u):l[d]=u}return l})}static fromFormat(e,s=null,n={}){const{nodes:r,edges:o}=this.fromEdgeList(e,n);if(s){const a=this.fromNodes(s,n),l=new Map(a.map(d=>[String(d.id),d])),c={nodes:r.map(d=>{const u=l.get(String(d.id));return u?{...d,...u}:d}),edges:o};return this.filterInvalidEdges(c)}const i={nodes:r,edges:o};return this.filterInvalidEdges(i)}static async loadFromURL(e,s=null,n={}){try{const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch edges: ${r.statusText}`);const o=await r.text();let i=null;if(s){const a=await fetch(s);a.ok&&(i=await a.text())}return this.fromFormat(o,i,n)}catch(r){throw Gd.error("Error loading CSV",{edgeURL:e,nodeURL:s,error:r.message,stack:r.stack}),r}}static async loadFromFiles(e,s=null,n={}){try{const r=await e.text();let o=null;return s&&(o=await s.text()),this.fromFormat(r,o,n)}catch(r){throw Gd.error("Error reading file",{edgeFileName:e?.name,nodeFileName:s?.name,error:r.message,stack:r.stack}),r}}static toEdgeList(e,s={}){const{header:n=!0,delimiter:r=","}=s,o=[];n&&o.push(["source","target","weight"].join(r));for(const i of e.edges){const a=i.source?.id||i.source,l=i.target?.id||i.target,c=i.weight||1;o.push([a,l,c].join(r))}return o.join(`
`)}static toNodes(e,s={}){const{header:n=!0,delimiter:r=","}=s,{nodes:o}=e;if(o.length===0)return"";const i=[],a=new Set;o.forEach(c=>{Object.keys(c).forEach(d=>a.add(d))});const l=Array.from(a);n&&i.push(l.join(r));for(const c of o){const d=l.map(u=>{const f=c[u];return typeof f=="string"&&(f.includes(r)||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f??""});i.push(d.join(r))}return i.join(`
`)}static toFormat(e,s={}){return this.validateGraphData(e),{edges:this.toEdgeList(e,s),nodes:this.toNodes(e,s)}}}const HS=Ys({prefix:"JSONAdapter",level:"info"});class Xf extends kl{static fromD3(e){if(!e||!e.nodes)throw new Error("Invalid D3 data: must have nodes array");const s=e.nodes.map(o=>({...o,id:String(o.id)})),n=(e.links||[]).map(o=>({...o,source:String(o.source?.id||o.source),target:String(o.target?.id||o.target),weight:o.weight||o.value||1})),r={nodes:s,edges:n};return this.filterInvalidEdges(r)}static fromCytoscape(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid Cytoscape data: must have nodes array");const s=e.nodes.map(o=>({id:String(o.data.id),...o.data})),n=(e.edges||[]).map(o=>({source:String(o.data.source),target:String(o.data.target),weight:o.data.weight||1,...o.data})),r={nodes:s,edges:n};return this.filterInvalidEdges(r)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid JSON data");if(e.nodes&&e.edges)return this.normalizeIds(e);if(e.nodes&&e.links)return this.fromD3(e);if(Array.isArray(e.nodes)&&e.nodes[0]?.data)return this.fromCytoscape(e);if(e.nodes&&(e.links||e.edges))return this.fromD3({nodes:e.nodes,links:e.links||e.edges});throw new Error("Unknown JSON format - cannot auto-detect")}static toD3(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({...s})),links:e.edges.map(s=>({source:s.source,target:s.target,value:s.weight,...s}))}}static toCytoscape(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({data:{...s}})),edges:e.edges.map((s,n)=>({data:{id:`e${n}`,source:s.source,target:s.target,weight:s.weight||1,...s}}))}}static toFormat(e,s={}){const{format:n="standard",pretty:r=!1}=s;let o;switch(n){case"d3":o=this.toD3(e);break;case"cytoscape":o=this.toCytoscape(e);break;case"standard":default:this.validateGraphData(e),o=e}return JSON.stringify(o,null,r?2:0)}static async loadFromURL(e){try{const s=await fetch(e);if(!s.ok)throw new Error(`Failed to fetch: ${s.statusText}`);const n=await s.json();return this.fromFormat(n)}catch(s){throw HS.error("Error loading JSON",{url:e,error:s.message,stack:s.stack}),s}}}class WS extends kl{static fromNodeLink(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid NetworkX node-link data: must have nodes array");const s=e.nodes.map(o=>({id:String(o.id),...o})),n=(e.links||[]).map(o=>({source:String(o.source),target:String(o.target),weight:o.weight||1,...o})),r={nodes:s,edges:n};return this.filterInvalidEdges(r)}static fromAdjacency(e){if(!Array.isArray(e))throw new Error("Invalid NetworkX adjacency data: must be array");const s=[],n=[],r=new Set;for(const i of e){const a=String(i.id);if(s.push({id:a,...i}),i.adjacency&&Array.isArray(i.adjacency))for(const l of i.adjacency){const c=String(l.id),d=`${a}-${c}`,u=`${c}-${a}`;!r.has(d)&&!r.has(u)&&(n.push({source:a,target:c,weight:l.weight||1,...l}),r.add(d))}}const o={nodes:s,edges:n};return this.filterInvalidEdges(o)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid NetworkX data");if(e.nodes&&Array.isArray(e.nodes)&&(e.links||e.edges))return this.fromNodeLink({...e,links:e.links||e.edges});if(Array.isArray(e)&&e[0]?.adjacency)return this.fromAdjacency(e);throw new Error("Unknown NetworkX format")}static toNodeLink(e,s={}){this.validateGraphData(e);const{directed:n=!1,multigraph:r=!1}=s;return{directed:n,multigraph:r,graph:{},nodes:e.nodes.map(o=>({...o})),links:e.edges.map(o=>({source:o.source,target:o.target,weight:o.weight||1,...o}))}}static toAdjacency(e){this.validateGraphData(e);const s=new Map;for(const n of e.nodes)s.set(String(n.id),{...n,adjacency:[]});for(const n of e.edges){const r=String(n.source),o=String(n.target),i=s.get(r);i&&i.adjacency.push({id:o,weight:n.weight||1,...n});const a=s.get(o);a&&r!==o&&a.adjacency.push({id:r,weight:n.weight||1,...n})}return Array.from(s.values())}static toFormat(e,s={}){const{format:n="node-link"}=s;switch(n){case"adjacency":return this.toAdjacency(e);case"node-link":default:return this.toNodeLink(e,s)}}}class ze{static FEATURES={EIGENVECTOR:"eigenvector",EIGENVECTOR_LAPLACIAN:"eigenvector-laplacian",MODULARITY:"modularity",BETWEENNESS:"betweenness",CLUSTERING:"clustering",CLIQUES:"cliques",DEGREE:"degree",CLOSENESS:"closeness",EGO_DENSITY:"ego-density",ALL:["degree","betweenness","clustering","eigenvector","eigenvector-laplacian","cliques","closeness","ego-density"]};static GRAPH_STATS={DENSITY:"density",DIAMETER:"diameter",AVERAGE_CLUSTERING:"average_clustering",AVERAGE_SHORTEST_PATH:"average_shortest_path",CONNECTED_COMPONENTS:"connected_components",AVERAGE_DEGREE:"average_degree",ALL:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]};static COMMUNITY_DETECTION={LOUVAIN:"louvain",ALL:["louvain"]};constructor(e={}){this.options={verbose:e.verbose!==void 0?e.verbose:!0,maxWorkers:e.maxWorkers,taskTimeout:e.taskTimeout||6e4,workerScript:e.workerScript},this.log=Ys({prefix:"NetworkStats",level:this.options.verbose?"debug":"info"}),Ls.initialize({maxWorkers:this.options.maxWorkers,taskTimeout:this.options.taskTimeout,verbose:this.options.verbose,workerScript:this.options.workerScript}).catch(s=>{this.log.error("Failed to initialize workers:",s)}),this.statisticClasses={[ze.FEATURES.DEGREE]:bS,[ze.FEATURES.BETWEENNESS]:wS,[ze.FEATURES.CLUSTERING]:kS,[ze.FEATURES.EIGENVECTOR]:AS,[ze.FEATURES.EIGENVECTOR_LAPLACIAN]:CS,[ze.FEATURES.CLIQUES]:SS,[ze.FEATURES.CLOSENESS]:vS,[ze.FEATURES.EGO_DENSITY]:xS,[ze.FEATURES.MODULARITY]:"modularity"},this.graphStatClasses={[ze.GRAPH_STATS.DENSITY]:ES,[ze.GRAPH_STATS.DIAMETER]:NS,[ze.GRAPH_STATS.AVERAGE_CLUSTERING]:IS,[ze.GRAPH_STATS.AVERAGE_SHORTEST_PATH]:TS,[ze.GRAPH_STATS.CONNECTED_COMPONENTS]:LS,[ze.GRAPH_STATS.AVERAGE_DEGREE]:RS}}async analyze(e,s,n={}){this.log.time("networkAnalysis"),this.log.info(`Analyzing network with ${e.length} edges`),s=s||ze.FEATURES.ALL,typeof s=="string"&&(s=[s]);const{graph:r,nodes:o}=this._prepareNetwork(e);this.log.info(`Graph: ${o.length} nodes, ${r.edges.length} edges`);const i=await this._calculateNodeStats(r,o,s,n);if(n.includeGraphStats){const a=await this._calculateGraphStats(r,n.graphStats,n);return this.log.timeEnd("networkAnalysis"),{nodes:i,graph:a}}return this.log.timeEnd("networkAnalysis"),i}async _calculateNodeStats(e,s,n,r){const o={};for(const i of n)if(i===ze.FEATURES.MODULARITY)o[i]=await this._calculateModularity(e,r);else if(this.statisticClasses[i]){const a=this.statisticClasses[i],l=new a;this.log.debug(`Calculating ${i}...`);const c=await l.calculate(e,null,{onProgress:r.onProgress});o[i]=c}else this.log.warn(`Unknown feature: ${i}`);return this._normalizeNodeStats(o,s)}async _calculateGraphStats(e,s,n={}){const r=s||ze.GRAPH_STATS.ALL,o={};for(const i of r){const a=this.graphStatClasses[i];if(a){this.log.debug(`Calculating graph stat: ${i}...`);const l=new a;o[i]=await l.calculate(e,null,{onProgress:n.onProgress})}else this.log.warn(`Unknown graph stat: ${i}`)}return o}async _calculateModularity(e,s={}){const n=new ci(e),r=new wl;return this.log.debug("Running Louvain community detection..."),(await n.detectCommunities(r,{onProgress:s.onProgress})).communities}_prepareNetwork(e){const s=new Set;for(const o of e)s.add(o.source),s.add(o.target);const n=Array.from(s),r=new vl;for(const o of n)r.addNode(o);for(const o of e){const i=o.weight!==void 0?o.weight:1;r.addEdge(o.source,o.target,i)}return{graph:r,nodes:n}}_normalizeNodeStats(e,s){const n=[];for(const r of s){const o={id:r};for(const[i,a]of Object.entries(e))typeof a=="object"&&a!==null&&(o[i]=a[r]);n.push(o)}return n}async dispose(){await Ls.terminate()}}const XS=async()=>"/assets/network-worker.js";class qS{constructor(){this.analyzer=null,this.initPromise=null,this.lastAnalysisResults=null,this.workerUrl=null,this.log=Lt({prefix:"NetworkAnalyzer",level:"info"})}async _ensureInitialized(){if(!this.analyzer){if(this.initPromise)return this.initPromise;this.initPromise=(async()=>{this.workerUrl=await XS(),this.log.debug("Initializing with worker",{workerUrl:this.workerUrl}),this.analyzer=new ze({verbose:!0,workerScript:this.workerUrl}),await new Promise(e=>setTimeout(e,500)),this.log.info("Initialized successfully")})(),await this.initPromise}}_toEdgeList(e,s){return s.map(n=>({source:typeof n.source=="object"?n.source.id:n.source,target:typeof n.target=="object"?n.target.id:n.target,weight:n.weight||1}))}_buildGraph(e,s){const n=new vl;return e.forEach(r=>{n.addNode(r.id)}),s.forEach(r=>{const o=typeof r.source=="object"?r.source.id:r.source,i=typeof r.target=="object"?r.target.id:r.target;n.addEdge(o,i,r.weight||1)}),n}async analyzeGraph(e,s,n={}){await this._ensureInitialized(),this.log.debug("Starting analysis",{nodeCount:e.length,linkCount:s.length,features:n.features,includeGraphStats:n.includeGraphStats});const r=this._toEdgeList(e,s),o=n.features||["degree","eigenvector"],i={onProgress:n.onProgress};n.includeGraphStats&&(i.includeGraphStats=!0,i.graphStats=n.graphStats||["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]);const a=await this.analyzer.analyze(r,o,i);let l,c=null;Array.isArray(a)?l=a:a.nodes&&a.graph?(l=a.nodes,c=a.graph):l=a,this.log.info("Analysis complete",{resultsCount:l.length,hasGraphStats:c!==null}),this.lastAnalysisResults=l,e.forEach(u=>{const f=l.find(y=>y.id===u.id);if(!f){this.log.warn("No stats found for node",{nodeId:u.id}),u.centrality=.5;return}const p=f.eigenvector!==void 0?f.eigenvector:f.degree!==void 0?f.degree/10:.5;Object.assign(u,f,{centrality:p})}),this.log.debug("Nodes enriched",{sampleNode:e[0]});const d={nodes:e,links:s};return c&&(d.graphStats=c),d}async applyLayout(e,s,n,r={}){await this._ensureInitialized(),this.log.debug("Applying layout",{layoutId:e});const o=r.width||800,i=r.height||600,a=Math.min(o,i)/1.2,l={x:o/2,y:i/2},c=this._buildGraph(s,n);let d;const u={scale:a,center:l};switch(e){case"random":d=new PS(c,u);break;case"circular":d=new DS(c,u);break;case"spiral":d=new MS(c,{...u,resolution:.15});break;case"shell":const p=new Map;s.forEach(E=>{E.degree!==void 0&&p.set(E.id,{degree:E.degree})}),d=new OS(c,{...u,nodeProperties:p.size>0?p:null});break;case"spectral":if(!s.some(E=>{const A=E["eigenvector-laplacian"];return A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0}))throw new Error('Spectral layout requires eigenvector-laplacian analysis. Please run analysis with ["eigenvector-laplacian"] first.');const _=new Map;s.forEach(E=>{const A=E["eigenvector-laplacian"];A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0&&_.set(E.id,{laplacian_x:A.laplacian_x,laplacian_y:A.laplacian_y})}),d=new GS(c,{...u,nodeProperties:_});break;case"force-directed":const x=s.length,v=Math.sqrt(1/x)*2.5;d=new FS(c,{iterations:50,k:v,...u});break;case"kamada-kawai":d=new VS(c,{iterations:300,...u});break;case"bipartite":d=new $S(c,{align:"vertical",...u});break;case"multipartite":d=new BS(c,{align:"vertical",...u});break;case"bfs":const w=s[0]?.id||Array.from(c.nodes)[0];d=new zS(c,{startNode:w,align:"vertical",...u});break;default:throw new Error(`Unknown layout: ${e}`)}const f=await d.getPositions({onProgress:r.onProgress});return this.log.info("Layout complete",{positionCount:Object.keys(f).length}),f}getAvailableLayouts(){return jS.getAll()}getAvailableCommunityAlgorithms(){return Od.getAll()}async detectCommunities(e,s,n,r={}){await this._ensureInitialized(),this.log.debug("Detecting communities",{algorithmId:e});const o=this._buildGraph(s,n),i=Od.get(e);if(!i)throw new Error(`Unknown community detection algorithm: ${e}`);let a;switch(e){case"louvain":a=new wl(i.defaultOptions);break;default:throw new Error(`Unsupported algorithm: ${e}`)}const c=await new ci(o).detectCommunities(a,{onProgress:r.onProgress});return this.log.info("Community detection complete",{numCommunities:c.numCommunities,modularity:c.modularity}),s.forEach(d=>{const u=c.communities[d.id];u!==void 0&&(d.community=u)}),c}async dispose(){if(this.analyzer)try{await this.analyzer.dispose(),this.analyzer=null}catch(e){this.log.warn("Error disposing analyzer",{error:e.message}),this.analyzer=null}}}const we=Lt({prefix:"useNetworkGraph",level:"info"});function Al(t={}){const e=ae(null),s=ae(null),n=ae(null),r=ae(!1),o=ae(null),i=ae(null),a=ae(0),l=t.autoComputeCentrality!==!1,c=()=>{if(!e.value){we.warn("Container ref not ready");return}if(s.value){we.warn("Graph already initialized");return}try{r.value=!0,we.debug("Initializing graph",{options:t});const R=e.value.getBoundingClientRect(),G=R.width||t.width||800,S=R.height||t.height||600;s.value=new oS(e.value,{width:G,height:S,...t}),n.value=new qS,s.value.on("nodeHover",M=>{i.value=M}),s.value.on("nodeLeave",()=>{i.value=null}),r.value=!1,we.info("Graph and analyzer initialized successfully")}catch(R){we.error("Failed to initialize graph",{error:R.message,stack:R.stack}),o.value=R.message,r.value=!1}},d=(R,G)=>{if(!s.value){we.warn("Graph not initialized yet");return}try{r.value=!0,we.debug("Loading data into graph",{nodeCount:R.length,linkCount:G.length});const S=()=>{r.value=!1,s.value.off("ready",S),we.info("Graph ready and fitted to view"),l&&s.value?.data?.nodes?.length>=2&&requestAnimationFrame(()=>{u()})};s.value.on("ready",S),s.value.setData(R,G)}catch(S){we.error("Failed to load data",{error:S.message,stack:S.stack}),o.value=S.message,r.value=!1}},u=async()=>{if(!(!l||!s.value||!n.value)&&!(!s.value.data||s.value.data.nodes.length<2))try{we.debug("Auto-computing eigenvector centrality");const R=s.value.data,G=await n.value.analyzeGraph(R.nodes,R.links,{features:["eigenvector"],onProgress:()=>{}});G&&G.nodes&&s.value.updateNodeStatistics&&(s.value.updateNodeStatistics(G.nodes,"eigenvector",!0),we.debug("Auto-computed eigenvector centrality and updated node sizes"))}catch(R){we.debug("Auto-compute eigenvector failed (non-critical)",{error:R.message})}},f=async(R=[],G=null,S=null,M=!1)=>{if(!s.value)return we.warn("Graph not initialized yet"),null;try{we.debug("Adding node",{neighborIds:R,nodeId:G,group:S,incremental:M});let T;return M&&s.value.addNodeIncremental?T=s.value.addNodeIncremental(R,G,S):T=s.value.addNode(R,G,S),T&&l&&requestAnimationFrame(()=>{u()}),T}catch(T){return we.error("Failed to add node",{error:T.message,stack:T.stack}),o.value=T.message,null}},p=(R=null,G=!1)=>{if(!s.value)return we.warn("Graph not initialized yet"),!1;try{we.debug("Removing node",{nodeId:R,incremental:G});let S;return G&&s.value.removeNodeIncremental?S=s.value.removeNodeIncremental(R):S=s.value.removeNode(R),S&&l&&requestAnimationFrame(()=>{u()}),S}catch(S){return we.error("Failed to remove node",{error:S.message,stack:S.stack}),o.value=S.message,!1}},y=async(R,G,S=!1)=>{if(!s.value)return we.warn("Graph not initialized yet"),!1;try{let M;return S&&s.value.addLinkIncremental?M=s.value.addLinkIncremental(R,G):M=s.value.addLink(R,G),M&&l&&requestAnimationFrame(()=>{u()}),M}catch(M){return we.error("Failed to add link",{error:M.message,stack:M.stack}),o.value=M.message,!1}},_=()=>s.value?s.value.getNodeIds():[],x=R=>s.value?s.value.hasNode(R):!1,v=async(R=["degree","eigenvector"],G={})=>{if(!s.value||!n.value)return we.warn("Graph or analyzer not initialized"),null;try{r.value=!0,a.value=0,we.debug("Starting graph analysis",{features:R,options:G});const S=s.value.data,M=await n.value.analyzeGraph(S.nodes,S.links,{features:R,includeGraphStats:G.includeGraphStats||!1,graphStats:G.graphStats,onProgress:F=>{a.value=F}});return we.info("Analysis complete, updating visualization",{nodeCount:M.nodes.length,hasGraphStats:!!M.graphStats}),R.includes("eigenvector")&&M.nodes.some(F=>F.eigenvector!==void 0)?(we.debug("Sizing nodes by eigenvector centrality"),s.value.updateVisualEncoding({sizeBy:"eigenvector",minRadius:4,maxRadius:20})):s.value.updateGraph(),r.value=!1,a.value=0,M}catch(S){return we.error("Failed to analyze graph",{error:S.message,stack:S.stack,features:R}),o.value=S.message,r.value=!1,a.value=0,null}},w=async R=>{if(!s.value||!n.value)return we.warn("Graph or analyzer not initialized"),!1;try{r.value=!0,a.value=0,we.debug("Applying layout",{layoutId:R});const G=s.value.data,S=e.value.getBoundingClientRect(),M=await n.value.applyLayout(R,G.nodes,G.links,{width:S.width||800,height:S.height||600,onProgress:F=>{a.value=F}});G.nodes.forEach(F=>{const X=M[F.id];X&&(F.x=X.x,F.y=X.y,F.fx=X.x,F.fy=X.y)});const T=()=>{r.value=!1,a.value=0,s.value.off("ready",T),we.info("Layout applied successfully",{layoutId:R})};return s.value.on("ready",T),s.value.updateGraph(),!0}catch(G){return we.error("Failed to apply layout",{layoutId:R,error:G.message,stack:G.stack}),o.value=G.message,r.value=!1,a.value=0,!1}},E=()=>n.value?n.value.getAvailableLayouts():[],A=()=>n.value?n.value.getAvailableCommunityAlgorithms():[],L=async R=>{if(!s.value||!n.value)return we.warn("Graph or analyzer not initialized"),null;try{r.value=!0,a.value=0,we.debug("Detecting communities",{algorithmId:R});const G=s.value.data,S=await n.value.detectCommunities(R,G.nodes,G.links,{onProgress:M=>{a.value=M}});return we.info("Community detection complete, updating colors",{numCommunities:S.numCommunities,modularity:S.modularity}),s.value.updateVisualEncoding({colorBy:"community",colorScheme:"categorical",preserveZoom:!0}),r.value=!1,a.value=0,S}catch(G){return we.error("Failed to detect communities",{algorithmId:R,error:G.message,stack:G.stack}),o.value=G.message,r.value=!1,a.value=0,null}},z=(R={})=>{if(!s.value){we.warn("Cannot update visual encoding - no graph instance");return}s.value.updateVisualEncoding(R)},j=()=>{if(!s.value){we.warn("Graph not initialized yet");return}s.value.lockPositions()},ee=()=>{if(!s.value){we.warn("Graph not initialized yet");return}s.value.unlockPositions()},W=(R="network-graph.png")=>{if(!s.value){we.warn("Graph not initialized yet");return}s.value.saveAsPNG(R)},Z=()=>s.value?s.value.getSelectedNode():(we.warn("Graph not initialized yet"),null),U=async()=>{if(s.value&&(s.value.destroy(),s.value=null,we.info("Graph destroyed")),n.value)try{await n.value.dispose(),n.value=null,we.info("Analyzer disposed")}catch(R){we.warn("Error disposing analyzer",{error:R.message}),n.value=null}};return Ps(async()=>{await Nn(),e.value&&c()}),Xo(()=>{U()}),{graphContainer:e,graphInstance:s,loading:r,error:o,nodeInfo:i,analysisProgress:a,initGraph:c,loadData:d,destroyGraph:U,addNode:f,removeNode:p,addLink:y,getNodeIds:_,hasNode:x,analyzeGraph:v,applyLayout:w,getAvailableLayouts:E,detectCommunities:L,getAvailableCommunityAlgorithms:A,updateVisualEncoding:z,lockPositions:j,unlockPositions:ee,saveAsPNG:W,getSelectedNode:Z}}class ZS{constructor({graphManager:e,onStatusChange:s=null,translate:n=null}){this.graphManager=e,this.onStatusChange=s,this.translate=n||(r=>r),this.log=Lt({prefix:"ShowcaseController",level:"info"}),this.datasets={default:{name:"Default",loader:()=>this._loadDefaultDataset()},karate:{name:"Karate Club",loader:()=>this._loadKarateDataset()},miserables:{name:"Les Misrables",loader:()=>this._loadMiserablesDataset()}}}getInitialDataset(){return{nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]}}async _loadDefaultDataset(){return this.getInitialDataset()}async _loadKarateDataset(){const e=await Xf.loadFromURL("/data/karateclub.json");return e.nodes=e.nodes.map(s=>({...s,group:s.club==="Mr. Hi"?1:2})),{nodes:e.nodes,links:e.edges}}async _loadMiserablesDataset(){const e=await Wf.loadFromURL("/data/les_miserables.csv");return e.nodes=e.nodes.map(s=>({...s,group:s.group||1})),{nodes:e.nodes,links:e.edges}}async loadDataset(e){const s=this.datasets[e];if(!s)return{success:!1,error:`Unknown dataset: ${e}`};try{this.log.debug("Loading dataset",{datasetKey:e,datasetName:s.name}),this._updateStatus("Loading dataset...","info");const n=await s.loader();this.graphManager.loadData(n.nodes,n.links);const r=this.translate("showcase.messages.loadedDataset",{name:s.name,nodes:n.nodes.length,edges:n.links.length});return this.log.info("Dataset loaded successfully",{name:s.name,nodeCount:n.nodes.length,edgeCount:n.links.length}),this._updateStatus(r,"success"),{success:!0,data:n,name:s.name,nodeCount:n.nodes.length,edgeCount:n.links.length}}catch(n){const r=this.translate("showcase.messages.failedToLoadDataset",{error:n.message});return this.log.error("Failed to load dataset",{datasetKey:e,error:n.message,stack:n.stack}),this._updateStatus(r,"error"),{success:!1,error:n.message}}}addRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0)return{success:!1,error:"No nodes available to connect to"};const s=e[Math.floor(Math.random()*e.length)],n=this.graphManager.addNode([s],null,null,!0);if(n){const r=this.translate("showcase.messages.addedNode",{nodeId:n.id,connectedTo:s});return this.log.debug("Added random node",{nodeId:n.id,connectedTo:s}),this._updateStatus(r,"success"),{success:!0,node:n,connectedTo:s}}return this.log.warn("Failed to add random node"),{success:!1,error:"Failed to add node"}}addNodeToSelected(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getSelectedNode();if(!e){const r=this.translate("showcase.messages.noNodeSelected");return this.log.warn("No node selected"),this._updateStatus(r,"error"),{success:!1,error:"No node selected"}}const s=e.id,n=this.graphManager.addNode([s],null,null,!0);if(n){const r=this.translate("showcase.messages.addedNode",{nodeId:n.id,connectedTo:s});return this.log.debug("Added node connected to selected",{nodeId:n.id,targetNodeId:s}),this._updateStatus(r,"success"),{success:!0,node:n,connectedTo:s}}return this.log.warn("Failed to add node connected to selected",{targetNodeId:s}),{success:!1,error:"Failed to add node"}}removeRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0){const r=this.translate("showcase.messages.noNodesToRemove");return this._updateStatus(r,"error"),{success:!1,error:"No nodes to remove"}}const s=e[Math.floor(Math.random()*e.length)];if(this.graphManager.removeNode(s,!0)){const r=this.translate("showcase.messages.removedNode",{nodeId:s});return this.log.debug("Removed random node",{nodeId:s}),this._updateStatus(r,"info"),{success:!0,removedNodeId:s}}return this.log.warn("Failed to remove random node"),{success:!1,error:"Failed to remove node"}}async analyzeGraph(e=["degree","eigenvector","betweenness"]){try{this.log.debug("Starting graph analysis",{metrics:e}),this._updateStatus("Analyzing network using workers...","info");const s=await this.graphManager.analyzeGraph(e);if(s){const n=this.translate("showcase.messages.analysisComplete",{count:s.nodes.length});return this.log.info("Graph analysis complete",{nodeCount:s.nodes.length,metrics:e}),this._updateStatus(n,"success"),{success:!0,results:s,nodeCount:s.nodes.length,metrics:e}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(s){const n=this.translate("showcase.messages.analysisFailed",{error:s.message});return this.log.error("Graph analysis failed",{error:s.message,stack:s.stack,metrics:e}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("showcase.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(`Applying ${e} layout...`,"info"),await this.graphManager.applyLayout(e)){const n=this.translate("showcase.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=this.translate("showcase.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}isGraphReady(){return this.graphManager.graphInstance.value!==null}getNodeCount(){return this.graphManager.getNodeIds().length}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}async detectCommunities(e){if(!this.isGraphReady())return this._updateStatus(this.translate("showcase.messages.graphNotInitialized"),"error"),null;if(this.getNodeCount()===0)return this._updateStatus(this.translate("showcase.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(`Detecting communities using ${e}...`,"info");const n=await this.graphManager.detectCommunities(e);if(n){const r=this.translate("showcase.messages.foundCommunities",{count:n.numCommunities,modularity:n.modularity.toFixed(3)});return this._updateStatus(r,"success"),n}else return this._updateStatus(this.translate("showcase.messages.communityDetectionFailed"),"error"),null}catch(n){return this.log.error("Community detection failed",{algorithmId:e,error:n.message,stack:n.stack}),this._updateStatus(`Error: ${n.message}`,"error"),null}}getSelectedNode(){return this.graphManager.getSelectedNode()}}const KS={class:"demo-controls-header"},JS={class:"demo-controls-title"},YS={class:"demo-controls-description"},QS={class:"info-box-blue mb-4"},e2={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},t2=["innerHTML"],s2={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},n2={class:"demo-controls-section-title mb-3"},r2={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},o2={key:0,class:"text-secondary text-center py-2"},i2={class:"text-xs"},a2={class:"text-xs mt-1 opacity-60"},l2={key:1,class:"space-y-2"},c2={class:"flex-shrink-0 mt-0.5"},d2={key:0},u2={key:1},h2={key:2},f2={class:"flex-1 break-words"},p2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},m2={class:"demo-controls-section-title"},g2={class:"grid grid-cols-3 gap-2"},y2=["title"],_2=["disabled","title"],b2=["title"],v2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},x2={class:"demo-controls-section-title"},w2={class:"space-y-2"},k2={class:"block text-sm font-medium text-secondary"},A2={value:"default"},C2={value:"karate"},S2={value:"miserables"},E2=["disabled"],N2={key:0},I2={key:1},T2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},L2={class:"demo-controls-section-title"},R2={class:"info-box-green mt-3"},P2=["innerHTML"],D2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},M2={class:"demo-controls-section-title"},O2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},G2={class:"demo-controls-section-title"},F2={key:0,class:"info-box-green mt-3"},V2={class:"text-sm text-green-800 dark:text-green-200 space-y-1"},$2={class:"text-xs mt-2"},B2={key:1,class:"info-box-yellow mt-3"},z2={class:"text-xs text-yellow-800 dark:text-yellow-200"},j2={class:"info-box-purple"},U2={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},H2={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},W2=["innerHTML"],X2=["innerHTML"],q2=["innerHTML"],Z2=["innerHTML"],K2=["innerHTML"],J2=["innerHTML"],Y2={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},Q2={class:"text-center"},eE={class:"text-secondary"},tE={__name:"ShowcasePage",setup(t){const e=Lt({prefix:"ShowcasePage",level:"info"}),{t:s}=Jt(),n=Al(),{graphContainer:r,graphInstance:o,loading:i,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analysisProgress:f,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:x,getAvailableCommunityAlgorithms:v,getSelectedNode:w,unlockPositions:E}=n,A=ae("default"),L=ae("none"),z=ae([]),j=ae("louvain"),ee=ae([]),W=ae(null),Z=ae(["degree","eigenvector","betweenness"]),U=ae(""),R=ae(""),G=ae("info"),S=ae("");let M=null;const T=(ce,ge)=>{R.value=ce,G.value=ge},F=()=>{const ce={graphInstance:o,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:x,getAvailableCommunityAlgorithms:v,getSelectedNode:w,unlockPositions:E};M=new ZS({graphManager:ce,onStatusChange:T,translate:(I,te)=>s(I,te)});const ge=M.getInitialDataset();S.value=s("showcase.messages.loadingGraph"),a(ge.nodes,ge.links),z.value=M.getAvailableLayouts(),ee.value=M.getAvailableCommunityAlgorithms(),e.info("Initial data loaded",{layouts:z.value.length,communityAlgorithms:ee.value.length,nodes:ge.nodes.length})},X=()=>{M&&M.addRandomNode()},oe=()=>{M&&M.addNodeToSelected()},ue=()=>{M&&M.removeRandomNode()},K=async()=>{if(M)try{S.value=s("showcase.messages.loadingDataset").replace("{dataset}",A.value);const ce=await M.loadDataset(A.value);ce.success&&(S.value=s("showcase.messages.loadingDatasetName").replace("{name}",ce.name))}catch(ce){e.error("Failed to load dataset",{error:ce.message,stack:ce.stack}),i.value=!1}},le=async()=>{if(M)try{S.value=s("showcase.messages.analyzing"),await M.analyzeGraph(Z.value)}catch(ce){e.error("Analysis error",{error:ce.message,stack:ce.stack})}},Te=async()=>{if(M)try{S.value=s("showcase.messages.applyingLayout").replace("{layout}",L.value),await M.applyLayout(L.value)}catch(ce){e.error("Layout error",{error:ce.message,stack:ce.stack})}},Ae=async()=>{if(M)try{S.value=s("showcase.messages.detectingCommunities").replace("{algorithm}",j.value);const ce=await M.detectCommunities(j.value);ce&&(W.value=ce)}catch(ce){e.error("Community detection error",{error:ce.message,stack:ce.stack})}};return Ct(o,ce=>{ce&&!M&&F()},{immediate:!0}),(ce,ge)=>(H(),Is(il,null,{controls:Be(()=>[h("div",KS,[h("h1",JS,g(m(s)("showcase.header.title")),1),h("p",YS,g(m(s)("showcase.header.subtitle")),1)]),h("div",QS,[h("h2",e2,g(m(s)("showcase.whatIs.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200",innerHTML:m(s)("showcase.whatIs.description")},null,8,t2)]),h("div",s2,[h("h2",n2,g(m(s)("showcase.status.title")),1),h("div",r2,[R.value?(H(),q("div",l2,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":G.value==="success","text-red-600 dark:text-red-400":G.value==="error","text-blue-600 dark:text-blue-400":G.value==="info"})},[h("div",c2,[G.value==="success"?(H(),q("span",d2,"")):G.value==="error"?(H(),q("span",u2,"")):(H(),q("span",h2,""))]),h("div",f2,g(R.value),1)],2)])):(H(),q("div",o2,[h("div",i2,g(m(s)("showcase.status.ready")),1),h("div",a2,g(m(s)("showcase.status.hover")),1)]))])]),h("div",p2,[h("h2",m2,g(m(s)("showcase.controls.title")),1),h("div",g2,[h("button",{onClick:X,class:"btn-primary text-sm px-2 py-2 whitespace-nowrap",title:m(s)("showcase.controls.addRandom")},"  "+g(m(s)("showcase.buttons.add")),9,y2),h("button",{onClick:oe,class:"btn-secondary text-sm px-2 py-2 whitespace-nowrap",disabled:!m(w)(),title:m(w)()?m(s)("showcase.controls.addToSelected").replace("{name}",m(w)().id):m(s)("showcase.controls.selectNodeFirst")},"  "+g(m(s)("showcase.buttons.toSelected")),9,_2),h("button",{onClick:ue,class:"btn-primary bg-red-600 hover:bg-red-700 text-sm px-2 py-2 whitespace-nowrap",title:m(s)("showcase.controls.removeRandom")},"  "+g(m(s)("showcase.buttons.remove")),9,b2)])]),h("div",v2,[h("h2",x2,g(m(s)("showcase.dataLoading.title")),1),h("div",w2,[h("label",k2,g(m(s)("showcase.dataLoading.choose")),1),ht(h("select",{"onUpdate:modelValue":ge[0]||(ge[0]=I=>A.value=I),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",A2,g(m(s)("showcase.dataLoading.default")),1),h("option",C2,g(m(s)("showcase.dataLoading.karate")),1),h("option",S2,g(m(s)("showcase.dataLoading.miserables")),1)],512),[[xn,A.value]])]),h("button",{onClick:K,disabled:m(i),class:"w-full btn-primary mt-3"},[m(i)?(H(),q("span",I2,g(m(s)("showcase.dataLoading.loading")),1)):(H(),q("span",N2,g(m(s)("showcase.dataLoading.loadButton")),1))],8,E2)]),h("div",T2,[h("h2",L2,g(m(s)("showcase.networkAnalysis.title")),1),_e(ll,{"selected-metrics":Z.value,"onUpdate:selectedMetrics":ge[1]||(ge[1]=I=>Z.value=I),"size-metric":U.value,"onUpdate:sizeMetric":ge[2]||(ge[2]=I=>U.value=I),analyzing:m(i),progress:m(f),onAnalyze:le},null,8,["selected-metrics","size-metric","analyzing","progress"]),h("div",R2,[h("p",{class:"text-xs text-green-800 dark:text-green-200",innerHTML:m(s)("showcase.networkAnalysis.description")},null,8,P2)])]),h("div",D2,[h("h2",M2,g(m(s)("showcase.layoutAlgorithm.title")),1),_e(al,{modelValue:L.value,"onUpdate:modelValue":ge[3]||(ge[3]=I=>L.value=I),"available-layouts":z.value,loading:m(i),onApply:Te},null,8,["modelValue","available-layouts","loading"])]),h("div",O2,[h("h2",G2,g(m(s)("showcase.communityDetection.title")),1),_e(rf,{modelValue:j.value,"onUpdate:modelValue":ge[4]||(ge[4]=I=>j.value=I),"available-algorithms":ee.value,detecting:m(i),onDetect:Ae},{results:Be(()=>[W.value?(H(),q("div",F2,[h("p",V2,[h("div",null,[h("strong",null,g(m(s)("showcase.communityDetection.communitiesFound")),1),xe(" "+g(W.value.numCommunities),1)]),h("div",null,[h("strong",null,g(m(s)("showcase.communityDetection.modularity")),1),xe(" "+g(W.value.modularity.toFixed(3)),1)]),h("div",$2,g(m(s)("showcase.communityDetection.nodeColorsAssignments")),1)])])):Re("",!0),ee.value.length>0&&!W.value?(H(),q("div",B2,[h("p",z2,[h("strong",null,g(ee.value.find(I=>I.id===j.value)?.name)+":",1),xe(" "+g(ee.value.find(I=>I.id===j.value)?.description),1)])])):Re("",!0)]),_:1},8,["modelValue","available-algorithms","detecting"])]),h("div",j2,[h("h3",U2,g(m(s)("showcase.instructions.title")),1),h("ul",H2,[h("li",{innerHTML:m(s)("showcase.instructions.dragNodes")},null,8,W2),h("li",{innerHTML:m(s)("showcase.instructions.scroll")},null,8,X2),h("li",{innerHTML:m(s)("showcase.instructions.dragBackground")},null,8,q2),h("li",{innerHTML:m(s)("showcase.instructions.hoverNodes")},null,8,Z2),h("li",{innerHTML:m(s)("showcase.instructions.nodeSize")},null,8,K2),h("li",{innerHTML:m(s)("showcase.instructions.color")},null,8,J2)])])]),graph:Be(()=>[m(i)?(H(),q("div",Y2,[h("div",Q2,[ge[5]||(ge[5]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",eE,g(S.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}))}};class sE{constructor({graphManager:e,onStatusChange:s=null,translate:n=null}){this.graphManager=e,this.onStatusChange=s,this.translate=n||(r=>r),this.log=Lt({prefix:"ExplorerController",level:"info"}),this.sampleNetworks={caruaru:{name:"Caruaru",file:"/data/network_caruaru.json",description:"Small network (~130 edges)"},rj:{name:"Rio de Janeiro",file:"/data/network_rj.json",description:"Medium network (~1,900 edges)"},niteroi:{name:"Niteri",file:"/data/network_niteroi.json",description:"Large network (~18,500 edges)"}},this.workersSupported=typeof Worker<"u",this.workerCount=navigator.hardwareConcurrency||4}async loadSampleNetwork(e){const s=this.sampleNetworks[e];if(!s)return{success:!1,error:`Unknown network: ${e}`};try{this.log.debug("Loading sample network",{networkKey:e,networkName:s.name}),this._updateStatus(this.translate("explorer.messages.loadingNetworkData"),"info");const n=await fetch(s.file);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const r=await n.json(),o=new Set,i=[];r.forEach(d=>{o.add(d.source),o.add(d.target),i.push({source:String(d.source),target:String(d.target),weight:d.weight||1})});const a=Array.from(o).map(d=>({id:String(d),group:1})),l={nodes:a,links:i.map(d=>({source:d.source,target:d.target,weight:d.weight}))};this.graphManager.loadData(l.nodes,l.links);const c=this.translate("explorer.messages.loadedNetwork",{name:s.name,nodes:a.length,edges:i.length});return this.log.info("Sample network loaded successfully",{name:s.name,nodeCount:a.length,edgeCount:i.length}),this._updateStatus(c,"success"),{success:!0,data:l,name:s.name,nodeCount:a.length,edgeCount:i.length,description:s.description,useWorkers:a.length>=500&&this.workersSupported}}catch(n){const r=this.translate("explorer.messages.failedToLoadNetwork",{error:n.message});return this.log.error("Failed to load sample network",{networkKey:e,error:n.message,stack:n.stack}),this._updateStatus(r,"error"),{success:!1,error:n.message}}}async loadUploadedNetwork(e,s,n,r){try{this.log.debug("Loading uploaded network",{format:e}),this._updateStatus(this.translate("explorer.messages.loadingUploadedFile"),"info");let o;if(e==="csv"){if(!s)throw new Error("Edges CSV file is required");this.log.debug("Loading CSV files",{edgeFile:s.name,nodeFile:n?.name}),o=await Wf.loadFromFiles(s,n||null)}else if(e==="json"){if(!r)throw new Error("JSON file is required");this.log.debug("Loading JSON file",{fileName:r.name});const d=await r.text(),u=JSON.parse(d);if(Array.isArray(u)&&u.length>0&&u[0].source&&u[0].target){this.log.debug("Detected raw edge list array format");const f=new Set;u.forEach(p=>{f.add(p.source),f.add(p.target)}),o={nodes:Array.from(f).map(p=>({id:String(p),group:1})),edges:u.map(p=>({source:String(p.source),target:String(p.target),weight:p.weight||1}))}}else o=Xf.fromFormat(u)}else if(e==="networkx"){if(!r)throw new Error("NetworkX JSON file is required");this.log.debug("Loading NetworkX file",{fileName:r.name});const d=await r.text(),u=JSON.parse(d);o=WS.fromFormat(u)}else throw new Error(`Unknown format: ${e}`);this.log.info("Parsed graph data",{nodes:o.nodes.length,edges:o.edges.length});const i=o.nodes.map(d=>({...d,id:String(d.id),group:d.group||1})),a=o.edges.map(d=>({source:String(d.source),target:String(d.target),weight:d.weight||1}));this.graphManager.loadData(i,a);const l=r?.name||s?.name||"uploaded file",c=this.translate("explorer.messages.loadedFile",{fileName:l,nodes:i.length,edges:a.length});return this.log.info("Uploaded network loaded successfully",{fileName:l,nodeCount:i.length,edgeCount:a.length}),this._updateStatus(c,"success"),{success:!0,data:{nodes:i,links:a},name:l,nodeCount:i.length,edgeCount:a.length,description:`Uploaded ${e.toUpperCase()} file`,useWorkers:i.length>=500&&this.workersSupported}}catch(o){const i=this.translate("explorer.messages.failedToLoadFile",{error:o.message});return this.log.error("Failed to load uploaded network",{format:e,error:o.message,stack:o.stack}),this._updateStatus(i,"error"),{success:!1,error:o.message}}}async analyzeGraph(e=["degree","eigenvector"],s=null){try{this.log.debug("Starting graph analysis",{metrics:e,sizeMetric:s}),this._updateStatus(this.translate("explorer.messages.analyzingNetwork"),"info");const n=await this.graphManager.analyzeGraph(e,{includeGraphStats:!0,graphStats:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]});if(n){const r=n.nodes.length,o=n.links.length,i=(2*o/r).toFixed(2);s&&n.nodes.some(l=>l[s]!==void 0)&&this.graphManager.updateVisualEncoding({sizeBy:s,minRadius:4,maxRadius:20});const a=this.translate("explorer.messages.analysisComplete",{count:r});return this.log.info("Graph analysis complete",{nodeCount:r,metrics:e,hasGraphStats:!!n.graphStats}),this._updateStatus(a,"success"),{success:!0,results:n,nodeCount:r,linkCount:o,avgDegree:i,metrics:e,graphStats:n.graphStats||{average_degree:parseFloat(i)}}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(n){const r=this.translate("explorer.messages.analysisFailed",{error:n.message});return this.log.error("Graph analysis failed",{error:n.message,stack:n.stack,metrics:e}),this._updateStatus(r,"error"),{success:!1,error:n.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("explorer.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(this.translate("explorer.messages.applyingLayout",{layout:e}),"info"),await this.graphManager.applyLayout(e)){const n=this.translate("explorer.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=this.translate("explorer.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}async detectCommunities(e){if(!this.graphManager.graphInstance.value)return this._updateStatus(this.translate("explorer.messages.graphNotInitialized"),"error"),null;if(this.graphManager.getNodeIds().length===0)return this._updateStatus(this.translate("explorer.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(this.translate("explorer.messages.detectingCommunities",{algorithm:e}),"info");const n=await this.graphManager.detectCommunities(e);if(n){const r=this.translate("explorer.messages.foundCommunities",{count:n.numCommunities,modularity:n.modularity.toFixed(3)});return this._updateStatus(r,"success"),n}else return this._updateStatus(this.translate("explorer.messages.communityDetectionFailed"),"error"),null}catch(n){return this.log.error("Community detection failed",{algorithmId:e,error:n.message,stack:n.stack}),this._updateStatus(this.translate("explorer.messages.analysisFailed",{error:n.message}),"error"),null}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}getWorkerInfo(){return{supported:this.workersSupported,count:this.workerCount}}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}}const nE={class:"demo-controls-header"},rE={class:"demo-controls-title"},oE={class:"demo-controls-description"},iE={class:"info-box-blue mb-4"},aE={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},lE=["innerHTML"],cE={class:"flex items-center gap-2 text-xs"},dE={key:0},uE={key:1},hE={key:0,class:"badge badge-yellow"},fE={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 shadow-sm"},pE={class:"demo-controls-section-title mb-3"},mE={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},gE={key:0,class:"text-secondary text-center py-2"},yE={class:"text-xs"},_E={class:"text-xs mt-1 opacity-60"},bE={key:1,class:"space-y-2"},vE={class:"flex-shrink-0 mt-0.5"},xE={key:0},wE={key:1},kE={key:2},AE={class:"flex-1 break-words"},CE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},SE={class:"demo-controls-section-title"},EE={class:"flex gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-4"},NE={class:"space-y-2"},IE={class:"block text-sm font-medium text-secondary"},TE={value:""},LE={value:"caruaru"},RE={value:"rj"},PE={value:"niteroi"},DE=["disabled"],ME={key:0},OE={key:1},GE={class:"space-y-3"},FE={class:"space-y-2"},VE={class:"block text-sm font-medium text-secondary"},$E={value:"json"},BE={value:"csv"},zE={value:"networkx"},jE={class:"space-y-2"},UE={class:"block text-sm font-medium text-secondary"},HE={class:"block text-sm font-medium text-secondary mt-2"},WE=["innerHTML"],XE={class:"space-y-2"},qE={class:"block text-sm font-medium text-secondary"},ZE={key:0},KE={key:1},JE={key:0,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},YE={key:1,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},QE=["disabled"],eN={key:0},tN={key:1},sN={key:0,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},nN={class:"demo-controls-section-title"},rN={class:"metrics-grid-row mb-3"},oN={class:"metric-card"},iN={class:"text-xs text-secondary"},aN={class:"text-xl font-bold text-purple-600 dark:text-purple-400"},lN={class:"metric-card"},cN={class:"text-xs text-secondary"},dN={class:"text-xl font-bold text-pink-600 dark:text-pink-400"},uN={class:"metric-card"},hN={class:"text-xs text-secondary"},fN={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},pN={class:"metric-card"},mN={class:"text-xs text-secondary"},gN={class:"text-xl font-bold text-green-600 dark:text-green-400"},yN={key:0,class:"metric-card"},_N={class:"text-xs text-secondary"},bN={class:"text-xl font-bold text-orange-600 dark:text-orange-400"},vN={key:1,class:"metric-card"},xN={class:"text-xs text-secondary"},wN={class:"text-xl font-bold text-cyan-600 dark:text-cyan-400"},kN={key:0,class:"info-box-green text-xs"},AN={class:"font-semibold text-green-800 dark:text-green-300"},CN={class:"text-green-700 dark:text-green-400"},SN={key:1,class:"info-box-yellow text-xs"},EN={class:"font-semibold text-yellow-800 dark:text-yellow-300"},NN={class:"text-yellow-700 dark:text-yellow-400"},IN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},TN={class:"demo-controls-section-title"},LN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},RN={class:"demo-controls-section-title"},PN={class:"info-box-yellow mt-3"},DN={class:"text-xs text-yellow-800 dark:text-yellow-200"},MN={key:0,class:"italic"},ON={key:1,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},GN={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-700"},FN={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-2"},VN={class:"space-y-2"},$N={class:"flex justify-between items-center"},BN={class:"text-sm text-blue-800 dark:text-blue-200"},zN={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},jN={class:"flex justify-between items-center"},UN={class:"text-sm text-blue-800 dark:text-blue-200"},HN={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},WN={class:"flex justify-between items-center"},XN={class:"text-sm text-blue-800 dark:text-blue-200"},qN={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},ZN={class:"flex justify-between items-center"},KN={class:"text-sm text-blue-800 dark:text-blue-200"},JN={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},YN={class:"flex justify-between items-center"},QN={class:"text-sm text-blue-800 dark:text-blue-200"},eI={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},tI={class:"flex justify-between items-center"},sI={class:"text-sm text-blue-800 dark:text-blue-200"},nI={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},rI={class:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700"},oI={class:"text-xs text-blue-700 dark:text-blue-300"},iI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},aI={class:"demo-controls-section-title"},lI={key:2,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},cI={class:"bg-gradient-to-br from-orange-50 to-pink-50 dark:from-orange-900/30 dark:to-pink-900/30 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-700"},dI={class:"text-sm font-semibold text-orange-900 dark:text-orange-300 mb-3 flex items-center gap-2"},uI={class:"space-y-2"},hI={class:"flex justify-between items-center"},fI={class:"text-sm text-orange-800 dark:text-orange-200"},pI={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},mI={class:"flex justify-between items-center"},gI={class:"text-sm text-orange-800 dark:text-orange-200"},yI={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},_I={class:"flex justify-between items-center"},bI={class:"text-sm text-orange-800 dark:text-orange-200"},vI={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},xI={class:"flex justify-between items-center"},wI={class:"text-sm text-orange-800 dark:text-orange-200"},kI={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},AI={class:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-700"},CI={class:"text-xs text-orange-700 dark:text-orange-300"},SI={class:"info-box-purple"},EI={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},NI={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},II=["innerHTML"],TI=["innerHTML"],LI=["innerHTML"],RI=["innerHTML"],PI=["innerHTML"],DI=["innerHTML"],MI={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},OI={class:"text-center"},GI={class:"text-secondary"},FI={__name:"ExplorerPage",setup(t){const e=Lt({prefix:"ExplorerPage",level:"info"}),{t:s}=Jt(),n=Al(),{graphContainer:r,graphInstance:o,loading:i,loadData:a,analysisProgress:l,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:x}=n,v=ae("sample"),w=ae(""),E=ae("json"),A=ae(null),L=ae(null),z=ae(null),j=ae("none"),ee=ae([]),W=ae([]),Z=ae(""),U=ae("louvain"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),T=ae(""),F=ae("info"),X=ae("Loading graph..."),oe=ae(null),ue=ae("-"),K=ae(!1),le=ae(null),Te=ae(!1),Ae=ae(!1),ce=ae({nodes:0,edges:0,avgDegree:0,analysisTime:"-",communities:null,modularity:null}),ge=ae({type:"default",message:"Select a network to begin...",details:null});let I=null;const te=ae({supported:typeof Worker<"u",count:navigator.hardwareConcurrency||4}),se=ot(()=>E.value==="csv"?A.value!==null:z.value!==null),fe=(P,D)=>{T.value=P,F.value=D},he=(P,D,O=null)=>{ge.value={type:P,message:D,details:O}},k=()=>{const P={graphInstance:o,loadData:a,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:x};I=new sE({graphManager:P,onStatusChange:fe,translate:(D,O)=>s(D,O)}),ee.value=I.getAvailableLayouts(),R.value=I.getAvailableCommunityAlgorithms(),o.value&&(o.value.on("nodeHover",D=>{he("node-hover",`Node: ${D.id}`,{id:D.id,group:D.group||1,community:K.value?D.community:null,centrality:D.centrality?.toFixed(4)||"N/A",degree:D.degree||"N/A",betweenness:D.betweenness?.toFixed(4),clustering:D.clustering?.toFixed(3),eigenvector:D.eigenvector?.toFixed(4),closeness:D.closeness?.toFixed(4),egoDensity:D["ego-density"]?.toFixed(3),cliques:D.cliques})}),o.value.on("nodeLeave",()=>{G.value?he("default","Hover over a node to see details..."):he("default","Select a network to begin...")})),C()},C=()=>{const P={nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]};a(P.nodes,P.links),G.value=!0,ce.value={nodes:P.nodes.length,edges:P.links.length,avgDegree:(2*P.links.length/P.nodes.length).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("default","Default network loaded. Hover over a node to see details...")},N=async()=>{if(!(!I||!w.value))try{i.value=!0,X.value=`Loading ${w.value} network...`,he("loading","Loading network data...");const P=await I.loadSampleNetwork(w.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load network: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load sample network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load network: ${P.message}`)}},$=async()=>{if(!(!I||!se.value))try{i.value=!0,X.value="Loading uploaded file...",he("loading","Loading uploaded file...");const P=await I.loadUploadedNetwork(E.value,A.value,L.value,z.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load file: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load uploaded network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load file: ${P.message}`)}},B=async()=>{if(!(!I||!G.value))try{S.value=!0,X.value="Analyzing network using workers...",he("loading","Running network analysis...");const P=performance.now(),D=await I.analyzeGraph(W.value,Z.value),O=performance.now()-P;D.success&&(ce.value.analysisTime=`${(O/1e3).toFixed(2)}s`,D.graphStats&&(le.value=D.graphStats,Te.value=!0),he("success","Analysis complete",{nodes:D.nodeCount,edges:D.linkCount,time:ce.value.analysisTime,metric:Z.value||W.value[0]}))}catch(P){e.error("Analysis error",{error:P.message,stack:P.stack}),he("error",`Analysis failed: ${P.message}`)}finally{S.value=!1}},V=async()=>{if(!(!I||!G.value))try{X.value=`Applying ${j.value} layout...`,T.value=`Applying ${j.value} layout...`,F.value="info";const P=await I.applyLayout(j.value);if(P.success)T.value=` Applied ${j.value} layout`,F.value="success",he("layout-applied",`Layout Applied: ${j.value}`,{description:j.value==="none"?"Using D3's built-in force simulation":"Nodes fixed in position (D3 physics disabled)"});else{const D=P.error||"Layout application failed";T.value=` ${D}`,F.value="error",he("error",`Layout failed: ${D}`)}}catch(P){e.error("Layout error",{error:P.message,stack:P.stack});const D=P.message||"Layout failed";T.value=` ${D}`,F.value="error",he("error",`Layout failed: ${D}`)}},re=async()=>{if(!(!I||!G.value))try{M.value=!0,X.value=`Detecting communities using ${U.value}...`,he("loading","Detecting communities...");const P=performance.now(),D=await I.detectCommunities(U.value),O=performance.now()-P;D&&(oe.value=D,ue.value=`${(O/1e3).toFixed(2)}s`,K.value=!0,ce.value.communities=D.numCommunities,ce.value.modularity=D.modularity.toFixed(3),he("default","Hover over a node to see details..."))}catch(P){e.error("Community detection error",{error:P.message,stack:P.stack}),he("error",`Community detection failed: ${P.message}`)}finally{M.value=!1}};return Ct(o,P=>{P&&!I&&k()},{immediate:!0}),(P,D)=>(H(),Is(il,null,{controls:Be(()=>[h("div",nE,[h("h1",rE,g(m(s)("explorer.header.title")),1),h("p",oE,g(m(s)("explorer.header.subtitle")),1)]),h("div",iE,[h("h2",aE,g(m(s)("explorer.parallelComputation.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-3",innerHTML:m(s)("explorer.parallelComputation.description")},null,8,lE),h("div",cE,[h("span",{class:bt(te.value.supported?"badge badge-green":"badge badge-red")},[te.value.supported?(H(),q("span",dE,g(m(s)("explorer.parallelComputation.workersSupported")),1)):(H(),q("span",uE,g(m(s)("explorer.parallelComputation.workersNotSupported")),1))],2),te.value.supported?(H(),q("span",hE,g(te.value.count)+" "+g(m(s)("explorer.parallelComputation.cores")),1)):Re("",!0)])]),h("div",fE,[h("h2",pE,g(m(s)("explorer.status.title")),1),h("div",mE,[T.value?(H(),q("div",bE,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":F.value==="success","text-red-600 dark:text-red-400":F.value==="error","text-blue-600 dark:text-blue-400":F.value==="info"})},[h("div",vE,[F.value==="success"?(H(),q("span",xE,"")):F.value==="error"?(H(),q("span",wE,"")):(H(),q("span",kE,""))]),h("div",AE,g(T.value),1)],2)])):(H(),q("div",gE,[h("div",yE,g(m(s)("explorer.status.ready")),1),h("div",_E,g(m(s)("explorer.status.loadNetwork")),1)]))])]),h("div",CE,[h("h2",SE,g(m(s)("explorer.dataLoading.title")),1),h("div",EE,[h("button",{onClick:D[0]||(D[0]=O=>v.value="sample"),class:bt([v.value==="sample"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(s)("explorer.dataLoading.sampleNetworks")),3),h("button",{onClick:D[1]||(D[1]=O=>v.value="upload"),class:bt([v.value==="upload"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(s)("explorer.dataLoading.uploadFile")),3)]),ht(h("div",NE,[h("label",IE,g(m(s)("explorer.dataLoading.chooseNetwork")),1),ht(h("select",{"onUpdate:modelValue":D[2]||(D[2]=O=>w.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",TE,g(m(s)("explorer.dataLoading.chooseCity")),1),h("option",LE,g(m(s)("explorer.dataLoading.caruaru")),1),h("option",RE,g(m(s)("explorer.dataLoading.rj")),1),h("option",PE,g(m(s)("explorer.dataLoading.niteroi")),1)],512),[[xn,w.value]]),h("button",{onClick:N,disabled:!w.value||m(i),class:"w-full btn-primary mt-3"},[m(i)?(H(),q("span",OE,g(m(s)("explorer.dataLoading.loading")),1)):(H(),q("span",ME,g(m(s)("explorer.dataLoading.loadNetwork")),1))],8,DE)],512),[[Dr,v.value==="sample"]]),ht(h("div",GE,[h("div",FE,[h("label",VE,g(m(s)("explorer.dataLoading.fileFormat")),1),ht(h("select",{"onUpdate:modelValue":D[3]||(D[3]=O=>E.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",$E,g(m(s)("explorer.dataLoading.formatJSON")),1),h("option",BE,g(m(s)("explorer.dataLoading.formatCSV")),1),h("option",zE,g(m(s)("explorer.dataLoading.formatNetworkX")),1)],512),[[xn,E.value]])]),ht(h("div",jE,[h("label",UE,g(m(s)("explorer.dataLoading.edgesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[4]||(D[4]=O=>A.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("label",HE,g(m(s)("explorer.dataLoading.nodesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[5]||(D[5]=O=>L.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("div",{class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2",innerHTML:m(s)("explorer.dataLoading.edgeCSVFormat")},null,8,WE)],512),[[Dr,E.value==="csv"]]),ht(h("div",XE,[h("label",qE,[E.value==="json"?(H(),q("span",ZE,g(m(s)("explorer.dataLoading.jsonFile")),1)):(H(),q("span",KE,g(m(s)("explorer.dataLoading.networkxFile")),1))]),h("input",{type:"file",accept:".json",onChange:D[6]||(D[6]=O=>z.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),E.value==="json"?(H(),q("div",JE,g(m(s)("explorer.dataLoading.jsonSupports")),1)):(H(),q("div",YE,g(m(s)("explorer.dataLoading.networkxSupports")),1))],512),[[Dr,E.value==="json"||E.value==="networkx"]]),h("button",{onClick:$,disabled:!se.value||m(i),class:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[m(i)?(H(),q("span",tN,g(m(s)("explorer.dataLoading.loading")),1)):(H(),q("span",eN,g(m(s)("explorer.dataLoading.loadUploadedFile")),1))],8,QE)],512),[[Dr,v.value==="upload"]])]),G.value?(H(),q("div",sN,[h("h2",nN,g(m(s)("explorer.networkStats.title")),1),h("div",rN,[h("div",oN,[h("div",iN,g(m(s)("explorer.networkStats.nodes")),1),h("div",aN,g(ce.value.nodes),1)]),h("div",lN,[h("div",cN,g(m(s)("explorer.networkStats.edges")),1),h("div",dN,g(ce.value.edges),1)]),h("div",uN,[h("div",hN,g(m(s)("explorer.networkStats.avgDegree")),1),h("div",fN,g(ce.value.avgDegree),1)]),h("div",pN,[h("div",mN,g(m(s)("explorer.networkStats.analysisTime")),1),h("div",gN,g(ce.value.analysisTime),1)]),ce.value.communities?(H(),q("div",yN,[h("div",_N,g(m(s)("explorer.networkStats.communities")),1),h("div",bN,g(ce.value.communities),1)])):Re("",!0),ce.value.modularity?(H(),q("div",vN,[h("div",xN,g(m(s)("explorer.networkStats.modularity")),1),h("div",wN,g(ce.value.modularity),1)])):Re("",!0)]),Ae.value?(H(),q("div",kN,[h("span",AN,g(m(s)("explorer.networkStats.usingParallel")),1),h("span",CN," - "+g(te.value.count)+" "+g(m(s)("explorer.networkStats.workersActive")),1)])):Re("",!0),!Ae.value&&G.value?(H(),q("div",SN,[h("span",EN,g(m(s)("explorer.networkStats.singleThreaded")),1),h("span",NN," - "+g(m(s)("explorer.networkStats.networkTooSmall")),1)])):Re("",!0)])):Re("",!0),h("div",IN,[h("h2",TN,g(m(s)("explorer.networkAnalysis.title")),1),_e(ll,{"selected-metrics":W.value,"onUpdate:selectedMetrics":D[7]||(D[7]=O=>W.value=O),"size-metric":Z.value,"onUpdate:sizeMetric":D[8]||(D[8]=O=>Z.value=O),analyzing:S.value,disabled:!G.value,progress:m(l),"show-spectral-metric":!0,onAnalyze:B},null,8,["selected-metrics","size-metric","analyzing","disabled","progress"])]),h("div",LN,[h("h2",RN,g(m(s)("explorer.layoutAlgorithm.title")),1),_e(al,{modelValue:j.value,"onUpdate:modelValue":D[9]||(D[9]=O=>j.value=O),"available-layouts":ee.value,loading:m(i),disabled:!G.value,onApply:V},null,8,["modelValue","available-layouts","loading","disabled"]),h("div",PN,[h("p",DN,[(H(!0),q(Ge,null,Ss(ee.value,O=>(H(),q("div",{key:O.id},[h("strong",null,g(O.name)+":",1),xe(" "+g(O.description)+" ",1),O.requiresStats?(H(),q("span",MN," ("+g(m(s)("explorer.layoutAlgorithm.requiresAnalysis"))+")",1)):Re("",!0),D[11]||(D[11]=h("br",null,null,-1))]))),128))])])]),Te.value?(H(),q("div",ON,[h("div",GN,[h("h3",FN,g(m(s)("explorer.graphStats.title")),1),h("div",VN,[h("div",$N,[h("span",BN,g(m(s)("explorer.graphStats.density")),1),h("span",zN,g(le.value?.density?.toFixed(4)||"-"),1)]),h("div",jN,[h("span",UN,g(m(s)("explorer.graphStats.diameter")),1),h("span",HN,g(le.value?.diameter===1/0?"":le.value?.diameter||"-"),1)]),h("div",WN,[h("span",XN,g(m(s)("explorer.graphStats.avgClustering")),1),h("span",qN,g(le.value?.average_clustering?.toFixed(4)||"-"),1)]),h("div",ZN,[h("span",KN,g(m(s)("explorer.graphStats.avgPathLength")),1),h("span",JN,g(le.value?.average_shortest_path===1/0?"":le.value?.average_shortest_path?.toFixed(2)||"-"),1)]),h("div",YN,[h("span",QN,g(m(s)("explorer.graphStats.components")),1),h("span",eI,g(le.value?.connected_components||"-"),1)]),h("div",tI,[h("span",sI,g(m(s)("explorer.graphStats.avgDegree")),1),h("span",nI,g(le.value?.average_degree?.toFixed(2)||"-"),1)])]),h("div",rI,[h("p",oI,g(m(s)("explorer.graphStats.calculated")),1)])])])):Re("",!0),h("div",iI,[h("h2",aI,g(m(s)("explorer.communityDetection.title")),1),_e(rf,{modelValue:U.value,"onUpdate:modelValue":D[10]||(D[10]=O=>U.value=O),"available-algorithms":R.value,detecting:M.value,disabled:!G.value,label:m(s)("explorer.communityDetection.algorithm"),onDetect:re},null,8,["modelValue","available-algorithms","detecting","disabled","label"])]),K.value?(H(),q("div",lI,[h("div",cI,[h("h3",dI,g(m(s)("explorer.communityResults.title")),1),h("div",uI,[h("div",hI,[h("span",fI,g(m(s)("explorer.communityResults.communitiesFound")),1),h("span",pI,g(oe.value?.numCommunities||"-"),1)]),h("div",mI,[h("span",gI,g(m(s)("explorer.communityResults.modularityScore")),1),h("span",yI,g(oe.value?.modularity?.toFixed(3)||"-"),1)]),h("div",_I,[h("span",bI,g(m(s)("explorer.communityResults.computationTime")),1),h("span",vI,g(ue.value||"-"),1)]),h("div",xI,[h("span",wI,g(m(s)("explorer.communityResults.algorithm")),1),h("span",kI,g(U.value),1)])]),h("div",AI,[h("p",CI,g(m(s)("explorer.communityResults.nodeColorsRepresent")),1)])])])):Re("",!0),h("div",SI,[h("h3",EI,g(m(s)("explorer.instructions.title")),1),h("ul",NI,[h("li",{innerHTML:m(s)("explorer.instructions.dragNodes")},null,8,II),h("li",{innerHTML:m(s)("explorer.instructions.scroll")},null,8,TI),h("li",{innerHTML:m(s)("explorer.instructions.dragBackground")},null,8,LI),h("li",{innerHTML:m(s)("explorer.instructions.hoverNodes")},null,8,RI),h("li",{innerHTML:m(s)("explorer.instructions.nodeSize")},null,8,PI),h("li",{innerHTML:m(s)("explorer.instructions.color")},null,8,DI)])])]),graph:Be(()=>[m(i)?(H(),q("div",MI,[h("div",OI,[D[12]||(D[12]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",GI,g(X.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}))}},VI=Ln(FI,[["__scopeId","data-v-790b5b0e"]]),$I=["aria-labelledby"],BI={class:"px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-700"},zI=["id"],jI={class:"px-6 py-4"},UI={class:"space-y-4"},HI=["for"],WI={key:0,class:"text-red-500"},XI=["id","onUpdate:modelValue","required"],qI=["id","onUpdate:modelValue","required"],ZI={value:"",disabled:""},KI=["value"],JI=["aria-labelledby"],YI=["name","value","onUpdate:modelValue","required"],QI={class:"text-2xl"},eT={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},tT=["id","onUpdate:modelValue","placeholder","required"],sT={__name:"DialogForm",props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},fields:{type:Array,required:!0,default:()=>[]}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=t,n=e,{t:r}=Jt(),o=`dialog-${Math.random().toString(36).substr(2,9)}`,i=ae([]),a=()=>{i.value=s.fields.map(()=>"")},l=()=>{if(!s.fields.every((u,f)=>!(u.required&&!i.value[f]?.trim()))){alert("Please fill in all required fields");return}n("confirm",[...i.value])},c=()=>{a(),n("cancel")};return Ct(()=>s.visible,d=>{d&&(a(),Nn(()=>{const u=document.querySelector("#field-0");u&&(u.focus(),u.tagName==="INPUT"&&u.select())}))}),Ps(()=>{a()}),(d,u)=>(H(),Is(Bp,{to:"body"},[t.visible?(H(),q("div",{key:0,class:"dialog-overlay fixed inset-0 z-[9999] flex items-center justify-center",style:{"z-index":"9999 !important",position:"fixed !important"},onClick:sh(c,["self"])},[u[0]||(u[0]=h("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",style:{"z-index":"9998"}},null,-1)),h("div",{class:"dialog-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",style:{"z-index":"10000 !important",position:"relative !important"},role:"dialog","aria-modal":"true","aria-labelledby":`dialog-title-${o}`},[h("div",BI,[h("h3",{id:`dialog-title-${o}`,class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},g(t.title),9,zI)]),h("div",jI,[h("div",UI,[(H(!0),q(Ge,null,Ss(t.fields,(f,p)=>(H(),q("div",{key:p,class:"space-y-2"},[h("label",{for:`field-${p}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[xe(g(f.label)+" ",1),f.required?(H(),q("span",WI,"*")):Re("",!0)],8,HI),f.type==="text"||!f.type?ht((H(),q("input",{key:0,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:[On(l,["enter"]),On(c,["esc"])]},null,40,XI)),[[fc,i.value[p]]]):f.type==="select"?ht((H(),q("select",{key:1,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:On(c,["esc"])},[h("option",ZI,g(m(r)("family.dialogs.selectOption")),1),(H(!0),q(Ge,null,Ss(f.options,y=>(H(),q("option",{key:y.value,value:y.value},g(y.text),9,KI))),128))],40,qI)),[[xn,i.value[p]]]):f.type==="radio"?(H(),q("div",{key:2,class:"flex flex-wrap gap-2",role:"radiogroup","aria-labelledby":`field-${p}-label`},[(H(!0),q(Ge,null,Ss(f.options,y=>(H(),q("label",{key:y.value,class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":i.value[p]===y.value,"border-gray-300 dark:border-gray-600 hover:border-green-300":i.value[p]!==y.value}])},[ht(h("input",{type:"radio",name:`field-${p}`,value:y.value,"onUpdate:modelValue":_=>i.value[p]=_,required:f.required,class:"text-green-600 focus:ring-green-500"},null,8,YI),[[sa,i.value[p]]]),h("span",QI,g(y.emoji),1),h("span",eT,g(y.text),1)],2))),128))],8,JI)):f.type==="emoji"?ht((H(),q("input",{key:3,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",placeholder:f.placeholder||"Type an emoji ",required:f.required,maxlength:"10",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-2xl text-center",onKeyup:[On(l,["enter"]),On(c,["esc"])]},null,40,tT)),[[fc,i.value[p]]]):Re("",!0)]))),128))])]),h("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3"},[h("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors"}," Cancel "),h("button",{type:"button",onClick:l,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"}," OK ")])],8,$I)])):Re("",!0)]))}},nT=Ln(sT,[["__scopeId","data-v-8db90550"]]),ne={YOU:1,PARENT:2,SIBLING:3,UNCLE_AUNT:4,COUSIN:5,GRANDPARENT:6,NIECE_NEPHEW:7,CHILD:8,PARTNER:9},st={MALE:"male",FEMALE:"female",OTHER:"other"},Vi={[st.MALE]:"",[st.FEMALE]:"",[st.OTHER]:""},rT={[ne.YOU]:"#6366f1",[ne.PARENT]:"#ec4899",[ne.SIBLING]:"#3b82f6",[ne.UNCLE_AUNT]:"#f97316",[ne.COUSIN]:"#a855f7",[ne.GRANDPARENT]:"#b45309",[ne.NIECE_NEPHEW]:"#06b6d4",[ne.CHILD]:"#14b8a6",[ne.PARTNER]:"#f43f5e"};function an(t,e=null){const s=e===st.FEMALE,n=e===st.MALE||e===st.OTHER;switch(t){case ne.YOU:return"You";case ne.PARENT:return s?"Mother":n?"Father":"Parent";case ne.SIBLING:return s?"Sister":n?"Brother":"Sibling";case ne.UNCLE_AUNT:return s?"Aunt":n?"Uncle":"Uncle/Aunt";case ne.COUSIN:return"Cousin";case ne.GRANDPARENT:return s?"Grandmother":n?"Grandfather":"Grandparent";case ne.NIECE_NEPHEW:return s?"Niece":n?"Nephew":"Niece/Nephew";case ne.CHILD:return s?"Daughter":n?"Son":"Child";case ne.PARTNER:return s?"Wife":n?"Husband":"Partner/Spouse";default:return"Relative"}}const oT={nodes:[{id:"YOU",group:ne.YOU,relationship:"You"}],links:[]},$i="familyTree";function Fd(t){return typeof t=="string"?t:t?.id||String(t)}class iT{constructor(e,s=n=>n){this.getGraphInstance=e,this.t=s}canAddParents(){const e=this.getGraphInstance();if(!e?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const s=e.data.nodes.filter(n=>n.group===ne.PARENT);return s.length>=2?{canAdd:!1,existingCount:s.length,message:this.t("family.operations.validation.maxParents")}:{canAdd:!0,existingCount:s.length,remainingSlots:2-s.length}}canAddGrandparents(e){const s=this.getGraphInstance();if(!s?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const r=s.data.links.filter(o=>Fd(o.target)===e).map(o=>{const i=Fd(o.source);return s.data.nodes.find(a=>a.id===i)}).filter(o=>o&&o.group===ne.GRANDPARENT);return r.length>=2?{canAdd:!1,existingCount:r.length,message:`${e} already has 2 grandparents. Cannot add more.`}:{canAdd:!0,existingCount:r.length,remainingSlots:2-r.length}}hasPartner(e){const s=this.getGraphInstance();return s?.data?s.data.nodes.filter(r=>r.group===ne.PARTNER&&r.partnerOf===e).length>0:!1}getEligibleParents(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const n=s.group;return n!==ne.GRANDPARENT&&n!==ne.UNCLE_AUNT&&n!==ne.PARENT}):[]}getEligibleForPartner(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const n=s.group;return(n===ne.YOU||n===ne.SIBLING||n===ne.COUSIN||n===ne.UNCLE_AUNT||n===ne.NIECE_NEPHEW||n===ne.CHILD)&&!this.hasPartner(s.id)}):[]}}function $e(t){return typeof t=="string"?t:t?.id||String(t)}class aT{constructor(e,s,n,r){this.graphManager=e,this.getGraphInstance=s,this.validation=n,this.saveFamily=r}addNodeWithRelationship(e,s,n,r=null,o=null,i=null){const a=i||an(n,r),l=this.getGraphInstance(),c=this.graphManager.addNode(e,s,n,!0);if(c&&typeof c.then=="function")return c.then(u=>(this._setNodeProperties(u,a,r,o,l),u));const d=c;return this._setNodeProperties(d,a,r,o,l),d}_setNodeProperties(e,s,n,r,o){this._setNodeProperty(e,"relationship",s,o),n&&this._setNodeProperty(e,"gender",n,o),r&&this._setNodeProperty(e,"avatar",r,o),requestAnimationFrame(()=>{if(o?.data){const i=o.data.nodes.find(a=>a.id===e.id);i&&(i.relationship||(i.relationship=s),n&&!i.gender&&(i.gender=n),r&&!i.avatar&&(i.avatar=r),r&&o.options?.renderMode==="avatars"&&this._updateNodeAvatarElement(e.id,r,o))}})}_updateNodeAvatarElement(e,s,n){n?.nodeGroup&&n.nodeGroup.selectAll("text").filter(r=>r.id===e).text(s)}_setNodeProperty(e,s,n,r){if(e&&(e[s]=n,r?.data)){let o=r.data.nodes.find(i=>i.id===e.id);o?(o[s]=n,o!==e&&(e[s]=n)):requestAnimationFrame(()=>{if(r?.data){const i=r.data.nodes.find(a=>a.id===e.id);i&&(i[s]=n)}})}}_setRelationshipOnNode(e,s,n){this._setNodeProperty(e,"relationship",s,n),requestAnimationFrame(()=>{if(n?.data){const r=n.data.nodes.find(o=>o.id===e.id);r&&!r.relationship&&(r.relationship=s)}})}addParents(e,s,n=null,r=null){const o=this.validation.canAddParents();if(!o.canAdd)return{success:!1,message:o.message};if(!e?.trim()&&!s?.trim())return{success:!1,message:"At least one parent name is required"};const i=o.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let l=null;e?.trim()&&i>=1&&(l=this.addNodeWithRelationship(["YOU"],e.trim(),ne.PARENT,st.FEMALE,n?.trim()||null)?.id||e.trim());let c=null;const d=l?i>=2:i>=1;if(s?.trim()&&d)c=this.addNodeWithRelationship(["YOU"],s.trim(),ne.PARENT,st.MALE,r?.trim()||null)?.id||s.trim();else if(s?.trim()&&!d)return{success:!0,message:"Only one parent slot available. Added only the mother."};return l&&c&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(l,c)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addSibling(e,s,n=null){if(!e?.trim())return{success:!1,message:"Sibling name is required"};if(!s)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.links.filter(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"||p==="YOU"}).map(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"?p:f}).map(u=>{const f=r.data.nodes.find(p=>p.id===u);return f&&f.group===ne.PARENT?u:null}).filter(u=>u!==null),a=r.data.nodes.filter(u=>u.group===ne.SIBLING||u.id==="YOU").map(u=>u.id),l=[];i.length>0?l.push(...i):l.push("YOU"),a.forEach(u=>{l.includes(u)||l.push(u)});const c=this.addNodeWithRelationship(l,e.trim(),ne.SIBLING,s,n?.trim()||null);if(!c)return{success:!1,message:"Failed to add sibling"};const d=c.id||e.trim();return this.graphManager.addLink&&a.forEach(u=>{u!==d&&requestAnimationFrame(()=>{this.graphManager.addLink(d,u,!0)})}),this.saveFamily(),{success:!0}}addGrandparents(e,s,n,r=null,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};const i=this.validation.canAddGrandparents(e);if(!i.canAdd)return{success:!1,message:i.message};if(!s?.trim()&&!n?.trim())return{success:!1,message:"At least one grandparent name is required"};const a=i.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let c=null;s?.trim()&&a>=1&&(c=this.addNodeWithRelationship([e],s.trim(),ne.GRANDPARENT,st.FEMALE,r?.trim()||null)?.id||s.trim());let d=null;const u=c?a>=2:a>=1;if(n?.trim()&&u)d=this.addNodeWithRelationship([e],n.trim(),ne.GRANDPARENT,st.MALE,o?.trim()||null)?.id||n.trim();else if(n?.trim()&&!u)return{success:!0,message:"Only one grandparent slot available for this parent. Added only the grandmother."};return c&&d&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(c,d)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addUncleAunt(e,s,n,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Uncle/aunt name is required"};if(!n)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.links,a=i.filter(p=>($e(p.source),$e(p.target)===e)).map(p=>{const y=$e(p.source);return o.data.nodes.find(_=>_.id===y)}).filter(p=>p&&p.group===ne.GRANDPARENT).map(p=>p.id),l=[];if(a.length>0){const p=i.filter(y=>{const _=$e(y.source);return a.includes(_)}).map(y=>{const _=$e(y.target);return o.data.nodes.find(x=>x.id===_)}).filter(y=>y&&(y.group===ne.PARENT||y.group===ne.UNCLE_AUNT)).map(y=>y.id);l.push(...p)}else l.push(e);const c=[...new Set(l)],d=[...a,...c],u=this.addNodeWithRelationship(d,s.trim(),ne.UNCLE_AUNT,n,r?.trim()||null);if(!u)return{success:!1,message:"Failed to add uncle/aunt"};const f=u.id||s.trim();return this.graphManager.addLink&&c.forEach(p=>{p!==f&&requestAnimationFrame(()=>{this.graphManager.addLink(f,p,!0)})}),this.saveFamily(),{success:!0}}addCousin(e,s,n,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Uncle/aunt not found"};if(!n)return{success:!1,message:"Gender is required"};if(!s?.trim())return{success:!1,message:"Cousin name is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(f=>f.group===ne.PARTNER&&f.partnerOf===e),a=o.data.links,l=o.data.nodes.filter(f=>{if(f.group!==ne.COUSIN)return!1;const p=a.some(y=>{const _=$e(y.source),x=$e(y.target);return _===f.id&&x===e||x===f.id&&_===e});if(i){const y=a.some(_=>{const x=$e(_.source),v=$e(_.target);return x===f.id&&v===i.id||v===f.id&&x===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,s.trim(),ne.COUSIN,n,r?.trim()||null);if(!d)return{success:!1,message:"Failed to add cousin"};const u=d.id||s.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addChild(e,s,n,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Child name is required"};if(!n)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(y=>y.id===e);if(!i)return{success:!1,message:"Parent not found"};let a=ne.CHILD;i.group===ne.YOU||i.group===ne.PARTNER?a=ne.CHILD:i.group===ne.SIBLING?a=ne.NIECE_NEPHEW:a=ne.CHILD;const l=o.data.nodes.find(y=>y.group===ne.PARTNER&&y.partnerOf===e),c=o.data.links,d=o.data.nodes.filter(y=>{if(y.group!==a)return!1;const _=c.some(x=>{const v=$e(x.source),w=$e(x.target);return v===y.id&&w===e||w===y.id&&v===e});if(l){const x=c.some(v=>{const w=$e(v.source),E=$e(v.target);return w===y.id&&E===l.id||E===y.id&&w===l.id});return _||x}return _}).map(y=>y.id),u=[e];l&&u.push(l.id),d.forEach(y=>{u.includes(y)||u.push(y)});const f=this.addNodeWithRelationship(u,s.trim(),a,n,r?.trim()||null);if(!f)return{success:!1,message:"Failed to add child"};const p=f.id||s.trim();return this.graphManager.addLink&&d.forEach(y=>{y!==p&&requestAnimationFrame(()=>{this.graphManager.addLink(p,y,!0)})}),this.saveFamily(),{success:!0}}addNieceNephew(e,s,n,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Sibling not found"};if(!s?.trim())return{success:!1,message:"Niece/nephew name is required"};if(!n)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(f=>f.group===ne.PARTNER&&f.partnerOf===e),a=o.data.links,l=o.data.nodes.filter(f=>{if(f.group!==ne.NIECE_NEPHEW)return!1;const p=a.some(y=>{const _=$e(y.source),x=$e(y.target);return _===f.id&&x===e||x===f.id&&_===e});if(i){const y=a.some(_=>{const x=$e(_.source),v=$e(_.target);return x===f.id&&v===i.id||v===f.id&&x===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,s.trim(),ne.NIECE_NEPHEW,n,r?.trim()||null);if(!d)return{success:!1,message:"Failed to add niece/nephew"};const u=d.id||s.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addPartner(e,s,n,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Person not found"};if(!s?.trim())return{success:!1,message:"Partner name is required"};if(!n)return{success:!1,message:"Gender is required"};if(this.validation.hasPartner(e))return{success:!1,message:`${e} already has a partner!`};const o=this.getGraphInstance();let i=null;if(o?.data){const c=o.data.nodes.find(d=>d.id===e);if(c){const d=c.relationship||an(c.group);d==="You"?i="Your Partner/Spouse":i=`${d}'s Partner`}}const a=this.addNodeWithRelationship([e],s.trim(),ne.PARTNER,n,r?.trim()||null,i),l=c=>{this._setNodeProperty(c,"partnerOf",e,o),requestAnimationFrame(()=>{if(o?.data){const d=o.data.nodes.find(u=>u.id===c.id);d&&(d.partnerOf=e)}this.saveFamily()})};return a&&typeof a.then=="function"?a.then(c=>{l(c)}):l(a),{success:!0}}}function rs(t){return typeof t=="string"?t:t?.id||String(t)}class lT{constructor(e,s,n,r=o=>o){this.getGraphInstance=e,this.onStatusChange=s,this.log=n,this.t=r,this.autoSaveInterval=null,this.autoSaveIntervalMs=3e4}getInitialDataset(){return{...oT}}loadFamily(){try{const e=localStorage.getItem($i);if(e){const s=JSON.parse(e);return s.links&&Array.isArray(s.links)&&(s.links=s.links.map(n=>({...n,source:rs(n.source),target:rs(n.target)}))),s.nodes&&Array.isArray(s.nodes)&&(s.nodes=s.nodes.filter(n=>n&&n.id),s.nodes.forEach(n=>{if(!n.relationship&&n.group!==void 0)if(n.group===ne.PARTNER){const o=(s.links||[]).filter(i=>{const a=rs(i.source),l=rs(i.target);return a===n.id||l===n.id});if(o.length>0){const i=o[0],a=rs(i.source)===n.id?rs(i.target):rs(i.source),l=s.nodes.find(c=>c.id===a);if(l){const c=l.relationship||an(l.group);c==="You"?n.relationship="Your Partner/Spouse":n.relationship=`${c}'s Partner`}else n.relationship=an(n.group)}else n.relationship=an(n.group)}else n.relationship=an(n.group)})),this.log.debug("Loaded family tree from storage",{nodeCount:s.nodes?.length||0,linkCount:s.links?.length||0}),s}}catch(e){this.log.error("Failed to load family tree",{error:e.message})}return null}saveFamily(){const e=this.getGraphInstance();if(!e?.data){this.log.warn("Cannot save - graph not initialized");return}try{const s=e.data.links.map(o=>({source:rs(o.source),target:rs(o.target)})),r={nodes:e.data.nodes.map(o=>{const{id:i,group:a,relationship:l,...c}=o,d={id:i,group:a};return l!==void 0&&(d.relationship=l),c.gender!==void 0&&(d.gender=c.gender),c.avatar!==void 0&&(d.avatar=c.avatar),c.partnerOf!==void 0&&(d.partnerOf=c.partnerOf),c.centrality!==void 0&&(d.centrality=c.centrality),c.community!==void 0&&(d.community=c.community),c.degree!==void 0&&(d.degree=c.degree),c.eigenvector!==void 0&&(d.eigenvector=c.eigenvector),c.betweenness!==void 0&&(d.betweenness=c.betweenness),d}),links:s};localStorage.setItem($i,JSON.stringify(r)),this.log.debug("Family tree saved",{nodeCount:r.nodes.length,linkCount:r.links.length}),this.showStatus(this.t("family.storage.saved"),"success")}catch(s){this.log.error("Failed to save family tree",{error:s.message}),this.showStatus(this.t("family.storage.error"),"error")}}resetFamily(e,s){const n=!!this.autoSaveInterval;n&&this.stopAutoSave(),localStorage.removeItem($i);const r=this.getInitialDataset(),o=s.value||s;if(o){const i=()=>{o.off("ready",i),n&&this.startAutoSave(),this.saveFamily()};o.on("ready",i)}e(r.nodes,r.links),this.log.info("Family tree reset"),this.showStatus(this.t("family.storage.reset"),"success")}startAutoSave(){this.autoSaveInterval||(this.autoSaveInterval=setInterval(()=>{document.visibilityState==="visible"&&this.saveFamily()},this.autoSaveIntervalMs),this.log.debug("Auto-save started",{intervalMs:this.autoSaveIntervalMs}))}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null,this.log.debug("Auto-save stopped"))}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}}function sn(t){return[{value:st.MALE,emoji:Vi[st.MALE],text:t("family.dialogs.genderOptions.male")},{value:st.FEMALE,emoji:Vi[st.FEMALE],text:t("family.dialogs.genderOptions.female")},{value:st.OTHER,emoji:Vi[st.OTHER],text:t("family.dialogs.genderOptions.other")}]}const Ce={ADD_PARENTS:"addParents",ADD_SIBLING:"addSibling",ADD_GRANDPARENTS:"addGrandparents",ADD_UNCLE_AUNT:"addUncleAunt",ADD_COUSIN:"addCousin",ADD_CHILD:"addChild",ADD_NIECE_NEPHEW:"addNieceNephew",ADD_PARTNER:"addPartner"};class qf{constructor(e,s,n=r=>r){this.getGraphInstance=e,this.validation=s,this.t=n}getAddParentsDialog(){const e=this.validation.canAddParents();return e&&!e.canAdd?null:{title:this.t("family.dialogs.addParents"),fields:[{label:this.t("family.dialogs.fields.motherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.motherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.mother")},{label:this.t("family.dialogs.fields.fatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.fatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.father")}],action:Ce.ADD_PARENTS}}getAddSiblingDialog(){return{title:this.t("family.dialogs.addSibling"),fields:[{label:this.t("family.dialogs.fields.siblingName"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_SIBLING}}getAddGrandparentsDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(r=>r.group===ne.PARENT);if(s.length===0)return null;const n=s.map(r=>({value:r.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addGrandparents"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.grandmotherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandmotherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandmother")},{label:this.t("family.dialogs.fields.grandfatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandfatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandfather")}],action:Ce.ADD_GRANDPARENTS}}getAddUncleAuntDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(r=>r.group===ne.PARENT);if(s.length===0)return null;const n=s.map(r=>({value:r.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addUncleAunt"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_UNCLE_AUNT}}getAddCousinDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(r=>r.group===ne.UNCLE_AUNT);if(s.length===0)return null;const n=s.map(r=>({value:r.id,text:this.t("family.dropdownOptions.uncleAuntChildTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addCousin"),fields:[{label:this.t("family.dialogs.fields.uncleAuntField"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_COUSIN}}getAddChildDialog(){const e=this.validation.getEligibleParents();if(e.length===0)return null;const s=e.map(n=>{let r="";switch(n.group){case ne.YOU:r=this.t("family.dropdownOptions.yourChild");break;case ne.SIBLING:r=this.t("family.dropdownOptions.nieceNephewTemplate").replace("{name}",n.id);break;case ne.COUSIN:r=this.t("family.dropdownOptions.cousinChildTemplate").replace("{name}",n.id);break;case ne.CHILD:r=this.t("family.dropdownOptions.grandchildTemplate").replace("{name}",n.id);break;case ne.NIECE_NEPHEW:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id);break;case ne.PARTNER:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id);break;default:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id)}return{value:n.id,text:r}});return{title:this.t("family.dialogs.addChild"),fields:[{label:this.t("family.dialogs.fields.parent"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_CHILD}}getAddNieceNephewDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(r=>r.group===ne.SIBLING);if(s.length===0)return null;const n=s.map(r=>({value:r.id,text:this.t("family.dropdownOptions.siblingChildTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addNieceNephew"),fields:[{label:this.t("family.dialogs.fields.sibling"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_NIECE_NEPHEW}}getAddPartnerDialog(){const e=this.validation.getEligibleForPartner();if(e.length===0)return null;const s=e.map(n=>{let r="";switch(n.group){case ne.YOU:r=this.t("family.operations.relationships.yourPartner");break;case ne.SIBLING:r=this.t("family.dropdownOptions.siblingPartnerTemplate").replace("{name}",n.id);break;case ne.COUSIN:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.UNCLE_AUNT:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.NIECE_NEPHEW:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.CHILD:r=this.t("family.dropdownOptions.childPartnerTemplate").replace("{name}",n.id);break;default:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id)}return{value:n.id,text:r}});return{title:this.t("family.dialogs.addPartner"),fields:[{label:this.t("family.dialogs.fields.partnerOf"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:sn(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_PARTNER}}getValidationMessage(e){const s=this.getGraphInstance();switch(e){case Ce.ADD_PARENTS:return this.validation.canAddParents()?.message||"Cannot add more parents (maximum 2)";case Ce.ADD_GRANDPARENTS:return s?.data?.nodes.filter(r=>r.group===ne.PARENT)?.length===0?"You must add parents first before adding grandparents":"No parents available";case Ce.ADD_UNCLE_AUNT:return s?.data?.nodes.filter(r=>r.group===ne.PARENT)?.length===0?"You must add parents first before adding uncles/aunts":"No parents available";case Ce.ADD_COUSIN:return s?.data?.nodes.filter(r=>r.group===ne.UNCLE_AUNT)?.length===0?"You must add uncles/aunts first before adding cousins":"No uncles/aunts available";case Ce.ADD_CHILD:return"No eligible parents available to have children";case Ce.ADD_NIECE_NEPHEW:return s?.data?.nodes.filter(r=>r.group===ne.SIBLING)?.length===0?"You must add siblings first before adding nieces/nephews":"No siblings available";case Ce.ADD_PARTNER:return"No eligible people available for partners (they may already have partners)";default:return"Operation cannot be performed"}}executeAction(e,s,n){switch(e){case Ce.ADD_PARENTS:return n.addParents(s[0],s[2],s[1],s[3]);case Ce.ADD_SIBLING:return n.addSibling(s[0],s[1],s[2]);case Ce.ADD_GRANDPARENTS:return n.addGrandparents(s[0],s[1],s[3],s[2],s[4]);case Ce.ADD_UNCLE_AUNT:return n.addUncleAunt(s[0],s[1],s[2],s[3]);case Ce.ADD_COUSIN:return n.addCousin(s[0],s[1],s[2],s[3]);case Ce.ADD_CHILD:return n.addChild(s[0],s[1],s[2],s[3]);case Ce.ADD_NIECE_NEPHEW:return n.addNieceNephew(s[0],s[1],s[2],s[3]);case Ce.ADD_PARTNER:return n.addPartner(s[0],s[1],s[2],s[3]);default:return{success:!1,message:`Unknown action: ${e}`}}}}class cT{constructor(e,s,n=""){this.nodes=JSON.parse(JSON.stringify(e)),this.links=s.map(r=>({source:typeof r.source=="string"?r.source:r.source.id,target:typeof r.target=="string"?r.target:r.target.id})),this.description=n,this.timestamp=Date.now()}getNodes(){return JSON.parse(JSON.stringify(this.nodes))}getLinks(){return JSON.parse(JSON.stringify(this.links))}getDescription(){return this.description}getTimestamp(){return this.timestamp}getSummary(){return{nodeCount:this.nodes.length,linkCount:this.links.length,description:this.description,timestamp:new Date(this.timestamp).toLocaleString()}}}class dT{constructor(e={}){this.undoStack=[],this.redoStack=[],this.maxHistorySize=e.maxHistorySize||10}saveState(e){this.undoStack.push(e),this.undoStack.length>this.maxHistorySize&&this.undoStack.shift(),this.redoStack=[]}undo(){if(this.undoStack.length===0)return null;const e=this.undoStack.pop();return this.redoStack.push(e),e}redo(){if(this.redoStack.length===0)return null;const e=this.redoStack.pop();return this.undoStack.push(e),e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getUndoCount(){return this.undoStack.length}getRedoCount(){return this.redoStack.length}getUndoDescription(){return this.undoStack.length===0?null:this.undoStack[this.undoStack.length-1].getDescription()}getRedoDescription(){return this.redoStack.length===0?null:this.redoStack[this.redoStack.length-1].getDescription()}clear(){this.undoStack=[],this.redoStack=[]}getHistorySummary(){return{undoCount:this.undoStack.length,redoCount:this.redoStack.length,canUndo:this.canUndo(),canRedo:this.canRedo(),nextUndo:this.getUndoDescription(),nextRedo:this.getRedoDescription()}}}class uT{constructor({graphManager:e,onStatusChange:s=null,lang:n="en"}){this.graphManager=e,this.onStatusChange=s,this.lang=n,this.log=Lt({prefix:"FamilyController",level:"info"});const r=()=>this.getGraphInstance(),o=i=>yh(this.lang,i);this.validation=new iT(r,o),this.storage=new lT(r,s,this.log,o),this.operations=new aT(e,r,this.validation,()=>this.storage.saveFamily()),this.dialogService=new qf(r,this.validation,o),this.mementoHistory=new dT({maxHistorySize:10}),this.storage.startAutoSave()}getInitialDataset(){return this.storage.getInitialDataset()}loadFamily(){return this.storage.loadFamily()}getGraphInstance(){return this.graphManager?.graphInstance?this.graphManager.graphInstance.value||this.graphManager.graphInstance:null}saveFamily(){this.storage.saveFamily()}resetFamily(){this.storage.resetFamily(this.graphManager.loadData,this.graphManager.graphInstance)}lockGraph(){if(!this.graphManager?.lockPositions){this.log.warn("lockPositions not available");return}this.graphManager.lockPositions(),this.showStatus("Graph locked","success")}unlockGraph(){if(!this.graphManager?.unlockPositions){this.log.warn("unlockPositions not available");return}this.graphManager.unlockPositions(),this.showStatus("Graph unlocked","success")}saveAsPNG(e="family-tree.png"){if(!this.graphManager?.saveAsPNG){this.log.warn("saveAsPNG not available");return}this.graphManager.saveAsPNG(e),this.showStatus("Image saved!","success")}canAddParents(){return this.validation.canAddParents()}getEligibleParents(){return this.validation.getEligibleParents()}getEligibleForPartner(){return this.validation.getEligibleForPartner()}addParents(e,s=null){return this.operations.addParents(e,s)}addSibling(e){return this.operations.addSibling(e)}addGrandparents(e,s,n=null){return this.operations.addGrandparents(e,s,n)}addUncleAunt(e,s){return this.operations.addUncleAunt(e,s)}addCousin(e,s){return this.operations.addCousin(e,s)}addChild(e,s){return this.operations.addChild(e,s)}addNieceNephew(e,s){return this.operations.addNieceNephew(e,s)}addPartner(e,s){return this.operations.addPartner(e,s)}getDialogService(){return this.dialogService}getOperations(){return this.operations}async applyLayout(e){if(e==="none"){const s=" Using D3 physics simulation (no layout algorithm)";return this.log.debug("Using default D3 physics simulation"),this.showStatus(s,"info"),this.graphManager?.unlockPositions&&this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this.showStatus(`Applying ${e} layout...`,"info"),!this.graphManager?.applyLayout)return{success:!1,error:"Layout functionality not available"};if(await this.graphManager.applyLayout(e)){const n=` Applied ${e} layout algorithm`;return this.log.info("Layout applied successfully",{layoutId:e}),this.showStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=` Layout failed: ${s.message}`;return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this.showStatus(n,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager?.getAvailableLayouts?this.graphManager.getAvailableLayouts():[]}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}saveStateBeforeOperation(e){const s=this.getGraphInstance();if(!s||!s.data){this.log.warn("Cannot save state: graph not available");return}const n=new cT(s.data.nodes,s.data.links,e);this.mementoHistory.saveState(n),this.log.debug("State saved",{description:e,summary:n.getSummary()})}undo(){if(!this.mementoHistory.canUndo())return{success:!1,message:"Nothing to undo"};const e=this.mementoHistory.undo();if(!e)return{success:!1,message:"Failed to undo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const n=e.getNodes(),r=e.getLinks();this.graphManager.loadData(n,r);const o=`Undid: ${e.getDescription()}`;return this.log.info("Undo successful",{description:e.getDescription()}),this.showStatus(o,"info"),{success:!0,message:o}}redo(){if(!this.mementoHistory.canRedo())return{success:!1,message:"Nothing to redo"};const e=this.mementoHistory.redo();if(!e)return{success:!1,message:"Failed to redo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const n=e.getNodes(),r=e.getLinks();this.graphManager.loadData(n,r);const o=`Redid: ${e.getDescription()}`;return this.log.info("Redo successful",{description:e.getDescription()}),this.showStatus(o,"info"),{success:!0,message:o}}canUndo(){return this.mementoHistory.canUndo()}canRedo(){return this.mementoHistory.canRedo()}getHistorySummary(){return this.mementoHistory.getHistorySummary()}dispose(){this.storage.stopAutoSave(),this.log.info("FamilyController disposed")}}const hT={class:"demo-controls-header"},fT={class:"demo-controls-title"},pT={class:"demo-controls-description"},mT={class:"info-box-green mb-4"},gT={class:"text-lg font-semibold text-green-900 dark:text-green-300 mb-2"},yT={class:"text-sm text-green-800 dark:text-green-200"},_T={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},bT={class:"demo-controls-section-title mb-3"},vT={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},xT={key:0,class:"text-secondary text-center py-2"},wT={class:"text-xs"},kT={class:"text-xs mt-1 opacity-60"},AT={key:1,class:"space-y-2"},CT={class:"flex-shrink-0 mt-0.5"},ST={key:0},ET={key:1},NT={key:2},IT={class:"flex-1 break-words"},TT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},LT={class:"demo-controls-section-title"},RT={class:"grid grid-cols-2 gap-2"},PT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},DT={class:"demo-controls-section-title"},MT={class:"grid grid-cols-2 gap-2"},OT=["disabled"],GT=["disabled"],FT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},VT={class:"demo-controls-section-title"},$T={class:"flex flex-wrap gap-2 mb-3"},BT={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},zT={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},jT={class:"info-box-blue"},UT={class:"text-xs text-blue-800 dark:text-blue-200"},HT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},WT={class:"demo-controls-section-title"},XT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},qT={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},ZT={class:"space-y-2 text-sm"},KT={class:"flex items-center gap-2"},JT={class:"text-gray-700 dark:text-gray-300"},YT={class:"flex items-center gap-2"},QT={class:"text-gray-700 dark:text-gray-300"},eL={class:"flex items-center gap-2"},tL={class:"text-gray-700 dark:text-gray-300"},sL={class:"flex items-center gap-2"},nL={class:"text-gray-700 dark:text-gray-300"},rL={class:"flex items-center gap-2"},oL={class:"text-gray-700 dark:text-gray-300"},iL={class:"flex items-center gap-2"},aL={class:"text-gray-700 dark:text-gray-300"},lL={class:"flex items-center gap-2"},cL={class:"text-gray-700 dark:text-gray-300"},dL={class:"flex items-center gap-2"},uL={class:"text-gray-700 dark:text-gray-300"},hL={class:"flex items-center gap-2"},fL={class:"text-gray-700 dark:text-gray-300"},pL={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},mL={class:"demo-controls-section-title"},gL={class:"info-box-yellow mt-3"},yL={class:"text-xs text-yellow-800 dark:text-yellow-200"},_L={key:0,class:"italic"},bL={class:"info-box-blue"},vL={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2"},xL={class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},wL=["innerHTML"],kL=["innerHTML"],AL=["innerHTML"],CL=["innerHTML"],SL=["innerHTML"],EL=["innerHTML"],NL=["innerHTML"],IL={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},TL={class:"text-center"},LL={class:"text-secondary"},RL={__name:"FamilyPage",setup(t){const e=Lt({prefix:"FamilyPage",level:"info"}),{t:s,lang:n}=Jt(),r=Al({colorBy:"group",colorScheme:"categorical",showLabels:!0,autoComputeCentrality:!1,customColorFunction:Y=>{const Q=Y.group||0;return rT[Q]||null}}),{graphContainer:o,graphInstance:i,loading:a,loadData:l,addNode:c,addLink:d,hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:x,getAvailableLayouts:v,analyzeGraph:w,analysisProgress:E}=r,A=ae(""),L=ae("info"),z=ae("Loading graph..."),j=ae(!1),ee=ae(""),W=ae([]),Z=ae(null),U=ae("none"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),T=ae(["eigenvector"]),F=ae("eigenvector"),X=ae(!1),oe=ae("colors"),ue=ae(!1);let K=null;const le=(Y,Q)=>{A.value=Y,L.value=Q},Te=()=>{K&&(S.value=K.canUndo(),M.value=K.canRedo())},Ae=Y=>{(Y.ctrlKey||Y.metaKey)&&Y.key==="z"&&!Y.shiftKey?(Y.preventDefault(),me()):((Y.ctrlKey||Y.metaKey)&&Y.key==="y"||(Y.ctrlKey||Y.metaKey)&&Y.shiftKey&&Y.key==="z")&&(Y.preventDefault(),ie())},ce=()=>{const Y={graphInstance:i,loadData:l,addNode:(de,Oe,qe)=>c(de,Oe,qe,!0),addLink:(de,Oe)=>d(de,Oe,!0),hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:x,getAvailableLayouts:v};K=new uT({graphManager:Y,onStatusChange:le,lang:n.value}),R.value=K.getAvailableLayouts();const Q=K.loadFamily();if(Q)l(Q.nodes,Q.links);else{const de=K.getInitialDataset();l(de.nodes,de.links)}},ge=async(Y,Q)=>{if(!K){le("Graph is still loading. Please wait...","error");return}const de=K.getDialogService(),Oe=Q();if(!Oe){const qe=de.getValidationMessage(Y);le(qe,"error");return}ee.value=Oe.title,W.value=Oe.fields,Z.value=Oe.action,await Nn(),j.value=!0},I=()=>ge(Ce.ADD_PARENTS,()=>K?.getDialogService().getAddParentsDialog()),te=()=>ge(Ce.ADD_SIBLING,()=>K?.getDialogService().getAddSiblingDialog()),se=()=>ge(Ce.ADD_GRANDPARENTS,()=>K?.getDialogService().getAddGrandparentsDialog()),fe=()=>ge(Ce.ADD_UNCLE_AUNT,()=>K?.getDialogService().getAddUncleAuntDialog()),he=()=>ge(Ce.ADD_COUSIN,()=>K?.getDialogService().getAddCousinDialog()),k=()=>ge(Ce.ADD_CHILD,()=>K?.getDialogService().getAddChildDialog()),C=()=>ge(Ce.ADD_NIECE_NEPHEW,()=>K?.getDialogService().getAddNieceNephewDialog()),N=()=>ge(Ce.ADD_PARTNER,()=>K?.getDialogService().getAddPartnerDialog()),$=Y=>{if(!K||!Z.value)return;j.value=!1,K.saveStateBeforeOperation(ee.value);const de=K.getDialogService().executeAction(Z.value,Y,K.getOperations());de.success?(de.message&&le(de.message,"info"),Te()):le(de.message||"Failed to add relative","error"),Z.value=null},B=()=>{j.value=!1,Z.value=null},V=()=>{K&&K.saveFamily()},re=()=>{K&&K.saveAsPNG("family-tree.png")},P=()=>{K&&K.lockGraph()},D=()=>{K&&K.unlockGraph()},O=()=>{K&&confirm("Are you sure you want to reset your family tree?")&&(K.resetFamily(),Te())},me=()=>{if(!K)return;const Y=K.undo();Y.success?le(Y.message,"info"):le(Y.message||"Nothing to undo","error"),Te()},ie=()=>{if(!K)return;const Y=K.redo();Y.success?le(Y.message,"info"):le(Y.message||"Nothing to redo","error"),Te()},pe=async()=>{if(!(!w||T.value.length===0))try{if(X.value=!0,le("Analyzing network...","info"),await w(T.value,{includeGraphStats:!1})){const Q=F.value||T.value[0];i.value?.updateVisualEncoding&&i.value.updateVisualEncoding({sizeBy:Q,preserveZoom:!0}),le(` Analysis complete - sizing by ${Q}`,"success")}}catch(Y){e.error("Analysis error",{error:Y.message,stack:Y.stack}),le(`Analysis failed: ${Y.message}`,"error")}finally{X.value=!1}},be=async()=>{if(!(!K||!U.value))try{G.value=!0;const Y=await K.applyLayout(U.value);Y.success||le(Y.error||"Failed to apply layout","error")}catch(Y){e.error("Layout error",{error:Y.message,stack:Y.stack}),le(`Layout failed: ${Y.message}`,"error")}finally{G.value=!1}};return Ct(i,Y=>{Y&&!K&&(ce(),Te())},{immediate:!0}),Ct(n,Y=>{if(K){K.lang=Y;const Q=de=>yh(Y,de);K.dialogService=new qf(()=>K.getGraphInstance(),K.validation,Q),K.validation.t=Q,K.storage.t=Q}}),Ct(oe,Y=>{if(i.value){ue.value=!0;const Q=()=>{ue.value=!1,i.value.off("ready",Q)};i.value.on("ready",Q),i.value.setRenderMode(Y)}}),Ps(()=>{window.addEventListener("keydown",Ae)}),Xo(()=>{window.removeEventListener("keydown",Ae),K&&K.dispose()}),(Y,Q)=>(H(),q(Ge,null,[_e(il,null,{controls:Be(()=>[h("div",hT,[h("h1",fT,g(m(s)("family.header.title")),1),h("p",pT,g(m(s)("family.header.subtitle")),1)]),h("div",mT,[h("h2",gT,g(m(s)("family.whatIs.title")),1),h("p",yT,g(m(s)("family.whatIs.description")),1)]),h("div",_T,[h("h2",bT,g(m(s)("family.status.title")),1),h("div",vT,[A.value?(H(),q("div",AT,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":L.value==="success","text-red-600 dark:text-red-400":L.value==="error","text-blue-600 dark:text-blue-400":L.value==="info"})},[h("div",CT,[L.value==="success"?(H(),q("span",ST,"")):L.value==="error"?(H(),q("span",ET,"")):(H(),q("span",NT,""))]),h("div",IT,g(A.value),1)],2)])):(H(),q("div",xT,[h("div",wT,g(m(s)("family.status.ready")),1),h("div",kT,g(m(s)("family.status.clickToAdd")),1)]))])]),h("div",TT,[h("h2",LT,g(m(s)("family.addRelatives.title")),1),h("div",RT,[h("button",{onClick:I,class:"bg-pink-600 hover:bg-pink-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm",type:"button"},g(m(s)("family.addRelatives.parents")),1),h("button",{onClick:se,class:"bg-amber-700 hover:bg-amber-800 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.grandparents")),1),h("button",{onClick:te,class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.sibling")),1),h("button",{onClick:C,class:"bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.nieceNephew")),1),h("button",{onClick:fe,class:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.uncleAunt")),1),h("button",{onClick:he,class:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.cousin")),1),h("button",{onClick:N,class:"bg-rose-600 hover:bg-rose-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.partner")),1),h("button",{onClick:k,class:"bg-teal-600 hover:bg-teal-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.addRelatives.child")),1)])]),h("div",PT,[h("h2",DT,g(m(s)("family.actions.title")),1),h("div",MT,[h("button",{onClick:V,class:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.saveFamily")),1),h("button",{onClick:re,class:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.saveImage")),1),h("button",{onClick:P,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.lockGraph")),1),h("button",{onClick:D,class:"bg-amber-600 hover:bg-amber-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.unlockGraph")),1),h("button",{onClick:me,disabled:!S.value,class:"bg-violet-600 hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.undo")),9,OT),h("button",{onClick:ie,disabled:!M.value,class:"bg-fuchsia-600 hover:bg-fuchsia-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.redo")),9,GT),h("button",{onClick:O,class:"col-span-2 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(s)("family.actions.resetTree")),1)])]),h("div",FT,[h("h2",VT,g(m(s)("family.renderNodes.title")),1),h("div",$T,[h("label",{class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="colors","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="colors"}])},[ht(h("input",{type:"radio",name:"renderMode",value:"colors","onUpdate:modelValue":Q[0]||(Q[0]=de=>oe.value=de),class:"text-green-600 focus:ring-green-500"},null,512),[[sa,oe.value]]),Q[5]||(Q[5]=h("span",{class:"text-xl"},"",-1)),h("span",BT,g(m(s)("family.renderNodes.colors")),1)],2),h("label",{class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="avatars","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="avatars"}])},[ht(h("input",{type:"radio",name:"renderMode",value:"avatars","onUpdate:modelValue":Q[1]||(Q[1]=de=>oe.value=de),class:"text-green-600 focus:ring-green-500"},null,512),[[sa,oe.value]]),Q[6]||(Q[6]=h("span",{class:"text-xl"},"",-1)),h("span",zT,g(m(s)("family.renderNodes.avatars")),1)],2)]),h("div",jT,[h("p",UT,[h("strong",null,g(m(s)("family.renderNodes.colors"))+":",1),xe(" "+g(m(s)("family.renderNodes.colorsDesc")),1),Q[7]||(Q[7]=h("br",null,null,-1)),h("strong",null,g(m(s)("family.renderNodes.avatars"))+":",1),xe(" "+g(m(s)("family.renderNodes.avatarsDesc")),1)])])]),h("div",HT,[h("h2",WT,g(m(s)("family.networkAnalysis.title")),1),_e(ll,{"selected-metrics":T.value,"onUpdate:selectedMetrics":Q[2]||(Q[2]=de=>T.value=de),"size-metric":F.value,"onUpdate:sizeMetric":Q[3]||(Q[3]=de=>F.value=de),analyzing:X.value,progress:m(E),onAnalyze:pe},null,8,["selected-metrics","size-metric","analyzing","progress"])]),h("div",XT,[h("h3",qT,g(m(s)("family.relationshipColors.title")),1),h("div",ZT,[h("div",KT,[Q[8]||(Q[8]=h("div",{class:"w-4 h-4 rounded-full bg-indigo-500"},null,-1)),h("span",JT,g(m(s)("family.relationshipColors.you")),1)]),h("div",YT,[Q[9]||(Q[9]=h("div",{class:"w-4 h-4 rounded-full bg-pink-500"},null,-1)),h("span",QT,g(m(s)("family.relationshipColors.parents")),1)]),h("div",eL,[Q[10]||(Q[10]=h("div",{class:"w-4 h-4 rounded-full bg-blue-500"},null,-1)),h("span",tL,g(m(s)("family.relationshipColors.siblings")),1)]),h("div",sL,[Q[11]||(Q[11]=h("div",{class:"w-4 h-4 rounded-full bg-orange-500"},null,-1)),h("span",nL,g(m(s)("family.relationshipColors.unclesAunts")),1)]),h("div",rL,[Q[12]||(Q[12]=h("div",{class:"w-4 h-4 rounded-full bg-purple-500"},null,-1)),h("span",oL,g(m(s)("family.relationshipColors.cousins")),1)]),h("div",iL,[Q[13]||(Q[13]=h("div",{class:"w-4 h-4 rounded-full bg-amber-700"},null,-1)),h("span",aL,g(m(s)("family.relationshipColors.grandparents")),1)]),h("div",lL,[Q[14]||(Q[14]=h("div",{class:"w-4 h-4 rounded-full bg-cyan-500"},null,-1)),h("span",cL,g(m(s)("family.relationshipColors.nieces")),1)]),h("div",dL,[Q[15]||(Q[15]=h("div",{class:"w-4 h-4 rounded-full bg-rose-500"},null,-1)),h("span",uL,g(m(s)("family.relationshipColors.partners")),1)]),h("div",hL,[Q[16]||(Q[16]=h("div",{class:"w-4 h-4 rounded-full bg-teal-500"},null,-1)),h("span",fL,g(m(s)("family.relationshipColors.children")),1)])])]),h("div",pL,[h("h2",mL,g(m(s)("family.layoutAlgorithm.title")),1),_e(al,{modelValue:U.value,"onUpdate:modelValue":Q[4]||(Q[4]=de=>U.value=de),"available-layouts":R.value,loading:m(a)||G.value,onApply:be},null,8,["modelValue","available-layouts","loading"]),h("div",gL,[h("p",yL,[(H(!0),q(Ge,null,Ss(R.value,de=>(H(),q("div",{key:de.id},[h("strong",null,g(de.name)+":",1),xe(" "+g(de.description)+" ",1),de.requiresStats?(H(),q("span",_L," (requires analysis)")):Re("",!0),Q[17]||(Q[17]=h("br",null,null,-1))]))),128))])])]),h("div",bL,[h("h3",vL,g(m(s)("family.instructions.title")),1),h("ul",xL,[h("li",{innerHTML:m(s)("family.instructions.dragNodes")},null,8,wL),h("li",{innerHTML:m(s)("family.instructions.autoSaves")},null,8,kL),h("li",{innerHTML:m(s)("family.instructions.lock")},null,8,AL),h("li",{innerHTML:m(s)("family.instructions.download")},null,8,CL),h("li",{innerHTML:m(s)("family.instructions.analyze")},null,8,SL),h("li",{innerHTML:m(s)("family.instructions.layouts")},null,8,EL),h("li",{innerHTML:m(s)("family.instructions.undoRedo")},null,8,NL)])])]),graph:Be(()=>[m(a)||ue.value?(H(),q("div",IL,[h("div",TL,[Q[18]||(Q[18]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-green-600 border-t-transparent mb-4"},null,-1)),h("p",LL,g(ue.value?"Switching render mode...":z.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:o,class:"w-full h-full"},null,512)]),_:1}),(H(),Is(nT,{key:`dialog-${Z.value||"default"}`,visible:j.value,title:ee.value,fields:W.value,onConfirm:$,onCancel:B},null,8,["visible","title","fields"]))],64))}},PL={class:"page-content"},DL={class:"section-header mb-12"},ML={class:"text-5xl font-bold mb-4"},OL={class:"section-description"},GL={class:"card mb-12 p-6"},FL={class:"grid md:grid-cols-3 gap-4"},VL={href:"#quick-start",class:"flex items-center text-accent hover:underline"},$L={href:"#core-classes",class:"flex items-center text-accent hover:underline"},BL={href:"#adapters",class:"flex items-center text-accent hover:underline"},zL={href:"#layouts",class:"flex items-center text-accent hover:underline"},jL={href:"#community",class:"flex items-center text-accent hover:underline"},UL={href:"#examples",class:"flex items-center text-accent hover:underline"},HL={id:"quick-start",class:"mb-12"},WL={class:"text-3xl font-bold mb-8 flex items-center"},XL={class:"card p-8"},qL={class:"text-secondary mb-6"},ZL={class:"text-xl font-bold text-accent mb-3"},KL={class:"bg-gray-900 rounded-lg p-4 mb-6"},JL={class:"text-green-400"},YL={class:"text-xl font-bold text-accent mb-3"},QL={id:"core-classes",class:"mb-12"},eR={class:"text-3xl font-bold mb-8 flex items-center"},tR={class:"card p-8 mb-8"},sR={class:"text-2xl font-bold text-accent mb-4"},nR={class:"text-secondary mb-6"},rR={class:"text-xl font-bold mb-4"},oR={class:"space-y-3"},iR={class:"border-l-4 border-accent pl-4 py-2"},aR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},lR={class:"text-secondary text-sm mt-1"},cR={class:"border-l-4 border-accent pl-4 py-2"},dR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},uR={class:"text-secondary text-sm mt-1"},hR={class:"border-l-4 border-accent pl-4 py-2"},fR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},pR={class:"text-secondary text-sm mt-1"},mR={class:"border-l-4 border-accent pl-4 py-2"},gR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},yR={class:"text-secondary text-sm mt-1"},_R={class:"border-l-4 border-accent pl-4 py-2"},bR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},vR={class:"text-secondary text-sm mt-1"},xR={class:"border-l-4 border-accent pl-4 py-2"},wR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},kR={class:"text-secondary text-sm mt-1"},AR={class:"border-l-4 border-accent pl-4 py-2"},CR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},SR={class:"text-secondary text-sm mt-1"},ER={class:"card p-8"},NR={class:"text-2xl font-bold text-accent mb-4"},IR={class:"text-secondary mb-6"},TR={class:"text-xl font-bold mb-3"},LR={class:"list-disc pl-6 space-y-2 text-secondary mb-6"},RR={class:"text-xl font-bold mb-3"},PR={class:"text-secondary mb-3"},DR={class:"text-xl font-bold mb-3"},MR={class:"grid md:grid-cols-2 gap-4"},OR={class:"flex items-start"},GR={class:"text-secondary text-sm"},FR={class:"flex items-start"},VR={class:"text-secondary text-sm"},$R={class:"flex items-start"},BR={class:"text-secondary text-sm"},zR={class:"flex items-start"},jR={class:"text-secondary text-sm"},UR={class:"flex items-start"},HR={class:"text-secondary text-sm"},WR={class:"flex items-start"},XR={class:"text-secondary text-sm"},qR={class:"flex items-start"},ZR={class:"text-secondary text-sm"},KR={class:"flex items-start"},JR={class:"text-secondary text-sm"},YR={class:"flex items-start"},QR={class:"text-secondary text-sm"},eP={id:"adapters",class:"mb-12"},tP={class:"text-3xl font-bold mb-8 flex items-center"},sP={class:"text-xl text-secondary mb-8"},nP={class:"card p-8 mb-8"},rP={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},oP={class:"text-secondary mb-6"},iP={class:"text-xl font-bold mb-4"},aP={class:"space-y-3 mb-6"},lP={class:"border-l-4 border-blue-500 pl-4 py-2"},cP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},dP={class:"text-secondary text-sm mt-1"},uP={class:"text-xs text-accent mt-1"},hP={class:"border-l-4 border-blue-500 pl-4 py-2"},fP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},pP={class:"text-secondary text-sm mt-1"},mP={class:"text-xs text-accent mt-1"},gP={class:"border-l-4 border-blue-500 pl-4 py-2"},yP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},_P={class:"text-secondary text-sm mt-1"},bP={class:"text-xs text-accent mt-1"},vP={class:"border-l-4 border-blue-500 pl-4 py-2"},xP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},wP={class:"text-secondary text-sm mt-1"},kP={class:"text-xs text-accent mt-1"},AP={class:"border-l-4 border-blue-500 pl-4 py-2"},CP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},SP={class:"text-secondary text-sm mt-1"},EP={class:"text-xs text-accent mt-1"},NP={class:"card p-8 mb-8"},IP={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},TP={class:"text-secondary mb-6"},LP={class:"text-xl font-bold mb-4"},RP={class:"space-y-3 mb-6"},PP={class:"border-l-4 border-green-500 pl-4 py-2"},DP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},MP={class:"text-secondary text-sm mt-1"},OP={class:"text-xs text-accent mt-1"},GP={class:"border-l-4 border-green-500 pl-4 py-2"},FP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},VP={class:"text-secondary text-sm mt-1"},$P={class:"text-xs text-accent mt-1"},BP={class:"border-l-4 border-green-500 pl-4 py-2"},zP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},jP={class:"text-secondary text-sm mt-1"},UP={class:"text-xs text-accent mt-1"},HP={class:"border-l-4 border-green-500 pl-4 py-2"},WP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},XP={class:"text-secondary text-sm mt-1"},qP={class:"text-xs text-accent mt-1"},ZP={class:"border-l-4 border-green-500 pl-4 py-2"},KP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},JP={class:"text-secondary text-sm mt-1"},YP={class:"text-xs text-accent mt-1"},QP={class:"border-l-4 border-green-500 pl-4 py-2"},e3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},t3={class:"text-secondary text-sm mt-1"},s3={class:"text-xs text-accent mt-1"},n3={class:"card p-8"},r3={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-4"},o3={class:"text-secondary mb-6"},i3={class:"text-xl font-bold mb-4"},a3={class:"space-y-3 mb-6"},l3={class:"border-l-4 border-yellow-500 pl-4 py-2"},c3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},d3={class:"text-secondary text-sm mt-1"},u3={class:"text-xs text-accent mt-1"},h3={class:"border-l-4 border-yellow-500 pl-4 py-2"},f3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},p3={class:"text-secondary text-sm mt-1"},m3={class:"text-xs text-accent mt-1"},g3={class:"border-l-4 border-yellow-500 pl-4 py-2"},y3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},_3={class:"text-secondary text-sm mt-1"},b3={class:"text-xs text-accent mt-1"},v3={class:"border-l-4 border-yellow-500 pl-4 py-2"},x3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},w3={class:"text-secondary text-sm mt-1"},k3={class:"text-xs text-accent mt-1"},A3={id:"layouts",class:"mb-12"},C3={class:"text-3xl font-bold mb-8 flex items-center"},S3={class:"text-xl text-secondary mb-4"},E3={class:"text-sm text-accent mb-8"},N3={class:"card p-8 mb-8"},I3={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},T3={class:"text-secondary mb-2"},L3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},R3={class:"text-sm text-accent mb-4"},P3={class:"text-lg font-bold mb-3"},D3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},M3={class:"space-y-1 text-sm"},O3={class:"card p-8 mb-8"},G3={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4"},F3={class:"text-secondary mb-2"},V3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},$3={class:"text-sm text-accent mb-4"},B3={class:"text-lg font-bold mb-3"},z3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},j3={class:"space-y-1 text-sm"},U3={class:"card p-8 mb-8"},H3={class:"text-2xl font-bold text-pink-600 dark:text-pink-400 mb-4"},W3={class:"text-secondary mb-2"},X3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},q3={class:"text-sm text-accent mb-2"},Z3={class:"text-sm text-red-600 dark:text-red-400 mb-4"},K3={class:"grid md:grid-cols-2 gap-6"},J3={class:"card p-6"},Y3={class:"text-xl font-bold text-blue-600 dark:text-blue-400 mb-3"},Q3={class:"text-secondary text-sm mb-2"},eD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},tD={class:"text-xs text-accent"},sD={class:"card p-6"},nD={class:"text-xl font-bold text-green-600 dark:text-green-400 mb-3"},rD={class:"text-secondary text-sm mb-2"},oD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},iD={class:"text-xs text-accent mb-1"},aD={class:"text-xs text-red-600 dark:text-red-400"},lD={class:"card p-6"},cD={class:"text-xl font-bold text-yellow-600 dark:text-yellow-400 mb-3"},dD={class:"text-secondary text-sm mb-2"},uD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},hD={class:"text-xs text-accent"},fD={class:"card p-6"},pD={class:"text-xl font-bold text-red-600 dark:text-red-400 mb-3"},mD={class:"text-secondary text-sm mb-2"},gD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},yD={class:"text-xs text-accent"},_D={class:"card p-6"},bD={class:"text-xl font-bold text-teal-600 dark:text-teal-400 mb-3"},vD={class:"text-secondary text-sm mb-2"},xD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},wD={class:"text-xs text-accent"},kD={class:"card p-6"},AD={class:"text-xl font-bold text-gray-600 dark:text-gray-400 mb-3"},CD={class:"text-secondary text-sm mb-2"},SD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},ED={class:"text-xs text-accent"},ND={class:"card p-6 mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},ID={class:"text-lg font-bold mb-3"},TD={class:"text-sm text-secondary mb-3"},LD={id:"community",class:"mb-12"},RD={class:"text-3xl font-bold mb-8 flex items-center"},PD={class:"text-xl text-secondary mb-8"},DD={class:"card p-8 mb-8"},MD={class:"text-2xl font-bold text-accent mb-4"},OD={class:"text-secondary mb-6"},GD={class:"text-xl font-bold mb-3"},FD={class:"space-y-3 mb-6"},VD={class:"border-l-4 border-accent pl-4 py-2"},$D={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},BD={class:"text-secondary text-sm mt-1"},zD={class:"text-xs text-accent mt-1"},jD={class:"border-l-4 border-accent pl-4 py-2"},UD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},HD={class:"text-secondary text-sm mt-1"},WD={class:"text-xs text-accent mt-1"},XD={class:"space-y-3"},qD={class:"border-l-4 border-purple-500 pl-4 py-2"},ZD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},KD={class:"text-secondary text-sm mt-1"},JD={class:"text-xs text-accent mt-1"},YD={class:"border-l-4 border-purple-500 pl-4 py-2"},QD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},e4={class:"text-secondary text-sm mt-1"},t4={class:"border-l-4 border-purple-500 pl-4 py-2"},s4={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},n4={class:"text-secondary text-sm mt-1"},r4={class:"card p-8 mb-8"},o4={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-4"},i4={class:"text-secondary mb-2"},a4={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},l4={class:"text-sm text-accent mb-6"},c4={class:"text-lg font-bold mb-3"},d4={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},u4={class:"space-y-1 text-sm"},h4={class:"card p-8"},f4={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},p4={class:"text-secondary mb-6"},m4={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded"},g4={class:"space-y-2 text-sm"},y4={id:"examples",class:"mb-12"},_4={class:"text-3xl font-bold mb-8 flex items-center"},b4={class:"text-xl text-secondary mb-8"},v4={class:"card p-8 mb-8"},x4={class:"text-2xl font-bold text-accent mb-4"},w4={class:"text-secondary mb-4"},k4={class:"card p-8 mb-8"},A4={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},C4={class:"text-secondary mb-4"},S4={class:"card p-8"},E4={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},N4={class:"text-secondary mb-4"},I4=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob' },
  { source: 'Bob', target: 'Charlie' },
  { source: 'Charlie', target: 'Alice' }
];

const analyzer = new NetworkStats({ verbose: false });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// [
//   { id: 'Alice', degree: 2, eigenvector: 0.577 },
//   { id: 'Bob', degree: 2, eigenvector: 0.577 },
//   { id: 'Charlie', degree: 2, eigenvector: 0.577 }
// ]`,T4=`import { Graph } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B', 1);
graph.addEdge('B', 'C', 2);

console.log(graph.getNeighbors('B')); // ['A', 'C']
console.log(graph.numberOfNodes());    // 3
console.log(graph.numberOfEdges());    // 2`,L4=`import { CSVAdapter } from '@guinetik/graph-js';

// Load from URLs
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Export to CSV
const edgesCSV = CSVAdapter.toEdgeList(graphData);
const nodesCSV = CSVAdapter.toNodes(graphData);`,R4=`import { JSONAdapter } from '@guinetik/graph-js';

// Convert D3 format to GraphData
const graphData = JSONAdapter.fromD3(d3Data);

// Convert to Cytoscape format
const cytoData = JSONAdapter.toCytoscape(graphData);

// Auto-detect format
const data = JSONAdapter.fromFormat(unknownJSON);`,P4=`import { NetworkXAdapter } from '@guinetik/graph-js';

// From Python: nx.node_link_data(G)
const graphData = NetworkXAdapter.fromNodeLink(nxData);

// To Python: G = nx.node_link_graph(nxData)
const nxData = NetworkXAdapter.toNodeLink(graphData, {
  directed: false,
  multigraph: false
});`,D4=`import { Graph, ForceDirectedLayout } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B');
graph.addEdge('B', 'C');

const layout = new ForceDirectedLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();
// { 'A': {x: 120, y: 45}, 'B': {x: -30, y: 90}, ... }`,M4=`import { KamadaKawaiLayout } from '@guinetik/graph-js';

const layout = new KamadaKawaiLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();`,O4=`import { NetworkStats, Graph, SpectralLayout } from '@guinetik/graph-js';

// First compute eigenvector-laplacian
const analyzer = new NetworkStats();
await analyzer.analyze(edges, ['eigenvector-laplacian']);

// Then apply layout
const layout = new SpectralLayout(graph, { scale: 200 });
const positions = await layout.getPositions();`,G4=`// All layouts follow this pattern
const layout = new SomeLayout(graph, options);
const positions = await layout.getPositions({
  onProgress: (progress) => console.log(\`\${progress * 100}%\`)
});`,F4=`import { CommunityDetection, LouvainAlgorithm } from '@guinetik/graph-js';

// Method 1: Direct detection from GraphData
const result = await CommunityDetection.detect(graphData, 'louvain', {
  resolution: 1.0,
  onProgress: (p) => console.log(\`\${Math.round(p * 100)}%\`)
});

// Method 2: Using algorithm instance
const detector = new CommunityDetection(graph);
const algorithm = new LouvainAlgorithm({ resolution: 1.0 });
const result = await detector.detectCommunities(algorithm);

console.log(result.communities);     // { 'A': 0, 'B': 0, 'C': 1 }
console.log(result.modularity);      // 0.42
console.log(result.numCommunities);  // 2`,V4=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Dave', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector', 'betweenness']);

console.log(results);
// [
//   { id: 'Alice', degree: 1, eigenvector: 0.34, betweenness: 0 },
//   { id: 'Bob', degree: 2, eigenvector: 0.58, betweenness: 0.67 },
//   ...
// ]

await analyzer.dispose(); // Cleanup workers`,$4=`import { CSVAdapter } from '@guinetik/graph-js';
import NetworkStats from '@guinetik/graph-js';

// Load CSV data
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Convert to edge list for analysis
const network = graphData.edges;

// Analyze
const analyzer = new NetworkStats();
const results = await analyzer.analyze(network, ['degree', 'clustering']);
await analyzer.dispose();`,B4=`import NetworkStats, {
  CSVAdapter,
  Graph,
  KamadaKawaiLayout,
  CommunityDetection
} from '@guinetik/graph-js';

// 1. Load data
const graphData = await CSVAdapter.loadFromURL('../data/edges.csv');

// 2. Analyze network
const analyzer = new NetworkStats();
const nodeMetrics = await analyzer.analyze(graphData.edges, [
  'degree',
  'eigenvector',
  'betweenness'
]);

// 3. Apply layout
const graph = new Graph();
graphData.edges.forEach(e => {
  graph.addNode(e.source);
  graph.addNode(e.target);
  graph.addEdge(e.source, e.target, e.weight || 1);
});

const layout = new KamadaKawaiLayout(graph, { scale: 200 });
const positions = await layout.getPositions();

// 4. Detect communities
const communityResult = await CommunityDetection.detect(
  graphData,
  'louvain'
);

// 5. Combine results
const finalData = nodeMetrics.map(node => ({
  ...node,
  x: positions[node.id].x,
  y: positions[node.id].y,
  community: communityResult.communities[node.id]
}));

console.log('Analysis complete!', finalData);
console.log('Modularity:', communityResult.modularity);

await analyzer.dispose();`,z4={__name:"DocsPage",setup(t){const{t:e}=Jt();return(s,n)=>(H(),q("div",PL,[h("div",DL,[h("h1",ML,g(m(e)("docs.title")),1),h("p",OL,g(m(e)("docs.subtitle")),1)]),h("div",GL,[n[6]||(n[6]=h("h2",{class:"text-2xl font-bold mb-4"}," Contents",-1)),h("div",FL,[h("a",VL,[n[0]||(n[0]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.quickStart")),1)]),h("a",$L,[n[1]||(n[1]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("a",BL,[n[2]||(n[2]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.adapters")),1)]),h("a",zL,[n[3]||(n[3]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.layouts")),1)]),h("a",jL,[n[4]||(n[4]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.community")),1)]),h("a",UL,[n[5]||(n[5]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.examples")),1)])])]),h("section",HL,[h("h2",WL,[n[7]||(n[7]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.quickStart.title")),1)]),h("div",XL,[h("p",qL,g(m(e)("docs.quickStart.description")),1),h("h3",ZL,g(m(e)("docs.quickStart.install")),1),h("div",KL,[h("code",JL,g(m(e)("docs.quickStart.installCmd")),1)]),h("h3",YL,g(m(e)("docs.quickStart.basicUsage")),1),_e(mt,{code:I4,language:"javascript"})])]),h("section",QL,[h("h2",eR,[n[8]||(n[8]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("div",tR,[h("h3",sR,g(m(e)("docs.graph.title")),1),h("p",nR,g(m(e)("docs.graph.description")),1),n[9]||(n[9]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[h("code",{class:"text-sm text-gray-200"},"const graph = new Graph();")],-1)),h("h4",rR,g(m(e)("docs.graph.methods")),1),h("div",oR,[h("div",iR,[h("code",aR,g(m(e)("docs.graph.methodsList.addNode.name")),1),h("p",lR,g(m(e)("docs.graph.methodsList.addNode.description")),1)]),h("div",cR,[h("code",dR,g(m(e)("docs.graph.methodsList.addNodesFrom.name")),1),h("p",uR,g(m(e)("docs.graph.methodsList.addNodesFrom.description")),1)]),h("div",hR,[h("code",fR,g(m(e)("docs.graph.methodsList.addEdge.name")),1),h("p",pR,g(m(e)("docs.graph.methodsList.addEdge.description")),1)]),h("div",mR,[h("code",gR,g(m(e)("docs.graph.methodsList.removeNode.name")),1),h("p",yR,g(m(e)("docs.graph.methodsList.removeNode.description")),1)]),h("div",_R,[h("code",bR,g(m(e)("docs.graph.methodsList.getNeighbors.name")),1),h("p",vR,g(m(e)("docs.graph.methodsList.getNeighbors.description")),1)]),h("div",xR,[h("code",wR,g(m(e)("docs.graph.methodsList.hasEdge.name")),1),h("p",kR,g(m(e)("docs.graph.methodsList.hasEdge.description")),1)]),h("div",AR,[h("code",CR,g(m(e)("docs.graph.methodsList.numberOfNodes.name")),1),h("p",SR,g(m(e)("docs.graph.methodsList.numberOfNodes.description")),1)])]),_e(mt,{code:T4,language:"javascript"})]),h("div",ER,[h("h3",NR,g(m(e)("docs.networkStats.title")),1),h("p",IR,g(m(e)("docs.networkStats.description")),1),h("h4",TR,g(m(e)("docs.networkStats.constructor")),1),n[21]||(n[21]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[h("code",{class:"text-sm text-gray-200"},"new NetworkStats(options?)")],-1)),h("ul",LR,[h("li",null,[n[10]||(n[10]=h("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"maxIter:",-1)),xe(" "+g(m(e)("docs.networkStats.constructorParams.maxIter")),1)]),h("li",null,[n[11]||(n[11]=h("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"verbose:",-1)),xe(" "+g(m(e)("docs.networkStats.constructorParams.verbose")),1)])]),h("h4",RR,g(m(e)("docs.networkStats.analyze.title")),1),h("p",PR,g(m(e)("docs.networkStats.analyze.description")),1),n[22]||(n[22]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[h("code",{class:"text-sm text-gray-200"},"analyzer.analyze(network, features?)")],-1)),h("h4",DR,g(m(e)("docs.networkStats.features.title")),1),h("div",MR,[h("div",OR,[n[12]||(n[12]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"degree",-1)),h("span",GR,g(m(e)("docs.networkStats.features.degree")),1)]),h("div",FR,[n[13]||(n[13]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector",-1)),h("span",VR,g(m(e)("docs.networkStats.features.eigenvector")),1)]),h("div",$R,[n[14]||(n[14]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector-laplacian",-1)),h("span",BR,g(m(e)("docs.networkStats.features.eigenvectorLaplacian")),1)]),h("div",zR,[n[15]||(n[15]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"betweenness",-1)),h("span",jR,g(m(e)("docs.networkStats.features.betweenness")),1)]),h("div",UR,[n[16]||(n[16]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"clustering",-1)),h("span",HR,g(m(e)("docs.networkStats.features.clustering")),1)]),h("div",WR,[n[17]||(n[17]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"closeness",-1)),h("span",XR,g(m(e)("docs.networkStats.features.closeness")),1)]),h("div",qR,[n[18]||(n[18]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"cliques",-1)),h("span",ZR,g(m(e)("docs.networkStats.features.cliques")),1)]),h("div",KR,[n[19]||(n[19]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"ego-density",-1)),h("span",JR,g(m(e)("docs.networkStats.features.egoDensity")),1)]),h("div",YR,[n[20]||(n[20]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"modularity",-1)),h("span",QR,g(m(e)("docs.networkStats.features.modularity")),1)])])])]),h("section",eP,[h("h2",tP,[n[23]||(n[23]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.adapters.title")),1)]),h("p",sP,g(m(e)("docs.adapters.description")),1),h("div",nP,[h("h3",rP,g(m(e)("docs.adapters.csv.title")),1),h("p",oP,g(m(e)("docs.adapters.csv.description")),1),h("h4",iP,g(m(e)("docs.adapters.csv.methods")),1),h("div",aP,[h("div",lP,[h("code",cP,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.name")),1),h("p",dP,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.description")),1),h("p",uP,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.returns")),1)]),h("div",hP,[h("code",fP,g(m(e)("docs.adapters.csv.methodsList.fromNodes.name")),1),h("p",pP,g(m(e)("docs.adapters.csv.methodsList.fromNodes.description")),1),h("p",mP,g(m(e)("docs.adapters.csv.methodsList.fromNodes.returns")),1)]),h("div",gP,[h("code",yP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.name")),1),h("p",_P,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.description")),1),h("p",bP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.returns")),1)]),h("div",vP,[h("code",xP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.name")),1),h("p",wP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.description")),1),h("p",kP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.returns")),1)]),h("div",AP,[h("code",CP,g(m(e)("docs.adapters.csv.methodsList.toNodes.name")),1),h("p",SP,g(m(e)("docs.adapters.csv.methodsList.toNodes.description")),1),h("p",EP,g(m(e)("docs.adapters.csv.methodsList.toNodes.returns")),1)])]),_e(mt,{code:L4,language:"javascript"})]),h("div",NP,[h("h3",IP,g(m(e)("docs.adapters.json.title")),1),h("p",TP,g(m(e)("docs.adapters.json.description")),1),h("h4",LP,g(m(e)("docs.adapters.json.methods")),1),h("div",RP,[h("div",PP,[h("code",DP,g(m(e)("docs.adapters.json.methodsList.fromD3.name")),1),h("p",MP,g(m(e)("docs.adapters.json.methodsList.fromD3.description")),1),h("p",OP,g(m(e)("docs.adapters.json.methodsList.fromD3.returns")),1)]),h("div",GP,[h("code",FP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.name")),1),h("p",VP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.description")),1),h("p",$P,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.returns")),1)]),h("div",BP,[h("code",zP,g(m(e)("docs.adapters.json.methodsList.fromFormat.name")),1),h("p",jP,g(m(e)("docs.adapters.json.methodsList.fromFormat.description")),1),h("p",UP,g(m(e)("docs.adapters.json.methodsList.fromFormat.returns")),1)]),h("div",HP,[h("code",WP,g(m(e)("docs.adapters.json.methodsList.toD3.name")),1),h("p",XP,g(m(e)("docs.adapters.json.methodsList.toD3.description")),1),h("p",qP,g(m(e)("docs.adapters.json.methodsList.toD3.returns")),1)]),h("div",ZP,[h("code",KP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.name")),1),h("p",JP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.description")),1),h("p",YP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.returns")),1)]),h("div",QP,[h("code",e3,g(m(e)("docs.adapters.json.methodsList.loadFromURL.name")),1),h("p",t3,g(m(e)("docs.adapters.json.methodsList.loadFromURL.description")),1),h("p",s3,g(m(e)("docs.adapters.json.methodsList.loadFromURL.returns")),1)])]),_e(mt,{code:R4,language:"javascript"})]),h("div",n3,[h("h3",r3,g(m(e)("docs.adapters.networkx.title")),1),h("p",o3,g(m(e)("docs.adapters.networkx.description")),1),h("h4",i3,g(m(e)("docs.adapters.networkx.methods")),1),h("div",a3,[h("div",l3,[h("code",c3,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.name")),1),h("p",d3,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.description")),1),h("p",u3,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.returns")),1)]),h("div",h3,[h("code",f3,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.name")),1),h("p",p3,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.description")),1),h("p",m3,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.returns")),1)]),h("div",g3,[h("code",y3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.name")),1),h("p",_3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.description")),1),h("p",b3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.returns")),1)]),h("div",v3,[h("code",x3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.name")),1),h("p",w3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.description")),1),h("p",k3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.returns")),1)])]),_e(mt,{code:P4,language:"javascript"})])]),h("section",A3,[h("h2",C3,[n[24]||(n[24]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.layouts.title")),1)]),h("p",S3,g(m(e)("docs.layouts.description")),1),h("p",E3," "+g(m(e)("docs.layouts.note")),1),h("div",N3,[h("h3",I3,g(m(e)("docs.layouts.forceDirected.title")),1),h("p",T3,g(m(e)("docs.layouts.forceDirected.description")),1),h("p",L3,g(m(e)("docs.layouts.forceDirected.complexity")),1),h("p",R3,g(m(e)("docs.layouts.forceDirected.bestFor")),1),h("h4",P3,g(m(e)("docs.layouts.forceDirected.constructor")),1),h("div",D3,[n[31]||(n[31]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",M3,[h("li",null,[n[25]||(n[25]=h("code",{class:"text-xs"},"iterations:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.iterations")),1)]),h("li",null,[n[26]||(n[26]=h("code",{class:"text-xs"},"k:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.k")),1)]),h("li",null,[n[27]||(n[27]=h("code",{class:"text-xs"},"scale:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.scale")),1)]),h("li",null,[n[28]||(n[28]=h("code",{class:"text-xs"},"center:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.center")),1)]),h("li",null,[n[29]||(n[29]=h("code",{class:"text-xs"},"initialPositions:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.initialPositions")),1)]),h("li",null,[n[30]||(n[30]=h("code",{class:"text-xs"},"threshold:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.threshold")),1)])])]),_e(mt,{code:D4,language:"javascript"})]),h("div",O3,[h("h3",G3,g(m(e)("docs.layouts.kamadaKawai.title")),1),h("p",F3,g(m(e)("docs.layouts.kamadaKawai.description")),1),h("p",V3,g(m(e)("docs.layouts.kamadaKawai.complexity")),1),h("p",$3,g(m(e)("docs.layouts.kamadaKawai.bestFor")),1),h("h4",B3,g(m(e)("docs.layouts.kamadaKawai.constructor")),1),h("div",z3,[n[38]||(n[38]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",j3,[h("li",null,[n[32]||(n[32]=h("code",{class:"text-xs"},"iterations:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.iterations")),1)]),h("li",null,[n[33]||(n[33]=h("code",{class:"text-xs"},"scale:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.scale")),1)]),h("li",null,[n[34]||(n[34]=h("code",{class:"text-xs"},"center:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.center")),1)]),h("li",null,[n[35]||(n[35]=h("code",{class:"text-xs"},"initialPositions:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.initialPositions")),1)]),h("li",null,[n[36]||(n[36]=h("code",{class:"text-xs"},"threshold:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.threshold")),1)]),h("li",null,[n[37]||(n[37]=h("code",{class:"text-xs"},"K:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.K")),1)])])]),_e(mt,{code:M4,language:"javascript"})]),h("div",U3,[h("h3",H3,g(m(e)("docs.layouts.spectral.title")),1),h("p",W3,g(m(e)("docs.layouts.spectral.description")),1),h("p",X3,g(m(e)("docs.layouts.spectral.complexity")),1),h("p",q3,g(m(e)("docs.layouts.spectral.bestFor")),1),h("p",Z3," "+g(m(e)("docs.layouts.spectral.requires")),1),_e(mt,{code:O4,language:"javascript"})]),h("div",K3,[h("div",J3,[h("h3",Y3,g(m(e)("docs.layouts.circular.title")),1),h("p",Q3,g(m(e)("docs.layouts.circular.description")),1),h("p",eD,g(m(e)("docs.layouts.circular.complexity")),1),h("p",tD,g(m(e)("docs.layouts.circular.bestFor")),1)]),h("div",sD,[h("h3",nD,g(m(e)("docs.layouts.shell.title")),1),h("p",rD,g(m(e)("docs.layouts.shell.description")),1),h("p",oD,g(m(e)("docs.layouts.shell.complexity")),1),h("p",iD,g(m(e)("docs.layouts.shell.bestFor")),1),h("p",aD," "+g(m(e)("docs.layouts.shell.requires")),1)]),h("div",lD,[h("h3",cD,g(m(e)("docs.layouts.spiral.title")),1),h("p",dD,g(m(e)("docs.layouts.spiral.description")),1),h("p",uD,g(m(e)("docs.layouts.spiral.complexity")),1),h("p",hD,g(m(e)("docs.layouts.spiral.bestFor")),1)]),h("div",fD,[h("h3",pD,g(m(e)("docs.layouts.bfs.title")),1),h("p",mD,g(m(e)("docs.layouts.bfs.description")),1),h("p",gD,g(m(e)("docs.layouts.bfs.complexity")),1),h("p",yD,g(m(e)("docs.layouts.bfs.bestFor")),1)]),h("div",_D,[h("h3",bD,g(m(e)("docs.layouts.bipartite.title")),1),h("p",vD,g(m(e)("docs.layouts.bipartite.description")),1),h("p",xD,g(m(e)("docs.layouts.bipartite.complexity")),1),h("p",wD,g(m(e)("docs.layouts.bipartite.bestFor")),1)]),h("div",kD,[h("h3",AD,g(m(e)("docs.layouts.random.title")),1),h("p",CD,g(m(e)("docs.layouts.random.description")),1),h("p",SD,g(m(e)("docs.layouts.random.complexity")),1),h("p",ED,g(m(e)("docs.layouts.random.bestFor")),1)])]),h("div",ND,[h("h4",ID,g(m(e)("docs.layouts.usage")),1),h("p",TD,g(m(e)("docs.layouts.usageDescription")),1),_e(mt,{code:G4,language:"javascript"})])]),h("section",LD,[h("h2",RD,[n[39]||(n[39]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.community.title")),1)]),h("p",PD,g(m(e)("docs.community.description")),1),h("div",DD,[h("h3",MD,g(m(e)("docs.community.mainClass.title")),1),h("p",OD,g(m(e)("docs.community.mainClass.description")),1),h("h4",GD,g(m(e)("docs.community.mainClass.constructor")),1),n[40]||(n[40]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[h("code",{class:"text-sm text-gray-200"},"new CommunityDetection(graph)")],-1)),n[41]||(n[41]=h("h4",{class:"text-xl font-bold mb-4"},"Methods",-1)),h("div",FD,[h("div",VD,[h("code",$D,g(m(e)("docs.community.mainClass.methods.detectCommunities.name")),1),h("p",BD,g(m(e)("docs.community.mainClass.methods.detectCommunities.description")),1),h("p",zD,g(m(e)("docs.community.mainClass.methods.detectCommunities.returns")),1)]),h("div",jD,[h("code",UD,g(m(e)("docs.community.mainClass.methods.calculateModularity.name")),1),h("p",HD,g(m(e)("docs.community.mainClass.methods.calculateModularity.description")),1),h("p",WD,g(m(e)("docs.community.mainClass.methods.calculateModularity.returns")),1)])]),n[42]||(n[42]=h("h4",{class:"text-xl font-bold mb-4"},"Static Methods",-1)),h("div",XD,[h("div",qD,[h("code",ZD,g(m(e)("docs.community.mainClass.staticMethods.detect.name")),1),h("p",KD,g(m(e)("docs.community.mainClass.staticMethods.detect.description")),1),h("p",JD,g(m(e)("docs.community.mainClass.staticMethods.detect.returns")),1)]),h("div",YD,[h("code",QD,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.name")),1),h("p",e4,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.description")),1)]),h("div",t4,[h("code",s4,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.name")),1),h("p",n4,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.description")),1)])])]),h("div",r4,[h("h3",o4,g(m(e)("docs.community.louvain.title")),1),h("p",i4,g(m(e)("docs.community.louvain.description")),1),h("p",a4,g(m(e)("docs.community.louvain.complexity")),1),h("p",l4,g(m(e)("docs.community.louvain.bestFor")),1),h("h4",c4,g(m(e)("docs.community.louvain.constructor")),1),h("div",d4,[n[45]||(n[45]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",u4,[h("li",null,[n[43]||(n[43]=h("code",{class:"text-xs"},"resolution:",-1)),xe(" "+g(m(e)("docs.community.louvain.options.resolution")),1)]),h("li",null,[n[44]||(n[44]=h("code",{class:"text-xs"},"maxIterations:",-1)),xe(" "+g(m(e)("docs.community.louvain.options.maxIterations")),1)])])]),_e(mt,{code:F4,language:"javascript"})]),h("div",h4,[h("h3",f4,g(m(e)("docs.community.result.title")),1),h("p",p4,g(m(e)("docs.community.result.description")),1),h("div",m4,[n[51]||(n[51]=h("h5",{class:"font-semibold mb-3"},"Properties:",-1)),h("ul",g4,[h("li",null,[n[46]||(n[46]=h("code",{class:"text-xs"},"communities:",-1)),xe(" "+g(m(e)("docs.community.result.properties.communities")),1)]),h("li",null,[n[47]||(n[47]=h("code",{class:"text-xs"},"modularity:",-1)),xe(" "+g(m(e)("docs.community.result.properties.modularity")),1)]),h("li",null,[n[48]||(n[48]=h("code",{class:"text-xs"},"numCommunities:",-1)),xe(" "+g(m(e)("docs.community.result.properties.numCommunities")),1)]),h("li",null,[n[49]||(n[49]=h("code",{class:"text-xs"},"algorithm:",-1)),xe(" "+g(m(e)("docs.community.result.properties.algorithm")),1)]),h("li",null,[n[50]||(n[50]=h("code",{class:"text-xs"},"metadata:",-1)),xe(" "+g(m(e)("docs.community.result.properties.metadata")),1)])])])])]),h("section",y4,[h("h2",_4,[n[52]||(n[52]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.examples.title")),1)]),h("p",b4,g(m(e)("docs.examples.description")),1),h("div",v4,[h("h3",x4,g(m(e)("docs.examples.basic.title")),1),h("p",w4,g(m(e)("docs.examples.basic.description")),1),_e(mt,{code:V4,language:"javascript"})]),h("div",k4,[h("h3",A4,g(m(e)("docs.examples.csv.title")),1),h("p",C4,g(m(e)("docs.examples.csv.description")),1),_e(mt,{code:$4,language:"javascript"})]),h("div",S4,[h("h3",E4,g(m(e)("docs.examples.complete.title")),1),h("p",N4,g(m(e)("docs.examples.complete.description")),1),_e(mt,{code:B4,language:"javascript"})])]),n[53]||(n[53]=h("div",{class:"text-center pt-12 pb-6 border-t border-[var(--color-border)]"},[h("p",{class:"text-secondary"},[xe("  For more details, check out the "),h("a",{href:"https://github.com/guinetik/graph-js",class:"text-purple-600 dark:text-purple-400 hover:underline",target:"_blank"}," GitHub repository ")])],-1))]))}},j4=[{path:"/",name:"home",component:Yv},{path:"/showcase",name:"showcase",component:tE},{path:"/explorer",name:"explorer",component:VI},{path:"/family",name:"family",component:RL},{path:"/docs",name:"docs",component:z4}],U4=Ny({history:iy(),routes:j4}),H4=Lt({prefix:"App",level:"info"}),Zf=vg(f0);Zf.use(U4);Zf.mount("#app");H4.info("Vue app started");
