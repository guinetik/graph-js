const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Na(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Pe={},os=[],qt=()=>{},Dd=()=>!1,Po=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ea=t=>t.startsWith("onUpdate:"),Ke=Object.assign,Ta=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jf=Object.prototype.hasOwnProperty,Te=(t,e)=>jf.call(t,e),ye=Array.isArray,is=t=>yr(t)==="[object Map]",Do=t=>yr(t)==="[object Set]",Cl=t=>yr(t)==="[object Date]",ve=t=>typeof t=="function",Ve=t=>typeof t=="string",Mt=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",Md=t=>(Le(t)||ve(t))&&ve(t.then)&&ve(t.catch),Od=Object.prototype.toString,yr=t=>Od.call(t),Uf=t=>yr(t).slice(8,-1),Gd=t=>yr(t)==="[object Object]",Ia=t=>Ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hs=Na(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mo=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Wf=/-\w/g,Lt=Mo(t=>t.replace(Wf,e=>e.slice(1).toUpperCase())),Xf=/\B([A-Z])/g,Pn=Mo(t=>t.replace(Xf,"-$1").toLowerCase()),Oo=Mo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ai=Mo(t=>t?`on${Oo(t)}`:""),Sn=(t,e)=>!Object.is(t,e),Hr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Vd=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},to=t=>{const e=parseFloat(t);return isNaN(e)?t:e},qf=t=>{const e=Ve(t)?Number(t):NaN;return isNaN(e)?t:e};let Sl;const Go=()=>Sl||(Sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vo(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ve(s)?Kf(s):Vo(s);if(r)for(const o in r)e[o]=r[o]}return e}else if(Ve(t)||Le(t))return t}const Zf=/;(?![^(]*\))/g,Yf=/:([^]+)/,Jf=/\/\*[^]*?\*\//g;function Kf(t){const e={};return t.replace(Jf,"").split(Zf).forEach(n=>{if(n){const s=n.split(Yf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function bt(t){let e="";if(Ve(t))e=t;else if(ye(t))for(let n=0;n<t.length;n++){const s=bt(t[n]);s&&(e+=s+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Qf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ep=Na(Qf);function Fd(t){return!!t||t===""}function tp(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=gs(t[s],e[s]);return n}function gs(t,e){if(t===e)return!0;let n=Cl(t),s=Cl(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Mt(t),s=Mt(e),n||s)return t===e;if(n=ye(t),s=ye(e),n||s)return n&&s?tp(t,e):!1;if(n=Le(t),s=Le(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!gs(t[i],e[i]))return!1}}return String(t)===String(e)}function np(t,e){return t.findIndex(n=>gs(n,e))}const $d=t=>!!(t&&t.__v_isRef===!0),g=t=>Ve(t)?t:t==null?"":ye(t)||Le(t)&&(t.toString===Od||!ve(t.toString))?$d(t)?g(t.value):JSON.stringify(t,Bd,2):String(t),Bd=(t,e)=>$d(e)?Bd(t,e.value):is(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],o)=>(n[li(s,o)+" =>"]=r,n),{})}:Do(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>li(n))}:Mt(e)?li(e):Le(e)&&!ye(e)&&!Gd(e)?String(e):e,li=(t,e="")=>{var n;return Mt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class sp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){++this._on===1&&(this.prevScope=yt,yt=this)}off(){this._on>0&&--this._on===0&&(yt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function rp(){return yt}let Me;const ci=new WeakSet;class zd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ci.has(this)&&(ci.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Nl(this),Ud(this);const e=Me,n=Dt;Me=this,Dt=!0;try{return this.fn()}finally{Wd(this),Me=e,Dt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Pa(e);this.deps=this.depsTail=void 0,Nl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ci.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vi(this)&&this.run()}get dirty(){return Vi(this)}}let Hd=0,js,Us;function jd(t,e=!1){if(t.flags|=8,e){t.next=Us,Us=t;return}t.next=js,js=t}function La(){Hd++}function Ra(){if(--Hd>0)return;if(Us){let e=Us;for(Us=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;js;){let e=js;for(js=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ud(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wd(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Pa(s),op(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Vi(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Xd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Xd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ks)||(t.globalVersion=Ks,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vi(t))))return;t.flags|=2;const e=t.dep,n=Me,s=Dt;Me=t,Dt=!0;try{Ud(t);const r=t.fn(t._value);(e.version===0||Sn(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Me=n,Dt=s,Wd(t),t.flags&=-3}}function Pa(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Pa(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function op(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Dt=!0;const qd=[];function pn(){qd.push(Dt),Dt=!1}function mn(){const t=qd.pop();Dt=t===void 0?!0:t}function Nl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Me;Me=void 0;try{e()}finally{Me=n}}}let Ks=0;class ip{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Da{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Me||!Dt||Me===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Me)n=this.activeLink=new ip(Me,this),Me.deps?(n.prevDep=Me.depsTail,Me.depsTail.nextDep=n,Me.depsTail=n):Me.deps=Me.depsTail=n,Zd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Me.depsTail,n.nextDep=void 0,Me.depsTail.nextDep=n,Me.depsTail=n,Me.deps===n&&(Me.deps=s)}return n}trigger(e){this.version++,Ks++,this.notify(e)}notify(e){La();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ra()}}}function Zd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Zd(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Fi=new WeakMap,Wn=Symbol(""),$i=Symbol(""),Qs=Symbol("");function nt(t,e,n){if(Dt&&Me){let s=Fi.get(t);s||Fi.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Da),r.map=s,r.key=n),r.track()}}function dn(t,e,n,s,r,o){const i=Fi.get(t);if(!i){Ks++;return}const a=l=>{l&&l.trigger()};if(La(),e==="clear")i.forEach(a);else{const l=ye(t),c=l&&Ia(n);if(l&&n==="length"){const d=Number(s);i.forEach((u,f)=>{(f==="length"||f===Qs||!Mt(f)&&f>=d)&&a(u)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(Qs)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Wn)),is(t)&&a(i.get($i)));break;case"delete":l||(a(i.get(Wn)),is(t)&&a(i.get($i)));break;case"set":is(t)&&a(i.get(Wn));break}}Ra()}function Kn(t){const e=Se(t);return e===t?e:(nt(e,"iterate",Qs),It(t)?e:e.map(Qe))}function Fo(t){return nt(t=Se(t),"iterate",Qs),t}const ap={__proto__:null,[Symbol.iterator](){return di(this,Symbol.iterator,Qe)},concat(...t){return Kn(this).concat(...t.map(e=>ye(e)?Kn(e):e))},entries(){return di(this,"entries",t=>(t[1]=Qe(t[1]),t))},every(t,e){return en(this,"every",t,e,void 0,arguments)},filter(t,e){return en(this,"filter",t,e,n=>n.map(Qe),arguments)},find(t,e){return en(this,"find",t,e,Qe,arguments)},findIndex(t,e){return en(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return en(this,"findLast",t,e,Qe,arguments)},findLastIndex(t,e){return en(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return en(this,"forEach",t,e,void 0,arguments)},includes(...t){return ui(this,"includes",t)},indexOf(...t){return ui(this,"indexOf",t)},join(t){return Kn(this).join(t)},lastIndexOf(...t){return ui(this,"lastIndexOf",t)},map(t,e){return en(this,"map",t,e,void 0,arguments)},pop(){return Is(this,"pop")},push(...t){return Is(this,"push",t)},reduce(t,...e){return El(this,"reduce",t,e)},reduceRight(t,...e){return El(this,"reduceRight",t,e)},shift(){return Is(this,"shift")},some(t,e){return en(this,"some",t,e,void 0,arguments)},splice(...t){return Is(this,"splice",t)},toReversed(){return Kn(this).toReversed()},toSorted(t){return Kn(this).toSorted(t)},toSpliced(...t){return Kn(this).toSpliced(...t)},unshift(...t){return Is(this,"unshift",t)},values(){return di(this,"values",Qe)}};function di(t,e,n){const s=Fo(t),r=s[e]();return s!==t&&!It(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const lp=Array.prototype;function en(t,e,n,s,r,o){const i=Fo(t),a=i!==t&&!It(t),l=i[e];if(l!==lp[e]){const u=l.apply(t,o);return a?Qe(u):u}let c=n;i!==t&&(a?c=function(u,f){return n.call(this,Qe(u),f,t)}:n.length>2&&(c=function(u,f){return n.call(this,u,f,t)}));const d=l.call(i,c,s);return a&&r?r(d):d}function El(t,e,n,s){const r=Fo(t);let o=n;return r!==t&&(It(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,Qe(a),l,t)}),r[e](o,...s)}function ui(t,e,n){const s=Se(t);nt(s,"iterate",Qs);const r=s[e](...n);return(r===-1||r===!1)&&Ga(n[0])?(n[0]=Se(n[0]),s[e](...n)):r}function Is(t,e,n=[]){pn(),La();const s=Se(t)[e].apply(t,n);return Ra(),mn(),s}const cp=Na("__proto__,__v_isRef,__isVue"),Yd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function dp(t){Mt(t)||(t=String(t));const e=Se(this);return nt(e,"has",t),e.hasOwnProperty(t)}class Jd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?vp:tu:o?eu:Qd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=ye(e);if(!r){let l;if(i&&(l=ap[n]))return l;if(n==="hasOwnProperty")return dp}const a=Reflect.get(e,n,Je(e)?e:s);if((Mt(n)?Yd.has(n):cp(n))||(r||nt(e,"get",n),o))return a;if(Je(a)){const l=i&&Ia(n)?a:a.value;return r&&Le(l)?zi(l):l}return Le(a)?r?zi(a):$o(a):a}}class Kd extends Jd{constructor(e=!1){super(!1,e)}set(e,n,s,r){let o=e[n];if(!this._isShallow){const l=Tn(o);if(!It(s)&&!Tn(s)&&(o=Se(o),s=Se(s)),!ye(e)&&Je(o)&&!Je(s))return l||(o.value=s),!0}const i=ye(e)&&Ia(n)?Number(n)<e.length:Te(e,n),a=Reflect.set(e,n,s,Je(e)?e:r);return e===Se(r)&&(i?Sn(s,o)&&dn(e,"set",n,s):dn(e,"add",n,s)),a}deleteProperty(e,n){const s=Te(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&dn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Mt(n)||!Yd.has(n))&&nt(e,"has",n),s}ownKeys(e){return nt(e,"iterate",ye(e)?"length":Wn),Reflect.ownKeys(e)}}class up extends Jd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const hp=new Kd,fp=new up,pp=new Kd(!0);const Bi=t=>t,Sr=t=>Reflect.getPrototypeOf(t);function mp(t,e,n){return function(...s){const r=this.__v_raw,o=Se(r),i=is(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=r[t](...s),d=n?Bi:e?no:Qe;return!e&&nt(o,"iterate",l?$i:Wn),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gp(t,e){const n={get(r){const o=this.__v_raw,i=Se(o),a=Se(r);t||(Sn(r,a)&&nt(i,"get",r),nt(i,"get",a));const{has:l}=Sr(i),c=e?Bi:t?no:Qe;if(l.call(i,r))return c(o.get(r));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&nt(Se(r),"iterate",Wn),r.size},has(r){const o=this.__v_raw,i=Se(o),a=Se(r);return t||(Sn(r,a)&&nt(i,"has",r),nt(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=Se(a),c=e?Bi:t?no:Qe;return!t&&nt(l,"iterate",Wn),a.forEach((d,u)=>r.call(o,c(d),c(u),i))}};return Ke(n,t?{add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear")}:{add(r){!e&&!It(r)&&!Tn(r)&&(r=Se(r));const o=Se(this);return Sr(o).has.call(o,r)||(o.add(r),dn(o,"add",r,r)),this},set(r,o){!e&&!It(o)&&!Tn(o)&&(o=Se(o));const i=Se(this),{has:a,get:l}=Sr(i);let c=a.call(i,r);c||(r=Se(r),c=a.call(i,r));const d=l.call(i,r);return i.set(r,o),c?Sn(o,d)&&dn(i,"set",r,o):dn(i,"add",r,o),this},delete(r){const o=Se(this),{has:i,get:a}=Sr(o);let l=i.call(o,r);l||(r=Se(r),l=i.call(o,r)),a&&a.call(o,r);const c=o.delete(r);return l&&dn(o,"delete",r,void 0),c},clear(){const r=Se(this),o=r.size!==0,i=r.clear();return o&&dn(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=mp(r,t,e)}),n}function Ma(t,e){const n=gp(t,e);return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Te(n,r)&&r in s?n:s,r,o)}const yp={get:Ma(!1,!1)},_p={get:Ma(!1,!0)},bp={get:Ma(!0,!1)};const Qd=new WeakMap,eu=new WeakMap,tu=new WeakMap,vp=new WeakMap;function xp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wp(t){return t.__v_skip||!Object.isExtensible(t)?0:xp(Uf(t))}function $o(t){return Tn(t)?t:Oa(t,!1,hp,yp,Qd)}function nu(t){return Oa(t,!1,pp,_p,eu)}function zi(t){return Oa(t,!0,fp,bp,tu)}function Oa(t,e,n,s,r){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=wp(t);if(o===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function as(t){return Tn(t)?as(t.__v_raw):!!(t&&t.__v_isReactive)}function Tn(t){return!!(t&&t.__v_isReadonly)}function It(t){return!!(t&&t.__v_isShallow)}function Ga(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function kp(t){return!Te(t,"__v_skip")&&Object.isExtensible(t)&&Vd(t,"__v_skip",!0),t}const Qe=t=>Le(t)?$o(t):t,no=t=>Le(t)?zi(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function ae(t){return su(t,!1)}function Ap(t){return su(t,!0)}function su(t,e){return Je(t)?t:new Cp(t,e)}class Cp{constructor(e,n){this.dep=new Da,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:Qe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||It(e)||Tn(e);e=s?e:Se(e),Sn(e,n)&&(this._rawValue=e,this._value=s?e:Qe(e),this.dep.trigger())}}function m(t){return Je(t)?t.value:t}const Sp={get:(t,e,n)=>e==="__v_raw"?t:m(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Je(r)&&!Je(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ru(t){return as(t)?t:new Proxy(t,Sp)}class Np{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Da(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return jd(this,!0),!0}get value(){const e=this.dep.track();return Xd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ep(t,e,n=!1){let s,r;return ve(t)?s=t:(s=t.get,r=t.set),new Np(s,r,n)}const Er={},so=new WeakMap;let Fn;function Tp(t,e=!1,n=Fn){if(n){let s=so.get(n);s||so.set(n,s=[]),s.push(t)}}function Ip(t,e,n=Pe){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,c=A=>r?A:It(A)||r===!1||r===0?un(A,1):un(A);let d,u,f,p,y=!1,_=!1;if(Je(t)?(u=()=>t.value,y=It(t)):as(t)?(u=()=>c(t),y=!0):ye(t)?(_=!0,y=t.some(A=>as(A)||It(A)),u=()=>t.map(A=>{if(Je(A))return A.value;if(as(A))return c(A);if(ve(A))return l?l(A,2):A()})):ve(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){pn();try{f()}finally{mn()}}const A=Fn;Fn=d;try{return l?l(t,3,[p]):t(p)}finally{Fn=A}}:u=qt,e&&r){const A=u,L=r===!0?1/0:r;u=()=>un(A(),L)}const x=rp(),v=()=>{d.stop(),x&&x.active&&Ta(x.effects,d)};if(o&&e){const A=e;e=(...L)=>{A(...L),v()}}let w=_?new Array(t.length).fill(Er):Er;const N=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const L=d.run();if(r||y||(_?L.some((z,H)=>Sn(z,w[H])):Sn(L,w))){f&&f();const z=Fn;Fn=d;try{const H=[L,w===Er?void 0:_&&w[0]===Er?[]:w,p];w=L,l?l(e,3,H):e(...H)}finally{Fn=z}}}else d.run()};return a&&a(N),d=new zd(u),d.scheduler=i?()=>i(N,!1):N,p=A=>Tp(A,!1,d),f=d.onStop=()=>{const A=so.get(d);if(A){if(l)l(A,4);else for(const L of A)L();so.delete(d)}},e?s?N(!0):w=d.run():i?i(N.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function un(t,e=1/0,n){if(e<=0||!Le(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Je(t))un(t.value,e,n);else if(ye(t))for(let s=0;s<t.length;s++)un(t[s],e,n);else if(Do(t)||is(t))t.forEach(s=>{un(s,e,n)});else if(Gd(t)){for(const s in t)un(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&un(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _r(t,e,n,s){try{return s?t(...s):t()}catch(r){Bo(r,e,n)}}function Ot(t,e,n,s){if(ve(t)){const r=_r(t,e,n,s);return r&&Md(r)&&r.catch(o=>{Bo(o,e,n)}),r}if(ye(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Ot(t[o],e,n,s));return r}}function Bo(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(o){pn(),_r(o,null,10,[t,l,c]),mn();return}}Lp(t,n,r,s,i)}function Lp(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const ut=[];let Ut=-1;const ls=[];let xn=null,ts=0;const ou=Promise.resolve();let ro=null;function Cs(t){const e=ro||ou;return t?e.then(this?t.bind(this):t):e}function Rp(t){let e=Ut+1,n=ut.length;for(;e<n;){const s=e+n>>>1,r=ut[s],o=er(r);o<t||o===t&&r.flags&2?e=s+1:n=s}return e}function Va(t){if(!(t.flags&1)){const e=er(t),n=ut[ut.length-1];!n||!(t.flags&2)&&e>=er(n)?ut.push(t):ut.splice(Rp(e),0,t),t.flags|=1,iu()}}function iu(){ro||(ro=ou.then(lu))}function Pp(t){ye(t)?ls.push(...t):xn&&t.id===-1?xn.splice(ts+1,0,t):t.flags&1||(ls.push(t),t.flags|=1),iu()}function Tl(t,e,n=Ut+1){for(;n<ut.length;n++){const s=ut[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;ut.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function au(t){if(ls.length){const e=[...new Set(ls)].sort((n,s)=>er(n)-er(s));if(ls.length=0,xn){xn.push(...e);return}for(xn=e,ts=0;ts<xn.length;ts++){const n=xn[ts];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}xn=null,ts=0}}const er=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lu(t){try{for(Ut=0;Ut<ut.length;Ut++){const e=ut[Ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_r(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ut<ut.length;Ut++){const e=ut[Ut];e&&(e.flags&=-2)}Ut=-1,ut.length=0,au(),ro=null,(ut.length||ls.length)&&lu()}}let et=null,cu=null;function oo(t){const e=et;return et=t,cu=t&&t.type.__scopeId||null,e}function Be(t,e=et,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&lo(-1);const o=oo(e);let i;try{i=t(...r)}finally{oo(o),s._d&&lo(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ht(t,e){if(et===null)return t;const n=Xo(et),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=Pe]=e[r];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&un(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Mn(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(pn(),Ot(l,n,8,[t.el,a,t,e]),mn())}}const du=Symbol("_vte"),uu=t=>t.__isTeleport,Ws=t=>t&&(t.disabled||t.disabled===""),Il=t=>t&&(t.defer||t.defer===""),Ll=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rl=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Hi=(t,e)=>{const n=t&&t.to;return Ve(n)?e?e(n):null:n},hu={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,o,i,a,l,c){const{mc:d,pc:u,pbc:f,o:{insert:p,querySelector:y,createText:_,createComment:x}}=c,v=Ws(e.props);let{shapeFlag:w,children:N,dynamicChildren:A}=e;if(t==null){const L=e.el=_(""),z=e.anchor=_("");p(L,n,s),p(z,n,s);const H=(W,Z)=>{w&16&&d(N,W,Z,r,o,i,a,l)},ee=()=>{const W=e.target=Hi(e.props,y),Z=fu(W,e,_,p);W&&(i!=="svg"&&Ll(W)?i="svg":i!=="mathml"&&Rl(W)&&(i="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(W),v||(H(W,Z),jr(e,!1)))};v&&(H(n,z),jr(e,!0)),Il(e.props)?(e.el.__isMounted=!1,ct(()=>{ee(),delete e.el.__isMounted},o)):ee()}else{if(Il(e.props)&&t.el.__isMounted===!1){ct(()=>{hu.process(t,e,n,s,r,o,i,a,l,c)},o);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,z=e.target=t.target,H=e.targetAnchor=t.targetAnchor,ee=Ws(t.props),W=ee?n:z,Z=ee?L:H;if(i==="svg"||Ll(z)?i="svg":(i==="mathml"||Rl(z))&&(i="mathml"),A?(f(t.dynamicChildren,A,W,r,o,i,a),Ba(t,e,!0)):l||u(t,e,W,Z,r,o,i,a,!1),v)ee?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Tr(e,n,L,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=Hi(e.props,y);j&&Tr(e,j,null,c,0)}else ee&&Tr(e,z,H,c,1);jr(e,v)}},remove(t,e,n,{um:s,o:{remove:r}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:d,target:u,props:f}=t;if(u&&(r(c),r(d)),o&&r(l),i&16){const p=o||!Ws(f);for(let y=0;y<a.length;y++){const _=a[y];s(_,e,n,p,!!_.dynamicChildren)}}},move:Tr,hydrate:Dp};function Tr(t,e,n,{o:{insert:s},m:r},o=2){o===0&&s(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:d}=t,u=o===2;if(u&&s(i,e,n),(!u||Ws(d))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);u&&s(a,e,n)}function Dp(t,e,n,s,r,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:d}},u){function f(_,x,v,w){x.anchor=u(i(_),x,a(_),n,s,r,o),x.targetStart=v,x.targetAnchor=w}const p=e.target=Hi(e.props,l),y=Ws(e.props);if(p){const _=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)f(t,e,_,_&&i(_));else{e.anchor=i(t);let x=_;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,p._lpa=e.targetAnchor&&i(e.targetAnchor);break}}x=i(x)}e.targetAnchor||fu(p,e,d,c),u(_&&i(_),e,p,n,s,r,o)}jr(e,y)}else y&&e.shapeFlag&16&&f(t,e,t,i(t));return e.anchor&&i(e.anchor)}const Mp=hu;function jr(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function fu(t,e,n,s){const r=e.targetStart=n(""),o=e.targetAnchor=n("");return r[du]=o,t&&(s(r,t),s(o,t)),o}const ln=Symbol("_leaveCb"),Ir=Symbol("_enterCb");function Op(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Dn(()=>{t.isMounted=!0}),wu(()=>{t.isUnmounting=!0}),t}const Et=[Function,Array],pu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Et,onEnter:Et,onAfterEnter:Et,onEnterCancelled:Et,onBeforeLeave:Et,onLeave:Et,onAfterLeave:Et,onLeaveCancelled:Et,onBeforeAppear:Et,onAppear:Et,onAfterAppear:Et,onAppearCancelled:Et},mu=t=>{const e=t.subTree;return e.component?mu(e.component):e},Gp={name:"BaseTransition",props:pu,setup(t,{slots:e}){const n=Uu(),s=Op();return()=>{const r=e.default&&_u(e.default(),!0);if(!r||!r.length)return;const o=gu(r),i=Se(t),{mode:a}=i;if(s.isLeaving)return hi(o);const l=Pl(o);if(!l)return hi(o);let c=ji(l,i,s,n,u=>c=u);l.type!==rt&&tr(l,c);let d=n.subTree&&Pl(n.subTree);if(d&&d.type!==rt&&!zn(d,l)&&mu(n).type!==rt){let u=ji(d,i,s,n);if(tr(d,u),a==="out-in"&&l.type!==rt)return s.isLeaving=!0,u.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,d=void 0},hi(o);a==="in-out"&&l.type!==rt?u.delayLeave=(f,p,y)=>{const _=yu(s,d);_[String(d.key)]=d,f[ln]=()=>{p(),f[ln]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function gu(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rt){e=n;break}}return e}const Vp=Gp;function yu(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ji(t,e,n,s,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:x,onAppear:v,onAfterAppear:w,onAppearCancelled:N}=e,A=String(t.key),L=yu(n,t),z=(W,Z)=>{W&&Ot(W,s,9,Z)},H=(W,Z)=>{const j=Z[1];z(W,Z),ye(W)?W.every(R=>R.length<=1)&&j():W.length<=1&&j()},ee={mode:i,persisted:a,beforeEnter(W){let Z=l;if(!n.isMounted)if(o)Z=x||l;else return;W[ln]&&W[ln](!0);const j=L[A];j&&zn(t,j)&&j.el[ln]&&j.el[ln](),z(Z,[W])},enter(W){let Z=c,j=d,R=u;if(!n.isMounted)if(o)Z=v||c,j=w||d,R=N||u;else return;let G=!1;const S=W[Ir]=M=>{G||(G=!0,M?z(R,[W]):z(j,[W]),ee.delayedLeave&&ee.delayedLeave(),W[Ir]=void 0)};Z?H(Z,[W,S]):S()},leave(W,Z){const j=String(t.key);if(W[Ir]&&W[Ir](!0),n.isUnmounting)return Z();z(f,[W]);let R=!1;const G=W[ln]=S=>{R||(R=!0,Z(),S?z(_,[W]):z(y,[W]),W[ln]=void 0,L[j]===t&&delete L[j])};L[j]=t,p?H(p,[W,G]):G()},clone(W){const Z=ji(W,e,n,s,r);return r&&r(Z),Z}};return ee}function hi(t){if(zo(t))return t=Ln(t),t.children=null,t}function Pl(t){if(!zo(t))return uu(t.type)&&t.children?gu(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ve(n.default))return n.default()}}function tr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,tr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _u(t,e=!1,n){let s=[],r=0;for(let o=0;o<t.length;o++){let i=t[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===Ge?(i.patchFlag&128&&r++,s=s.concat(_u(i.children,e,a))):(e||i.type!==rt)&&s.push(a!=null?Ln(i,{key:a}):i)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function bu(t,e){return ve(t)?Ke({name:t.name},e,{setup:t}):t}function vu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const io=new WeakMap;function Xs(t,e,n,s,r=!1){if(ye(t)){t.forEach((y,_)=>Xs(y,e&&(ye(e)?e[_]:e),n,s,r));return}if(cs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Xs(t,e,n,s.component.subTree);return}const o=s.shapeFlag&4?Xo(s.component):s.el,i=r?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Pe?a.refs={}:a.refs,u=a.setupState,f=Se(u),p=u===Pe?Dd:y=>Te(f,y);if(c!=null&&c!==l){if(Dl(e),Ve(c))d[c]=null,p(c)&&(u[c]=null);else if(Je(c)){c.value=null;const y=e;y.k&&(d[y.k]=null)}}if(ve(l))_r(l,a,12,[i,d]);else{const y=Ve(l),_=Je(l);if(y||_){const x=()=>{if(t.f){const v=y?p(l)?u[l]:d[l]:l.value;if(r)ye(v)&&Ta(v,o);else if(ye(v))v.includes(o)||v.push(o);else if(y)d[l]=[o],p(l)&&(u[l]=d[l]);else{const w=[o];l.value=w,t.k&&(d[t.k]=w)}}else y?(d[l]=i,p(l)&&(u[l]=i)):_&&(l.value=i,t.k&&(d[t.k]=i))};if(i){const v=()=>{x(),io.delete(t)};v.id=-1,io.set(t,v),ct(v,n)}else Dl(t),x()}}}function Dl(t){const e=io.get(t);e&&(e.flags|=8,io.delete(t))}Go().requestIdleCallback;Go().cancelIdleCallback;const cs=t=>!!t.type.__asyncLoader,zo=t=>t.type.__isKeepAlive;function Fp(t,e){xu(t,"a",e)}function $p(t,e){xu(t,"da",e)}function xu(t,e,n=ot){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ho(e,s,n),n){let r=n.parent;for(;r&&r.parent;)zo(r.parent.vnode)&&Bp(s,e,n,r),r=r.parent}}function Bp(t,e,n,s){const r=Ho(e,t,s,!0);jo(()=>{Ta(s[e],r)},n)}function Ho(t,e,n=ot,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{pn();const a=br(n),l=Ot(e,n,t,i);return a(),mn(),l});return s?r.unshift(o):r.push(o),o}}const yn=t=>(e,n=ot)=>{(!rr||t==="sp")&&Ho(t,(...s)=>e(...s),n)},zp=yn("bm"),Dn=yn("m"),Hp=yn("bu"),jp=yn("u"),wu=yn("bum"),jo=yn("um"),Up=yn("sp"),Wp=yn("rtg"),Xp=yn("rtc");function qp(t,e=ot){Ho("ec",t,e)}const ku="components";function Ui(t,e){return Cu(ku,t,!0,e)||t}const Au=Symbol.for("v-ndc");function Zp(t){return Ve(t)?Cu(ku,t,!1)||t:t||Au}function Cu(t,e,n=!0,s=!1){const r=et||ot;if(r){const o=r.type;{const a=Om(o,!1);if(a&&(a===e||a===Lt(e)||a===Oo(Lt(e))))return o}const i=Ml(r[t]||o[t],e)||Ml(r.appContext[t],e);return!i&&s?o:i}}function Ml(t,e){return t&&(t[e]||t[Lt(e)]||t[Oo(Lt(e))])}function Nn(t,e,n,s){let r;const o=n,i=ye(t);if(i||Ve(t)){const a=i&&as(t);let l=!1,c=!1;a&&(l=!It(t),c=Tn(t),t=Fo(t)),r=new Array(t.length);for(let d=0,u=t.length;d<u;d++)r[d]=e(l?c?no(Qe(t[d])):Qe(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(Le(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];r[l]=e(t[d],d,l,o)}}else r=[];return r}function Wi(t,e,n={},s,r){if(et.ce||et.parent&&cs(et.parent)&&et.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),U(),In(Ge,null,[_e("slot",n,s)],c?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),U();const i=o&&Su(o(n)),a=n.key||i&&i.key,l=In(Ge,{key:(a&&!Mt(a)?a:`_${e}`)+(!i&&s?"_fb":"")},i||[],i&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Su(t){return t.some(e=>sr(e)?!(e.type===rt||e.type===Ge&&!Su(e.children)):!0)?t:null}const Xi=t=>t?Wu(t)?Xo(t):Xi(t.parent):null,qs=Ke(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xi(t.parent),$root:t=>Xi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Eu(t),$forceUpdate:t=>t.f||(t.f=()=>{Va(t.update)}),$nextTick:t=>t.n||(t.n=Cs.bind(t.proxy)),$watch:t=>gm.bind(t)}),fi=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Te(t,e),Yp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(fi(s,e))return i[e]=1,s[e];if(r!==Pe&&Te(r,e))return i[e]=2,r[e];if((c=t.propsOptions[0])&&Te(c,e))return i[e]=3,o[e];if(n!==Pe&&Te(n,e))return i[e]=4,n[e];qi&&(i[e]=0)}}const d=qs[e];let u,f;if(d)return e==="$attrs"&&nt(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==Pe&&Te(n,e))return i[e]=4,n[e];if(f=l.config.globalProperties,Te(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return fi(r,e)?(r[e]=n,!0):s!==Pe&&Te(s,e)?(s[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,c;return!!(n[a]||t!==Pe&&a[0]!=="$"&&Te(t,a)||fi(e,a)||(l=o[0])&&Te(l,a)||Te(s,a)||Te(qs,a)||Te(r.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ol(t){return ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qi=!0;function Jp(t){const e=Eu(t),n=t.proxy,s=t.ctx;qi=!1,e.beforeCreate&&Gl(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:p,updated:y,activated:_,deactivated:x,beforeDestroy:v,beforeUnmount:w,destroyed:N,unmounted:A,render:L,renderTracked:z,renderTriggered:H,errorCaptured:ee,serverPrefetch:W,expose:Z,inheritAttrs:j,components:R,directives:G,filters:S}=e;if(c&&Kp(c,s,null),i)for(const V in i){const X=i[V];ve(X)&&(s[V]=X.bind(n))}if(r){const V=r.call(n,n);Le(V)&&(t.data=$o(V))}if(qi=!0,o)for(const V in o){const X=o[V],oe=ve(X)?X.bind(n,n):ve(X.get)?X.get.bind(n,n):qt,ue=!ve(X)&&ve(X.set)?X.set.bind(n):qt,Y=it({get:oe,set:ue});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>Y.value,set:le=>Y.value=le})}if(a)for(const V in a)Nu(a[V],s,n,V);if(l){const V=ve(l)?l.call(n):l;Reflect.ownKeys(V).forEach(X=>{Ur(X,V[X])})}d&&Gl(d,t,"c");function I(V,X){ye(X)?X.forEach(oe=>V(oe.bind(n))):X&&V(X.bind(n))}if(I(zp,u),I(Dn,f),I(Hp,p),I(jp,y),I(Fp,_),I($p,x),I(qp,ee),I(Xp,z),I(Wp,H),I(wu,w),I(jo,A),I(Up,W),ye(Z))if(Z.length){const V=t.exposed||(t.exposed={});Z.forEach(X=>{Object.defineProperty(V,X,{get:()=>n[X],set:oe=>n[X]=oe,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===qt&&(t.render=L),j!=null&&(t.inheritAttrs=j),R&&(t.components=R),G&&(t.directives=G),W&&vu(t)}function Kp(t,e,n=qt){ye(t)&&(t=Zi(t));for(const s in t){const r=t[s];let o;Le(r)?"default"in r?o=Zt(r.from||s,r.default,!0):o=Zt(r.from||s):o=Zt(r),Je(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function Gl(t,e,n){Ot(ye(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Nu(t,e,n,s){let r=s.includes(".")?$u(n,s):()=>n[s];if(Ve(t)){const o=e[t];ve(o)&&St(r,o)}else if(ve(t))St(r,t.bind(n));else if(Le(t))if(ye(t))t.forEach(o=>Nu(o,e,n,s));else{const o=ve(t.handler)?t.handler.bind(n):e[t.handler];ve(o)&&St(r,o,t)}}function Eu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>ao(l,c,i,!0)),ao(l,e,i)),Le(e)&&o.set(e,l),l}function ao(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&ao(t,o,n,!0),r&&r.forEach(i=>ao(t,i,n,!0));for(const i in e)if(!(s&&i==="expose")){const a=Qp[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Qp={data:Vl,props:Fl,emits:Fl,methods:Fs,computed:Fs,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Fs,directives:Fs,watch:tm,provide:Vl,inject:em};function Vl(t,e){return e?t?function(){return Ke(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function em(t,e){return Fs(Zi(t),Zi(e))}function Zi(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function lt(t,e){return t?[...new Set([].concat(t,e))]:e}function Fs(t,e){return t?Ke(Object.create(null),t,e):e}function Fl(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:Ke(Object.create(null),Ol(t),Ol(e??{})):e}function tm(t,e){if(!t)return e;if(!e)return t;const n=Ke(Object.create(null),t);for(const s in e)n[s]=lt(t[s],e[s]);return n}function Tu(){return{app:null,config:{isNativeTag:Dd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nm=0;function sm(t,e){return function(s,r=null){ve(s)||(s=Ke({},s)),r!=null&&!Le(r)&&(r=null);const o=Tu(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:nm++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Vm,get config(){return o.config},set config(d){},use(d,...u){return i.has(d)||(d&&ve(d.install)?(i.add(d),d.install(c,...u)):ve(d)&&(i.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,f){if(!l){const p=c._ceVNode||_e(s,r);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,d,f),l=!0,c._container=d,d.__vue_app__=c,Xo(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Ot(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=ds;ds=c;try{return d()}finally{ds=u}}};return c}}let ds=null;function Ur(t,e){if(ot){let n=ot.provides;const s=ot.parent&&ot.parent.provides;s===n&&(n=ot.provides=Object.create(s)),n[t]=e}}function Zt(t,e,n=!1){const s=Uu();if(s||ds){let r=ds?ds._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ve(e)?e.call(s&&s.proxy):e}}const Iu={},Lu=()=>Object.create(Iu),Ru=t=>Object.getPrototypeOf(t)===Iu;function rm(t,e,n,s=!1){const r={},o=Lu();t.propsDefaults=Object.create(null),Pu(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:nu(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function om(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=Se(r),[l]=t.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(Uo(t.emitsOptions,f))continue;const p=e[f];if(l)if(Te(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const y=Lt(f);r[y]=Yi(l,a,y,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Pu(t,e,r,o)&&(c=!0);let d;for(const u in a)(!e||!Te(e,u)&&((d=Pn(u))===u||!Te(e,d)))&&(l?n&&(n[u]!==void 0||n[d]!==void 0)&&(r[u]=Yi(l,a,u,void 0,t,!0)):delete r[u]);if(o!==a)for(const u in o)(!e||!Te(e,u))&&(delete o[u],c=!0)}c&&dn(t.attrs,"set","")}function Pu(t,e,n,s){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(Hs(l))continue;const c=e[l];let d;r&&Te(r,d=Lt(l))?!o||!o.includes(d)?n[d]=c:(a||(a={}))[d]=c:Uo(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=Se(n),c=a||Pe;for(let d=0;d<o.length;d++){const u=o[d];n[u]=Yi(r,l,u,c[u],t,!Te(c,u))}}return i}function Yi(t,e,n,s,r,o){const i=t[n];if(i!=null){const a=Te(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ve(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=br(r);s=c[n]=l.call(null,e),d()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===Pn(n))&&(s=!0))}return s}const im=new WeakMap;function Du(t,e,n=!1){const s=n?im:e.propsCache,r=s.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!ve(t)){const d=u=>{l=!0;const[f,p]=Du(u,e,!0);Ke(i,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Le(t)&&s.set(t,os),os;if(ye(o))for(let d=0;d<o.length;d++){const u=Lt(o[d]);$l(u)&&(i[u]=Pe)}else if(o)for(const d in o){const u=Lt(d);if($l(u)){const f=o[d],p=i[u]=ye(f)||ve(f)?{type:f}:Ke({},f),y=p.type;let _=!1,x=!0;if(ye(y))for(let v=0;v<y.length;++v){const w=y[v],N=ve(w)&&w.name;if(N==="Boolean"){_=!0;break}else N==="String"&&(x=!1)}else _=ve(y)&&y.name==="Boolean";p[0]=_,p[1]=x,(_||Te(p,"default"))&&a.push(u)}}const c=[i,a];return Le(t)&&s.set(t,c),c}function $l(t){return t[0]!=="$"&&!Hs(t)}const Fa=t=>t==="_"||t==="_ctx"||t==="$stable",$a=t=>ye(t)?t.map(Wt):[Wt(t)],am=(t,e,n)=>{if(e._n)return e;const s=Be((...r)=>$a(e(...r)),n);return s._c=!1,s},Mu=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Fa(r))continue;const o=t[r];if(ve(o))e[r]=am(r,o,s);else if(o!=null){const i=$a(o);e[r]=()=>i}}},Ou=(t,e)=>{const n=$a(e);t.slots.default=()=>n},Gu=(t,e,n)=>{for(const s in e)(n||!Fa(s))&&(t[s]=e[s])},lm=(t,e,n)=>{const s=t.slots=Lu();if(t.vnode.shapeFlag&32){const r=e._;r?(Gu(s,e,n),n&&Vd(s,"_",r,!0)):Mu(e,s)}else e&&Ou(t,e)},cm=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,i=Pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Gu(r,e,n):(o=!e.$stable,Mu(e,r)),i=e}else e&&(Ou(t,e),i={default:1});if(o)for(const a in r)!Fa(a)&&i[a]==null&&delete r[a]},ct=Am;function dm(t){return um(t)}function um(t,e){const n=Go();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:p=qt,insertStaticContent:y}=t,_=(k,C,E,$=null,B=null,F=null,re=void 0,P=null,D=!!C.dynamicChildren)=>{if(k===C)return;k&&!zn(k,C)&&($=T(k),le(k,B,F,!0),k=null),C.patchFlag===-2&&(D=!1,C.dynamicChildren=null);const{type:O,ref:me,shapeFlag:ie}=C;switch(O){case Wo:x(k,C,E,$);break;case rt:v(k,C,E,$);break;case mi:k==null&&w(C,E,$,re);break;case Ge:R(k,C,E,$,B,F,re,P,D);break;default:ie&1?L(k,C,E,$,B,F,re,P,D):ie&6?G(k,C,E,$,B,F,re,P,D):(ie&64||ie&128)&&O.process(k,C,E,$,B,F,re,P,D,fe)}me!=null&&B?Xs(me,k&&k.ref,F,C||k,!C):me==null&&k&&k.ref!=null&&Xs(k.ref,null,F,k,!0)},x=(k,C,E,$)=>{if(k==null)s(C.el=a(C.children),E,$);else{const B=C.el=k.el;C.children!==k.children&&c(B,C.children)}},v=(k,C,E,$)=>{k==null?s(C.el=l(C.children||""),E,$):C.el=k.el},w=(k,C,E,$)=>{[k.el,k.anchor]=y(k.children,C,E,$,k.el,k.anchor)},N=({el:k,anchor:C},E,$)=>{let B;for(;k&&k!==C;)B=f(k),s(k,E,$),k=B;s(C,E,$)},A=({el:k,anchor:C})=>{let E;for(;k&&k!==C;)E=f(k),r(k),k=E;r(C)},L=(k,C,E,$,B,F,re,P,D)=>{C.type==="svg"?re="svg":C.type==="math"&&(re="mathml"),k==null?z(C,E,$,B,F,re,P,D):W(k,C,B,F,re,P,D)},z=(k,C,E,$,B,F,re,P)=>{let D,O;const{props:me,shapeFlag:ie,transition:pe,dirs:be}=k;if(D=k.el=i(k.type,F,me&&me.is,me),ie&8?d(D,k.children):ie&16&&ee(k.children,D,null,$,B,pi(k,F),re,P),be&&Mn(k,null,$,"created"),H(D,k,k.scopeId,re,$),me){for(const Q in me)Q!=="value"&&!Hs(Q)&&o(D,Q,null,me[Q],F,$);"value"in me&&o(D,"value",null,me.value,F),(O=me.onVnodeBeforeMount)&&zt(O,$,k)}be&&Mn(k,null,$,"beforeMount");const K=hm(B,pe);K&&pe.beforeEnter(D),s(D,C,E),((O=me&&me.onVnodeMounted)||K||be)&&ct(()=>{O&&zt(O,$,k),K&&pe.enter(D),be&&Mn(k,null,$,"mounted")},B)},H=(k,C,E,$,B)=>{if(E&&p(k,E),$)for(let F=0;F<$.length;F++)p(k,$[F]);if(B){let F=B.subTree;if(C===F||zu(F.type)&&(F.ssContent===C||F.ssFallback===C)){const re=B.vnode;H(k,re,re.scopeId,re.slotScopeIds,B.parent)}}},ee=(k,C,E,$,B,F,re,P,D=0)=>{for(let O=D;O<k.length;O++){const me=k[O]=P?wn(k[O]):Wt(k[O]);_(null,me,C,E,$,B,F,re,P)}},W=(k,C,E,$,B,F,re)=>{const P=C.el=k.el;let{patchFlag:D,dynamicChildren:O,dirs:me}=C;D|=k.patchFlag&16;const ie=k.props||Pe,pe=C.props||Pe;let be;if(E&&On(E,!1),(be=pe.onVnodeBeforeUpdate)&&zt(be,E,C,k),me&&Mn(C,k,E,"beforeUpdate"),E&&On(E,!0),(ie.innerHTML&&pe.innerHTML==null||ie.textContent&&pe.textContent==null)&&d(P,""),O?Z(k.dynamicChildren,O,P,E,$,pi(C,B),F):re||X(k,C,P,null,E,$,pi(C,B),F,!1),D>0){if(D&16)j(P,ie,pe,E,B);else if(D&2&&ie.class!==pe.class&&o(P,"class",null,pe.class,B),D&4&&o(P,"style",ie.style,pe.style,B),D&8){const K=C.dynamicProps;for(let Q=0;Q<K.length;Q++){const de=K[Q],Oe=ie[de],Ze=pe[de];(Ze!==Oe||de==="value")&&o(P,de,Oe,Ze,B,E)}}D&1&&k.children!==C.children&&d(P,C.children)}else!re&&O==null&&j(P,ie,pe,E,B);((be=pe.onVnodeUpdated)||me)&&ct(()=>{be&&zt(be,E,C,k),me&&Mn(C,k,E,"updated")},$)},Z=(k,C,E,$,B,F,re)=>{for(let P=0;P<C.length;P++){const D=k[P],O=C[P],me=D.el&&(D.type===Ge||!zn(D,O)||D.shapeFlag&198)?u(D.el):E;_(D,O,me,null,$,B,F,re,!0)}},j=(k,C,E,$,B)=>{if(C!==E){if(C!==Pe)for(const F in C)!Hs(F)&&!(F in E)&&o(k,F,C[F],null,B,$);for(const F in E){if(Hs(F))continue;const re=E[F],P=C[F];re!==P&&F!=="value"&&o(k,F,P,re,B,$)}"value"in E&&o(k,"value",C.value,E.value,B)}},R=(k,C,E,$,B,F,re,P,D)=>{const O=C.el=k?k.el:a(""),me=C.anchor=k?k.anchor:a("");let{patchFlag:ie,dynamicChildren:pe,slotScopeIds:be}=C;be&&(P=P?P.concat(be):be),k==null?(s(O,E,$),s(me,E,$),ee(C.children||[],E,me,B,F,re,P,D)):ie>0&&ie&64&&pe&&k.dynamicChildren?(Z(k.dynamicChildren,pe,E,B,F,re,P),(C.key!=null||B&&C===B.subTree)&&Ba(k,C,!0)):X(k,C,E,me,B,F,re,P,D)},G=(k,C,E,$,B,F,re,P,D)=>{C.slotScopeIds=P,k==null?C.shapeFlag&512?B.ctx.activate(C,E,$,re,D):S(C,E,$,B,F,re,D):M(k,C,D)},S=(k,C,E,$,B,F,re)=>{const P=k.component=Lm(k,$,B);if(zo(k)&&(P.ctx.renderer=fe),Rm(P,!1,re),P.asyncDep){if(B&&B.registerDep(P,I,re),!k.el){const D=P.subTree=_e(rt);v(null,D,C,E),k.placeholder=D.el}}else I(P,k,C,E,B,F,re)},M=(k,C,E)=>{const $=C.component=k.component;if(wm(k,C,E))if($.asyncDep&&!$.asyncResolved){V($,C,E);return}else $.next=C,$.update();else C.el=k.el,$.vnode=C},I=(k,C,E,$,B,F,re)=>{const P=()=>{if(k.isMounted){let{next:ie,bu:pe,u:be,parent:K,vnode:Q}=k;{const $t=Vu(k);if($t){ie&&(ie.el=Q.el,V(k,ie,re)),$t.asyncDep.then(()=>{k.isUnmounted||P()});return}}let de=ie,Oe;On(k,!1),ie?(ie.el=Q.el,V(k,ie,re)):ie=Q,pe&&Hr(pe),(Oe=ie.props&&ie.props.onVnodeBeforeUpdate)&&zt(Oe,K,ie,Q),On(k,!0);const Ze=zl(k),Ft=k.subTree;k.subTree=Ze,_(Ft,Ze,u(Ft.el),T(Ft),k,B,F),ie.el=Ze.el,de===null&&km(k,Ze.el),be&&ct(be,B),(Oe=ie.props&&ie.props.onVnodeUpdated)&&ct(()=>zt(Oe,K,ie,Q),B)}else{let ie;const{el:pe,props:be}=C,{bm:K,m:Q,parent:de,root:Oe,type:Ze}=k,Ft=cs(C);On(k,!1),K&&Hr(K),!Ft&&(ie=be&&be.onVnodeBeforeMount)&&zt(ie,de,C),On(k,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ze);const $t=k.subTree=zl(k);_(null,$t,E,$,k,B,F),C.el=$t.el}if(Q&&ct(Q,B),!Ft&&(ie=be&&be.onVnodeMounted)){const $t=C;ct(()=>zt(ie,de,$t),B)}(C.shapeFlag&256||de&&cs(de.vnode)&&de.vnode.shapeFlag&256)&&k.a&&ct(k.a,B),k.isMounted=!0,C=E=$=null}};k.scope.on();const D=k.effect=new zd(P);k.scope.off();const O=k.update=D.run.bind(D),me=k.job=D.runIfDirty.bind(D);me.i=k,me.id=k.uid,D.scheduler=()=>Va(me),On(k,!0),O()},V=(k,C,E)=>{C.component=k;const $=k.vnode.props;k.vnode=C,k.next=null,om(k,C.props,$,E),cm(k,C.children,E),pn(),Tl(k),mn()},X=(k,C,E,$,B,F,re,P,D=!1)=>{const O=k&&k.children,me=k?k.shapeFlag:0,ie=C.children,{patchFlag:pe,shapeFlag:be}=C;if(pe>0){if(pe&128){ue(O,ie,E,$,B,F,re,P,D);return}else if(pe&256){oe(O,ie,E,$,B,F,re,P,D);return}}be&8?(me&16&&ge(O,B,F),ie!==O&&d(E,ie)):me&16?be&16?ue(O,ie,E,$,B,F,re,P,D):ge(O,B,F,!0):(me&8&&d(E,""),be&16&&ee(ie,E,$,B,F,re,P,D))},oe=(k,C,E,$,B,F,re,P,D)=>{k=k||os,C=C||os;const O=k.length,me=C.length,ie=Math.min(O,me);let pe;for(pe=0;pe<ie;pe++){const be=C[pe]=D?wn(C[pe]):Wt(C[pe]);_(k[pe],be,E,null,B,F,re,P,D)}O>me?ge(k,B,F,!0,!1,ie):ee(C,E,$,B,F,re,P,D,ie)},ue=(k,C,E,$,B,F,re,P,D)=>{let O=0;const me=C.length;let ie=k.length-1,pe=me-1;for(;O<=ie&&O<=pe;){const be=k[O],K=C[O]=D?wn(C[O]):Wt(C[O]);if(zn(be,K))_(be,K,E,null,B,F,re,P,D);else break;O++}for(;O<=ie&&O<=pe;){const be=k[ie],K=C[pe]=D?wn(C[pe]):Wt(C[pe]);if(zn(be,K))_(be,K,E,null,B,F,re,P,D);else break;ie--,pe--}if(O>ie){if(O<=pe){const be=pe+1,K=be<me?C[be].el:$;for(;O<=pe;)_(null,C[O]=D?wn(C[O]):Wt(C[O]),E,K,B,F,re,P,D),O++}}else if(O>pe)for(;O<=ie;)le(k[O],B,F,!0),O++;else{const be=O,K=O,Q=new Map;for(O=K;O<=pe;O++){const kt=C[O]=D?wn(C[O]):Wt(C[O]);kt.key!=null&&Q.set(kt.key,O)}let de,Oe=0;const Ze=pe-K+1;let Ft=!1,$t=0;const Ts=new Array(Ze);for(O=0;O<Ze;O++)Ts[O]=0;for(O=be;O<=ie;O++){const kt=k[O];if(Oe>=Ze){le(kt,B,F,!0);continue}let Bt;if(kt.key!=null)Bt=Q.get(kt.key);else for(de=K;de<=pe;de++)if(Ts[de-K]===0&&zn(kt,C[de])){Bt=de;break}Bt===void 0?le(kt,B,F,!0):(Ts[Bt-K]=O+1,Bt>=$t?$t=Bt:Ft=!0,_(kt,C[Bt],E,null,B,F,re,P,D),Oe++)}const wl=Ft?fm(Ts):os;for(de=wl.length-1,O=Ze-1;O>=0;O--){const kt=K+O,Bt=C[kt],kl=C[kt+1],Al=kt+1<me?kl.el||kl.placeholder:$;Ts[O]===0?_(null,Bt,E,Al,B,F,re,P,D):Ft&&(de<0||O!==wl[de]?Y(Bt,E,Al,2):de--)}}},Y=(k,C,E,$,B=null)=>{const{el:F,type:re,transition:P,children:D,shapeFlag:O}=k;if(O&6){Y(k.component.subTree,C,E,$);return}if(O&128){k.suspense.move(C,E,$);return}if(O&64){re.move(k,C,E,fe);return}if(re===Ge){s(F,C,E);for(let ie=0;ie<D.length;ie++)Y(D[ie],C,E,$);s(k.anchor,C,E);return}if(re===mi){N(k,C,E);return}if($!==2&&O&1&&P)if($===0)P.beforeEnter(F),s(F,C,E),ct(()=>P.enter(F),B);else{const{leave:ie,delayLeave:pe,afterLeave:be}=P,K=()=>{k.ctx.isUnmounted?r(F):s(F,C,E)},Q=()=>{F._isLeaving&&F[ln](!0),ie(F,()=>{K(),be&&be()})};pe?pe(F,K,Q):Q()}else s(F,C,E)},le=(k,C,E,$=!1,B=!1)=>{const{type:F,props:re,ref:P,children:D,dynamicChildren:O,shapeFlag:me,patchFlag:ie,dirs:pe,cacheIndex:be}=k;if(ie===-2&&(B=!1),P!=null&&(pn(),Xs(P,null,E,k,!0),mn()),be!=null&&(C.renderCache[be]=void 0),me&256){C.ctx.deactivate(k);return}const K=me&1&&pe,Q=!cs(k);let de;if(Q&&(de=re&&re.onVnodeBeforeUnmount)&&zt(de,C,k),me&6)ce(k.component,E,$);else{if(me&128){k.suspense.unmount(E,$);return}K&&Mn(k,null,C,"beforeUnmount"),me&64?k.type.remove(k,C,E,fe,$):O&&!O.hasOnce&&(F!==Ge||ie>0&&ie&64)?ge(O,C,E,!1,!0):(F===Ge&&ie&384||!B&&me&16)&&ge(D,C,E),$&&Ie(k)}(Q&&(de=re&&re.onVnodeUnmounted)||K)&&ct(()=>{de&&zt(de,C,k),K&&Mn(k,null,C,"unmounted")},E)},Ie=k=>{const{type:C,el:E,anchor:$,transition:B}=k;if(C===Ge){Ae(E,$);return}if(C===mi){A(k);return}const F=()=>{r(E),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(k.shapeFlag&1&&B&&!B.persisted){const{leave:re,delayLeave:P}=B,D=()=>re(E,F);P?P(k.el,F,D):D()}else F()},Ae=(k,C)=>{let E;for(;k!==C;)E=f(k),r(k),k=E;r(C)},ce=(k,C,E)=>{const{bum:$,scope:B,job:F,subTree:re,um:P,m:D,a:O}=k;Bl(D),Bl(O),$&&Hr($),B.stop(),F&&(F.flags|=8,le(re,k,C,E)),P&&ct(P,C),ct(()=>{k.isUnmounted=!0},C)},ge=(k,C,E,$=!1,B=!1,F=0)=>{for(let re=F;re<k.length;re++)le(k[re],C,E,$,B)},T=k=>{if(k.shapeFlag&6)return T(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const C=f(k.anchor||k.el),E=C&&C[du];return E?f(E):C};let te=!1;const ne=(k,C,E)=>{k==null?C._vnode&&le(C._vnode,null,null,!0):_(C._vnode||null,k,C,null,null,null,E),C._vnode=k,te||(te=!0,Tl(),au(),te=!1)},fe={p:_,um:le,m:Y,r:Ie,mt:S,mc:ee,pc:X,pbc:Z,n:T,o:t};return{render:ne,hydrate:void 0,createApp:sm(ne)}}function pi({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function On({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function hm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ba(t,e,n=!1){const s=t.children,r=e.children;if(ye(s)&&ye(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=wn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Ba(i,a)),a.type===Wo&&a.patchFlag!==-1&&(a.el=i.el),a.type===rt&&!a.el&&(a.el=i.el)}}function fm(t){const e=t.slice(),n=[0];let s,r,o,i,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<c?o=a+1:i=a;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Vu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vu(e)}function Bl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const pm=Symbol.for("v-scx"),mm=()=>Zt(pm);function St(t,e,n){return Fu(t,e,n)}function Fu(t,e,n=Pe){const{immediate:s,deep:r,flush:o,once:i}=n,a=Ke({},n),l=e&&s||!e&&o!=="post";let c;if(rr){if(o==="sync"){const p=mm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=qt,p.resume=qt,p.pause=qt,p}}const d=ot;a.call=(p,y,_)=>Ot(p,d,y,_);let u=!1;o==="post"?a.scheduler=p=>{ct(p,d&&d.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(p,y)=>{y?p():Va(p)}),a.augmentJob=p=>{e&&(p.flags|=4),u&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Ip(t,e,a);return rr&&(c?c.push(f):l&&f()),f}function gm(t,e,n){const s=this.proxy,r=Ve(t)?t.includes(".")?$u(s,t):()=>s[t]:t.bind(s,s);let o;ve(e)?o=e:(o=e.handler,n=e);const i=br(this),a=Fu(r,o.bind(s),n);return i(),a}function $u(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const ym=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Lt(e)}Modifiers`]||t[`${Pn(e)}Modifiers`];function _m(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Pe;let r=n;const o=e.startsWith("update:"),i=o&&ym(s,e.slice(7));i&&(i.trim&&(r=n.map(d=>Ve(d)?d.trim():d)),i.number&&(r=n.map(to)));let a,l=s[a=ai(e)]||s[a=ai(Lt(e))];!l&&o&&(l=s[a=ai(Pn(e))]),l&&Ot(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(c,t,6,r)}}const bm=new WeakMap;function Bu(t,e,n=!1){const s=n?bm:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!ve(t)){const l=c=>{const d=Bu(c,e,!0);d&&(a=!0,Ke(i,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Le(t)&&s.set(t,null),null):(ye(o)?o.forEach(l=>i[l]=null):Ke(i,o),Le(t)&&s.set(t,i),i)}function Uo(t,e){return!t||!Po(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Pn(e))||Te(t,e))}function zl(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:d,props:u,data:f,setupState:p,ctx:y,inheritAttrs:_}=t,x=oo(t);let v,w;try{if(n.shapeFlag&4){const A=r||s,L=A;v=Wt(c.call(L,A,d,u,p,f,y)),w=a}else{const A=e;v=Wt(A.length>1?A(u,{attrs:a,slots:i,emit:l}):A(u,null)),w=e.props?a:vm(a)}}catch(A){Zs.length=0,Bo(A,t,1),v=_e(rt)}let N=v;if(w&&_!==!1){const A=Object.keys(w),{shapeFlag:L}=N;A.length&&L&7&&(o&&A.some(Ea)&&(w=xm(w,o)),N=Ln(N,w,!1,!0))}return n.dirs&&(N=Ln(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&tr(N,n.transition),v=N,oo(x),v}const vm=t=>{let e;for(const n in t)(n==="class"||n==="style"||Po(n))&&((e||(e={}))[n]=t[n]);return e},xm=(t,e)=>{const n={};for(const s in t)(!Ea(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function wm(t,e,n){const{props:s,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Hl(s,i,c):!!i;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(i[f]!==s[f]&&!Uo(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Hl(s,i,c):!0:!!i;return!1}function Hl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Uo(n,o))return!0}return!1}function km({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const zu=t=>t.__isSuspense;function Am(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):Pp(t)}const Ge=Symbol.for("v-fgt"),Wo=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),Zs=[];let Ct=null;function U(t=!1){Zs.push(Ct=t?null:[])}function Cm(){Zs.pop(),Ct=Zs[Zs.length-1]||null}let nr=1;function lo(t,e=!1){nr+=t,t<0&&Ct&&e&&(Ct.hasOnce=!0)}function Hu(t){return t.dynamicChildren=nr>0?Ct||os:null,Cm(),nr>0&&Ct&&Ct.push(t),t}function q(t,e,n,s,r,o){return Hu(h(t,e,n,s,r,o,!0))}function In(t,e,n,s,r){return Hu(_e(t,e,n,s,r,!0))}function sr(t){return t?t.__v_isVNode===!0:!1}function zn(t,e){return t.type===e.type&&t.key===e.key}const ju=({key:t})=>t??null,Wr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ve(t)||Je(t)||ve(t)?{i:et,r:t,k:e,f:!!n}:t:null);function h(t,e=null,n=null,s=0,r=null,o=t===Ge?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ju(e),ref:e&&Wr(e),scopeId:cu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:et};return a?(za(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ve(n)?8:16),nr>0&&!i&&Ct&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ct.push(l),l}const _e=Sm;function Sm(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===Au)&&(t=rt),sr(t)){const a=Ln(t,e,!0);return n&&za(a,n),nr>0&&!o&&Ct&&(a.shapeFlag&6?Ct[Ct.indexOf(t)]=a:Ct.push(a)),a.patchFlag=-2,a}if(Gm(t)&&(t=t.__vccOpts),e){e=Nm(e);let{class:a,style:l}=e;a&&!Ve(a)&&(e.class=bt(a)),Le(l)&&(Ga(l)&&!ye(l)&&(l=Ke({},l)),e.style=Vo(l))}const i=Ve(t)?1:zu(t)?128:uu(t)?64:Le(t)?4:ve(t)?2:0;return h(t,e,n,s,r,i,o,!0)}function Nm(t){return t?Ga(t)||Ru(t)?Ke({},t):t:null}function Ln(t,e,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?Em(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ju(c),ref:e&&e.ref?n&&o?ye(o)?o.concat(Wr(e)):[o,Wr(e)]:Wr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ln(t.ssContent),ssFallback:t.ssFallback&&Ln(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&tr(d,l.clone(d)),d}function xe(t=" ",e=0){return _e(Wo,null,t,e)}function Re(t="",e=!1){return e?(U(),In(rt,null,t)):_e(rt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?_e(rt):ye(t)?_e(Ge,null,t.slice()):sr(t)?wn(t):_e(Wo,null,String(t))}function wn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ln(t)}function za(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ye(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),za(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Ru(e)?e._ctx=et:r===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:et},n=32):(e=String(e),s&64?(n=16,e=[xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Em(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=bt([e.class,s.class]));else if(r==="style")e.style=Vo([e.style,s.style]);else if(Po(r)){const o=e[r],i=s[r];i&&o!==i&&!(ye(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=s[r])}return e}function zt(t,e,n,s=null){Ot(t,e,7,[n,s])}const Tm=Tu();let Im=0;function Lm(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Tm,o={uid:Im++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Du(s,r),emitsOptions:Bu(s,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=_m.bind(null,o),t.ce&&t.ce(o),o}let ot=null;const Uu=()=>ot||et;let co,Ji;{const t=Go(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};co=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),Ji=e("__VUE_SSR_SETTERS__",n=>rr=n)}const br=t=>{const e=ot;return co(t),t.scope.on(),()=>{t.scope.off(),co(e)}},jl=()=>{ot&&ot.scope.off(),co(null)};function Wu(t){return t.vnode.shapeFlag&4}let rr=!1;function Rm(t,e=!1,n=!1){e&&Ji(e);const{props:s,children:r}=t.vnode,o=Wu(t);rm(t,s,o,e),lm(t,r,n||e);const i=o?Pm(t,e):void 0;return e&&Ji(!1),i}function Pm(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Yp);const{setup:s}=n;if(s){pn();const r=t.setupContext=s.length>1?Mm(t):null,o=br(t),i=_r(s,t,0,[t.props,r]),a=Md(i);if(mn(),o(),(a||t.sp)&&!cs(t)&&vu(t),a){if(i.then(jl,jl),e)return i.then(l=>{Ul(t,l)}).catch(l=>{Bo(l,t,0)});t.asyncDep=i}else Ul(t,i)}else Xu(t)}function Ul(t,e,n){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=ru(e)),Xu(t)}function Xu(t,e,n){const s=t.type;t.render||(t.render=s.render||qt);{const r=br(t);pn();try{Jp(t)}finally{mn(),r()}}}const Dm={get(t,e){return nt(t,"get",""),t[e]}};function Mm(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Dm),slots:t.slots,emit:t.emit,expose:e}}function Xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ru(kp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qs)return qs[n](t)},has(e,n){return n in e||n in qs}})):t.proxy}function Om(t,e=!0){return ve(t)?t.displayName||t.name:t.name||e&&t.__name}function Gm(t){return ve(t)&&"__vccOpts"in t}const it=(t,e)=>Ep(t,e,rr);function Ha(t,e,n){try{lo(-1);const s=arguments.length;return s===2?Le(e)&&!ye(e)?sr(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&sr(n)&&(n=[n]),_e(t,e,n))}finally{lo(1)}}const Vm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ki;const Wl=typeof window<"u"&&window.trustedTypes;if(Wl)try{Ki=Wl.createPolicy("vue",{createHTML:t=>t})}catch{}const qu=Ki?t=>Ki.createHTML(t):t=>t,Fm="http://www.w3.org/2000/svg",$m="http://www.w3.org/1998/Math/MathML",on=typeof document<"u"?document:null,Xl=on&&on.createElement("template"),Bm={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?on.createElementNS(Fm,t):e==="mathml"?on.createElementNS($m,t):n?on.createElement(t,{is:n}):on.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>on.createTextNode(t),createComment:t=>on.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>on.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const i=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Xl.innerHTML=qu(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Xl.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_n="transition",Ls="animation",or=Symbol("_vtc"),Zu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zm=Ke({},pu,Zu),Hm=t=>(t.displayName="Transition",t.props=zm,t),ql=Hm((t,{slots:e})=>Ha(Vp,jm(t),e)),Gn=(t,e=[])=>{ye(t)?t.forEach(n=>n(...e)):t&&t(...e)},Zl=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function jm(t){const e={};for(const R in t)R in Zu||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:d=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,y=Um(r),_=y&&y[0],x=y&&y[1],{onBeforeEnter:v,onEnter:w,onEnterCancelled:N,onLeave:A,onLeaveCancelled:L,onBeforeAppear:z=v,onAppear:H=w,onAppearCancelled:ee=N}=e,W=(R,G,S,M)=>{R._enterCancelled=M,Vn(R,G?d:a),Vn(R,G?c:i),S&&S()},Z=(R,G)=>{R._isLeaving=!1,Vn(R,u),Vn(R,p),Vn(R,f),G&&G()},j=R=>(G,S)=>{const M=R?H:w,I=()=>W(G,R,S);Gn(M,[G,I]),Yl(()=>{Vn(G,R?l:o),tn(G,R?d:a),Zl(M)||Jl(G,s,_,I)})};return Ke(e,{onBeforeEnter(R){Gn(v,[R]),tn(R,o),tn(R,i)},onBeforeAppear(R){Gn(z,[R]),tn(R,l),tn(R,c)},onEnter:j(!1),onAppear:j(!0),onLeave(R,G){R._isLeaving=!0;const S=()=>Z(R,G);tn(R,u),R._enterCancelled?(tn(R,f),ec(R)):(ec(R),tn(R,f)),Yl(()=>{R._isLeaving&&(Vn(R,u),tn(R,p),Zl(A)||Jl(R,s,x,S))}),Gn(A,[R,S])},onEnterCancelled(R){W(R,!1,void 0,!0),Gn(N,[R])},onAppearCancelled(R){W(R,!0,void 0,!0),Gn(ee,[R])},onLeaveCancelled(R){Z(R),Gn(L,[R])}})}function Um(t){if(t==null)return null;if(Le(t))return[gi(t.enter),gi(t.leave)];{const e=gi(t);return[e,e]}}function gi(t){return qf(t)}function tn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[or]||(t[or]=new Set)).add(e)}function Vn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[or];n&&(n.delete(e),n.size||(t[or]=void 0))}function Yl(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Wm=0;function Jl(t,e,n,s){const r=t._endId=++Wm,o=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=Xm(t,e);if(!i)return s();const c=i+"end";let d=0;const u=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,f)}function Xm(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(`${_n}Delay`),o=s(`${_n}Duration`),i=Kl(r,o),a=s(`${Ls}Delay`),l=s(`${Ls}Duration`),c=Kl(a,l);let d=null,u=0,f=0;e===_n?i>0&&(d=_n,u=i,f=o.length):e===Ls?c>0&&(d=Ls,u=c,f=l.length):(u=Math.max(i,c),d=u>0?i>c?_n:Ls:null,f=d?d===_n?o.length:l.length:0);const p=d===_n&&/\b(?:transform|all)(?:,|$)/.test(s(`${_n}Property`).toString());return{type:d,timeout:u,propCount:f,hasTransform:p}}function Kl(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ql(n)+Ql(t[s])))}function Ql(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ec(t){return(t?t.ownerDocument:document).body.offsetHeight}function qm(t,e,n){const s=t[or];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const uo=Symbol("_vod"),Yu=Symbol("_vsh"),Lr={name:"show",beforeMount(t,{value:e},{transition:n}){t[uo]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Rs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Rs(t,!0),s.enter(t)):s.leave(t,()=>{Rs(t,!1)}):Rs(t,e))},beforeUnmount(t,{value:e}){Rs(t,e)}};function Rs(t,e){t.style.display=e?t[uo]:"none",t[Yu]=!e}const Zm=Symbol(""),Ym=/(?:^|;)\s*display\s*:/;function Jm(t,e,n){const s=t.style,r=Ve(n);let o=!1;if(n&&!r){if(e)if(Ve(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Xr(s,a,"")}else for(const i in e)n[i]==null&&Xr(s,i,"");for(const i in n)i==="display"&&(o=!0),Xr(s,i,n[i])}else if(r){if(e!==n){const i=s[Zm];i&&(n+=";"+i),s.cssText=n,o=Ym.test(n)}}else e&&t.removeAttribute("style");uo in t&&(t[uo]=o?s.display:"",t[Yu]&&(s.display="none"))}const tc=/\s*!important$/;function Xr(t,e,n){if(ye(n))n.forEach(s=>Xr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Km(t,e);tc.test(n)?t.setProperty(Pn(s),n.replace(tc,""),"important"):t[s]=n}}const nc=["Webkit","Moz","ms"],yi={};function Km(t,e){const n=yi[e];if(n)return n;let s=Lt(e);if(s!=="filter"&&s in t)return yi[e]=s;s=Oo(s);for(let r=0;r<nc.length;r++){const o=nc[r]+s;if(o in t)return yi[e]=o}return e}const sc="http://www.w3.org/1999/xlink";function rc(t,e,n,s,r,o=ep(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(sc,e.slice(6,e.length)):t.setAttributeNS(sc,e,n):n==null||o&&!Fd(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Mt(n)?String(n):n)}function oc(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?qu(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Fd(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function An(t,e,n,s){t.addEventListener(e,n,s)}function Qm(t,e,n,s){t.removeEventListener(e,n,s)}const ic=Symbol("_vei");function eg(t,e,n,s,r=null){const o=t[ic]||(t[ic]={}),i=o[e];if(s&&i)i.value=s;else{const[a,l]=tg(e);if(s){const c=o[e]=rg(s,r);An(t,a,c,l)}else i&&(Qm(t,a,i,l),o[e]=void 0)}}const ac=/(?:Once|Passive|Capture)$/;function tg(t){let e;if(ac.test(t)){e={};let s;for(;s=t.match(ac);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Pn(t.slice(2)),e]}let _i=0;const ng=Promise.resolve(),sg=()=>_i||(ng.then(()=>_i=0),_i=Date.now());function rg(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ot(og(s,n.value),e,5,[s])};return n.value=t,n.attached=sg(),n}function og(t,e){if(ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const lc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ig=(t,e,n,s,r,o)=>{const i=r==="svg";e==="class"?qm(t,s,i):e==="style"?Jm(t,n,s):Po(e)?Ea(e)||eg(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ag(t,e,s,i))?(oc(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&rc(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ve(s))?oc(t,Lt(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),rc(t,e,s,i))};function ag(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&lc(e)&&ve(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return lc(e)&&Ve(n)?!1:e in t}const ys=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?n=>Hr(e,n):e};function lg(t){t.target.composing=!0}function cc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),dc={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[fn]=ys(r);const o=s||r.props&&r.props.type==="number";An(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=to(a)),t[fn](a)}),n&&An(t,"change",()=>{t.value=t.value.trim()}),e||(An(t,"compositionstart",lg),An(t,"compositionend",cc),An(t,"change",cc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(t[fn]=ys(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?to(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Qi={created(t,{value:e},n){t.checked=gs(e,n.props.value),t[fn]=ys(n),An(t,"change",()=>{t[fn](ir(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[fn]=ys(s),e!==n&&(t.checked=gs(e,s.props.value))}},_s={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Do(e);An(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?to(ir(i)):ir(i));t[fn](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Cs(()=>{t._assigning=!1})}),t[fn]=ys(s)},mounted(t,{value:e}){uc(t,e)},beforeUpdate(t,e,n){t[fn]=ys(n)},updated(t,{value:e}){t._assigning||uc(t,e)}};function uc(t,e){const n=t.multiple,s=ye(e);if(!(n&&!s&&!Do(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=ir(i);if(n)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=np(e,a)>-1}else i.selected=e.has(a);else if(gs(ir(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ir(t){return"_value"in t?t._value:t.value}const cg=["ctrl","shift","alt","meta"],dg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cg.some(n=>t[`${n}Key`]&&!e.includes(n))},Ju=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...o)=>{for(let i=0;i<e.length;i++){const a=dg[e[i]];if(a&&a(r,e))return}return t(r,...o)}))},ug={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ps=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const o=Pn(r.key);if(e.some(i=>i===o||ug[i]===o))return t(r)}))},hg=Ke({patchProp:ig},Bm);let hc;function fg(){return hc||(hc=dm(hg))}const pg=((...t)=>{const e=fg().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=gg(s);if(!r)return;const o=e._component;!ve(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,mg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e});function mg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function gg(t){return Ve(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ns=typeof document<"u";function Ku(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ku(t.default)}const Ee=Object.assign;function bi(t,e){const n={};for(const s in e){const r=e[s];n[s]=Gt(r)?r.map(t):t(r)}return n}const Ys=()=>{},Gt=Array.isArray;function fc(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const Qu=/#/g,_g=/&/g,bg=/\//g,vg=/=/g,xg=/\?/g,eh=/\+/g,wg=/%5B/g,kg=/%5D/g,th=/%5E/g,Ag=/%60/g,nh=/%7B/g,Cg=/%7C/g,sh=/%7D/g,Sg=/%20/g;function ja(t){return t==null?"":encodeURI(""+t).replace(Cg,"|").replace(wg,"[").replace(kg,"]")}function Ng(t){return ja(t).replace(nh,"{").replace(sh,"}").replace(th,"^")}function ea(t){return ja(t).replace(eh,"%2B").replace(Sg,"+").replace(Qu,"%23").replace(_g,"%26").replace(Ag,"`").replace(nh,"{").replace(sh,"}").replace(th,"^")}function Eg(t){return ea(t).replace(vg,"%3D")}function Tg(t){return ja(t).replace(Qu,"%23").replace(xg,"%3F")}function Ig(t){return Tg(t).replace(bg,"%2F")}function ar(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Lg=/\/$/,Rg=t=>t.replace(Lg,"");function vi(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),o=e.slice(l,a>0?a:e.length),r=t(o.slice(1))),a>=0&&(s=s||e.slice(0,a),i=e.slice(a,e.length)),s=Og(s??e,n),{fullPath:s+o+i,path:s,query:r,hash:ar(i)}}function Pg(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function pc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Dg(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&bs(e.matched[s],n.matched[r])&&rh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function bs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function rh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Mg(t[n],e[n]))return!1;return!0}function Mg(t,e){return Gt(t)?mc(t,e):Gt(e)?mc(e,t):t===e}function mc(t,e){return Gt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Og(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ta=(function(t){return t.pop="pop",t.push="push",t})({}),xi=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Gg(t){if(!t)if(ns){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Rg(t)}const Vg=/^[^#]+#/;function Fg(t,e){return t.replace(Vg,"#")+e}function $g(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const qo=()=>({left:window.scrollX,top:window.scrollY});function Bg(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=$g(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gc(t,e){return(history.state?history.state.position-e:-1)+t}const na=new Map;function zg(t,e){na.set(t,e)}function Hg(t){const e=na.get(t);return na.delete(t),e}function jg(t){return typeof t=="string"||t&&typeof t=="object"}function oh(t){return typeof t=="string"||typeof t=="symbol"}let Fe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ih=Symbol("");Fe.MATCHER_NOT_FOUND+"",Fe.NAVIGATION_GUARD_REDIRECT+"",Fe.NAVIGATION_ABORTED+"",Fe.NAVIGATION_CANCELLED+"",Fe.NAVIGATION_DUPLICATED+"";function vs(t,e){return Ee(new Error,{type:t,[ih]:!0},e)}function nn(t,e){return t instanceof Error&&ih in t&&(e==null||!!(t.type&e))}const Ug=["params","query","hash"];function Wg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of Ug)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Xg(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(eh," "),o=r.indexOf("="),i=ar(o<0?r:r.slice(0,o)),a=o<0?null:ar(r.slice(o+1));if(i in e){let l=e[i];Gt(l)||(l=e[i]=[l]),l.push(a)}else e[i]=a}return e}function yc(t){let e="";for(let n in t){const s=t[n];if(n=Eg(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gt(s)?s.map(r=>r&&ea(r)):[s&&ea(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function qg(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Gt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Zg=Symbol(""),_c=Symbol(""),Ua=Symbol(""),Wa=Symbol(""),sa=Symbol("");function Ds(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function kn(t,e,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(vs(Fe.NAVIGATION_ABORTED,{from:n,to:e})):f instanceof Error?l(f):jg(f)?l(vs(Fe.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},d=o(()=>t.call(s&&s.instances[r],e,n,c));let u=Promise.resolve(d);t.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function wi(t,e,n,s,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Ku(l)){const c=(l.__vccOpts||l)[e];c&&o.push(kn(c,n,s,i,a,r))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const u=yg(d)?d.default:d;i.mods[a]=d,i.components[a]=u;const f=(u.__vccOpts||u)[e];return f&&kn(f,n,s,i,a,r)()}))}}return o}function Yg(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>bs(c,a))?s.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(c=>bs(c,l))||r.push(l))}return[n,s,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jg=()=>location.protocol+"//"+location.host;function ah(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let i=r.includes(t.slice(o))?t.slice(o).length:1,a=r.slice(i);return a[0]!=="/"&&(a="/"+a),pc(a,"")}return pc(n,t)+s+r}function Kg(t,e,n,s){let r=[],o=[],i=null;const a=({state:f})=>{const p=ah(t,location),y=n.value,_=e.value;let x=0;if(f){if(n.value=p,e.value=f,i&&i===y){i=null;return}x=_?f.position-_.position:0}else s(p);r.forEach(v=>{v(n.value,y,{delta:x,type:ta.pop,direction:x?x>0?xi.forward:xi.back:xi.unknown})})};function l(){i=n.value}function c(f){r.push(f);const p=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return o.push(p),p}function d(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Ee({},f.state,{scroll:qo()}),"")}}function u(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:c,destroy:u}}function bc(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?qo():null}}function Qg(t){const{history:e,location:n}=window,s={value:ah(t,n)},r={value:e.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const u=t.indexOf("#"),f=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+l:Jg()+t+l;try{e[d?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[d?"replace":"assign"](f)}}function i(l,c){o(l,Ee({},e.state,bc(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),s.value=l}function a(l,c){const d=Ee({},r.value,e.state,{forward:l,scroll:qo()});o(d.current,d,!0),o(l,Ee({},bc(s.value,l,null),{position:d.position+1},c),!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function ey(t){t=Gg(t);const e=Qg(t),n=Kg(t,e.state,e.location,e.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Ee({location:"",base:t,go:s,createHref:Fg.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let Hn=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ue=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ue||{});const ty={type:Hn.Static,value:""},ny=/[a-zA-Z0-9_]/;function sy(t){if(!t)return[[]];if(t==="/")return[[ty]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=Ue.Static,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",d="";function u(){c&&(n===Ue.Static?o.push({type:Hn.Static,value:c}):n===Ue.Param||n===Ue.ParamRegExp||n===Ue.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Hn.Param,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==Ue.ParamRegExp){s=n,n=Ue.EscapeNext;continue}switch(n){case Ue.Static:l==="/"?(c&&u(),i()):l===":"?(u(),n=Ue.Param):f();break;case Ue.EscapeNext:f(),n=s;break;case Ue.Param:l==="("?n=Ue.ParamRegExp:ny.test(l)?f():(u(),n=Ue.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Ue.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=Ue.ParamRegExpEnd:d+=l;break;case Ue.ParamRegExpEnd:u(),n=Ue.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===Ue.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),u(),i(),r}const vc="[^/]+?",ry={sensitive:!1,strict:!1,start:!0,end:!0};var dt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(dt||{});const oy=/[.+*?^${}()[\]/\\]/g;function iy(t,e){const n=Ee({},ry,e),s=[];let r=n.start?"^":"";const o=[];for(const c of t){const d=c.length?[]:[dt.Root];n.strict&&!c.length&&(r+="/");for(let u=0;u<c.length;u++){const f=c[u];let p=dt.Segment+(n.sensitive?dt.BonusCaseSensitive:0);if(f.type===Hn.Static)u||(r+="/"),r+=f.value.replace(oy,"\\$&"),p+=dt.Static;else if(f.type===Hn.Param){const{value:y,repeatable:_,optional:x,regexp:v}=f;o.push({name:y,repeatable:_,optional:x});const w=v||vc;if(w!==vc){p+=dt.BonusCustomRegExp;try{`${w}`}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+A.message)}}let N=_?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(N=x&&c.length<2?`(?:/${N})`:"/"+N),x&&(N+="?"),r+=N,p+=dt.Dynamic,x&&(p+=dt.BonusOptional),_&&(p+=dt.BonusRepeatable),w===".*"&&(p+=dt.BonusWildcard)}d.push(p)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=dt.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const d=c.match(i),u={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",y=o[f-1];u[y.name]=p&&y.repeatable?p.split("/"):p}return u}function l(c){let d="",u=!1;for(const f of t){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const p of f)if(p.type===Hn.Static)d+=p.value;else if(p.type===Hn.Param){const{value:y,repeatable:_,optional:x}=p,v=y in c?c[y]:"";if(Gt(v)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=Gt(v)?v.join("/"):v;if(!w)if(x)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);d+=w}}return d||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function ay(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===dt.Static+dt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===dt.Static+dt.Segment?1:-1:0}function lh(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const o=ay(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(xc(s))return 1;if(xc(r))return-1}return r.length-s.length}function xc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ly={strict:!1,end:!0,sensitive:!1};function cy(t,e,n){const s=iy(sy(t.path),n),r=Ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function dy(t,e){const n=[],s=new Map;e=fc(ly,e);function r(u){return s.get(u)}function o(u,f,p){const y=!p,_=kc(u);_.aliasOf=p&&p.record;const x=fc(e,u),v=[_];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of A)v.push(kc(Ee({},_,{components:p?p.record.components:_.components,path:L,aliasOf:p?p.record:_})))}let w,N;for(const A of v){const{path:L}=A;if(f&&L[0]!=="/"){const z=f.record.path,H=z[z.length-1]==="/"?"":"/";A.path=f.record.path+(L&&H+L)}if(w=cy(A,f,x),p?p.alias.push(w):(N=N||w,N!==w&&N.alias.push(w),y&&u.name&&!Ac(w)&&i(u.name)),ch(w)&&l(w),_.children){const z=_.children;for(let H=0;H<z.length;H++)o(z[H],w,p&&p.children[H])}p=p||w}return N?()=>{i(N)}:Ys}function i(u){if(oh(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){const f=fy(u,n);n.splice(f,0,u),u.record.name&&!Ac(u)&&s.set(u.record.name,u)}function c(u,f){let p,y={},_,x;if("name"in u&&u.name){if(p=s.get(u.name),!p)throw vs(Fe.MATCHER_NOT_FOUND,{location:u});x=p.record.name,y=Ee(wc(f.params,p.keys.filter(N=>!N.optional).concat(p.parent?p.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),u.params&&wc(u.params,p.keys.map(N=>N.name))),_=p.stringify(y)}else if(u.path!=null)_=u.path,p=n.find(N=>N.re.test(_)),p&&(y=p.parse(_),x=p.record.name);else{if(p=f.name?s.get(f.name):n.find(N=>N.re.test(f.path)),!p)throw vs(Fe.MATCHER_NOT_FOUND,{location:u,currentLocation:f});x=p.record.name,y=Ee({},f.params,u.params),_=p.stringify(y)}const v=[];let w=p;for(;w;)v.unshift(w.record),w=w.parent;return{name:x,path:_,params:y,matched:v,meta:hy(v)}}t.forEach(u=>o(u));function d(){n.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function wc(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function kc(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:uy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function uy(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ac(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function hy(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function fy(t,e){let n=0,s=e.length;for(;n!==s;){const o=n+s>>1;lh(t,e[o])<0?s=o:n=o+1}const r=py(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function py(t){let e=t;for(;e=e.parent;)if(ch(e)&&lh(t,e)===0)return e}function ch({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cc(t){const e=Zt(Ua),n=Zt(Wa),s=it(()=>{const l=m(t.to);return e.resolve(l)}),r=it(()=>{const{matched:l}=s.value,{length:c}=l,d=l[c-1],u=n.matched;if(!d||!u.length)return-1;const f=u.findIndex(bs.bind(null,d));if(f>-1)return f;const p=Sc(l[c-2]);return c>1&&Sc(d)===p&&u[u.length-1].path!==p?u.findIndex(bs.bind(null,l[c-2])):f}),o=it(()=>r.value>-1&&by(n.params,s.value.params)),i=it(()=>r.value>-1&&r.value===n.matched.length-1&&rh(n.params,s.value.params));function a(l={}){if(_y(l)){const c=e[m(t.replace)?"replace":"push"](m(t.to)).catch(Ys);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:it(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}function my(t){return t.length===1?t[0]:t}const gy=bu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cc,setup(t,{slots:e}){const n=$o(Cc(t)),{options:s}=Zt(Ua),r=it(()=>({[Nc(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Nc(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&my(e.default(n));return t.custom?o:Ha("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),yy=gy;function _y(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function by(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Gt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Sc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Nc=(t,e,n)=>t??e??n,vy=bu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Zt(sa),r=it(()=>t.route||s.value),o=Zt(_c,0),i=it(()=>{let c=m(o);const{matched:d}=r.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),a=it(()=>r.value.matched[i.value]);Ur(_c,it(()=>i.value+1)),Ur(Zg,a),Ur(sa,r);const l=ae();return St(()=>[l.value,a.value,t.name],([c,d,u],[f,p,y])=>{d&&(d.instances[u]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!bs(d,p)||!f)&&(d.enterCallbacks[u]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,u=a.value,f=u&&u.components[d];if(!f)return Ec(n.default,{Component:f,route:c});const p=u.props[d],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,x=Ha(f,Ee({},y,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Ec(n.default,{Component:x,route:c})||x}}});function Ec(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const xy=vy;function wy(t){const e=dy(t.routes,t),n=t.parseQuery||Xg,s=t.stringifyQuery||yc,r=t.history,o=Ds(),i=Ds(),a=Ds(),l=Ap(bn);let c=bn;ns&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=bi.bind(null,T=>""+T),u=bi.bind(null,Ig),f=bi.bind(null,ar);function p(T,te){let ne,fe;return oh(T)?(ne=e.getRecordMatcher(T),fe=te):fe=T,e.addRoute(fe,ne)}function y(T){const te=e.getRecordMatcher(T);te&&e.removeRoute(te)}function _(){return e.getRoutes().map(T=>T.record)}function x(T){return!!e.getRecordMatcher(T)}function v(T,te){if(te=Ee({},te||l.value),typeof T=="string"){const E=vi(n,T,te.path),$=e.resolve({path:E.path},te),B=r.createHref(E.fullPath);return Ee(E,$,{params:f($.params),hash:ar(E.hash),redirectedFrom:void 0,href:B})}let ne;if(T.path!=null)ne=Ee({},T,{path:vi(n,T.path,te.path).path});else{const E=Ee({},T.params);for(const $ in E)E[$]==null&&delete E[$];ne=Ee({},T,{params:u(E)}),te.params=u(te.params)}const fe=e.resolve(ne,te),he=T.hash||"";fe.params=d(f(fe.params));const k=Pg(s,Ee({},T,{hash:Ng(he),path:fe.path})),C=r.createHref(k);return Ee({fullPath:k,hash:he,query:s===yc?qg(T.query):T.query||{}},fe,{redirectedFrom:void 0,href:C})}function w(T){return typeof T=="string"?vi(n,T,l.value.path):Ee({},T)}function N(T,te){if(c!==T)return vs(Fe.NAVIGATION_CANCELLED,{from:te,to:T})}function A(T){return H(T)}function L(T){return A(Ee(w(T),{replace:!0}))}function z(T,te){const ne=T.matched[T.matched.length-1];if(ne&&ne.redirect){const{redirect:fe}=ne;let he=typeof fe=="function"?fe(T,te):fe;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=w(he):{path:he},he.params={}),Ee({query:T.query,hash:T.hash,params:he.path!=null?{}:T.params},he)}}function H(T,te){const ne=c=v(T),fe=l.value,he=T.state,k=T.force,C=T.replace===!0,E=z(ne,fe);if(E)return H(Ee(w(E),{state:typeof E=="object"?Ee({},he,E.state):he,force:k,replace:C}),te||ne);const $=ne;$.redirectedFrom=te;let B;return!k&&Dg(s,fe,ne)&&(B=vs(Fe.NAVIGATION_DUPLICATED,{to:$,from:fe}),Y(fe,fe,!0,!1)),(B?Promise.resolve(B):Z($,fe)).catch(F=>nn(F)?nn(F,Fe.NAVIGATION_GUARD_REDIRECT)?F:ue(F):X(F,$,fe)).then(F=>{if(F){if(nn(F,Fe.NAVIGATION_GUARD_REDIRECT))return H(Ee({replace:C},w(F.to),{state:typeof F.to=="object"?Ee({},he,F.to.state):he,force:k}),te||$)}else F=R($,fe,!0,C,he);return j($,fe,F),F})}function ee(T,te){const ne=N(T,te);return ne?Promise.reject(ne):Promise.resolve()}function W(T){const te=Ae.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(T):T()}function Z(T,te){let ne;const[fe,he,k]=Yg(T,te);ne=wi(fe.reverse(),"beforeRouteLeave",T,te);for(const E of fe)E.leaveGuards.forEach($=>{ne.push(kn($,T,te))});const C=ee.bind(null,T,te);return ne.push(C),ge(ne).then(()=>{ne=[];for(const E of o.list())ne.push(kn(E,T,te));return ne.push(C),ge(ne)}).then(()=>{ne=wi(he,"beforeRouteUpdate",T,te);for(const E of he)E.updateGuards.forEach($=>{ne.push(kn($,T,te))});return ne.push(C),ge(ne)}).then(()=>{ne=[];for(const E of k)if(E.beforeEnter)if(Gt(E.beforeEnter))for(const $ of E.beforeEnter)ne.push(kn($,T,te));else ne.push(kn(E.beforeEnter,T,te));return ne.push(C),ge(ne)}).then(()=>(T.matched.forEach(E=>E.enterCallbacks={}),ne=wi(k,"beforeRouteEnter",T,te,W),ne.push(C),ge(ne))).then(()=>{ne=[];for(const E of i.list())ne.push(kn(E,T,te));return ne.push(C),ge(ne)}).catch(E=>nn(E,Fe.NAVIGATION_CANCELLED)?E:Promise.reject(E))}function j(T,te,ne){a.list().forEach(fe=>W(()=>fe(T,te,ne)))}function R(T,te,ne,fe,he){const k=N(T,te);if(k)return k;const C=te===bn,E=ns?history.state:{};ne&&(fe||C?r.replace(T.fullPath,Ee({scroll:C&&E&&E.scroll},he)):r.push(T.fullPath,he)),l.value=T,Y(T,te,ne,C),ue()}let G;function S(){G||(G=r.listen((T,te,ne)=>{if(!ce.listening)return;const fe=v(T),he=z(fe,ce.currentRoute.value);if(he){H(Ee(he,{replace:!0,force:!0}),fe).catch(Ys);return}c=fe;const k=l.value;ns&&zg(gc(k.fullPath,ne.delta),qo()),Z(fe,k).catch(C=>nn(C,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_CANCELLED)?C:nn(C,Fe.NAVIGATION_GUARD_REDIRECT)?(H(Ee(w(C.to),{force:!0}),fe).then(E=>{nn(E,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&!ne.delta&&ne.type===ta.pop&&r.go(-1,!1)}).catch(Ys),Promise.reject()):(ne.delta&&r.go(-ne.delta,!1),X(C,fe,k))).then(C=>{C=C||R(fe,k,!1),C&&(ne.delta&&!nn(C,Fe.NAVIGATION_CANCELLED)?r.go(-ne.delta,!1):ne.type===ta.pop&&nn(C,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),j(fe,k,C)}).catch(Ys)}))}let M=Ds(),I=Ds(),V;function X(T,te,ne){ue(T);const fe=I.list();return fe.length?fe.forEach(he=>he(T,te,ne)):console.error(T),Promise.reject(T)}function oe(){return V&&l.value!==bn?Promise.resolve():new Promise((T,te)=>{M.add([T,te])})}function ue(T){return V||(V=!T,S(),M.list().forEach(([te,ne])=>T?ne(T):te()),M.reset()),T}function Y(T,te,ne,fe){const{scrollBehavior:he}=t;if(!ns||!he)return Promise.resolve();const k=!ne&&Hg(gc(T.fullPath,0))||(fe||!ne)&&history.state&&history.state.scroll||null;return Cs().then(()=>he(T,te,k)).then(C=>C&&Bg(C)).catch(C=>X(C,T,te))}const le=T=>r.go(T);let Ie;const Ae=new Set,ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:_,resolve:v,options:t,push:A,replace:L,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:I.add,isReady:oe,install(T){T.component("RouterLink",yy),T.component("RouterView",xy),T.config.globalProperties.$router=ce,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>m(l)}),ns&&!Ie&&l.value===bn&&(Ie=!0,A(r.location).catch(fe=>{}));const te={};for(const fe in bn)Object.defineProperty(te,fe,{get:()=>l.value[fe],enumerable:!0});T.provide(Ua,ce),T.provide(Wa,nu(te)),T.provide(sa,l);const ne=T.unmount;Ae.add(T),T.unmount=function(){Ae.delete(T),Ae.size<1&&(c=bn,G&&G(),G=null,l.value=bn,Ie=!1,V=!1),ne()}}};function ge(T){return T.reduce((te,ne)=>te.then(()=>W(ne)),Promise.resolve())}return ce}function ky(t){return Zt(Wa)}const Qn={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},Ay="info",Tc="sandbox_logging_filters",Ic=["themeswitcher","codemirroreditor","editoradapter"];let Cy=class{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||Ay,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=Qn[this.level.toUpperCase()]??Qn.INFO,this.loggingManager=e.loggingManager,this.console=e.console||console,this.component&&this.loggingManager&&this.loggingManager.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&Qn[e.toUpperCase()]<=this.currentLevel;const n=!this.component||!this.loggingManager||this.loggingManager.isComponentEnabled(this.component);return this.enabled&&n&&Qn[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(n=>this.redactValue(n)):e}redactValue(e){if(typeof e=="string")return e.replace(/\b[a-zA-Z0-9_-]{20,}\b/g,"[REDACTED]");if(Array.isArray(e))return e.map(n=>this.redactValue(n));if(e&&typeof e=="object"&&e.constructor===Object){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=this.redactValue(e[s]));return n}return e}formatMessage(e,...n){const s=this.prefix?`[${this.prefix}] `:"",r=this.redactArgs(n);return[s+e,...r]}error(e,...n){this.shouldLog("error")&&this.console.error(...this.formatMessage(e,...n))}warn(e,...n){this.shouldLog("warn")&&this.console.warn(...this.formatMessage(e,...n))}info(e,...n){this.shouldLog("info")&&this.console.info(...this.formatMessage(e,...n))}log(e,...n){this.shouldLog("info")&&this.console.log(...this.formatMessage(e,...n))}debug(e,...n){this.shouldLog("debug")&&this.console.debug(...this.formatMessage(e,...n))}trace(e,...n){if(this.shouldLog("trace")){const s=this.redactSecrets;this.redactSecrets=!0;const r=this.formatMessage(e,...n);this.redactSecrets=s,this.console.trace(...r)}}table(e,n){if(this.shouldLog("info")){const s=this.prefix?`[${this.prefix}]`:"";s&&this.console.log(s),this.console.table(e,n)}}group(e){this.shouldLog("info")&&this.console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&this.console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&this.console.groupEnd()}time(e){this.shouldLog("debug")&&this.console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&this.console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=Qn[e.toUpperCase()]??Qn.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}},Sy=class{constructor(e={}){this.storage=e.storage,this.console=e.console||console,this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.registeredComponents=new Set,this.storage&&this.loadFromStorage()}enable(...e){e.forEach(n=>this.allowedComponents.add(n.toLowerCase())),this.saveToStorage(),this.console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(n=>this.allowedComponents.delete(n.toLowerCase())),this.saveToStorage(),this.console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),this.console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),this.console.log(" Logging disabled for ALL components (errors still show)")}status(){this.console.log(" Logging Status:"),this.console.log("  Global enabled:",this.globalEnabled),this.console.log("  Allow all:",this.allowAll),this.console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){this.console.log(" Available components to filter:"),Array.from(this.registeredComponents).sort().forEach(e=>{const n=this.isComponentEnabled(e);this.console.log(`  ${n?"":""} ${e}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents.add(e)}saveToStorage(){if(this.storage)try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};this.storage.setItem(Tc,JSON.stringify(e))}catch{}}loadFromStorage(){if(this.storage)try{const e=this.storage.getItem(Tc),n=JSON.parse(e||"{}");this.allowedComponents=new Set(n.allowedComponents||[]),this.allowAll=n.allowAll||!1,this.globalEnabled=n.globalEnabled!==!1,e||(this.allowedComponents=new Set(Ic))}catch{this.allowedComponents=new Set(Ic)}}},dh=class{getItem(e){throw new Error("StorageAdapter.getItem must be implemented")}setItem(e,n){throw new Error("StorageAdapter.setItem must be implemented")}removeItem(e){throw new Error("StorageAdapter.removeItem must be implemented")}},Ny=class extends dh{constructor(){super(),this.storage=new Map}getItem(e){return this.storage.get(e)??null}setItem(e,n){this.storage.set(e,n)}removeItem(e){this.storage.delete(e)}};class Ey extends dh{getItem(e){try{return localStorage.getItem(e)}catch{return null}}setItem(e,n){try{localStorage.setItem(e,n)}catch{}}removeItem(e){try{localStorage.removeItem(e)}catch{}}}function Ty(){return typeof localStorage<"u"?new Ey:new Ny}class uh{getGlobal(){throw new Error("GlobalAdapter.getGlobal must be implemented")}setGlobalProperty(e,n){throw new Error("GlobalAdapter.setGlobalProperty must be implemented")}hasGlobalProperty(e){throw new Error("GlobalAdapter.hasGlobalProperty must be implemented")}}class Iy extends uh{getGlobal(){return window}setGlobalProperty(e,n){window[e]=n}hasGlobalProperty(e){return e in window}}class Ly extends uh{getGlobal(){return globalThis}setGlobalProperty(e,n){globalThis[e]=n}hasGlobalProperty(e){return e in globalThis}}function Ry(){return typeof window<"u"?new Iy:new Ly}const Py=Ty(),Dy=Ry(),$n=new Sy({storage:Py,console});typeof window<"u"&&Dy.setGlobalProperty("logFilter",{enable:(...t)=>$n.enable(...t),disable:(...t)=>$n.disable(...t),enableAll:()=>$n.enableAll(),disableAll:()=>$n.disableAll(),status:()=>$n.status(),list:()=>$n.listComponents()});function Xe(t={}){return new Cy({...t,loggingManager:$n})}const My=Xe({prefix:"i18n",level:"info"}),ra={en:{nav:{home:"Home",showcase:"Features Showcase",explorer:"Network Explorer",family:"Family Tree",docs:"Documentation"},common:{loading:"Loading...",error:"Error",success:"Success",darkMode:"Toggle dark mode",language:"Language"},footer:{madeBy:"Made with",by:"by",license:"MIT License"},home:{hero:{title:"Modern Network Analysis for JavaScript",subtitle:"Powerful graph theory and network analysis with worker-first architecture",description:"Analyze social networks, family trees, and complex graphs with ease. Fast parallel computation, comprehensive metrics, and beautiful visualizations - all in pure JavaScript.",cta:"Get Started",github:"View on GitHub"},features:[{icon:"",title:"Network Analytics",description:"Compute centrality metrics, clustering coefficients, and graph-level statistics with comprehensive analysis tools"},{icon:"",title:"Interactive Explorer",description:"Explore networks with drag-and-drop, zoom, pan, and real-time analysis of nodes and communities"},{icon:"",title:"Multiple Layouts",description:"11 layout algorithms including force-directed, Kamada-Kawai, spectral, and hierarchical layouts"},{icon:"",title:"Worker Performance",description:"Non-blocking UI with web workers for parallel computation on large graphs with thousands of nodes"},{icon:"",title:"Community Detection",description:"Find clusters and groups in networks using Louvain algorithm with modularity optimization"},{icon:"",title:"Rich Metrics",description:"Degree, betweenness, eigenvector, clustering, closeness, and more statistical features"}],code:{title:"Quick Start Example",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`}},docs:{title:"Documentation",subtitle:"Complete API reference for @guinetik/graph-js",sections:{quickStart:"Quick Start",coreClasses:"Core Classes",adapters:"Data Adapters",layouts:"Graph Layouts",community:"Community Detection",examples:"Usage Examples"},quickStart:{title:"Quick Start",install:"Installation",installCmd:"npm install @guinetik/graph-js",basicUsage:"Basic Usage",description:"Get started with network analysis in just a few lines of code."},graph:{title:"Graph",description:"Core graph data structure using adjacency maps for efficient operations.",methods:"Methods",methodsList:{addNode:{name:"addNode(nodeId)",description:"Add a single node to the graph"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Add multiple nodes from an array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Add an edge between two nodes"},removeNode:{name:"removeNode(nodeId)",description:"Remove a node and all its edges"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Get array of neighbor node IDs"},hasEdge:{name:"hasEdge(source, target)",description:"Check if edge exists"},numberOfNodes:{name:"numberOfNodes()",description:"Get total number of nodes"}}},networkStats:{title:"NetworkStats",description:"Main class for analyzing networks and calculating statistical metrics. All computation happens in web workers for optimal performance.",constructor:"Constructor",constructorParams:{verbose:"Enable detailed logging (default: true)",maxWorkers:"Maximum number of workers (default: auto-detect CPU cores)",taskTimeout:"Task timeout in milliseconds (default: 60000)",workerScript:"Custom worker script path for bundlers like Vite"},analyze:{title:"analyze() Method",description:"Compute network statistics for all nodes"},features:{title:"Available Features",degree:"Number of connections per node",eigenvector:"Influence based on connection quality (like PageRank)",eigenvectorLaplacian:"Laplacian eigenvector centrality (for spectral layouts)",betweenness:"Bridge importance between groups",clustering:"How densely connected neighbors are",closeness:"Average distance to all other nodes in the network",cliques:"Number of complete subgraphs containing the node",egoDensity:"Density of the node's immediate neighborhood",modularity:"Community assignment (Louvain algorithm)"}},adapters:{title:"Data Adapters",description:"Convert between various graph formats and the standard GraphData format. All adapters use static methods.",csv:{title:"CSVAdapter",description:"Load and convert CSV files to graph format. Supports edge lists and node property files.",methods:"Methods",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Parse CSV edge list. Options: header (default: true), delimiter (default: ","), weighted (default: true)',returns:"Returns GraphData with nodes and edges"},fromNodes:{name:"fromNodes(csvText, options)",description:"Parse CSV node properties",returns:"Returns array of NodeData objects"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Async method to fetch and parse CSV from URLs",returns:"Returns Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Export edges to CSV string",returns:"Returns CSV string"},toNodes:{name:"toNodes(graphData, options)",description:"Export nodes to CSV string",returns:"Returns CSV string"}}},json:{title:"JSONAdapter",description:"Support for D3.js, Cytoscape, and other JSON formats. Auto-detects format.",methods:"Methods",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Convert D3.js force-directed format (with "links") to GraphData',returns:"Returns GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Convert Cytoscape.js format to GraphData",returns:"Returns GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Auto-detect format (GraphData, D3, Cytoscape, NetworkX)",returns:"Returns GraphData"},toD3:{name:"toD3(graphData)",description:'Convert to D3.js format with "links" property',returns:"Returns D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Convert to Cytoscape.js format",returns:"Returns CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Async method to fetch and parse JSON",returns:"Returns Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Python NetworkX interoperability. Supports node-link and adjacency formats.",methods:"Methods",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Convert NetworkX node-link format (most common)",returns:"Returns GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Convert NetworkX adjacency format",returns:"Returns GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Convert to node-link format. Options: directed (default: false), multigraph (default: false)",returns:"Returns NetworkX node-link data"},toAdjacency:{name:"toAdjacency(graphData)",description:"Convert to adjacency format",returns:"Returns array of node objects with adjacency lists"}}}},layouts:{title:"Graph Layouts",description:"Position nodes in 2D space using various algorithms. All layouts use async computation in Web Workers for optimal performance.",note:"All layout methods are async and return Promise<Object> with node positions {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Spring-electrical model using Fruchterman-Reingold algorithm. Good for general-purpose network visualization.",complexity:"Time Complexity: O(iterations  V)",bestFor:"Best for: General networks, social graphs",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Number of simulation steps (default: 50)",k:"Optimal distance between nodes (default: auto-calculated)",scale:"Scale factor for positions (default: 1)",center:"Center point {x, y} (default: {x:0, y:0})",initialPositions:"Starting positions (default: random)",threshold:"Convergence threshold (default: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Energy minimization based on all-pairs shortest paths. Produces aesthetically pleasing layouts.",complexity:"Time Complexity: O(V + iterations  V)",bestFor:"Best for: Small-medium graphs (<1000 nodes), trees, planar graphs",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Maximum iterations (default: 1000)",scale:"Scale factor (default: 1)",center:"Center point (default: {x:0, y:0})",initialPositions:"Starting positions (default: circular)",threshold:"Convergence threshold (default: 1e-4)",K:"Spring constant scaling (default: auto)"}},spectral:{title:"SpectralLayout",description:"Uses Laplacian eigenvectors as coordinates. Excellent for visualizing community structure.",complexity:"Time Complexity: O(V) using pre-computed eigenvectors",bestFor:"Best for: Community visualization, graph topology",requires:'Requires: "eigenvector-laplacian" statistic must be pre-computed',constructor:"new SpectralLayout(graph, options)",options:{scale:"Scale factor (default: 100)",center:"Center point (default: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Positions nodes in a circle. Simple and clean for small networks.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Small networks, cycle graphs",constructor:"new CircularLayout(graph, options)",options:{scale:"Circle radius (default: 100)",center:"Center point (default: {x:0, y:0})",sortBy:"Optional sort function for node order"}},shell:{title:"ShellLayout",description:"Concentric circles based on node degree. High-degree nodes in center.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Hub-and-spoke networks, star graphs",requires:'Requires: "degree" statistic must be pre-computed',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Archimedean spiral pattern. Aesthetically pleasing for ordered data.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Sequential or temporal networks",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Breadth-first search layers. Shows distance from root node.",complexity:"Time Complexity: O(V + E)",bestFor:"Best for: Trees, hierarchies, showing propagation",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Two-layer layout for bipartite graphs.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Two-mode networks, actor-event data",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Random positions. Useful as starting point for other layouts.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Initial positions, testing",constructor:"new RandomLayout(graph, options)"},usage:"Usage Pattern",usageDescription:"All layouts follow the same async pattern"},community:{title:"Community Detection",description:"Detect communities (clusters) in networks using various algorithms. All computation runs in Web Workers.",mainClass:{title:"CommunityDetection",description:"Main class for detecting communities in graphs",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detect communities using specified algorithm. Algorithm can be instance or string ("louvain")',returns:"Returns Promise<CommunityResult> with communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calculate modularity score for a partition",returns:"Returns number (-1 to 1, higher is better)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Convenience method for direct detection from GraphData",returns:"Returns Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Get array of node IDs in a specific community"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Get object mapping communityId to array of node IDs"}}},louvain:{title:"LouvainAlgorithm",description:"Fast modularity optimization using the Louvain method. The most popular community detection algorithm.",complexity:"Time Complexity: O(V log V)",bestFor:"Best for: Large networks, general-purpose community detection",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Resolution parameter for modularity (default: 1.0). Higher values find smaller communities.",maxIterations:"Maximum iterations (default: 100)"}},result:{title:"CommunityResult",description:"Result object returned by community detection",properties:{communities:"Object mapping nodeId to communityId (number)",modularity:"Modularity score (-1 to 1, typically 0.3-0.7 for good partitions)",numCommunities:"Number of communities found",algorithm:"Algorithm name used",metadata:"Optional additional information"}},customAlgorithm:{title:"Custom Algorithms",description:"Extend CommunityAlgorithm base class to create your own algorithms",note:"Implement the detect() method and configure worker module path"}},examples:{title:"Usage Examples",description:"Complete code examples for common use cases",basic:{title:"Basic Network Analysis",description:"Analyze a simple network and compute centrality metrics"},csv:{title:"Loading CSV Data",description:"Import network data from CSV files and analyze"},json:{title:"Working with JSON",description:"Convert between JSON formats (D3, Cytoscape, NetworkX)"},layout:{title:"Applying Layouts",description:"Position nodes using layout algorithms"},community:{title:"Community Detection",description:"Find communities using Louvain algorithm"},complete:{title:"Complete Workflow",description:"End-to-end example: load data, analyze, layout, detect communities"}}},showcase:{title:"Features Showcase",description:"Explore all the features of @guinetik/graph-js",header:{title:" Interactive Network Graph",subtitle:"Explore network analysis in real-time. Add nodes, remove them, and watch the graph update dynamically."},whatIs:{title:"What is this?",description:"This interactive visualization demonstrates <strong>network analysis</strong>. Node size represents centrality: larger nodes are more influential in the network."},status:{title:"Status",ready:"Ready for operations",hover:"Hover over nodes to see details"},controls:{title:"Controls",addRandom:"Add a random node connected to a random existing node",addToSelected:"Add a node connected to {name}",selectNodeFirst:"Select a node first",removeRandom:"Remove a random node"},dataLoading:{title:"Load Dataset",choose:"Choose Dataset:",default:"Default Inline (15 nodes)",karate:"Karate Club JSON (34 nodes)",miserables:"Les Misrables CSV (77 nodes)",loadButton:" Load Dataset",loading:" Loading..."},networkAnalysis:{title:" Network Analysis (Node Sizes)",description:"<strong>Uses @guinetik/graph-js:</strong> Computes centrality metrics in web workers for optimal performance.",metricsTitle:"Metrics to Calculate",degreeCentrality:"Degree Centrality",betweennessCentrality:"Betweenness Centrality",clusteringCoefficient:"Clustering Coefficient",eigenvectorCentrality:"Eigenvector Centrality",eigenvectorLaplacian:"Eigenvector (Laplacian) - for Spectral layout",nodeSizeLabel:"Node Size Based On:",selectMetric:"-- Select a metric --",analyzeButton:" Analyze Network",analyzingButton:" Analyzing...",degreeName:"Degree",betweennessName:"Betweenness",clusteringName:"Clustering",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Layout Algorithm"},communityDetection:{title:" Community Detection",communitiesFound:"Communities Found:",modularity:"Modularity:",nodeColorsAssignments:"Node colors represent community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = centrality",color:" <strong>Color</strong> = group/community"},buttons:{add:"Add",toSelected:"To Selected",remove:"Remove"},messages:{loadingGraph:"Loading graph...",loadingDataset:"Loading {dataset} dataset...",loadingDatasetName:"Loading {name} dataset...",analyzing:"Analyzing network using workers...",applyingLayout:"Applying {layout} layout...",detectingCommunities:"Detecting communities using {algorithm}...",loadedDataset:" Loaded {name} dataset ({nodes} nodes, {edges} edges)",failedToLoadDataset:" Failed to load dataset: {error}",addedNode:' Added node "{nodeId}" connected to "{connectedTo}"',noNodeSelected:" No node selected. Click on a node to select it first.",noNodesToRemove:" No nodes to remove",removedNode:' Removed node "{nodeId}"',analysisComplete:" Analysis complete! Computed {count} node metrics using web workers",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty"},layoutPicker:{chooseLayout:"Choose Layout:",applyButton:" Apply Layout",applyingButton:" Applying..."},communityPicker:{chooseAlgorithm:"Choose Algorithm:",detectButton:" Detect Communities",detectingButton:" Detecting..."}},explorer:{title:"Network Explorer",description:"Interactive network analysis and visualization",header:{title:" Network Explorer",subtitle:"Explore sample networks and upload your own files. Supports CSV, JSON, and NetworkX formats."},parallelComputation:{title:" Parallel Computation Demo",description:"This demo showcases <strong>Web Workers</strong> for parallel network analysis. Large networks are processed across multiple CPU cores for faster computation.",workersSupported:" Workers Supported",workersNotSupported:" Workers Not Supported",cores:"cores"},status:{title:"Status",ready:"Ready for operations",loadNetwork:"Load a network to begin"},dataLoading:{title:"Data Loading",sampleNetworks:" Sample Networks",uploadFile:" Upload File",chooseNetwork:"Choose Network:",chooseCity:"-- Choose a city --",caruaru:"Caruaru (~130 edges, small)",rj:"Rio de Janeiro (~1,900 edges, medium)",niteroi:"Niteri (~18,500 edges, large)",loadNetwork:" Load Network",loading:" Loading...",fileFormat:"File Format:",edgesCSV:"Edges CSV (Required):",nodesCSV:"Nodes CSV (Optional):",edgeCSVFormat:"<strong>Edge CSV format:</strong> source,target,weight<br><strong>Node CSV format:</strong> id,group,label,...",jsonFile:"JSON File:",networkxFile:"NetworkX JSON File:",jsonSupports:"Supports: Standard (nodes/edges), D3 (nodes/links), Cytoscape, or raw edge list array",networkxSupports:"Supports: node-link format, adjacency format",loadUploadedFile:" Load Uploaded File",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (edge list)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Network Statistics",nodes:"Nodes",edges:"Edges",avgDegree:"Avg Degree",analysisTime:"Analysis Time",communities:"Communities",modularity:"Modularity",usingParallel:" Using parallel computation",workersActive:"workers active",singleThreaded:" Single-threaded mode",networkTooSmall:"Network too small for workers"},networkAnalysis:{title:" Network Analysis (Node Sizes)"},layoutAlgorithm:{title:" Layout Algorithm",requiresAnalysis:"requires analysis"},graphStats:{title:" Graph Statistics",density:"Density:",diameter:"Diameter:",avgClustering:"Avg Clustering:",avgPathLength:"Avg Path Length:",components:"Components:",avgDegree:"Avg Degree:",calculated:"Calculated alongside node metrics"},communityDetection:{title:" Community Detection (Node Colors)",algorithm:"Algorithm:"},communityResults:{title:" Community Detection Results",communitiesFound:"Communities Found:",modularityScore:"Modularity Score:",computationTime:"Computation Time:",algorithm:"Algorithm:",nodeColorsRepresent:"Node colors represent their community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = selected metric",color:" <strong>Color</strong> = community"},messages:{loadingNetworkData:"Loading network data...",loadedNetwork:" Loaded {name} ({nodes} nodes, {edges} edges)",failedToLoadNetwork:" Failed to load network: {error}",loadingUploadedFile:"Loading uploaded file...",loadedFile:" Loaded {fileName} ({nodes} nodes, {edges} edges)",failedToLoadFile:" Failed to load file: {error}",analyzingNetwork:"Analyzing network using workers...",analysisComplete:" Analysis complete! Computed {count} node metrics",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",applyingLayout:"Applying {layout} layout...",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty",detectingCommunities:"Detecting communities using {algorithm}...",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed"}},family:{title:"Family Tree",subtitle:"Build and visualize your family tree interactively",description:"Visualize family relationships",header:{title:" Family Tree Builder",subtitle:"Build and visualize your family tree interactively. Start with yourself and add relatives to see the network grow."},whatIs:{title:"What is this?",description:"A network visualization of family relationships. Each color represents a different relationship type. The tree auto-saves to your browser's storage every 30 seconds."},status:{title:"Status",ready:"Ready for operations",clickToAdd:"Click buttons to add relatives"},addRelatives:{title:"Add Relatives",parents:" Parents",grandparents:" Grandparents",sibling:" Sibling",nieceNephew:" Niece/Nephew",uncleAunt:" Uncle/Aunt",cousin:" Cousin",partner:" Partner",child:" Child"},actions:{title:"Actions",saveFamily:" Save Family",saveImage:" Save as Image",lockGraph:" Lock Graph",unlockGraph:" Unlock Graph",undo:" Undo",redo:" Redo",resetTree:" Reset Tree"},renderNodes:{title:" Render Nodes",colors:" Colors",avatars:" Avatars",colorsDesc:"Nodes colored by relationship type.",avatarsDesc:"Nodes shown as emoji avatars (if set)."},networkAnalysis:{title:" Network Analysis (Node Sizes)"},relationshipColors:{title:"Relationship Colors",you:"You",parents:"Parents",siblings:"Siblings",unclesAunts:"Uncles/Aunts",cousins:"Cousins",grandparents:"Grandparents",nieces:"Nieces/Nephews",partners:"Partners/Spouses",children:"Children"},layoutAlgorithm:{title:" Layout Algorithm"},instructions:{title:" How to use",dragNodes:" <strong>Drag nodes</strong> to arrange your tree",autoSaves:" <strong>Auto-saves</strong> every 30 seconds",lock:" <strong>Lock</strong> to freeze positions",download:" <strong>Download</strong> as PNG image",analyze:" <strong>Analyze</strong> to size nodes by centrality metrics",layouts:" <strong>Apply layouts</strong> to visualize your tree differently",undoRedo:" <strong>Undo/Redo</strong> with buttons or Ctrl+Z / Ctrl+Y (up to 10 actions)"},dialogs:{selectOption:"Select an option",addParents:"Add Parents",addSibling:"Add Sibling",addGrandparents:"Add Grandparents",addUncleAunt:"Add Uncle/Aunt",addCousin:"Add Cousin",addChild:"Add Child",addNieceNephew:"Add Niece/Nephew",addPartner:"Add Partner/Spouse",fields:{motherName:"Mother Name",motherAvatar:"Mother Avatar (optional)",fatherName:"Father Name",fatherAvatar:"Father Avatar (optional)",siblingName:"Sibling Name",gender:"Gender",avatar:"Avatar (optional)",parentsSide:"Parent's Side",grandmotherName:"Grandmother Name",grandmotherAvatar:"Grandmother Avatar (optional)",grandfatherName:"Grandfather Name",grandfatherAvatar:"Grandfather Avatar (optional)",name:"Name",uncleAuntField:"Uncle/Aunt",sibling:"Sibling",parent:"Parent",partnerOf:"Partner Of"},genderOptions:{male:"Male",female:"Female",other:"Other"},placeholders:{mother:" Type an emoji",father:" Type an emoji",avatar:" Type an emoji",grandmother:" Type an emoji",grandfather:" Type an emoji"}},operations:{errors:{atLeastOneParent:"At least one parent name is required",onlyOneParentSlot:"Only one parent slot available. Added only the mother.",siblingNameRequired:"Sibling name is required",genderRequired:"Gender is required",graphNotInitialized:"Graph not initialized",failedToAddSibling:"Failed to add sibling",parentNotFound:"Parent not found",atLeastOneGrandparent:"At least one grandparent name is required",onlyOneGrandparentSlot:"Only one grandparent slot available for this parent. Added only the grandmother.",failedToAddGrandparents:"Failed to add grandparents",uncleAuntNameRequired:"Uncle/aunt name is required",failedToAddUncleAunt:"Failed to add uncle/aunt",cousinNameRequired:"Cousin name is required",failedToAddCousin:"Failed to add cousin",childNameRequired:"Child name is required",failedToAddChild:"Failed to add child",nieceNephewNameRequired:"Niece/nephew name is required",failedToAddNieceNephew:"Failed to add niece/nephew",partnerNameRequired:"Partner name is required",personNotFound:"Person not found",alreadyHasPartner:"already has a partner!"},success:{parentAdded:"Parent(s) added successfully",siblingAdded:"Sibling added successfully",grandparentsAdded:"Grandparent(s) added successfully",uncleAuntAdded:"Uncle/Aunt added successfully",cousinAdded:"Cousin added successfully",childAdded:"Child added successfully",nieceNephewAdded:"Niece/Nephew added successfully",partnerAdded:"Partner added successfully"},validation:{noParents:"You must add parents first before adding grandparents",noUnclesAunts:"You must add uncles/aunts first before adding cousins",noSiblings:"You must add siblings first before adding nieces/nephews",maxParents:"You already have 2 parents added. You cannot add more than 2 parents.",notEligibleForPartner:"No eligible people available for partners"}},storage:{saved:"Family tree saved!",loaded:"Family tree loaded",reset:"Family tree reset",error:"Error saving family tree"},history:{undone:"Action undone",redone:"Action redone",nothingToUndo:"Nothing to undo",nothingToRedo:"Nothing to redo"},relationships:{yourPartner:"Your Partner/Spouse",partnerOf:"'s Partner",yourChild:"Your child",siblingChild:"'s child (your niece/nephew)",cousinChild:"'s child (your cousin's child)",grandchild:"'s child (your grandchild)",siblingInLaw:"'s partner (your sibling-in-law)",childInLaw:"'s partner (your child-in-law)"},dropdownOptions:{yourChild:"Your child",childTemplate:"{name}'s child",nieceNephewTemplate:"{name}'s child (your niece/nephew)",cousinChildTemplate:"{name}'s child (your cousin's child)",grandchildTemplate:"{name}'s child (your grandchild)",partnerTemplate:"{name}'s partner",siblingPartnerTemplate:"{name}'s partner (your sibling-in-law)",childPartnerTemplate:"{name}'s partner (your child-in-law)",parentSideTemplate:"{name}'s sibling",uncleAuntChildTemplate:"{name}'s child",siblingChildTemplate:"{name}'s child"}}},pt:{nav:{home:"Incio",showcase:"Demonstrao",explorer:"Explorador de Redes",family:"rvore Genealgica",docs:"Documentao"},common:{loading:"Carregando...",error:"Erro",success:"Sucesso",darkMode:"Alternar modo escuro",language:"Idioma"},footer:{madeBy:"Feito com",by:"por",license:"Licena MIT"},showcase:{title:"Demonstrao",description:"Explore todos os recursos de @guinetik/graph-js",header:{title:" Grafo de Rede Interativo",subtitle:"Explore anlise de redes em tempo real. Adicione ns, remova-os e veja o grafo se atualizar dinamicamente."},whatIs:{title:"O que  isto?",description:"Esta visualizao interativa demonstra <strong>anlise de redes</strong>. O tamanho do n representa centralidade: ns maiores so mais influentes na rede."},status:{title:"Status",ready:"Pronto para operaes",hover:"Passe o mouse sobre ns para ver detalhes"},controls:{title:"Controles",addRandom:"Adicionar um n aleatrio conectado a um n existente aleatrio",addToSelected:"Adicionar um n conectado a {name}",selectNodeFirst:"Selecione um n primeiro",removeRandom:"Remover um n aleatrio"},dataLoading:{title:"Carregar Conjunto de Dados",choose:"Escolha um Conjunto de Dados:",default:"Padro Embutido (15 ns)",karate:"Karate Club JSON (34 ns)",miserables:"Os Miserveis CSV (77 ns)",loadButton:" Carregar Conjunto de Dados",loading:" Carregando..."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)",description:"<strong>Usa @guinetik/graph-js:</strong> Calcula mtricas de centralidade em web workers para desempenho ideal.",metricsTitle:"Mtricas para Calcular",degreeCentrality:"Centralidade de Grau",betweennessCentrality:"Centralidade de Intermediao",clusteringCoefficient:"Coeficiente de Agrupamento",eigenvectorCentrality:"Centralidade de Eigenvector",eigenvectorLaplacian:"Eigenvector (Laplaciano) - para layout Espectral",nodeSizeLabel:"Tamanho do N Baseado Em:",selectMetric:"-- Selecione uma mtrica --",analyzeButton:" Analisar Rede",analyzingButton:" Analisando...",degreeName:"Grau",betweennessName:"Intermediao",clusteringName:"Agrupamento",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Algoritmo de Layout"},communityDetection:{title:" Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularity:"Modularidade:",nodeColorsAssignments:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = centralidade",color:" <strong>Cor</strong> = grupo/comunidade"},buttons:{add:"Adicionar",toSelected:"Para Selecionado",remove:"Remover"},messages:{loadingGraph:"Carregando grafo...",loadingDataset:"Carregando conjunto de dados {dataset}...",loadingDatasetName:"Carregando conjunto de dados {name}...",analyzing:"Analisando rede usando workers...",applyingLayout:"Aplicando layout {layout}...",detectingCommunities:"Detectando comunidades usando {algorithm}...",loadedDataset:" Conjunto de dados {name} carregado ({nodes} ns, {edges} arestas)",failedToLoadDataset:" Falha ao carregar conjunto de dados: {error}",addedNode:' N "{nodeId}" adicionado conectado a "{connectedTo}"',noNodeSelected:" Nenhum n selecionado. Clique em um n para selecion-lo primeiro.",noNodesToRemove:" Nenhum n para remover",removedNode:' N "{nodeId}" removido',analysisComplete:" Anlise completa! Computadas {count} mtricas de ns usando web workers",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio"},layoutPicker:{chooseLayout:"Escolha o Layout:",applyButton:" Aplicar Layout",applyingButton:" Aplicando..."},communityPicker:{chooseAlgorithm:"Escolha o Algoritmo:",detectButton:" Detectar Comunidades",detectingButton:" Detectando..."}},home:{hero:{title:"Anlise de Redes Moderna para JavaScript",subtitle:"Teoria de grafos e anlise de redes poderosa com arquitetura worker-first",description:"Analise redes sociais, rvores genealgicas e grafos complexos com facilidade. Computao paralela rpida, mtricas abrangentes e visualizaes bonitas - tudo em JavaScript puro.",cta:"Comear",github:"Ver no GitHub"},features:[{icon:"",title:"Anlise de Redes",description:"Calcule mtricas de centralidade, coeficientes de agrupamento e estatsticas de grafo com ferramentas de anlise abrangentes"},{icon:"",title:"Explorador Interativo",description:"Explore redes com arrastar e soltar, zoom, pan e anlise em tempo real de ns e comunidades"},{icon:"",title:"Mltiplos Layouts",description:"11 algoritmos de layout incluindo force-directed, Kamada-Kawai, spectral e layouts hierrquicos"},{icon:"",title:"Performance com Workers",description:"UI no bloqueante com web workers para computao paralela em grafos grandes com milhares de ns"},{icon:"",title:"Deteco de Comunidades",description:"Encontre clusters e grupos em redes usando algoritmo Louvain com otimizao de modularidade"},{icon:"",title:"Mtricas Ricas",description:"Grau, intermediao, eigenvector, agrupamento, proximidade e mais recursos estatsticos"}],code:{title:"Exemplo de Incio Rpido",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Anlise executada em workers para desempenho ideal!`}},docs:{title:"Documentao",subtitle:"Referncia completa da API para @guinetik/graph-js",sections:{quickStart:"Incio Rpido",coreClasses:"Classes Principais",adapters:"Adaptadores de Dados",layouts:"Layouts de Grafos",community:"Deteco de Comunidades",examples:"Exemplos de Uso"},quickStart:{title:"Incio Rpido",install:"Instalao",installCmd:"npm install @guinetik/graph-js",basicUsage:"Uso Bsico",description:"Comece com anlise de redes em apenas algumas linhas de cdigo."},graph:{title:"Graph",description:"Estrutura de dados de grafo principal usando mapas de adjacncia.",methods:"Mtodos",methodsList:{addNode:{name:"addNode(nodeId)",description:"Adicionar um n ao grafo"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Adicionar mltiplos ns de um array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Adicionar uma aresta entre dois ns"},removeNode:{name:"removeNode(nodeId)",description:"Remover um n e todas as suas arestas"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Obter array de IDs de ns vizinhos"},hasEdge:{name:"hasEdge(source, target)",description:"Verificar se aresta existe"},numberOfNodes:{name:"numberOfNodes()",description:"Obter nmero total de ns"}}},networkStats:{title:"NetworkStats",description:"Classe principal para analisar redes e calcular mtricas estatsticas. Toda computao acontece em web workers para desempenho ideal.",constructor:"Construtor",constructorParams:{verbose:"Ativar logging detalhado (padro: true)",maxWorkers:"Nmero mximo de workers (padro: detecta ncleos da CPU automaticamente)",taskTimeout:"Timeout de tarefa em milissegundos (padro: 60000)",workerScript:"Caminho personalizado do script worker para bundlers como Vite"},analyze:{title:"Mtodo analyze()",description:"Computar estatsticas de rede para todos os ns"},features:{title:"Recursos Disponveis",degree:"Nmero de conexes por n",eigenvector:"Influncia baseada na qualidade das conexes (como PageRank)",eigenvectorLaplacian:"Centralidade eigenvector Laplaciano (para layouts espectrais)",betweenness:"Importncia de ponte entre grupos",clustering:"Quo densamente conectados esto os vizinhos",closeness:"Distncia mdia para todos os outros ns na rede",cliques:"Nmero de subgrafos completos contendo o n",egoDensity:"Densidade da vizinhana imediata do n",modularity:"Atribuio de comunidade (algoritmo Louvain)"}},adapters:{title:"Adaptadores de Dados",description:"Converter entre vrios formatos de grafo e o formato padro GraphData. Todos os adaptadores usam mtodos estticos.",csv:{title:"CSVAdapter",description:"Carregar e converter arquivos CSV para formato de grafo. Suporta listas de arestas e arquivos de propriedades de ns.",methods:"Mtodos",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Analisar lista de arestas CSV. Opes: header (padro: true), delimiter (padro: ","), weighted (padro: true)',returns:"Retorna GraphData com ns e arestas"},fromNodes:{name:"fromNodes(csvText, options)",description:"Analisar propriedades de ns CSV",returns:"Retorna array de objetos NodeData"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Mtodo assncrono para buscar e analisar CSV de URLs",returns:"Retorna Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Exportar arestas para string CSV",returns:"Retorna string CSV"},toNodes:{name:"toNodes(graphData, options)",description:"Exportar ns para string CSV",returns:"Retorna string CSV"}}},json:{title:"JSONAdapter",description:"Suporte para D3.js, Cytoscape e outros formatos JSON. Detecta formato automaticamente.",methods:"Mtodos",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Converter formato D3.js force-directed (com "links") para GraphData',returns:"Retorna GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Converter formato Cytoscape.js para GraphData",returns:"Retorna GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Detectar formato automaticamente (GraphData, D3, Cytoscape, NetworkX)",returns:"Retorna GraphData"},toD3:{name:"toD3(graphData)",description:'Converter para formato D3.js com propriedade "links"',returns:"Retorna D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Converter para formato Cytoscape.js",returns:"Retorna CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Mtodo assncrono para buscar e analisar JSON",returns:"Retorna Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Interoperabilidade com Python NetworkX. Suporta formatos node-link e adjacncia.",methods:"Mtodos",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Converter formato NetworkX node-link (mais comum)",returns:"Retorna GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Converter formato de adjacncia NetworkX",returns:"Retorna GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Converter para formato node-link. Opes: directed (padro: false), multigraph (padro: false)",returns:"Retorna dados node-link NetworkX"},toAdjacency:{name:"toAdjacency(graphData)",description:"Converter para formato de adjacncia",returns:"Retorna array de objetos de ns com listas de adjacncia"}}}},layouts:{title:"Layouts de Grafos",description:"Posicionar ns no espao 2D usando vrios algoritmos. Todos os layouts usam computao assncrona em Web Workers para desempenho ideal.",note:"Todos os mtodos de layout so assncronos e retornam Promise<Object> com posies de ns {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Modelo spring-eltrico usando algoritmo Fruchterman-Reingold. Bom para visualizao geral de redes.",complexity:"Complexidade de Tempo: O(iterations  V)",bestFor:"Melhor para: Redes gerais, grafos sociais",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Nmero de passos de simulao (padro: 50)",k:"Distncia tima entre ns (padro: auto-calculado)",scale:"Fator de escala para posies (padro: 1)",center:"Ponto central {x, y} (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: aleatrio)",threshold:"Limiar de convergncia (padro: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Minimizao de energia baseada em caminhos mais curtos. Produz layouts esteticamente agradveis.",complexity:"Complexidade de Tempo: O(V + iterations  V)",bestFor:"Melhor para: Grafos pequenos-mdios (<1000 ns), rvores, grafos planares",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Mximo de iteraes (padro: 1000)",scale:"Fator de escala (padro: 1)",center:"Ponto central (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: circular)",threshold:"Limiar de convergncia (padro: 1e-4)",K:"Escala de constante de mola (padro: auto)"}},spectral:{title:"SpectralLayout",description:"Usa autovetores Laplacianos como coordenadas. Excelente para visualizar estrutura de comunidades.",complexity:"Complexidade de Tempo: O(V) usando autovetores pr-computados",bestFor:"Melhor para: Visualizao de comunidades, topologia de grafo",requires:'Requer: estatstica "eigenvector-laplacian" deve ser pr-computada',constructor:"new SpectralLayout(graph, options)",options:{scale:"Fator de escala (padro: 100)",center:"Ponto central (padro: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Posiciona ns em crculo. Simples e limpo para redes pequenas.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes pequenas, grafos cclicos",constructor:"new CircularLayout(graph, options)",options:{scale:"Raio do crculo (padro: 100)",center:"Ponto central (padro: {x:0, y:0})",sortBy:"Funo de ordenao opcional para ordem dos ns"}},shell:{title:"ShellLayout",description:"Crculos concntricos baseados no grau do n. Ns de alto grau no centro.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes hub-and-spoke, grafos estrela",requires:'Requer: estatstica "degree" deve ser pr-computada',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Padro de espiral arquimediana. Esteticamente agradvel para dados ordenados.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes sequenciais ou temporais",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Camadas de busca em largura. Mostra distncia do n raiz.",complexity:"Complexidade de Tempo: O(V + E)",bestFor:"Melhor para: rvores, hierarquias, mostrando propagao",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Layout de duas camadas para grafos bipartidos.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes de dois modos, dados ator-evento",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Posies aleatrias. til como ponto de partida para outros layouts.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Posies iniciais, testes",constructor:"new RandomLayout(graph, options)"},usage:"Padro de Uso",usageDescription:"Todos os layouts seguem o mesmo padro assncrono"},community:{title:"Deteco de Comunidades",description:"Detectar comunidades (clusters) em redes usando vrios algoritmos. Toda computao  executada em Web Workers.",mainClass:{title:"CommunityDetection",description:"Classe principal para detectar comunidades em grafos",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detectar comunidades usando algoritmo especificado. Algoritmo pode ser instncia ou string ("louvain")',returns:"Retorna Promise<CommunityResult> com communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calcular pontuao de modularidade para uma partio",returns:"Retorna number (-1 a 1, maior  melhor)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Mtodo de convenincia para deteco direta de GraphData",returns:"Retorna Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Obter array de IDs de ns em uma comunidade especfica"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Obter objeto mapeando communityId para array de IDs de ns"}}},louvain:{title:"LouvainAlgorithm",description:"Otimizao rpida de modularidade usando o mtodo Louvain. O algoritmo de deteco de comunidades mais popular.",complexity:"Complexidade de Tempo: O(V log V)",bestFor:"Melhor para: Redes grandes, deteco de comunidades de uso geral",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Parmetro de resoluo para modularidade (padro: 1.0). Valores maiores encontram comunidades menores.",maxIterations:"Mximo de iteraes (padro: 100)"}},result:{title:"CommunityResult",description:"Objeto de resultado retornado pela deteco de comunidades",properties:{communities:"Objeto mapeando nodeId para communityId (nmero)",modularity:"Pontuao de modularidade (-1 a 1, tipicamente 0.3-0.7 para boas parties)",numCommunities:"Nmero de comunidades encontradas",algorithm:"Nome do algoritmo usado",metadata:"Informaes adicionais opcionais"}},customAlgorithm:{title:"Algoritmos Personalizados",description:"Estender classe base CommunityAlgorithm para criar seus prprios algoritmos",note:"Implementar o mtodo detect() e configurar caminho do mdulo worker"}},examples:{title:"Exemplos de Uso",description:"Exemplos de cdigo completos para casos de uso comuns",basic:{title:"Anlise Bsica de Redes",description:"Analisar uma rede simples e computar mtricas de centralidade"},csv:{title:"Carregando Dados CSV",description:"Importar dados de rede de arquivos CSV e analisar"},json:{title:"Trabalhando com JSON",description:"Converter entre formatos JSON (D3, Cytoscape, NetworkX)"},layout:{title:"Aplicando Layouts",description:"Posicionar ns usando algoritmos de layout"},community:{title:"Deteco de Comunidades",description:"Encontrar comunidades usando algoritmo Louvain"},complete:{title:"Fluxo Completo",description:"Exemplo ponta a ponta: carregar dados, analisar, aplicar layout, detectar comunidades"}}},explorer:{title:"Explorador de Redes",description:"Anlise e visualizao interativa de redes",header:{title:" Explorador de Redes",subtitle:"Explore redes de exemplo e carregue seus prprios arquivos. Suporta formatos CSV, JSON e NetworkX."},parallelComputation:{title:" Demonstrao de Computao Paralela",description:"Esta demonstrao apresenta <strong>Web Workers</strong> para anlise de redes paralela. Redes grandes so processadas em mltiplos ncleos de CPU para computao mais rpida.",workersSupported:" Workers Suportados",workersNotSupported:" Workers No Suportados",cores:"ncleos"},status:{title:"Status",ready:"Pronto para operaes",loadNetwork:"Carregue uma rede para comear"},dataLoading:{title:"Carregamento de Dados",sampleNetworks:" Redes de Exemplo",uploadFile:" Carregar Arquivo",chooseNetwork:"Escolha uma Rede:",chooseCity:"-- Escolha uma cidade --",caruaru:"Caruaru (~130 arestas, pequena)",rj:"Rio de Janeiro (~1.900 arestas, mdia)",niteroi:"Niteri (~18.500 arestas, grande)",loadNetwork:" Carregar Rede",loading:" Carregando...",fileFormat:"Formato do Arquivo:",edgesCSV:"CSV de Arestas (Obrigatrio):",nodesCSV:"CSV de Ns (Opcional):",edgeCSVFormat:"<strong>Formato CSV de arestas:</strong> source,target,weight<br><strong>Formato CSV de ns:</strong> id,group,label,...",jsonFile:"Arquivo JSON:",networkxFile:"Arquivo JSON NetworkX:",jsonSupports:"Suporta: Padro (nodes/edges), D3 (nodes/links), Cytoscape, ou array de lista de arestas",networkxSupports:"Suporta: formato node-link, formato adjacency",loadUploadedFile:" Carregar Arquivo Enviado",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (lista de arestas)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Estatsticas da Rede",nodes:"Ns",edges:"Arestas",avgDegree:"Grau Mdio",analysisTime:"Tempo de Anlise",communities:"Comunidades",modularity:"Modularidade",usingParallel:" Usando computao paralela",workersActive:"workers ativos",singleThreaded:" Modo single-thread",networkTooSmall:"Rede muito pequena para workers"},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},layoutAlgorithm:{title:" Algoritmo de Layout",requiresAnalysis:"requer anlise"},graphStats:{title:" Estatsticas do Grafo",density:"Densidade:",diameter:"Dimetro:",avgClustering:"Agrupamento Mdio:",avgPathLength:"Comprimento Mdio do Caminho:",components:"Componentes:",avgDegree:"Grau Mdio:",calculated:"Calculado junto com mtricas de ns"},communityDetection:{title:" Deteco de Comunidades (Cores dos Ns)",algorithm:"Algoritmo:"},communityResults:{title:" Resultados da Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularityScore:"Pontuao de Modularidade:",computationTime:"Tempo de Computao:",algorithm:"Algoritmo:",nodeColorsRepresent:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = mtrica selecionada",color:" <strong>Cor</strong> = comunidade"},messages:{loadingNetworkData:"Carregando dados da rede...",loadedNetwork:" {name} carregada ({nodes} ns, {edges} arestas)",failedToLoadNetwork:" Falha ao carregar rede: {error}",loadingUploadedFile:"Carregando arquivo enviado...",loadedFile:" {fileName} carregado ({nodes} ns, {edges} arestas)",failedToLoadFile:" Falha ao carregar arquivo: {error}",analyzingNetwork:"Analisando rede usando workers...",analysisComplete:" Anlise completa! Computadas {count} mtricas de ns",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",applyingLayout:"Aplicando layout {layout}...",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio",detectingCommunities:"Detectando comunidades usando {algorithm}...",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou"}},family:{title:"rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente",description:"Visualize relaes familiares",header:{title:" Construtor de rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente. Comece com voc mesmo e adicione parentes para ver a rede crescer."},whatIs:{title:"O que  isso?",description:"Uma visualizao de rede de relaes familiares. Cada cor representa um tipo de relao diferente. A rvore  salva automaticamente no armazenamento do seu navegador a cada 30 segundos."},status:{title:"Status",ready:"Pronto para operaes",clickToAdd:"Clique nos botes para adicionar parentes"},addRelatives:{title:"Adicionar Parentes",parents:" Pais",grandparents:" Avs",sibling:" Irm/Irmo",nieceNephew:" Sobrinha/Sobrinho",uncleAunt:" Tio/Tia",cousin:" Primo/Prima",partner:" Parceiro/Parceira",child:" Filho/Filha"},actions:{title:"Aes",saveFamily:" Salvar Famlia",saveImage:" Salvar como Imagem",lockGraph:" Bloquear Grafo",unlockGraph:" Desbloquear Grafo",undo:" Desfazer",redo:" Refazer",resetTree:" Redefinir rvore"},renderNodes:{title:" Renderizar Ns",colors:" Cores",avatars:" Avatares",colorsDesc:"Ns coloridos por tipo de relao.",avatarsDesc:"Ns mostrados como avatares emoji (se definido)."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},relationshipColors:{title:"Cores de Relao",you:"Voc",parents:"Pais",siblings:"Irmos",unclesAunts:"Tios/Tias",cousins:"Primos/Primas",grandparents:"Avs",nieces:"Sobrinhas/Sobrinhos",partners:"Parceiros/Parceiras",children:"Filhos/Filhas"},layoutAlgorithm:{title:" Algoritmo de Layout"},instructions:{title:" Como usar",dragNodes:" <strong>Arraste ns</strong> para organizar sua rvore",autoSaves:" <strong>Salva automaticamente</strong> a cada 30 segundos",lock:" <strong>Bloqueie</strong> para congelar posies",download:" <strong>Baixe</strong> como imagem PNG",analyze:" <strong>Analise</strong> para dimensionar ns por mtricas de centralidade",layouts:" <strong>Aplique layouts</strong> para visualizar sua rvore de forma diferente",undoRedo:" <strong>Desfazer/Refazer</strong> com botes ou Ctrl+Z / Ctrl+Y (at 10 aes)"},dialogs:{selectOption:"Selecione uma opo",addParents:"Adicionar Pais",addSibling:"Adicionar Irm/Irmo",addGrandparents:"Adicionar Avs",addUncleAunt:"Adicionar Tio/Tia",addCousin:"Adicionar Primo/Prima",addChild:"Adicionar Filho/Filha",addNieceNephew:"Adicionar Sobrinha/Sobrinho",addPartner:"Adicionar Parceiro/Parceira",fields:{motherName:"Nome da Me",motherAvatar:"Avatar da Me (opcional)",fatherName:"Nome do Pai",fatherAvatar:"Avatar do Pai (opcional)",siblingName:"Nome do Irm/Irmo",gender:"Gnero",avatar:"Avatar (opcional)",parentsSide:"Lado do Pai/Me",grandmotherName:"Nome da Av",grandmotherAvatar:"Avatar da Av (opcional)",grandfatherName:"Nome do Av",grandfatherAvatar:"Avatar do Av (opcional)",name:"Nome",uncleAuntField:"Tio/Tia",sibling:"Irm/Irmo",parent:"Pai/Me",partnerOf:"Parceiro/Parceira De"},genderOptions:{male:"Masculino",female:"Feminino",other:"Outro"},placeholders:{mother:" Digite um emoji",father:" Digite um emoji",avatar:" Digite um emoji",grandmother:" Digite um emoji",grandfather:" Digite um emoji"}},operations:{errors:{atLeastOneParent:"Pelo menos um nome de pai  necessrio",onlyOneParentSlot:"Apenas um slot de pai disponvel. Adicionada apenas a me.",siblingNameRequired:"Nome do irm/irmo  obrigatrio",genderRequired:"Gnero  obrigatrio",graphNotInitialized:"Grafo no inicializado",failedToAddSibling:"Falha ao adicionar irm/irmo",parentNotFound:"Pai/Me no encontrado",atLeastOneGrandparent:"Pelo menos um nome de av  necessrio",onlyOneGrandparentSlot:"Apenas um slot de av disponvel para este pai. Adicionada apenas a av.",failedToAddGrandparents:"Falha ao adicionar avs",uncleAuntNameRequired:"Nome do tio/tia  obrigatrio",failedToAddUncleAunt:"Falha ao adicionar tio/tia",cousinNameRequired:"Nome do primo/prima  obrigatrio",failedToAddCousin:"Falha ao adicionar primo/prima",childNameRequired:"Nome do filho/filha  obrigatrio",failedToAddChild:"Falha ao adicionar filho/filha",nieceNephewNameRequired:"Nome do sobrinha/sobrinho  obrigatrio",failedToAddNieceNephew:"Falha ao adicionar sobrinha/sobrinho",partnerNameRequired:"Nome do parceiro/parceira  obrigatrio",personNotFound:"Pessoa no encontrada",alreadyHasPartner:"j tem um parceiro/parceira!"},success:{parentAdded:"Pais adicionados com sucesso",siblingAdded:"Irm(o) adicionado(a) com sucesso",grandparentsAdded:"Avs adicionados com sucesso",uncleAuntAdded:"Tio(a) adicionado(a) com sucesso",cousinAdded:"Primo(a) adicionado(a) com sucesso",childAdded:"Filho(a) adicionado(a) com sucesso",nieceNephewAdded:"Sobrinho(a) adicionado(a) com sucesso",partnerAdded:"Parceiro(a) adicionado(a) com sucesso"},validation:{noParents:"Voc deve adicionar pais primeiro antes de adicionar avs",noUnclesAunts:"Voc deve adicionar tios/tias primeiro antes de adicionar primos",noSiblings:"Voc deve adicionar irmos primeiro antes de adicionar sobrinhos",maxParents:"Voc j tem 2 pais adicionados. Voc no pode adicionar mais de 2 pais.",notEligibleForPartner:"Nenhuma pessoa disponvel para parceiros"}},storage:{saved:"rvore genealgica salva!",loaded:"rvore genealgica carregada",reset:"rvore genealgica redefinida",error:"Erro ao salvar rvore genealgica"},history:{undone:"Ao desfeita",redone:"Ao refeita",nothingToUndo:"Nada para desfazer",nothingToRedo:"Nada para refazer"},relationships:{yourPartner:"Seu Parceiro/Parceira",partnerOf:"'s Parceiro/Parceira",yourChild:"Seu filho/filha",siblingChild:"'s filho/filha (seu sobrinha/sobrinho)",cousinChild:"'s filho/filha (filho/filha do seu primo/prima)",grandchild:"'s filho/filha (seu neto/neta)",siblingInLaw:"'s parceiro/parceira (seu cunhado/cunhada)",childInLaw:"'s parceiro/parceira (seu genro/nora)"},dropdownOptions:{yourChild:"Seu filho/filha",childTemplate:"Filho(a) de {name}",nieceNephewTemplate:"Filho(a) de {name} (seu sobrinho(a))",cousinChildTemplate:"Filho(a) de {name} (filho(a) do seu primo(a))",grandchildTemplate:"Filho(a) de {name} (seu neto(a))",partnerTemplate:"Parceiro(a) de {name}",siblingPartnerTemplate:"Parceiro(a) de {name} (seu cunhado(a))",childPartnerTemplate:"Parceiro(a) de {name} (seu genro/nora)",parentSideTemplate:"Irm(o) de {name}",uncleAuntChildTemplate:"Filho(a) de {name}",siblingChildTemplate:"Filho(a) de {name}"}}}};function hh(t,e,n={}){const s=e.split(".");let r=ra[t];for(const o of s)if(r=r?.[o],r===void 0)return My.warn("Translation not found",{key:e,lang:t}),e;return typeof r=="string"&&Object.keys(n).length>0?r.replace(/\{(\w+)\}/g,(o,i)=>n[i]!==void 0?n[i]:o):r}const Oy=Xe({prefix:"useI18n",level:"info"}),Ms=ae(localStorage.getItem("lang")||"en");function Jt(){return{lang:Ms,t:(n,s={})=>{const r=n.split(".");let o=ra[Ms.value];for(const i of r)if(o=o?.[i],o===void 0)return Oy.warn("Translation not found",{key:n,lang:Ms.value}),n;return typeof o=="string"&&Object.keys(s).length>0?o.replace(/\{(\w+)\}/g,(i,a)=>s[a]!==void 0?s[a]:i):o},changeLanguage:n=>{Ms.value=n,localStorage.setItem("lang",n)},translations:it(()=>ra[Ms.value])}}const us=ae(localStorage.getItem("darkMode")==="true"),Gy=()=>{us.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};St(us,()=>{localStorage.setItem("darkMode",us.value),Gy()},{immediate:!0});function fh(){return{darkMode:us,toggleDarkMode:()=>{us.value=!us.value}}}function Vy(){const t=document.getElementById("particles");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const n=[],s=100,r=150;class o{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t.width)&&(this.vx*=-1),(this.y<0||this.y>t.height)&&(this.vy*=-1)}draw(){const l=document.documentElement.classList.contains("dark");e.fillStyle=l?"rgba(167, 139, 250, 0.6)":"rgba(139, 92, 246, 0.5)",e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill()}}for(let a=0;a<s;a++)n.push(new o);function i(){e.clearRect(0,0,t.width,t.height),n.forEach(l=>{l.update(),l.draw()});const a=document.documentElement.classList.contains("dark");n.forEach((l,c)=>{n.slice(c+1).forEach(d=>{const u=l.x-d.x,f=l.y-d.y,p=Math.sqrt(u*u+f*f);if(p<r){const y=(1-p/r)*.4;e.strokeStyle=a?`rgba(167, 139, 250, ${y})`:`rgba(139, 92, 246, ${y})`,e.lineWidth=1.5,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(d.x,d.y),e.stroke()}})}),requestAnimationFrame(i)}i(),window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight})}const Fy={class:"content-wrapper"},$y={class:"header"},By={class:"container-main header-content"},zy={class:"flex items-center gap-4"},Hy={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jy={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Uy={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Wy={class:"nav hidden md:flex"},Xy={class:"hidden md:flex items-center space-x-4"},qy=["title"],Zy={key:0,class:"text-xl"},Yy={key:1,class:"text-xl"},Jy={class:"flex flex-col h-full p-6"},Ky={class:"flex flex-col space-y-2 mb-8"},Qy={class:"border-t border-[var(--color-border)] pt-6 space-y-4"},e0={class:"block text-sm font-medium mb-2"},t0={class:"text-2xl"},n0={class:"page"},s0={key:0,class:"footer"},r0={class:"container-main footer-content"},o0={class:"mb-2"},i0={class:"text-sm"},a0={__name:"App",setup(t){const e=ky(),{lang:n,t:s,changeLanguage:r}=Jt(),{darkMode:o,toggleDarkMode:i}=fh(),a=ae(!1),l=()=>{a.value=!a.value},c=()=>{a.value=!1},d=it(()=>["showcase","explorer","family"].includes(e.name));return St(d,u=>{u?document.body.classList.add("demo-page"):document.body.classList.remove("demo-page")},{immediate:!0}),Dn(()=>{Vy()}),(u,f)=>{const p=Ui("router-link"),y=Ui("router-view");return U(),q(Ge,null,[f[16]||(f[16]=h("canvas",{id:"particles"},null,-1)),h("div",Fy,[h("header",$y,[h("div",By,[h("div",zy,[_e(p,{to:"/",class:"logo"},{default:Be(()=>[...f[7]||(f[7]=[xe(" @guinetik/graph-js ",-1)])]),_:1})]),h("button",{onClick:l,class:"md:hidden btn-icon","aria-label":"Toggle menu"},[(U(),q("svg",Hy,[a.value?(U(),q("path",Uy)):(U(),q("path",jy))]))]),h("nav",Wy,[_e(p,{to:"/showcase",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(s)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(s)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(s)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[xe(g(m(s)("nav.docs")),1)]),_:1})]),h("div",Xy,[ht(h("select",{"onUpdate:modelValue":f[0]||(f[0]=_=>Je(n)?n.value=_:null),onChange:f[1]||(f[1]=_=>m(r)(m(n))),class:"px-3 py-1 rounded-md bg-secondary text-primary border border-color text-sm"},[...f[8]||(f[8]=[h("option",{value:"en"},"EN",-1),h("option",{value:"pt"},"PT",-1)])],544),[[_s,m(n)]]),h("button",{onClick:f[2]||(f[2]=(..._)=>m(i)&&m(i)(..._)),class:"btn-icon",title:m(s)("common.darkMode")},[m(o)?(U(),q("span",Yy,"")):(U(),q("span",Zy,""))],8,qy),f[9]||(f[9]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-icon",title:"View on GitHub"},[h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])]),_e(ql,{name:"mobile-menu"},{default:Be(()=>[a.value?(U(),q("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:c},[f[14]||(f[14]=h("div",{class:"absolute inset-0 bg-black/50"},null,-1)),h("div",{class:"absolute top-0 right-0 bottom-0 w-72 bg-[var(--color-bg-primary)] shadow-xl",onClick:f[6]||(f[6]=Ju(()=>{},["stop"]))},[h("div",Jy,[h("div",{class:"flex justify-between items-center mb-8"},[f[11]||(f[11]=h("h2",{class:"text-xl font-bold"},"Menu",-1)),h("button",{onClick:c,class:"btn-icon"},[...f[10]||(f[10]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),h("nav",Ky,[_e(p,{to:"/showcase",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(s)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(s)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(s)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[xe(g(m(s)("nav.docs")),1)]),_:1})]),h("div",Qy,[h("div",null,[h("label",e0,g(m(s)("common.language")),1),ht(h("select",{"onUpdate:modelValue":f[3]||(f[3]=_=>Je(n)?n.value=_:null),onChange:f[4]||(f[4]=_=>m(r)(m(n))),class:"w-full px-3 py-2 rounded-md bg-secondary text-primary border border-color"},[...f[12]||(f[12]=[h("option",{value:"en"},"English",-1),h("option",{value:"pt"},"Portugus",-1)])],544),[[_s,m(n)]])]),h("button",{onClick:f[5]||(f[5]=(..._)=>m(i)&&m(i)(..._)),class:"w-full flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,g(m(s)("common.darkMode")),1),h("span",t0,g(m(o)?"":""),1)]),f[13]||(f[13]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,"View on GitHub"),h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])])])):Re("",!0)]),_:1}),h("main",n0,[_e(y,null,{default:Be(({Component:_})=>[_e(ql,{name:"page-transition",mode:"out-in"},{default:Be(()=>[(U(),In(Zp(_)))]),_:2},1024)]),_:1})]),d.value?Re("",!0):(U(),q("footer",s0,[h("div",r0,[h("p",o0,[xe(g(m(s)("footer.madeBy"))+"  "+g(m(s)("footer.by"))+" ",1),f[15]||(f[15]=h("a",{href:"https://github.com/guinetik",target:"_blank",class:"text-accent"},"@guinetik",-1))]),h("p",i0,g(m(s)("footer.license")),1)])]))])],64)}}},l0="modulepreload",c0=function(t){return"/"+t},Lc={},b=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(n.map(c=>{if(c=c0(c),c in Lc)return;Lc[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":l0,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};let je=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function d0(t){return Xa(t)}function Xa(t){return Array.isArray(t)?u0(t):t instanceof RegExp?t:typeof t=="object"?h0(t):t}function u0(t){let e=[];for(let n=0,s=t.length;n<s;n++)e[n]=Xa(t[n]);return e}function h0(t){let e={};for(let n in t)e[n]=Xa(t[n]);return e}function ph(t,...e){return e.forEach(n=>{for(let s in n)t[s]=n[s]}),t}function mh(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?mh(t.substring(0,t.length-1)):t.substr(~e+1)}var ki=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Rr=class{static hasCaptures(t){return t===null?!1:(ki.lastIndex=0,ki.test(t))}static replaceCaptures(t,e,n){return t.replace(ki,(s,r,o,i)=>{let a=n[parseInt(r||o,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(i){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return s})}};function gh(t,e){return t<e?-1:t>e?1:0}function yh(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,s=e.length;if(n===s){for(let r=0;r<n;r++){let o=gh(t[r],e[r]);if(o!==0)return o}return 0}return n-s}function Rc(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function _h(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var bh=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},ho=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(m0(t),e)}static createFromParsedTheme(t,e){return y0(t,e)}_cachedMatchRoot=new bh(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,s=this._cachedMatchRoot.get(e).find(r=>f0(t.parent,r.parentScopes));return s?new vh(s.fontStyle,s.foreground,s.background):null}},Ai=class qr{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const s of n)e=new qr(e,s);return e}static from(...e){let n=null;for(let s=0;s<e.length;s++)n=new qr(n,e[s]);return n}push(e){return new qr(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let s=this;for(;s&&s!==e;)n.push(s.scopeName),s=s.parent;return s===e?n.reverse():void 0}};function f0(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let s=e[n],r=!1;if(s===">"){if(n===e.length-1)return!1;s=e[++n],r=!0}for(;t&&!p0(t.scopeName,s);){if(r)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function p0(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var vh=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function m0(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],s=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];if(!i.settings)continue;let a;if(typeof i.scope=="string"){let u=i.scope;u=u.replace(/^[,]+/,""),u=u.replace(/[,]+$/,""),a=u.split(",")}else Array.isArray(i.scope)?a=i.scope:a=[""];let l=-1;if(typeof i.settings.fontStyle=="string"){l=0;let u=i.settings.fontStyle.split(" ");for(let f=0,p=u.length;f<p;f++)switch(u[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof i.settings.foreground=="string"&&Rc(i.settings.foreground)&&(c=i.settings.foreground);let d=null;typeof i.settings.background=="string"&&Rc(i.settings.background)&&(d=i.settings.background);for(let u=0,f=a.length;u<f;u++){let y=a[u].trim().split(" "),_=y[y.length-1],x=null;y.length>1&&(x=y.slice(0,y.length-1),x.reverse()),n[s++]=new g0(_,x,r,l,c,d)}}return n}var g0=class{constructor(t,e,n,s,r,o){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=s,this.foreground=r,this.background=o}},at=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(at||{});function y0(t,e){t.sort((l,c)=>{let d=gh(l.scope,c.scope);return d!==0||(d=yh(l.parentScopes,c.parentScopes),d!==0)?d:l.index-c.index});let n=0,s="#000000",r="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(s=l.foreground),l.background!==null&&(r=l.background)}let o=new _0(e),i=new vh(n,o.getId(s),o.getId(r)),a=new v0(new oa(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let d=t[l];a.insert(0,d.scope,d.parentScopes,d.fontStyle,o.getId(d.foreground),o.getId(d.background))}return new ho(o,i,a)}var _0=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},b0=Object.freeze([]),oa=class xh{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,s,r,o){this.scopeDepth=e,this.parentScopes=n||b0,this.fontStyle=s,this.foreground=r,this.background=o}clone(){return new xh(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let s=0,r=e.length;s<r;s++)n[s]=e[s].clone();return n}acceptOverwrite(e,n,s,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),s!==0&&(this.foreground=s),r!==0&&(this.background=r)}},v0=class ia{constructor(e,n=[],s={}){this._mainRule=e,this._children=s,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let s=0,r=0;for(;e.parentScopes[s]===">"&&s++,n.parentScopes[r]===">"&&r++,!(s>=e.parentScopes.length||r>=n.parentScopes.length);){const o=n.parentScopes[r].length-e.parentScopes[s].length;if(o!==0)return o;s++,r++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let s=e.indexOf("."),r,o;if(s===-1?(r=e,o=""):(r=e.substring(0,s),o=e.substring(s+1)),this._children.hasOwnProperty(r))return this._children[r].match(o)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(ia._cmpBySpecificity),n}insert(e,n,s,r,o,i){if(n===""){this._doInsertHere(e,s,r,o,i);return}let a=n.indexOf("."),l,c;a===-1?(l=n,c=""):(l=n.substring(0,a),c=n.substring(a+1));let d;this._children.hasOwnProperty(l)?d=this._children[l]:(d=new ia(this._mainRule.clone(),oa.cloneArr(this._rulesWithParentScopes)),this._children[l]=d),d.insert(e+1,c,s,r,o,i)}_doInsertHere(e,n,s,r,o){if(n===null){this._mainRule.acceptOverwrite(e,s,r,o);return}for(let i=0,a=this._rulesWithParentScopes.length;i<a;i++){let l=this._rulesWithParentScopes[i];if(yh(l.parentScopes,n)===0){l.acceptOverwrite(e,s,r,o);return}}s===-1&&(s=this._mainRule.fontStyle),r===0&&(r=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new oa(e,n,s,r,o))}},xs=class Tt{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Tt.getLanguageId(e),s=Tt.getTokenType(e),r=Tt.getFontStyle(e),o=Tt.getForeground(e),i=Tt.getBackground(e);console.log({languageId:n,tokenType:s,fontStyle:r,foreground:o,background:i})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,s,r,o,i,a){let l=Tt.getLanguageId(e),c=Tt.getTokenType(e),d=Tt.containsBalancedBrackets(e)?1:0,u=Tt.getFontStyle(e),f=Tt.getForeground(e),p=Tt.getBackground(e);return n!==0&&(l=n),s!==8&&(c=s),r!==null&&(d=r?1:0),o!==-1&&(u=o),i!==0&&(f=i),a!==0&&(p=a),(l<<0|c<<8|d<<10|u<<11|f<<15|p<<24)>>>0}};function fo(t,e){const n=[],s=x0(t);let r=s.next();for(;r!==null;){let l=0;if(r.length===2&&r.charAt(1)===":"){switch(r.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${r} in scope selector`)}r=s.next()}let c=i();if(n.push({matcher:c,priority:l}),r!==",")break;r=s.next()}return n;function o(){if(r==="-"){r=s.next();const l=o();return c=>!!l&&!l(c)}if(r==="("){r=s.next();const l=a();return r===")"&&(r=s.next()),l}if(Pc(r)){const l=[];do l.push(r),r=s.next();while(Pc(r));return c=>e(l,c)}return null}function i(){const l=[];let c=o();for(;c;)l.push(c),c=o();return d=>l.every(u=>u(d))}function a(){const l=[];let c=i();for(;c&&(l.push(c),r==="|"||r===",");){do r=s.next();while(r==="|"||r===",");c=i()}return d=>l.some(u=>u(d))}}function Pc(t){return!!t&&!!t.match(/[\w\.:]+/)}function x0(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const s=n[0];return n=e.exec(t),s}}}function wh(t){typeof t.dispose=="function"&&t.dispose()}var lr=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},w0=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},k0=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},A0=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new lr(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new k0;for(const n of t)C0(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof lr){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function C0(t,e,n,s){const r=n.lookup(t.scopeName);if(!r){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const o=n.lookup(e);t instanceof lr?Zr({baseGrammar:o,selfGrammar:r},s):aa(t.ruleName,{baseGrammar:o,selfGrammar:r,repository:r.repository},s);const i=n.injections(t.scopeName);if(i)for(const a of i)s.add(new lr(a))}function aa(t,e,n){if(e.repository&&e.repository[t]){const s=e.repository[t];po([s],e,n)}}function Zr(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&po(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&po(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function po(t,e,n){for(const s of t){if(n.visitedRule.has(s))continue;n.visitedRule.add(s);const r=s.repository?ph({},e.repository,s.repository):e.repository;Array.isArray(s.patterns)&&po(s.patterns,{...e,repository:r},n);const o=s.include;if(!o)continue;const i=kh(o);switch(i.kind){case 0:Zr({...e,selfGrammar:e.baseGrammar},n);break;case 1:Zr(e,n);break;case 2:aa(i.ruleName,{...e,repository:r},n);break;case 3:case 4:const a=i.scopeName===e.selfGrammar.scopeName?e.selfGrammar:i.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:r};i.kind===4?aa(i.ruleName,l,n):Zr(l,n)}else i.kind===4?n.add(new w0(i.scopeName,i.ruleName)):n.add(new lr(i.scopeName));break}}}var S0=class{kind=0},N0=class{kind=1},E0=class{constructor(t){this.ruleName=t}kind=2},T0=class{constructor(t){this.scopeName=t}kind=3},I0=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function kh(t){if(t==="$base")return new S0;if(t==="$self")return new N0;const e=t.indexOf("#");if(e===-1)return new T0(t);if(e===0)return new E0(t.substring(1));{const n=t.substring(0,e),s=t.substring(e+1);return new I0(n,s)}}var L0=/\\(\d+)/,Dc=/\\(\d+)/g,R0=-1,Ah=-2;var vr=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,s){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Rr.hasCaptures(this._name),this._contentName=s||null,this._contentNameIsCapturing=Rr.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${mh(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Rr.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Rr.replaceCaptures(this._contentName,t,e)}},P0=class extends vr{retokenizeCapturedWithRuleId;constructor(t,e,n,s,r){super(t,e,n,s),this.retokenizeCapturedWithRuleId=r}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,s){throw new Error("Not supported!")}},D0=class extends vr{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,s,r){super(t,e,n,null),this._match=new cr(s,this.id),this.captures=r,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,s){return this._getCachedCompiledPatterns(t).compileAG(t,n,s)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new dr,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Mc=class extends vr{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,s,r){super(t,e,n,s),this.patterns=r.patterns,this.hasMissingPatterns=r.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,s){return this._getCachedCompiledPatterns(t).compileAG(t,n,s)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new dr,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},la=class extends vr{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,s,r,o,i,a,l,c){super(t,e,n,s),this._begin=new cr(r,this.id),this.beginCaptures=o,this._end=new cr(i||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,s){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,s)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new dr;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},mo=class extends vr{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,s,r,o,i,a,l){super(t,e,n,s),this._begin=new cr(r,this.id),this.beginCaptures=o,this.whileCaptures=a,this._while=new cr(i,Ah),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,s){return this._getCachedCompiledPatterns(t).compileAG(t,n,s)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new dr;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,s){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,s)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new dr,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},Ch=class tt{static createCaptureRule(e,n,s,r,o){return e.registerRule(i=>new P0(n,i,s,r,o))}static getCompiledRuleId(e,n,s){return e.id||n.registerRule(r=>{if(e.id=r,e.match)return new D0(e.$vscodeTextmateLocation,e.id,e.name,e.match,tt._compileCaptures(e.captures,n,s));if(typeof e.begin>"u"){e.repository&&(s=ph({},s,e.repository));let o=e.patterns;return typeof o>"u"&&e.include&&(o=[{include:e.include}]),new Mc(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,tt._compilePatterns(o,n,s))}return e.while?new mo(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,tt._compileCaptures(e.beginCaptures||e.captures,n,s),e.while,tt._compileCaptures(e.whileCaptures||e.captures,n,s),tt._compilePatterns(e.patterns,n,s)):new la(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,tt._compileCaptures(e.beginCaptures||e.captures,n,s),e.end,tt._compileCaptures(e.endCaptures||e.captures,n,s),e.applyEndPatternLast,tt._compilePatterns(e.patterns,n,s))}),e.id}static _compileCaptures(e,n,s){let r=[];if(e){let o=0;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);a>o&&(o=a)}for(let i=0;i<=o;i++)r[i]=null;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);let l=0;e[i].patterns&&(l=tt.getCompiledRuleId(e[i],n,s)),r[a]=tt.createCaptureRule(n,e[i].$vscodeTextmateLocation,e[i].name,e[i].contentName,l)}}return r}static _compilePatterns(e,n,s){let r=[];if(e)for(let o=0,i=e.length;o<i;o++){const a=e[o];let l=-1;if(a.include){const c=kh(a.include);switch(c.kind){case 0:case 1:l=tt.getCompiledRuleId(s[a.include],n,s);break;case 2:let d=s[c.ruleName];d&&(l=tt.getCompiledRuleId(d,n,s));break;case 3:case 4:const u=c.scopeName,f=c.kind===4?c.ruleName:null,p=n.getExternalGrammar(u,s);if(p)if(f){let y=p.repository[f];y&&(l=tt.getCompiledRuleId(y,n,p.repository))}else l=tt.getCompiledRuleId(p.repository.$self,n,p.repository);break}}else l=tt.getCompiledRuleId(a,n,s);if(l!==-1){const c=n.getRule(l);let d=!1;if((c instanceof Mc||c instanceof la||c instanceof mo)&&c.hasMissingPatterns&&c.patterns.length===0&&(d=!0),d)continue;r.push(l)}}return{patterns:r,hasMissingPatterns:(e?e.length:0)!==r.length}}},cr=class Sh{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const s=e.length;let r=0,o=[],i=!1;for(let a=0;a<s;a++)if(e.charAt(a)==="\\"&&a+1<s){const c=e.charAt(a+1);c==="z"?(o.push(e.substring(r,a)),o.push("$(?!\\n)(?<!\\n)"),r=a+2):(c==="A"||c==="G")&&(i=!0),a++}this.hasAnchor=i,r===0?this.source=e:(o.push(e.substring(r,s)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=L0.test(this.source):this.hasBackReferences=!1}clone(){return new Sh(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let s=n.map(r=>e.substring(r.start,r.end));return Dc.lastIndex=0,this.source.replace(Dc,(r,o)=>_h(s[parseInt(o,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],s=[],r=[],o,i,a,l;for(o=0,i=this.source.length;o<i;o++)a=this.source.charAt(o),e[o]=a,n[o]=a,s[o]=a,r[o]=a,a==="\\"&&o+1<i&&(l=this.source.charAt(o+1),l==="A"?(e[o+1]="",n[o+1]="",s[o+1]="A",r[o+1]="A"):l==="G"?(e[o+1]="",n[o+1]="G",s[o+1]="",r[o+1]="G"):(e[o+1]=l,n[o+1]=l,s[o+1]=l,r[o+1]=l),o++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:s.join(""),A1_G1:r.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},dr=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new Oc(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let s=this._items.map(r=>r.resolveAnchors(e,n));return new Oc(t,s,this._items.map(r=>r.ruleId))}},Oc=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const s=this.scanner.findNextMatchSync(t,e,n);return s?{ruleId:this.rules[s.index],captureIndices:s.captureIndices}:null}},Ci=class{constructor(t,e){this.languageId=t,this.tokenType=e}},M0=class ca{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new Ci(e,8),this._embeddedLanguagesMatcher=new O0(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?ca._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new Ci(0,0);_getBasicScopeAttributes=new bh(e=>{const n=this._scopeToLanguage(e),s=this._toStandardTokenType(e);return new Ci(n,s)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(ca.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},O0=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,s])=>_h(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},Gc=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function Nh(t,e,n,s,r,o,i,a){const l=e.content.length;let c=!1,d=-1;if(i){const p=G0(t,e,n,s,r,o);r=p.stack,s=p.linePos,n=p.isFirstLine,d=p.anchorPosition}const u=Date.now();for(;!c;){if(a!==0&&Date.now()-u>a)return new Gc(r,!0);f()}return new Gc(r,!1);function f(){const p=V0(t,e,n,s,r,d);if(!p){o.produce(r,l),c=!0;return}const y=p.captureIndices,_=p.matchedRuleId,x=y&&y.length>0?y[0].end>s:!1;if(_===R0){const v=r.getRule(t);o.produce(r,y[0].start),r=r.withContentNameScopesList(r.nameScopesList),$s(t,e,n,r,o,v.endCaptures,y),o.produce(r,y[0].end);const w=r;if(r=r.parent,d=w.getAnchorPos(),!x&&w.getEnterPos()===s){r=w,o.produce(r,l),c=!0;return}}else{const v=t.getRule(_);o.produce(r,y[0].start);const w=r,N=v.getName(e.content,y),A=r.contentNameScopesList.pushAttributed(N,t);if(r=r.push(_,s,d,y[0].end===l,null,A,A),v instanceof la){const L=v;$s(t,e,n,r,o,L.beginCaptures,y),o.produce(r,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),H=A.pushAttributed(z,t);if(r=r.withContentNameScopesList(H),L.endHasBackReferences&&(r=r.withEndRule(L.getEndWithResolvedBackReferences(e.content,y))),!x&&w.hasSameRuleAs(r)){r=r.pop(),o.produce(r,l),c=!0;return}}else if(v instanceof mo){const L=v;$s(t,e,n,r,o,L.beginCaptures,y),o.produce(r,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),H=A.pushAttributed(z,t);if(r=r.withContentNameScopesList(H),L.whileHasBackReferences&&(r=r.withEndRule(L.getWhileWithResolvedBackReferences(e.content,y))),!x&&w.hasSameRuleAs(r)){r=r.pop(),o.produce(r,l),c=!0;return}}else if($s(t,e,n,r,o,v.captures,y),o.produce(r,y[0].end),r=r.pop(),!x){r=r.safePop(),o.produce(r,l),c=!0;return}}y[0].end>s&&(s=y[0].end,n=!1)}}function G0(t,e,n,s,r,o){let i=r.beginRuleCapturedEOL?0:-1;const a=[];for(let l=r;l;l=l.pop()){const c=l.getRule(t);c instanceof mo&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:d}=B0(l.rule,t,l.stack.endRule,n,s===i),u=c.findNextMatchSync(e,s,d);if(u){if(u.ruleId!==Ah){r=l.stack.pop();break}u.captureIndices&&u.captureIndices.length&&(o.produce(l.stack,u.captureIndices[0].start),$s(t,e,n,l.stack,o,l.rule.whileCaptures,u.captureIndices),o.produce(l.stack,u.captureIndices[0].end),i=u.captureIndices[0].end,u.captureIndices[0].end>s&&(s=u.captureIndices[0].end,n=!1))}else{r=l.stack.pop();break}}return{stack:r,linePos:s,anchorPosition:i,isFirstLine:n}}function V0(t,e,n,s,r,o){const i=F0(t,e,n,s,r,o),a=t.getInjections();if(a.length===0)return i;const l=$0(a,t,e,n,s,r,o);if(!l)return i;if(!i)return l;const c=i.captureIndices[0].start,d=l.captureIndices[0].start;return d<c||l.priorityMatch&&d===c?l:i}function F0(t,e,n,s,r,o){const i=r.getRule(t),{ruleScanner:a,findOptions:l}=Eh(i,t,r.endRule,n,s===o),c=a.findNextMatchSync(e,s,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function $0(t,e,n,s,r,o,i){let a=Number.MAX_VALUE,l=null,c,d=0;const u=o.contentNameScopesList.getScopeNames();for(let f=0,p=t.length;f<p;f++){const y=t[f];if(!y.matcher(u))continue;const _=e.getRule(y.ruleId),{ruleScanner:x,findOptions:v}=Eh(_,e,null,s,r===i),w=x.findNextMatchSync(n,r,v);if(!w)continue;const N=w.captureIndices[0].start;if(!(N>=a)&&(a=N,l=w.captureIndices,c=w.ruleId,d=y.priority,a===r))break}return l?{priorityMatch:d===-1,captureIndices:l,matchedRuleId:c}:null}function Eh(t,e,n,s,r){return{ruleScanner:t.compileAG(e,n,s,r),findOptions:0}}function B0(t,e,n,s,r){return{ruleScanner:t.compileWhileAG(e,n,s,r),findOptions:0}}function $s(t,e,n,s,r,o,i){if(o.length===0)return;const a=e.content,l=Math.min(o.length,i.length),c=[],d=i[0].end;for(let u=0;u<l;u++){const f=o[u];if(f===null)continue;const p=i[u];if(p.length===0)continue;if(p.start>d)break;for(;c.length>0&&c[c.length-1].endPos<=p.start;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?r.produceFromScopes(c[c.length-1].scopes,p.start):r.produce(s,p.start),f.retokenizeCapturedWithRuleId){const _=f.getName(a,i),x=s.contentNameScopesList.pushAttributed(_,t),v=f.getContentName(a,i),w=x.pushAttributed(v,t),N=s.push(f.retokenizeCapturedWithRuleId,p.start,-1,!1,null,x,w),A=t.createOnigString(a.substring(0,p.end));Nh(t,A,n&&p.start===0,p.start,N,r,!1,0),wh(A);continue}const y=f.getName(a,i);if(y!==null){const x=(c.length>0?c[c.length-1].scopes:s.contentNameScopesList).pushAttributed(y,t);c.push(new z0(x,p.end))}}for(;c.length>0;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var z0=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function H0(t,e,n,s,r,o,i,a){return new U0(t,e,n,s,r,o,i,a)}function Vc(t,e,n,s,r){const o=fo(e,go),i=Ch.getCompiledRuleId(n,s,r.repository);for(const a of o)t.push({debugSelector:e,matcher:a.matcher,ruleId:i,grammar:r,priority:a.priority})}function go(t,e){if(e.length<t.length)return!1;let n=0;return t.every(s=>{for(let r=n;r<e.length;r++)if(j0(e[r],s))return n=r+1,!0;return!1})}function j0(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var U0=class{constructor(t,e,n,s,r,o,i,a){if(this._rootScopeName=t,this.balancedBracketSelectors=o,this._onigLib=a,this._basicScopeAttributesProvider=new M0(n,s),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=Fc(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(const l of Object.keys(r)){const c=fo(l,go);for(const d of c)this._tokenTypeMatchers.push({matcher:d.matcher,type:r[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:r=>r===this._rootScopeName?this._grammar:this.getExternalGrammar(r),injections:r=>this._grammarRepository.injections(r)},e=[],n=this._rootScopeName,s=t.lookup(n);if(s){const r=s.injections;if(r)for(let i in r)Vc(e,i,r[i],this,s);const o=this._grammarRepository.injections(n);o&&o.forEach(i=>{const a=this.getExternalGrammar(i);if(a){const l=a.injectionSelector;l&&Vc(e,l,a,this,a)}})}return e.sort((r,o)=>r.priority-o.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=Fc(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const s=this._tokenize(t,e,!1,n);return{tokens:s.lineTokens.getResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}tokenizeLine2(t,e,n=0){const s=this._tokenize(t,e,!0,n);return{tokens:s.lineTokens.getBinaryResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}_tokenize(t,e,n,s){this._rootId===-1&&(this._rootId=Ch.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let r;if(!e||e===da.NULL){r=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),d=this.themeProvider.getDefaults(),u=xs.set(0,c.languageId,c.tokenType,null,d.fontStyle,d.foregroundId,d.backgroundId),f=this.getRule(this._rootId).getName(null,null);let p;f?p=Js.createRootAndLookUpScopeName(f,u,this):p=Js.createRoot("unknown",u),e=new da(null,this._rootId,-1,-1,!1,null,p,p)}else r=!1,e.reset();t=t+`
`;const o=this.createOnigString(t),i=o.content.length,a=new X0(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=Nh(this,o,r,0,e,a,!0,s);return wh(o),{lineLength:i,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function Fc(t,e){return t=d0(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Js=class Ht{constructor(e,n,s){this.parent=e,this.scopePath=n,this.tokenAttributes=s}static fromExtension(e,n){let s=e,r=e?.scopePath??null;for(const o of n)r=Ai.push(r,o.scopeNames),s=new Ht(s,r,o.encodedTokenAttributes);return s}static createRoot(e,n){return new Ht(null,new Ai(null,e),n)}static createRootAndLookUpScopeName(e,n,s){const r=s.getMetadataForScope(e),o=new Ai(null,e),i=s.themeProvider.themeMatch(o),a=Ht.mergeAttributes(n,r,i);return new Ht(null,o,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Ht.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,s){let r=-1,o=0,i=0;return s!==null&&(r=s.fontStyle,o=s.foregroundId,i=s.backgroundId),xs.set(e,n.languageId,n.tokenType,null,r,o,i)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Ht._pushAttributed(this,e,n);const s=e.split(/ /g);let r=this;for(const o of s)r=Ht._pushAttributed(r,o,n);return r}static _pushAttributed(e,n,s){const r=s.getMetadataForScope(n),o=e.scopePath.push(n),i=s.themeProvider.themeMatch(o),a=Ht.mergeAttributes(e.tokenAttributes,r,i);return new Ht(e,o,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let s=this;for(;s&&s!==e;)n.push({encodedTokenAttributes:s.tokenAttributes,scopeNames:s.scopePath.getExtensionIfDefined(s.parent?.scopePath??null)}),s=s.parent;return s===e?n.reverse():void 0}},da=class Bn{constructor(e,n,s,r,o,i,a,l){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=o,this.endRule=i,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=s,this._anchorPos=r}_stackElementBrand=void 0;static NULL=new Bn(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:Bn._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?Js.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Bn._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,s,r,o,i,a){return new Bn(this,e,n,s,r,o,i,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Bn(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const s=Js.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new Bn(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,s,Js.fromExtension(s,n.contentNameScopesList))}},W0=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):fo(n,go).map(s=>s.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>fo(n,go).map(s=>s.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},X0=class{constructor(t,e,n,s){this.balancedBracketSelectors=s,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let s=t?.tokenAttributes??0,r=!1;if(this.balancedBracketSelectors?.matchesAlways&&(r=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=t?.getScopeNames()??[];for(const i of this._tokenTypeOverrides)i.matcher(o)&&(s=xs.set(s,0,i.type,null,-1,0,0));this.balancedBracketSelectors&&(r=this.balancedBracketSelectors.match(o))}if(r&&(s=xs.set(s,0,8,r,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===s){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(s),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let s=0,r=this._binaryTokens.length;s<r;s++)n[s]=this._binaryTokens[s];return n}},q0=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,s,r){if(!this._grammars.has(t)){let o=this._rawGrammars.get(t);if(!o)return null;this._grammars.set(t,H0(t,o,e,n,s,r,this,this._onigLib))}return this._grammars.get(t)}},Z0=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new q0(ho.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(ho.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,s){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:s})}loadGrammarWithConfiguration(e,n,s){return this._loadGrammar(e,n,s.embeddedLanguages,s.tokenTypes,new W0(s.balancedBracketSelectors||[],s.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,s,r,o){const i=new A0(this._syncRegistry,e);for(;i.Q.length>0;)i.Q.map(a=>this._loadSingleGrammar(a.scopeName)),i.processQueue();return this._grammarForScopeName(e,n,s,r,o)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const s=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,s)}}addGrammar(e,n=[],s=0,r=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,s,r)}_grammarForScopeName(e,n=0,s=null,r=null,o=null){return this._syncRegistry.grammarForScopeName(e,n,s,r,o)}},ua=da.NULL;const Y0=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class xr{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}xr.prototype.normal={};xr.prototype.property={};xr.prototype.space=void 0;function Th(t,e){const n={},s={};for(const r of t)Object.assign(n,r.property),Object.assign(s,r.normal);return new xr(n,s,e)}function ha(t){return t.toLowerCase()}class xt{constructor(e,n){this.attribute=n,this.property=e}}xt.prototype.attribute="";xt.prototype.booleanish=!1;xt.prototype.boolean=!1;xt.prototype.commaOrSpaceSeparated=!1;xt.prototype.commaSeparated=!1;xt.prototype.defined=!1;xt.prototype.mustUseProperty=!1;xt.prototype.number=!1;xt.prototype.overloadedBoolean=!1;xt.prototype.property="";xt.prototype.spaceSeparated=!1;xt.prototype.space=void 0;let J0=0;const ke=Jn(),He=Jn(),fa=Jn(),J=Jn(),De=Jn(),hs=Jn(),At=Jn();function Jn(){return 2**++J0}const pa=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:He,commaOrSpaceSeparated:At,commaSeparated:hs,number:J,overloadedBoolean:fa,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),Si=Object.keys(pa);class qa extends xt{constructor(e,n,s,r){let o=-1;if(super(e,n),$c(this,"space",r),typeof s=="number")for(;++o<Si.length;){const i=Si[o];$c(this,Si[o],(s&pa[i])===pa[i])}}}qa.prototype.defined=!0;function $c(t,e,n){n&&(t[e]=n)}function Ss(t){const e={},n={};for(const[s,r]of Object.entries(t.properties)){const o=new qa(s,t.transform(t.attributes||{},s),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,n[ha(s)]=s,n[ha(o.attribute)]=s}return new xr(e,n,t.space)}const Ih=Ss({properties:{ariaActiveDescendant:null,ariaAtomic:He,ariaAutoComplete:null,ariaBusy:He,ariaChecked:He,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:He,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:He,ariaFlowTo:De,ariaGrabbed:He,ariaHasPopup:null,ariaHidden:He,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:J,ariaLive:null,ariaModal:He,ariaMultiLine:He,ariaMultiSelectable:He,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:He,ariaReadOnly:He,ariaRelevant:null,ariaRequired:He,ariaRoleDescription:De,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:He,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Lh(t,e){return e in t?t[e]:e}function Rh(t,e){return Lh(t,e.toLowerCase())}const K0=Ss({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hs,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:De,autoFocus:ke,autoPlay:ke,blocking:De,capture:null,charSet:null,checked:ke,cite:null,className:De,cols:J,colSpan:null,content:null,contentEditable:He,controls:ke,controlsList:De,coords:J|hs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:fa,draggable:He,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:De,height:J,hidden:fa,high:J,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:De,itemRef:De,itemScope:ke,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:J,pattern:null,ping:De,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:De,required:ke,reversed:ke,rows:J,rowSpan:J,sandbox:De,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:He,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:He,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:He,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:Rh}),Q0=Ss({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:At,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hs,g2:hs,glyphName:hs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:At,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:At,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:At,rev:At,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:At,requiredFeatures:At,requiredFonts:At,requiredFormats:At,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:At,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:At,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:At,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Lh}),Ph=Ss({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Dh=Ss({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rh}),Mh=Ss({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),e_=/[A-Z]/g,Bc=/-[a-z]/g,t_=/^data[-\w.:]+$/i;function n_(t,e){const n=ha(e);let s=e,r=xt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&t_.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Bc,r_);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Bc.test(o)){let i=o.replace(e_,s_);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}r=qa}return new r(s,e)}function s_(t){return"-"+t.toLowerCase()}function r_(t){return t.charAt(1).toUpperCase()}const o_=Th([Ih,K0,Ph,Dh,Mh],"html"),Oh=Th([Ih,Q0,Ph,Dh,Mh],"svg"),zc={}.hasOwnProperty;function i_(t,e){const n=e||{};function s(r,...o){let i=s.invalid;const a=s.handlers;if(r&&zc.call(r,t)){const l=String(r[t]);i=zc.call(a,l)?a[l]:s.unknown}if(i)return i.call(this,r,...o)}return s.handlers=n.handlers||{},s.invalid=n.invalid,s.unknown=n.unknown,s}const a_=/["&'<>`]/g,l_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c_=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d_=/[|\\{}()[\]^$+*?.]/g,Hc=new WeakMap;function u_(t,e){if(t=t.replace(e.subset?h_(e.subset):a_,s),e.subset||e.escapeOnly)return t;return t.replace(l_,n).replace(c_,s);function n(r,o,i){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,i.charCodeAt(o+2),e)}function s(r,o,i){return e.format(r.charCodeAt(0),i.charCodeAt(o+1),e)}}function h_(t){let e=Hc.get(t);return e||(e=f_(t),Hc.set(t,e)),e}function f_(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(d_,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const p_=/[\dA-Fa-f]/;function m_(t,e,n){const s="&#x"+t.toString(16).toUpperCase();return n&&e&&!p_.test(String.fromCharCode(e))?s:s+";"}const g_=/\d/;function y_(t,e,n){const s="&#"+String(t);return n&&e&&!g_.test(String.fromCharCode(e))?s:s+";"}const __=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ni={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},b_=["cent","copy","divide","gt","lt","not","para","times"],Gh={}.hasOwnProperty,ma={};let Pr;for(Pr in Ni)Gh.call(Ni,Pr)&&(ma[Ni[Pr]]=Pr);const v_=/[^\dA-Za-z]/;function x_(t,e,n,s){const r=String.fromCharCode(t);if(Gh.call(ma,r)){const o=ma[r],i="&"+o;return n&&__.includes(o)&&!b_.includes(o)&&(!s||e&&e!==61&&v_.test(String.fromCharCode(e)))?i:i+";"}return""}function w_(t,e,n){let s=m_(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=x_(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const o=y_(t,e,n.omitOptionalSemicolons);o.length<s.length&&(s=o)}return r&&(!n.useShortestReferences||r.length<s.length)?r:s}function fs(t,e){return u_(t,Object.assign({format:w_},e))}const k_=/^>|^->|<!--|-->|--!>|<!-$/g,A_=[">"],C_=["<",">"];function S_(t,e,n,s){return s.settings.bogusComments?"<?"+fs(t.value,Object.assign({},s.settings.characterReferences,{subset:A_}))+">":"<!--"+t.value.replace(k_,r)+"-->";function r(o){return fs(o,Object.assign({},s.settings.characterReferences,{subset:C_}))}}function N_(t,e,n,s){return"<!"+(s.settings.upperDoctype?"DOCTYPE":"doctype")+(s.settings.tightDoctype?"":" ")+"html>"}function jc(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,r=n.indexOf(e);for(;r!==-1;)s++,r=n.indexOf(e,r+e.length);return s}function E_(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function T_(t){return t.join(" ").trim()}const I_=/[ \t\n\f\r]/g;function Za(t){return typeof t=="object"?t.type==="text"?Uc(t.value):!1:Uc(t)}function Uc(t){return t.replace(I_,"")===""}const qe=Fh(1),Vh=Fh(-1),L_=[];function Fh(t){return e;function e(n,s,r){const o=n?n.children:L_;let i=(s||0)+t,a=o[i];if(!r)for(;a&&Za(a);)i+=t,a=o[i];return a}}const R_={}.hasOwnProperty;function $h(t){return e;function e(n,s,r){return R_.call(t,n.tagName)&&t[n.tagName](n,s,r)}}const Ya=$h({body:D_,caption:Ei,colgroup:Ei,dd:V_,dt:G_,head:Ei,html:P_,li:O_,optgroup:F_,option:$_,p:M_,rp:Wc,rt:Wc,tbody:z_,td:Xc,tfoot:H_,th:Xc,thead:B_,tr:j_});function Ei(t,e,n){const s=qe(n,e,!0);return!s||s.type!=="comment"&&!(s.type==="text"&&Za(s.value.charAt(0)))}function P_(t,e,n){const s=qe(n,e);return!s||s.type!=="comment"}function D_(t,e,n){const s=qe(n,e);return!s||s.type!=="comment"}function M_(t,e,n){const s=qe(n,e);return s?s.type==="element"&&(s.tagName==="address"||s.tagName==="article"||s.tagName==="aside"||s.tagName==="blockquote"||s.tagName==="details"||s.tagName==="div"||s.tagName==="dl"||s.tagName==="fieldset"||s.tagName==="figcaption"||s.tagName==="figure"||s.tagName==="footer"||s.tagName==="form"||s.tagName==="h1"||s.tagName==="h2"||s.tagName==="h3"||s.tagName==="h4"||s.tagName==="h5"||s.tagName==="h6"||s.tagName==="header"||s.tagName==="hgroup"||s.tagName==="hr"||s.tagName==="main"||s.tagName==="menu"||s.tagName==="nav"||s.tagName==="ol"||s.tagName==="p"||s.tagName==="pre"||s.tagName==="section"||s.tagName==="table"||s.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function O_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&s.tagName==="li"}function G_(t,e,n){const s=qe(n,e);return!!(s&&s.type==="element"&&(s.tagName==="dt"||s.tagName==="dd"))}function V_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&(s.tagName==="dt"||s.tagName==="dd")}function Wc(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&(s.tagName==="rp"||s.tagName==="rt")}function F_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&s.tagName==="optgroup"}function $_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&(s.tagName==="option"||s.tagName==="optgroup")}function B_(t,e,n){const s=qe(n,e);return!!(s&&s.type==="element"&&(s.tagName==="tbody"||s.tagName==="tfoot"))}function z_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&(s.tagName==="tbody"||s.tagName==="tfoot")}function H_(t,e,n){return!qe(n,e)}function j_(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&s.tagName==="tr"}function Xc(t,e,n){const s=qe(n,e);return!s||s.type==="element"&&(s.tagName==="td"||s.tagName==="th")}const U_=$h({body:q_,colgroup:Z_,head:X_,html:W_,tbody:Y_});function W_(t){const e=qe(t,-1);return!e||e.type!=="comment"}function X_(t){const e=new Set;for(const s of t.children)if(s.type==="element"&&(s.tagName==="base"||s.tagName==="title")){if(e.has(s.tagName))return!1;e.add(s.tagName)}const n=t.children[0];return!n||n.type==="element"}function q_(t){const e=qe(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Za(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function Z_(t,e,n){const s=Vh(n,e),r=qe(t,-1,!0);return n&&s&&s.type==="element"&&s.tagName==="colgroup"&&Ya(s,n.children.indexOf(s),n)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function Y_(t,e,n){const s=Vh(n,e),r=qe(t,-1);return n&&s&&s.type==="element"&&(s.tagName==="thead"||s.tagName==="tbody")&&Ya(s,n.children.indexOf(s),n)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const Dr={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function J_(t,e,n,s){const r=s.schema,o=r.space==="svg"?!1:s.settings.omitOptionalTags;let i=r.space==="svg"?s.settings.closeEmptyElements:s.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;r.space==="html"&&t.tagName==="svg"&&(s.schema=Oh);const c=K_(s,t.properties),d=s.all(r.space==="html"&&t.tagName==="template"?t.content:t);return s.schema=r,d&&(i=!1),(c||!o||!U_(t,e,n))&&(a.push("<",t.tagName,c?" "+c:""),i&&(r.space==="svg"||s.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!s.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(d),!i&&(!o||!Ya(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function K_(t,e){const n=[];let s=-1,r;if(e){for(r in e)if(e[r]!==null&&e[r]!==void 0){const o=Q_(t,r,e[r]);o&&n.push(o)}}for(;++s<n.length;){const o=t.settings.tightAttributes?n[s].charAt(n[s].length-1):void 0;s!==n.length-1&&o!=='"'&&o!=="'"&&(n[s]+=" ")}return n.join("")}function Q_(t,e,n){const s=n_(t.schema,e),r=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,o=t.settings.allowDangerousCharacters?0:1;let i=t.quote,a;if(s.overloadedBoolean&&(n===s.attribute||n==="")?n=!0:(s.boolean||s.overloadedBoolean)&&(typeof n!="string"||n===s.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=fs(s.attribute,Object.assign({},t.settings.characterReferences,{subset:Dr.name[r][o]}));return n===!0||(n=Array.isArray(n)?(s.commaSeparated?E_:T_)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=fs(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Dr.unquoted[r][o]}))),a!==n&&(t.settings.quoteSmart&&jc(n,i)>jc(n,t.alternative)&&(i=t.alternative),a=i+fs(n,Object.assign({},t.settings.characterReferences,{subset:(i==="'"?Dr.single:Dr.double)[r][o],attribute:!0}))+i),l+(a&&"="+a))}const eb=["<","&"];function Bh(t,e,n,s){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:fs(t.value,Object.assign({},s.settings.characterReferences,{subset:eb}))}function tb(t,e,n,s){return s.settings.allowDangerousHtml?t.value:Bh(t,e,n,s)}function nb(t,e,n,s){return s.all(t)}const sb=i_("type",{invalid:rb,unknown:ob,handlers:{comment:S_,doctype:N_,element:J_,raw:tb,root:nb,text:Bh}});function rb(t){throw new Error("Expected node, not `"+t+"`")}function ob(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const ib={},ab={},lb=[];function cb(t,e){const n=e||ib,s=n.quote||'"',r=s==='"'?"'":'"';if(s!=='"'&&s!=="'")throw new Error("Invalid quote `"+s+"`, expected `'` or `\"`");return{one:db,all:ub,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||Y0,characterReferences:n.characterReferences||ab,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Oh:o_,quote:s,alternative:r}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function db(t,e,n){return sb(t,e,n,this)}function ub(t){const e=[],n=t&&t.children||lb;let s=-1;for(;++s<n.length;)e[s]=this.one(n[s],s,t);return e.join("")}function yo(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},s=typeof t=="string"?t:t.name;for(const[r,o]of Object.entries(e?.colorReplacements||{}))typeof o=="string"?n[r]=o:r===s&&Object.assign(n,o);return n}function En(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function hb(t){return Array.isArray(t)?t:[t]}async function zh(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function Ja(t){return!t||["plaintext","txt","text","plain"].includes(t)}function Hh(t){return t==="ansi"||Ja(t)}function Ka(t){return t==="none"}function jh(t){return Ka(t)}function Uh(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const s of n)s&&!t.properties.class.includes(s)&&t.properties.class.push(s);return t}function Zo(t,e=!1){const n=t.split(/(\r?\n)/g);let s=0;const r=[];for(let o=0;o<n.length;o+=2){const i=e?n[o]+(n[o+1]||""):n[o];r.push([i,s]),s+=n[o].length,s+=n[o+1]?.length||0}return r}function fb(t){const e=Zo(t,!0).map(([r])=>r);function n(r){if(r===t.length)return{line:e.length-1,character:e[e.length-1].length};let o=r,i=0;for(const a of e){if(o<a.length)break;o-=a.length,i++}return{line:i,character:o}}function s(r,o){let i=0;for(let a=0;a<r;a++)i+=e[a].length;return i+=o,i}return{lines:e,indexToPos:n,posToIndex:s}}const Qa="light-dark()",pb=["color","background-color"];function mb(t,e){let n=0;const s=[];for(const r of e)r>n&&s.push({...t,content:t.content.slice(n,r),offset:t.offset+n}),n=r;return n<t.content.length&&s.push({...t,content:t.content.slice(n),offset:t.offset+n}),s}function gb(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((s,r)=>s-r);return n.length?t.map(s=>s.flatMap(r=>{const o=n.filter(i=>r.offset<i&&i<r.offset+r.content.length).map(i=>i-r.offset).sort((i,a)=>i-a);return o.length?mb(r,o):r})):t}function yb(t,e,n,s,r="css-vars"){const o={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(d=>_o(t.variants[d])),a=new Set(i.flatMap(d=>Object.keys(d))),l={},c=(d,u)=>{const f=u==="color"?"":u==="background-color"?"-bg":`-${u}`;return n+e[d]+(u==="color"?"":f)};return i.forEach((d,u)=>{for(const f of a){const p=d[f]||"inherit";if(u===0&&s&&pb.includes(f))if(s===Qa&&i.length>1){const y=e.findIndex(w=>w==="light"),_=e.findIndex(w=>w==="dark");if(y===-1||_===-1)throw new je('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const x=i[y][f]||"inherit",v=i[_][f]||"inherit";l[f]=`light-dark(${x}, ${v})`,r==="css-vars"&&(l[c(u,f)]=p)}else l[f]=p;else r==="css-vars"&&(l[c(u,f)]=p)}}),o.htmlStyle=l,o}function _o(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&at.Italic&&(e["font-style"]="italic"),t.fontStyle&at.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&at.Underline&&n.push("underline"),t.fontStyle&at.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function ga(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const Wh=new WeakMap;function Yo(t,e){Wh.set(t,e)}function ur(t){return Wh.get(t)}class Ns{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Ns(Object.fromEntries(hb(n).map(s=>[s,ua])),e)}constructor(...e){if(e.length===2){const[n,s]=e;this.lang=s,this._stacks=n}else{const[n,s,r]=e;this.lang=s,this._stacks={[r]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return _b(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function _b(t){const e=[],n=new Set;function s(r){if(n.has(r))return;n.add(r);const o=r?.nameScopesList?.scopeName;o&&e.push(o),r.parent&&s(r.parent)}return s(t),e}function bb(t,e){if(!(t instanceof Ns))throw new je("Invalid grammar state");return t.getInternalStack(e)}function vb(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let s=function(i){if(typeof i=="number"){if(i<0||i>n.source.length)throw new je(`Invalid decoration offset: ${i}. Code length: ${n.source.length}`);return{...r.indexToPos(i),offset:i}}else{const a=r.lines[i.line];if(a===void 0)throw new je(`Invalid decoration position ${JSON.stringify(i)}. Lines length: ${r.lines.length}`);let l=i.character;if(l<0&&(l=a.length+l),l<0||l>a.length)throw new je(`Invalid decoration position ${JSON.stringify(i)}. Line ${i.line} length: ${a.length}`);return{...i,character:l,offset:r.posToIndex(i.line,l)}}};const r=fb(n.source),o=(n.options.decorations||[]).map(i=>({...i,start:s(i.start),end:s(i.end)}));xb(o),t.set(n.meta,{decorations:o,converter:r,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const r=e(this).decorations.flatMap(i=>[i.start.offset,i.end.offset]);return gb(n,r)},code(n){if(!this.options.decorations?.length)return;const s=e(this),r=Array.from(n.children).filter(d=>d.type==="element"&&d.tagName==="span");if(r.length!==s.converter.lines.length)throw new je(`Number of lines in code element (${r.length}) does not match the number of lines in the source (${s.converter.lines.length}). Failed to apply decorations.`);function o(d,u,f,p){const y=r[d];let _="",x=-1,v=-1;if(u===0&&(x=0),f===0&&(v=0),f===Number.POSITIVE_INFINITY&&(v=y.children.length),x===-1||v===-1)for(let N=0;N<y.children.length;N++)_+=Xh(y.children[N]),x===-1&&_.length===u&&(x=N+1),v===-1&&_.length===f&&(v=N+1);if(x===-1)throw new je(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(v===-1)throw new je(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const w=y.children.slice(x,v);if(!p.alwaysWrap&&w.length===y.children.length)a(y,p,"line");else if(!p.alwaysWrap&&w.length===1&&w[0].type==="element")a(w[0],p,"token");else{const N={type:"element",tagName:"span",properties:{},children:w};a(N,p,"wrapper"),y.children.splice(x,w.length,N)}}function i(d,u){r[d]=a(r[d],u,"line")}function a(d,u,f){const p=u.properties||{},y=u.transform||(_=>_);return d.tagName=u.tagName||"span",d.properties={...d.properties,...p,class:d.properties.class},u.properties?.class&&Uh(d,u.properties.class),d=y(d,f)||d,d}const l=[],c=s.decorations.sort((d,u)=>u.start.offset-d.start.offset||d.end.offset-u.end.offset);for(const d of c){const{start:u,end:f}=d;if(u.line===f.line)o(u.line,u.character,f.character,d);else if(u.line<f.line){o(u.line,u.character,Number.POSITIVE_INFINITY,d);for(let p=u.line+1;p<f.line;p++)l.unshift(()=>i(p,d));o(f.line,0,f.character,d)}}l.forEach(d=>d())}}}function xb(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new je(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let s=e+1;s<t.length;s++){const r=t[s],o=n.start.offset<=r.start.offset&&r.start.offset<n.end.offset,i=n.start.offset<r.end.offset&&r.end.offset<=n.end.offset,a=r.start.offset<=n.start.offset&&n.start.offset<r.end.offset,l=r.start.offset<n.end.offset&&n.end.offset<=r.end.offset;if(o||i||a||l){if(o&&i||a&&l||a&&n.start.offset===n.end.offset||i&&r.start.offset===r.end.offset)continue;throw new je(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(r.start)} intersect.`)}}}}function Xh(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Xh).join(""):""}const wb=[vb()];function bo(t){const e=kb(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...wb]}function kb(t){const e=[],n=[],s=[];for(const r of t)switch(r.enforce){case"pre":e.push(r);break;case"post":n.push(r);break;default:s.push(r)}return{pre:e,post:n,normal:s}}var jn=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Ti={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Ab(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const s=t.indexOf("m",n);if(s!==-1)return{sequence:t.substring(n+2,s).split(";"),startPosition:n,position:s+1}}return{position:t.length}}function qc(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(s=>Number.parseInt(s));return n.length!==3||n.some(s=>Number.isNaN(s))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function Cb(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const s=Number.parseInt(n);if(!Number.isNaN(s))if(s===0)e.push({type:"resetAll"});else if(s<=9)Ti[s]&&e.push({type:"setDecoration",value:Ti[s]});else if(s<=29){const r=Ti[s-20];r&&(e.push({type:"resetDecoration",value:r}),r==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(s<=37)e.push({type:"setForegroundColor",value:{type:"named",name:jn[s-30]}});else if(s===38){const r=qc(t);r&&e.push({type:"setForegroundColor",value:r})}else if(s===39)e.push({type:"resetForegroundColor"});else if(s<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:jn[s-40]}});else if(s===48){const r=qc(t);r&&e.push({type:"setBackgroundColor",value:r})}else s===49?e.push({type:"resetBackgroundColor"}):s===53?e.push({type:"setDecoration",value:"overline"}):s===55?e.push({type:"resetDecoration",value:"overline"}):s>=90&&s<=97?e.push({type:"setForegroundColor",value:{type:"named",name:jn[s-90+8]}}):s>=100&&s<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:jn[s-100+8]}})}return e}function Sb(){let t=null,e=null,n=new Set;return{parse(s){const r=[];let o=0;do{const i=Ab(s,o),a=i.sequence?s.substring(o,i.startPosition):s.substring(o);if(a.length>0&&r.push({value:a,foreground:t,background:e,decorations:new Set(n)}),i.sequence){const l=Cb(i.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,n.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&n.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&n.add(c.value)}o=i.position}while(o<s.length);return r}}}var Nb={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Eb(t=Nb){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let s;function r(){if(s)return s;s=[];for(let c=0;c<jn.length;c++)s.push(e(jn[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let d=0;d<6;d++)for(let u=0;u<6;u++)s.push(n([a[c],a[d],a[u]]));let l=8;for(let c=0;c<24;c++,l+=10)s.push(n([l,l,l]));return s}function o(a){return r()[a]}function i(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return o(a.index)}}return{value:i}}const Tb={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function Ib(t,e,n){const s=yo(t,n),r=Zo(e),o=Object.fromEntries(jn.map(l=>{const c=`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`,d=t.colors?.[c];return[l,d||Tb[l]]})),i=Eb(o),a=Sb();return r.map(l=>a.parse(l[0]).map(c=>{let d,u;c.decorations.has("reverse")?(d=c.background?i.value(c.background):t.bg,u=c.foreground?i.value(c.foreground):t.fg):(d=c.foreground?i.value(c.foreground):t.fg,u=c.background?i.value(c.background):void 0),d=En(d,s),u=En(u,s),c.decorations.has("dim")&&(d=Lb(d));let f=at.None;return c.decorations.has("bold")&&(f|=at.Bold),c.decorations.has("italic")&&(f|=at.Italic),c.decorations.has("underline")&&(f|=at.Underline),c.decorations.has("strikethrough")&&(f|=at.Strikethrough),{content:c.value,offset:l[1],color:d,bgColor:u,fontStyle:f}}))}function Lb(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(e)if(e[3]){const s=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${s}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(s=>`${s}${s}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function el(t,e,n={}){const{lang:s="text",theme:r=t.getLoadedThemes()[0]}=n;if(Ja(s)||Ka(r))return Zo(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:o,colorMap:i}=t.setTheme(r);if(s==="ansi")return Ib(o,e,n);const a=t.getLanguage(s);if(n.grammarState){if(n.grammarState.lang!==a.name)throw new je(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${a.name}"`);if(!n.grammarState.themes.includes(o.name))throw new je(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${o.name}"`)}return Pb(e,a,o,i,n)}function Rb(...t){if(t.length===2)return ur(t[1]);const[e,n,s={}]=t,{lang:r="text",theme:o=e.getLoadedThemes()[0]}=s;if(Ja(r)||Ka(o))throw new je("Plain language does not have grammar state");if(r==="ansi")throw new je("ANSI language does not have grammar state");const{theme:i,colorMap:a}=e.setTheme(o),l=e.getLanguage(r);return new Ns(vo(n,l,i,a,s).stateStack,l.name,i.name)}function Pb(t,e,n,s,r){const o=vo(t,e,n,s,r),i=new Ns(vo(t,e,n,s,r).stateStack,e.name,n.name);return Yo(o.tokens,i),o.tokens}function vo(t,e,n,s,r){const o=yo(n,r),{tokenizeMaxLineLength:i=0,tokenizeTimeLimit:a=500}=r,l=Zo(t);let c=r.grammarState?bb(r.grammarState,n.name)??ua:r.grammarContextCode!=null?vo(r.grammarContextCode,e,n,s,{...r,grammarState:void 0,grammarContextCode:void 0}).stateStack:ua,d=[];const u=[];for(let f=0,p=l.length;f<p;f++){const[y,_]=l[f];if(y===""){d=[],u.push([]);continue}if(i>0&&y.length>=i){d=[],u.push([{content:y,offset:_,color:"",fontStyle:0}]);continue}let x,v,w;r.includeExplanation&&(x=e.tokenizeLine(y,c,a),v=x.tokens,w=0);const N=e.tokenizeLine2(y,c,a),A=N.tokens.length/2;for(let L=0;L<A;L++){const z=N.tokens[2*L],H=L+1<A?N.tokens[2*L+2]:y.length;if(z===H)continue;const ee=N.tokens[2*L+1],W=En(s[xs.getForeground(ee)],o),Z=xs.getFontStyle(ee),j={content:y.substring(z,H),offset:_+z,color:W,fontStyle:Z};if(r.includeExplanation){const R=[];if(r.includeExplanation!=="scopeName")for(const S of n.settings){let M;switch(typeof S.scope){case"string":M=S.scope.split(/,/).map(I=>I.trim());break;case"object":M=S.scope;break;default:continue}R.push({settings:S,selectors:M.map(I=>I.split(/ /))})}j.explanation=[];let G=0;for(;z+G<H;){const S=v[w],M=y.substring(S.startIndex,S.endIndex);G+=M.length,j.explanation.push({content:M,scopes:r.includeExplanation==="scopeName"?Db(S.scopes):Mb(R,S.scopes)}),w+=1}}d.push(j)}u.push(d),d=[],c=N.ruleStack}return{tokens:u,stateStack:c}}function Db(t){return t.map(e=>({scopeName:e}))}function Mb(t,e){const n=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];n[s]={scopeName:o,themeMatches:Gb(t,o,e.slice(0,s))}}return n}function Zc(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Ob(t,e,n){if(!Zc(t[t.length-1],e))return!1;let s=t.length-2,r=n.length-1;for(;s>=0&&r>=0;)Zc(t[s],n[r])&&(s-=1),r-=1;return s===-1}function Gb(t,e,n){const s=[];for(const{selectors:r,settings:o}of t)for(const i of r)if(Ob(i,e,n)){s.push(o);break}return s}function qh(t,e,n){const s=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),r=s.map(l=>{const c=el(t,e,{...n,theme:l.theme}),d=ur(c),u=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:d,theme:u}}),o=Vb(...r.map(l=>l.tokens)),i=o[0].map((l,c)=>l.map((d,u)=>{const f={content:d.content,variants:{},offset:d.offset};return"includeExplanation"in n&&n.includeExplanation&&(f.explanation=d.explanation),o.forEach((p,y)=>{const{content:_,explanation:x,offset:v,...w}=p[c][u];f.variants[s[y].color]=w}),f})),a=r[0].state?new Ns(Object.fromEntries(r.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),r[0].state.lang):void 0;return a&&Yo(i,a),i}function Vb(...t){const e=t.map(()=>[]),n=t.length;for(let s=0;s<t[0].length;s++){const r=t.map(l=>l[s]),o=e.map(()=>[]);e.forEach((l,c)=>l.push(o[c]));const i=r.map(()=>0),a=r.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<n;c++){const d=a[c];d.content.length===l?(o[c].push(d),i[c]+=1,a[c]=r[c][i[c]]):(o[c].push({...d,content:d.content.slice(0,l)}),a[c]={...d,content:d.content.slice(l),offset:d.offset+l})}}}return e}function xo(t,e,n){let s,r,o,i,a,l;if("themes"in n){const{defaultColor:c="light",cssVariablePrefix:d="--shiki-",colorsRendering:u="css-vars"}=n,f=Object.entries(n.themes).filter(v=>v[1]).map(v=>({color:v[0],theme:v[1]})).sort((v,w)=>v.color===c?-1:w.color===c?1:0);if(f.length===0)throw new je("`themes` option must not be empty");const p=qh(t,e,n);if(l=ur(p),c&&Qa!==c&&!f.find(v=>v.color===c))throw new je(`\`themes\` option must contain the defaultColor key \`${c}\``);const y=f.map(v=>t.getTheme(v.theme)),_=f.map(v=>v.color);o=p.map(v=>v.map(w=>yb(w,_,d,c,u))),l&&Yo(o,l);const x=f.map(v=>yo(v.theme,n));r=Yc(f,y,x,d,c,"fg",u),s=Yc(f,y,x,d,c,"bg",u),i=`shiki-themes ${y.map(v=>v.name).join(" ")}`,a=c?void 0:[r,s].join(";")}else if("theme"in n){const c=yo(n.theme,n);o=el(t,e,n);const d=t.getTheme(n.theme);s=En(d.bg,c),r=En(d.fg,c),i=d.name,l=ur(o)}else throw new je("Invalid options, either `theme` or `themes` must be provided");return{tokens:o,fg:r,bg:s,themeName:i,rootStyle:a,grammarState:l}}function Yc(t,e,n,s,r,o,i){return t.map((a,l)=>{const c=En(e[l][o],n[l])||"inherit",d=`${s+a.color}${o==="bg"?"-bg":""}:${c}`;if(l===0&&r){if(r===Qa&&t.length>1){const u=t.findIndex(_=>_.color==="light"),f=t.findIndex(_=>_.color==="dark");if(u===-1||f===-1)throw new je('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const p=En(e[u][o],n[u])||"inherit",y=En(e[f][o],n[f])||"inherit";return`light-dark(${p}, ${y});${d}`}return c}return i==="css-vars"?d:null}).filter(a=>!!a).join(";")}function wo(t,e,n,s={meta:{},options:n,codeToHast:(r,o)=>wo(t,r,o),codeToTokens:(r,o)=>xo(t,r,o)}){let r=e;for(const y of bo(n))r=y.preprocess?.call(s,r,n)||r;let{tokens:o,fg:i,bg:a,themeName:l,rootStyle:c,grammarState:d}=xo(t,r,n);const{mergeWhitespaces:u=!0,mergeSameStyleTokens:f=!1}=n;u===!0?o=$b(o):u==="never"&&(o=Bb(o)),f&&(o=zb(o));const p={...s,get source(){return r}};for(const y of bo(n))o=y.tokens?.call(p,o)||o;return Fb(o,{...n,fg:i,bg:a,themeName:l,rootStyle:c},p,d)}function Fb(t,e,n,s=ur(t)){const r=bo(e),o=[],i={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([y])=>!y.startsWith("_")))},children:[]},d={type:"element",tagName:"code",properties:{},children:o};const u=[],f={...n,structure:a,addClassToHast:Uh,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return i},get pre(){return c},get code(){return d},get lines(){return u}};if(t.forEach((y,_)=>{_&&(a==="inline"?i.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&o.push({type:"text",value:`
`}));let x={type:"element",tagName:"span",properties:{class:"line"},children:[]},v=0;for(const w of y){let N={type:"element",tagName:"span",properties:{...w.htmlAttrs},children:[{type:"text",value:w.content}]};const A=ga(w.htmlStyle||_o(w));A&&(N.properties.style=A);for(const L of r)N=L?.span?.call(f,N,_+1,v,x,w)||N;a==="inline"?i.children.push(N):a==="classic"&&x.children.push(N),v+=w.content.length}if(a==="classic"){for(const w of r)x=w?.line?.call(f,x,_+1)||x;u.push(x),o.push(x)}}),a==="classic"){for(const y of r)d=y?.code?.call(f,d)||d;c.children.push(d);for(const y of r)c=y?.pre?.call(f,c)||c;i.children.push(c)}let p=i;for(const y of r)p=y?.root?.call(f,p)||p;return s&&Yo(p,s),p}function $b(t){return t.map(e=>{const n=[];let s="",r=0;return e.forEach((o,i)=>{const l=!(o.fontStyle&&(o.fontStyle&at.Underline||o.fontStyle&at.Strikethrough));l&&o.content.match(/^\s+$/)&&e[i+1]?(r||(r=o.offset),s+=o.content):s?(l?n.push({...o,offset:r,content:s+o.content}):n.push({content:s,offset:r},o),r=0,s=""):n.push(o)}),n})}function Bb(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const s=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!s)return n;const[,r,o,i]=s;if(!r&&!i)return n;const a=[{...n,offset:n.offset+r.length,content:o}];return r&&a.unshift({content:r,offset:n.offset}),i&&a.push({content:i,offset:n.offset+r.length+o.length}),a}))}function zb(t){return t.map(e=>{const n=[];for(const s of e){if(n.length===0){n.push({...s});continue}const r=n[n.length-1],o=ga(r.htmlStyle||_o(r)),i=ga(s.htmlStyle||_o(s)),a=r.fontStyle&&(r.fontStyle&at.Underline||r.fontStyle&at.Strikethrough),l=s.fontStyle&&(s.fontStyle&at.Underline||s.fontStyle&at.Strikethrough);!a&&!l&&o===i?r.content+=s.content:n.push({...s})}return n})}const Hb=cb;function jb(t,e,n){const s={meta:{},options:n,codeToHast:(o,i)=>wo(t,o,i),codeToTokens:(o,i)=>xo(t,o,i)};let r=Hb(wo(t,e,n,s));for(const o of bo(n))r=o.postprocess?.call(s,r,n)||r;return r}const Jc={light:"#333333",dark:"#bbbbbb"},Kc={light:"#fffffe",dark:"#1e1e1e"},Qc="__shiki_resolved";function tl(t){if(t?.[Qc])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:s}=e;if(!n||!s){const a=e.settings?e.settings.find(l=>!l.name&&!l.scope):void 0;a?.settings?.foreground&&(s=a.settings.foreground),a?.settings?.background&&(n=a.settings.background),!s&&e?.colors?.["editor.foreground"]&&(s=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),s||(s=e.type==="light"?Jc.light:Jc.dark),n||(n=e.type==="light"?Kc.light:Kc.dark),e.fg=s,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let r=0;const o=new Map;function i(a){if(o.has(a))return o.get(a);r+=1;const l=`#${r.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${l}`]?i(a):(o.set(a,l),l)}e.settings=e.settings.map(a=>{const l=a.settings?.foreground&&!a.settings.foreground.startsWith("#"),c=a.settings?.background&&!a.settings.background.startsWith("#");if(!l&&!c)return a;const d={...a,settings:{...a.settings}};if(l){const u=i(a.settings.foreground);e.colorReplacements[u]=a.settings.foreground,d.settings.foreground=u}if(c){const u=i(a.settings.background);e.colorReplacements[u]=a.settings.background,d.settings.background=u}return d});for(const a of Object.keys(e.colors||{}))if((a==="editor.foreground"||a==="editor.background"||a.startsWith("terminal.ansi"))&&!e.colors[a]?.startsWith("#")){const l=i(e.colors[a]);e.colorReplacements[l]=e.colors[a],e.colors[a]=l}return Object.defineProperty(e,Qc,{enumerable:!1,writable:!1,value:!0}),e}async function Zh(t){return Array.from(new Set((await Promise.all(t.filter(e=>!Hh(e)).map(async e=>await zh(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Yh(t){return(await Promise.all(t.map(async n=>jh(n)?null:tl(await zh(n))))).filter(n=>!!n)}let Ub=3;function Wb(t,e=3){e>Ub||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let ss=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class Xb extends Z0{constructor(e,n,s,r={}){super(e),this._resolver=e,this._themes=n,this._langs=s,this._alias=r,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=tl(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=ho.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){if(this._alias[e]){const n=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],n.has(e))throw new ss(`Circular alias \`${Array.from(n).join(" -> ")} -> ${e}\``);n.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(o=>o.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const s={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const r=this.loadGrammarWithConfiguration(e.scopeName,1,s);if(r.name=e.name,this._resolvedGrammars.set(e.name,r),e.aliases&&e.aliases.forEach(o=>{this._alias[o]=e.name}),this._loadedLanguagesCache=null,n.size)for(const o of n)this._resolvedGrammars.delete(o.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(o.scopeName),this._syncRegistry?._grammars?.delete(o.scopeName),this.loadLanguage(this._langMap.get(o.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const r of e)this.resolveEmbeddedLanguages(r);const n=Array.from(this._langGraph.entries()),s=n.filter(([r,o])=>!o);if(s.length){const r=n.filter(([o,i])=>i&&i.embeddedLangs?.some(a=>s.map(([l])=>l).includes(a))).filter(o=>!s.includes(o));throw new ss(`Missing languages ${s.map(([o])=>`\`${o}\``).join(", ")}, required by ${r.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[r,o]of n)this._resolver.addLanguage(o);for(const[r,o]of n)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const n of e.embeddedLangs)this._langGraph.set(n,this._langMap.get(n))}}class qb{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:s=>e.createScanner(s),createOnigString:s=>e.createString(s)},n.forEach(s=>this.addLanguage(s))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let s=[];for(let r=1;r<=n.length;r++){const o=n.slice(0,r).join(".");s=[...s,...this._injections.get(o)||[]]}return s}}let Os=0;function Zb(t){Os+=1,t.warnings!==!1&&Os>=10&&Os%10===0&&console.warn(`[Shiki] ${Os} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new ss("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),s=(t.themes||[]).flat(1).map(tl),r=new qb(t.engine,n),o=new Xb(r,s,n,t.langAlias);let i;function a(w){x();const N=o.getGrammar(typeof w=="string"?w:w.name);if(!N)throw new ss(`Language \`${w}\` not found, you may need to load it first`);return N}function l(w){if(w==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};x();const N=o.getTheme(w);if(!N)throw new ss(`Theme \`${w}\` not found, you may need to load it first`);return N}function c(w){x();const N=l(w);i!==w&&(o.setTheme(N),i=w);const A=o.getColorMap();return{theme:N,colorMap:A}}function d(){return x(),o.getLoadedThemes()}function u(){return x(),o.getLoadedLanguages()}function f(...w){x(),o.loadLanguages(w.flat(1))}async function p(...w){return f(await Zh(w))}function y(...w){x();for(const N of w.flat(1))o.loadTheme(N)}async function _(...w){return x(),y(await Yh(w))}function x(){if(e)throw new ss("Shiki instance has been disposed")}function v(){e||(e=!0,o.dispose(),Os-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:d,getLoadedLanguages:u,loadLanguage:p,loadLanguageSync:f,loadTheme:_,loadThemeSync:y,dispose:v,[Symbol.dispose]:v}}async function Yb(t){t.engine||Wb("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,s]=await Promise.all([Yh(t.themes||[]),Zh(t.langs||[]),t.engine]);return Zb({...t,themes:e,langs:n,engine:s})}async function Jb(t){const e=await Yb(t);return{getLastGrammarState:(...n)=>Rb(e,...n),codeToTokensBase:(n,s)=>el(e,n,s),codeToTokensWithThemes:(n,s)=>qh(e,n,s),codeToTokens:(n,s)=>xo(e,n,s),codeToHast:(n,s)=>wo(e,n,s),codeToHtml:(n,s)=>jb(e,n,s),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function Kb(t){const e=t.langs,n=t.themes,s=t.engine;async function r(o){function i(u){if(typeof u=="string"){if(Hh(u))return[];u=o.langAlias?.[u]||u;const f=e[u];if(!f)throw new je(`Language \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}function a(u){if(jh(u))return"none";if(typeof u=="string"){const f=n[u];if(!f)throw new je(`Theme \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}const l=(o.themes??[]).map(u=>a(u)),c=(o.langs??[]).map(u=>i(u)),d=await Jb({engine:o.engine??s(),...o,themes:l,langs:c});return{...d,loadLanguage(...u){return d.loadLanguage(...u.map(i))},loadTheme(...u){return d.loadTheme(...u.map(a))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return r}const Jh=[{id:"abap",name:"ABAP",import:(()=>b(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>b(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>b(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>b(()=>import("./angular-html-CU67Zn6k.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>b(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>b(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>b(()=>import("./apex-DhZLUxFE.js"),[]))},{id:"apl",name:"APL",import:(()=>b(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>b(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>b(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>b(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>b(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>b(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>b(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>b(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>b(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>b(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>b(()=>import("./berry-D08WgyRC.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>b(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>b(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>b(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>b(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>b(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>b(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>b(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>b(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>b(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>b(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>b(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>b(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>b(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>b(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>b(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>b(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>b(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>b(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>b(()=>import("./csharp-CX12Zw3r.js"),[]))},{id:"css",name:"CSS",import:(()=>b(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>b(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>b(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>b(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>b(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>b(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>b(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>b(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>b(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>b(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>b(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>b(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>b(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>b(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>b(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>b(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>b(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>b(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>b(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>b(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>b(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>b(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>b(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>b(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>b(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>b(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>b(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>b(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>b(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>b(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>b(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>b(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>b(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>b(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>b(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>b(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>b(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>b(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>b(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>b(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>b(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>b(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>b(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>b(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>b(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>b(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>b(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>b(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>b(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>b(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>b(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>b(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>b(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>b(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>b(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>b(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>b(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>b(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>b(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>b(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>b(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>b(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>b(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>b(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>b(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>b(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>b(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>b(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>b(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>b(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>b(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>b(()=>import("./lean-DP1Csr6i.js"),[]))},{id:"less",name:"Less",import:(()=>b(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>b(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>b(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>b(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>b(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>b(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>b(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>b(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>b(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>b(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>b(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>b(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>b(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>b(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>b(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>b(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>b(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>b(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>b(()=>import("./nextflow-CUEJCptM.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>b(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>b(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>b(()=>import("./nix-BbRYJGeE.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>b(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>b(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>b(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>b(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>b(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>b(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>b(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>b(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>b(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>b(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>b(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>b(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>b(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>b(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>b(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>b(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>b(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>b(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>b(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>b(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>b(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>b(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>b(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>b(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>b(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>b(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>b(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>b(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>b(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>b(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>b(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>b(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>b(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>b(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>b(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>b(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>b(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>b(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>b(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>b(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>b(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>b(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>b(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>b(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>b(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>b(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>b(()=>import("./solidity-BbcW6ACK.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>b(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>b(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>b(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>b(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>b(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>b(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>b(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>b(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>b(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>b(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>b(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>b(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>b(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>b(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>b(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>b(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>b(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>b(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>b(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>b(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>b(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>b(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>b(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>b(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>b(()=>import("./typespec-Df68jz8_.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>b(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>b(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>b(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>b(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>b(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>b(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>b(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>b(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>b(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>b(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>b(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>b(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>b(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>b(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>b(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>b(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>b(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>b(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>b(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>b(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>b(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>b(()=>import("./zig-VOosw3JB.js"),[]))}],Qb=Object.fromEntries(Jh.map(t=>[t.id,t.import])),ev=Object.fromEntries(Jh.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),tv={...Qb,...ev},nv=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>b(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>b(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>b(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>b(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>b(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>b(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>b(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>b(()=>import("./dark-plus-eOWES_5F.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>b(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>b(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>b(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>b(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>b(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>b(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>b(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>b(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>b(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>b(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>b(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>b(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>b(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>b(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>b(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>b(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>b(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>b(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>b(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>b(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>b(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>b(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>b(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>b(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>b(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>b(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>b(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>b(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>b(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>b(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>b(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>b(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>b(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>b(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>b(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>b(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>b(()=>import("./rose-pine-BHrmToEH.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>b(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>b(()=>import("./rose-pine-moon-NleAzG8P.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>b(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>b(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>b(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>b(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>b(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>b(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>b(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>b(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>b(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>b(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>b(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],sv=Object.fromEntries(nv.map(t=>[t.id,t.import]));class nl extends Error{constructor(e){super(e),this.name="ShikiError"}}function rv(){return 2147483648}function ov(){return typeof performance<"u"?performance.now():Date.now()}const iv=(t,e)=>t+(e-t%e)%e;async function av(t){let e,n;const s={};function r(p){n=p,s.HEAPU8=new Uint8Array(p),s.HEAPU32=new Uint32Array(p)}function o(p,y,_){s.HEAPU8.copyWithin(p,y,y+_)}function i(p){try{return e.grow(p-n.byteLength+65535>>>16),r(e.buffer),1}catch{}}function a(p){const y=s.HEAPU8.length;p=p>>>0;const _=rv();if(p>_)return!1;for(let x=1;x<=4;x*=2){let v=y*(1+.2/x);v=Math.min(v,p+100663296);const w=Math.min(_,iv(Math.max(p,v),65536));if(i(w))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(p,y,_=1024){const x=y+_;let v=y;for(;p[v]&&!(v>=x);)++v;if(v-y>16&&p.buffer&&l)return l.decode(p.subarray(y,v));let w="";for(;y<v;){let N=p[y++];if(!(N&128)){w+=String.fromCharCode(N);continue}const A=p[y++]&63;if((N&224)===192){w+=String.fromCharCode((N&31)<<6|A);continue}const L=p[y++]&63;if((N&240)===224?N=(N&15)<<12|A<<6|L:N=(N&7)<<18|A<<12|L<<6|p[y++]&63,N<65536)w+=String.fromCharCode(N);else{const z=N-65536;w+=String.fromCharCode(55296|z>>10,56320|z&1023)}}return w}function d(p,y){return p?c(s.HEAPU8,p,y):""}const u={emscripten_get_now:ov,emscripten_memcpy_big:o,emscripten_resize_heap:a,fd_write:()=>0};async function f(){const y=await t({env:u,wasi_snapshot_preview1:u});e=y.memory,r(e.buffer),Object.assign(s,y),s.UTF8ToString=d}return await f(),s}var lv=Object.defineProperty,cv=(t,e,n)=>e in t?lv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,We=(t,e,n)=>cv(t,typeof e!="symbol"?e+"":e,n);let Ye=null;function dv(t){throw new nl(t.UTF8ToString(t.getLastOnigError()))}class Jo{constructor(e){We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16Value"),We(this,"utf8Value"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16");const n=e.length,s=Jo._utf8ByteLength(e),r=s!==n,o=r?new Uint32Array(n+1):null;r&&(o[n]=s);const i=r?new Uint32Array(s+1):null;r&&(i[s]=n);const a=new Uint8Array(s);let l=0;for(let c=0;c<n;c++){const d=e.charCodeAt(c);let u=d,f=!1;if(d>=55296&&d<=56319&&c+1<n){const p=e.charCodeAt(c+1);p>=56320&&p<=57343&&(u=(d-55296<<10)+65536|p-56320,f=!0)}r&&(o[c]=l,f&&(o[c+1]=l),u<=127?i[l+0]=c:u<=2047?(i[l+0]=c,i[l+1]=c):u<=65535?(i[l+0]=c,i[l+1]=c,i[l+2]=c):(i[l+0]=c,i[l+1]=c,i[l+2]=c,i[l+3]=c)),u<=127?a[l++]=u:u<=2047?(a[l++]=192|(u&1984)>>>6,a[l++]=128|(u&63)>>>0):u<=65535?(a[l++]=224|(u&61440)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0):(a[l++]=240|(u&1835008)>>>18,a[l++]=128|(u&258048)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0),f&&c++}this.utf16Length=n,this.utf8Length=s,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=i}static _utf8ByteLength(e){let n=0;for(let s=0,r=e.length;s<r;s++){const o=e.charCodeAt(s);let i=o,a=!1;if(o>=55296&&o<=56319&&s+1<r){const l=e.charCodeAt(s+1);l>=56320&&l<=57343&&(i=(o-55296<<10)+65536|l-56320,a=!0)}i<=127?n+=1:i<=2047?n+=2:i<=65535?n+=3:n+=4,a&&s++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const Ko=class jt{constructor(e){if(We(this,"id",++jt.LAST_ID),We(this,"_onigBinding"),We(this,"content"),We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16"),We(this,"ptr"),!Ye)throw new nl("Must invoke loadWasm first.");this._onigBinding=Ye,this.content=e;const n=new Jo(e);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!jt._sharedPtrInUse?(jt._sharedPtr||(jt._sharedPtr=Ye.omalloc(1e4)),jt._sharedPtrInUse=!0,Ye.HEAPU8.set(n.utf8Value,jt._sharedPtr),this.ptr=jt._sharedPtr):this.ptr=n.createString(Ye)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===jt._sharedPtr?jt._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};We(Ko,"LAST_ID",0);We(Ko,"_sharedPtr",0);We(Ko,"_sharedPtrInUse",!1);let Kh=Ko;class uv{constructor(e){if(We(this,"_onigBinding"),We(this,"_ptr"),!Ye)throw new nl("Must invoke loadWasm first.");const n=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=new Jo(e[a]);n[a]=c.createString(Ye),s[a]=c.utf8Length}const r=Ye.omalloc(4*e.length);Ye.HEAPU32.set(n,r/4);const o=Ye.omalloc(4*e.length);Ye.HEAPU32.set(s,o/4);const i=Ye.createOnigScanner(r,o,e.length);for(let a=0,l=e.length;a<l;a++)Ye.ofree(n[a]);Ye.ofree(o),Ye.ofree(r),i===0&&dv(Ye),this._onigBinding=Ye,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,s){let r=0;if(typeof s=="number"&&(r=s),typeof e=="string"){e=new Kh(e);const o=this._findNextMatchSync(e,n,!1,r);return e.dispose(),o}return this._findNextMatchSync(e,n,!1,r)}_findNextMatchSync(e,n,s,r){const o=this._onigBinding,i=o.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),r);if(i===0)return null;const a=o.HEAPU32;let l=i/4;const c=a[l++],d=a[l++],u=[];for(let f=0;f<d;f++){const p=e.convertUtf8OffsetToUtf16(a[l++]),y=e.convertUtf8OffsetToUtf16(a[l++]);u[f]={start:p,end:y,length:y-p}}return{index:c,captureIndices:u}}}function hv(t){return typeof t.instantiator=="function"}function fv(t){return typeof t.default=="function"}function pv(t){return typeof t.data<"u"}function mv(t){return typeof Response<"u"&&t instanceof Response}function gv(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Mr;function yv(t){if(Mr)return Mr;async function e(){Ye=await av(async n=>{let s=t;return s=await s,typeof s=="function"&&(s=await s(n)),typeof s=="function"&&(s=await s(n)),hv(s)?s=await s.instantiator(n):fv(s)?s=await s.default(n):(pv(s)&&(s=s.data),mv(s)?typeof WebAssembly.instantiateStreaming=="function"?s=await _v(s)(n):s=await bv(s)(n):gv(s)?s=await Ii(s)(n):s instanceof WebAssembly.Module?s=await Ii(s)(n):"default"in s&&s.default instanceof WebAssembly.Module&&(s=await Ii(s.default)(n))),"instance"in s&&(s=s.instance),"exports"in s&&(s=s.exports),s})}return Mr=e(),Mr}function Ii(t){return e=>WebAssembly.instantiate(t,e)}function _v(t){return e=>WebAssembly.instantiateStreaming(t,e)}function bv(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}async function vv(t){return t&&await yv(t),{createScanner(e){return new uv(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new Kh(e)}}}const xv=Kb({langs:tv,themes:sv,engine:()=>vv(b(()=>import("./wasm-CG6Dc4jp.js"),[]))});let Or=null,Li=null;function wv(){const t=ae(!1);async function e(){return Or?(t.value=!0,Or):(Li||(Li=xv({themes:["github-dark","github-light"],langs:["javascript","typescript","python","bash","json","css","html"]})),Or=await Li,t.value=!0,Or)}async function n(s,r="javascript",o="github-dark"){return(await e()).codeToHtml(s,{lang:r,theme:o})}return Dn(()=>{e()}),{isReady:t,highlight:n,initHighlighter:e}}const Es=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},kv={class:"code-block-wrapper"},Av={key:0,class:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4"},Cv=["innerHTML"],Sv={__name:"CodeBlock",props:{code:{type:String,required:!0},language:{type:String,default:"javascript"},customClass:{type:String,default:""}},setup(t){const e=t,{highlight:n}=wv(),{darkMode:s}=fh(),r=ae(""),o=ae(!0),i=it(()=>s.value?"github-dark":"github-light");async function a(){o.value=!0;try{r.value=await n(e.code,e.language,i.value)}catch(l){console.error("Failed to highlight code:",l),r.value=`<pre class="bg-gray-900 rounded-lg p-4"><code>${e.code}</code></pre>`}finally{o.value=!1}}return St([()=>e.code,()=>e.language,i],a),Dn(a),(l,c)=>(U(),q("div",kv,[o.value?(U(),q("div",Av,[...c[0]||(c[0]=[h("div",{class:"animate-pulse"},[h("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),h("div",{class:"h-4 bg-gray-700 rounded w-1/2"})],-1)])])):(U(),q("div",{key:1,innerHTML:r.value,class:bt(["code-block rounded-lg overflow-x-auto",t.customClass])},null,10,Cv))]))}},mt=Es(Sv,[["__scopeId","data-v-fdf7ed14"]]),Nv={class:"relative"},Ev={class:"relative py-20 px-4"},Tv={class:"max-w-4xl mx-auto text-center"},Iv={class:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent"},Lv={class:"text-xl md:text-2xl text-secondary mb-4"},Rv={class:"text-lg text-secondary mb-8 max-w-2xl mx-auto"},Pv={class:"flex flex-col sm:flex-row gap-4 justify-center"},Dv={href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-secondary"},Mv={class:"container-main section py-16"},Ov={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},Gv={class:"text-4xl mb-4"},Vv={class:"text-xl font-bold mb-2"},Fv={class:"text-secondary"},$v={class:"container-main section py-16"},Bv={class:"max-w-3xl mx-auto"},zv={class:"card overflow-hidden"},Hv={class:"flex items-center justify-between px-6 py-3 bg-[var(--color-bg-tertiary)] border-b border-[var(--color-border)]"},jv={class:"text-secondary font-mono text-sm"},Uv=`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`,Wv={__name:"HomePage",setup(t){const{t:e}=Jt();return(n,s)=>{const r=Ui("router-link");return U(),q("div",Nv,[h("div",Ev,[h("div",Tv,[h("h1",Iv,g(m(e)("home.hero.title")),1),h("p",Lv,g(m(e)("home.hero.subtitle")),1),h("p",Rv,g(m(e)("home.hero.description")),1),h("div",Pv,[_e(r,{to:"/showcase",class:"btn-primary"},{default:Be(()=>[xe("  "+g(m(e)("home.hero.cta")),1)]),_:1}),h("a",Dv,"  "+g(m(e)("home.hero.github")),1)])])]),h("div",Mv,[h("div",Ov,[(U(!0),q(Ge,null,Nn(m(e)("home.features"),(o,i)=>(U(),q("div",{key:i,class:"card p-6 hover:shadow-xl transition-shadow"},[h("div",Gv,g(o.icon),1),h("h3",Vv,g(o.title),1),h("p",Fv,g(o.description),1)]))),128))])]),h("div",$v,[h("div",Bv,[h("div",zv,[h("div",Hv,[h("span",jv,g(m(e)("home.code.title")),1),s[0]||(s[0]=h("div",{class:"flex gap-2"},[h("div",{class:"w-3 h-3 rounded-full bg-red-500"}),h("div",{class:"w-3 h-3 rounded-full bg-yellow-500"}),h("div",{class:"w-3 h-3 rounded-full bg-green-500"})],-1))]),_e(mt,{code:Uv,language:"javascript"})])])])])}}},Xv={class:"demo-layout"},qv={class:"demo-controls-content"},Zv={class:"demo-graph"},Yv=["aria-label"],Jv={key:0,class:"text-2xl"},Kv={key:1,class:"text-2xl"},sl={__name:"DemoLayout",setup(t,{expose:e}){const n=ae(!1),s=()=>{n.value=!n.value};return e({toggleControls:s,controlsVisible:n}),(r,o)=>(U(),q("div",Xv,[h("aside",{class:bt(["demo-controls",n.value?"mobile-visible":"mobile-hidden"])},[h("div",qv,[Wi(r.$slots,"controls")])],2),h("main",Zv,[Wi(r.$slots,"graph")]),h("button",{onClick:s,class:"demo-controls-toggle lg:hidden","aria-label":n.value?"Close controls":"Open controls"},[n.value?(U(),q("span",Kv,"")):(U(),q("span",Jv,""))],8,Yv)]))}},Qv={class:"layout-picker"},e1={class:"space-y-2"},t1={class:"block text-sm font-medium text-secondary"},n1=["value","disabled"],s1=["value"],r1=["disabled"],o1={key:0},i1={key:1},a1={key:0,class:"info-box-yellow mt-3"},l1={class:"text-xs text-yellow-800 dark:text-yellow-200"},c1={__name:"LayoutPicker",props:{modelValue:{type:String,required:!0},availableLayouts:{type:Array,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","apply"],setup(t,{emit:e}){const{t:n}=Jt(),s=t,r=it(()=>s.availableLayouts.find(o=>o.id===s.modelValue));return(o,i)=>(U(),q("div",Qv,[h("div",e1,[h("label",t1,g(m(n)("showcase.layoutPicker.chooseLayout")),1),h("select",{value:t.modelValue,onInput:i[0]||(i[0]=a=>o.$emit("update:modelValue",a.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(U(!0),q(Ge,null,Nn(t.availableLayouts,a=>(U(),q("option",{key:a.id,value:a.id},g(a.name),9,s1))),128))],40,n1)]),h("button",{onClick:i[1]||(i[1]=a=>o.$emit("apply")),disabled:t.disabled||t.loading,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.loading?(U(),q("span",i1,g(m(n)("showcase.layoutPicker.applyingButton")),1)):(U(),q("span",o1,g(m(n)("showcase.layoutPicker.applyButton")),1))],8,r1),t.modelValue!=="none"&&r.value?(U(),q("div",a1,[h("p",l1,[h("strong",null,g(r.value.name)+":",1),xe(" "+g(r.value.description),1)])])):Re("",!0)]))}},rl=Es(c1,[["__scopeId","data-v-49c14ca8"]]),d1={class:"community-picker"},u1={class:"space-y-2"},h1={class:"block text-sm font-medium text-secondary"},f1=["value","disabled"],p1=["value"],m1=["disabled"],g1={key:0},y1={key:1},_1={__name:"CommunityPicker",props:{modelValue:{type:String,required:!0},availableAlgorithms:{type:Array,required:!0},detecting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue","detect"],setup(t,{emit:e}){const{t:n}=Jt();return(s,r)=>(U(),q("div",d1,[h("div",u1,[h("label",h1,g(t.label||m(n)("showcase.communityPicker.chooseAlgorithm")),1),h("select",{value:t.modelValue,onInput:r[0]||(r[0]=o=>s.$emit("update:modelValue",o.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(U(!0),q(Ge,null,Nn(t.availableAlgorithms,o=>(U(),q("option",{key:o.id,value:o.id},g(o.name),9,p1))),128))],40,f1)]),h("button",{onClick:r[1]||(r[1]=o=>s.$emit("detect")),disabled:t.disabled||t.detecting,class:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.detecting?(U(),q("span",y1,g(m(n)("showcase.communityPicker.detectingButton")),1)):(U(),q("span",g1,g(m(n)("showcase.communityPicker.detectButton")),1))],8,m1),Wi(s.$slots,"results",{},void 0,!0)]))}},Qh=Es(_1,[["__scopeId","data-v-1b411c72"]]),b1={class:"network-analysis"},v1={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 space-y-2 mb-3"},x1={class:"text-sm font-semibold text-primary"},w1={class:"space-y-2"},k1={class:"flex items-center gap-2 text-sm"},A1=["checked"],C1={class:"text-secondary"},S1={class:"flex items-center gap-2 text-sm"},N1=["checked"],E1={class:"text-secondary"},T1={class:"flex items-center gap-2 text-sm"},I1=["checked"],L1={class:"text-secondary"},R1={class:"flex items-center gap-2 text-sm"},P1=["checked"],D1={class:"text-secondary"},M1={key:0,class:"flex items-center gap-2 text-sm"},O1=["checked"],G1={class:"text-secondary"},V1={class:"space-y-2 mb-3"},F1={class:"block text-sm font-medium text-secondary"},$1=["value","disabled"],B1={value:""},z1={key:0,value:"degree"},H1={key:1,value:"betweenness"},j1={key:2,value:"clustering"},U1={key:3,value:"eigenvector"},W1=["disabled"],X1={key:0},q1={key:1},Z1={key:0,class:"mt-2"},Y1={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},J1={class:"text-xs text-secondary mt-1 text-center"},K1={__name:"NetworkAnalysis",props:{selectedMetrics:{type:Array,required:!0},sizeMetric:{type:String,default:""},analyzing:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},progress:{type:Number,default:0},showSpectralMetric:{type:Boolean,default:!1}},emits:["update:selectedMetrics","update:sizeMetric","analyze"],setup(t,{emit:e}){const{t:n}=Jt(),s=t,r=e,o=(i,a)=>{let l=[...s.selectedMetrics];a?l.includes(i)||l.push(i):l=l.filter(c=>c!==i),r("update:selectedMetrics",l)};return(i,a)=>(U(),q("div",b1,[h("div",v1,[h("h3",x1,g(m(n)("showcase.networkAnalysis.metricsTitle")),1),h("div",w1,[h("label",k1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("degree"),onChange:a[0]||(a[0]=l=>o("degree",l.target.checked)),class:"rounded"},null,40,A1),h("span",C1,g(m(n)("showcase.networkAnalysis.degreeCentrality")),1)]),h("label",S1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("betweenness"),onChange:a[1]||(a[1]=l=>o("betweenness",l.target.checked)),class:"rounded"},null,40,N1),h("span",E1,g(m(n)("showcase.networkAnalysis.betweennessCentrality")),1)]),h("label",T1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("clustering"),onChange:a[2]||(a[2]=l=>o("clustering",l.target.checked)),class:"rounded"},null,40,I1),h("span",L1,g(m(n)("showcase.networkAnalysis.clusteringCoefficient")),1)]),h("label",R1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector"),onChange:a[3]||(a[3]=l=>o("eigenvector",l.target.checked)),class:"rounded"},null,40,P1),h("span",D1,g(m(n)("showcase.networkAnalysis.eigenvectorCentrality")),1)]),t.showSpectralMetric?(U(),q("label",M1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector-laplacian"),onChange:a[4]||(a[4]=l=>o("eigenvector-laplacian",l.target.checked)),class:"rounded"},null,40,O1),h("span",G1,g(m(n)("showcase.networkAnalysis.eigenvectorLaplacian")),1)])):Re("",!0)])]),h("div",V1,[h("label",F1,g(m(n)("showcase.networkAnalysis.nodeSizeLabel")),1),h("select",{value:t.sizeMetric,onInput:a[5]||(a[5]=l=>i.$emit("update:sizeMetric",l.target.value)),disabled:t.disabled||t.selectedMetrics.length===0,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[h("option",B1,g(m(n)("showcase.networkAnalysis.selectMetric")),1),t.selectedMetrics.includes("degree")?(U(),q("option",z1,g(m(n)("showcase.networkAnalysis.degreeName")),1)):Re("",!0),t.selectedMetrics.includes("betweenness")?(U(),q("option",H1,g(m(n)("showcase.networkAnalysis.betweennessName")),1)):Re("",!0),t.selectedMetrics.includes("clustering")?(U(),q("option",j1,g(m(n)("showcase.networkAnalysis.clusteringName")),1)):Re("",!0),t.selectedMetrics.includes("eigenvector")?(U(),q("option",U1,g(m(n)("showcase.networkAnalysis.eigenvectorName")),1)):Re("",!0)],40,$1)]),h("button",{onClick:a[6]||(a[6]=l=>i.$emit("analyze")),disabled:t.disabled||t.analyzing||t.selectedMetrics.length===0,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors"},[t.analyzing?(U(),q("span",q1,g(m(n)("showcase.networkAnalysis.analyzingButton")),1)):(U(),q("span",X1,g(m(n)("showcase.networkAnalysis.analyzeButton")),1))],8,W1),t.analyzing&&t.progress>0?(U(),q("div",Z1,[h("div",Y1,[h("div",{class:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:Vo({width:`${t.progress*100}%`})},null,4)]),h("p",J1,g(Math.round(t.progress*100))+"% ",1)])):Re("",!0)]))}},ol=Es(K1,[["__scopeId","data-v-44232eba"]]);function Yr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q1(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ef(t){let e,n,s;t.length!==2?(e=Yr,n=(a,l)=>Yr(t(a),l),s=(a,l)=>t(a)-l):(e=t===Yr||t===Q1?t:ex,n=t,s=t);function r(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function i(a,l,c=0,d=a.length){const u=r(a,l,c,d-1);return u>c&&s(a[u-1],l)>-s(a[u],l)?u-1:u}return{left:r,center:i,right:o}}function ex(){return 0}function tx(t){return t===null?NaN:+t}const nx=ef(Yr),sx=nx.right;ef(tx).center;class ed extends Map{constructor(e,n=ix){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[s,r]of e)this.set(s,r)}get(e){return super.get(td(this,e))}has(e){return super.has(td(this,e))}set(e,n){return super.set(rx(this,e),n)}delete(e){return super.delete(ox(this,e))}}function td({_intern:t,_key:e},n){const s=e(n);return t.has(s)?t.get(s):n}function rx({_intern:t,_key:e},n){const s=e(n);return t.has(s)?t.get(s):(t.set(s,n),n)}function ox({_intern:t,_key:e},n){const s=e(n);return t.has(s)&&(n=t.get(s),t.delete(s)),n}function ix(t){return t!==null&&typeof t=="object"?t.valueOf():t}const ax=Math.sqrt(50),lx=Math.sqrt(10),cx=Math.sqrt(2);function ko(t,e,n){const s=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(s)),o=s/Math.pow(10,r),i=o>=ax?10:o>=lx?5:o>=cx?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/i,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*i,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?ko(t,e,n*2):[a,l,c]}function dx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const s=e<t,[r,o,i]=s?ko(e,t,n):ko(t,e,n);if(!(o>=r))return[];const a=o-r+1,l=new Array(a);if(s)if(i<0)for(let c=0;c<a;++c)l[c]=(o-c)/-i;else for(let c=0;c<a;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<a;++c)l[c]=(r+c)/-i;else for(let c=0;c<a;++c)l[c]=(r+c)*i;return l}function ya(t,e,n){return e=+e,t=+t,n=+n,ko(t,e,n)[2]}function ux(t,e,n){e=+e,t=+t,n=+n;const s=e<t,r=s?ya(e,t,n):ya(t,e,n);return(s?-1:1)*(r<0?1/-r:r)}var hx={value:()=>{}};function wr(){for(var t=0,e=arguments.length,n={},s;t<e;++t){if(!(s=arguments[t]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Jr(n)}function Jr(t){this._=t}function fx(t,e){return t.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Jr.prototype=wr.prototype={constructor:Jr,on:function(t,e){var n=this._,s=fx(t+"",n),r,o=-1,i=s.length;if(arguments.length<2){for(;++o<i;)if((r=(t=s[o]).type)&&(r=px(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(r=(t=s[o]).type)n[r]=nd(n[r],t.name,e);else if(e==null)for(r in n)n[r]=nd(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jr(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,o;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],s=0,r=o.length;s<r;++s)o[s].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],r=0,o=s.length;r<o;++r)s[r].value.apply(e,n)}};function px(t,e){for(var n=0,s=t.length,r;n<s;++n)if((r=t[n]).name===e)return r.value}function nd(t,e,n){for(var s=0,r=t.length;s<r;++s)if(t[s].name===e){t[s]=hx,t=t.slice(0,s).concat(t.slice(s+1));break}return n!=null&&t.push({name:e,value:n}),t}var _a="http://www.w3.org/1999/xhtml";const sd={svg:"http://www.w3.org/2000/svg",xhtml:_a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sd.hasOwnProperty(e)?{space:sd[e],local:t}:t}function mx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_a&&e.documentElement.namespaceURI===_a?e.createElement(t):e.createElementNS(n,t)}}function gx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tf(t){var e=Qo(t);return(e.local?gx:mx)(e)}function yx(){}function il(t){return t==null?yx:function(){return this.querySelector(t)}}function _x(t){typeof t!="function"&&(t=il(t));for(var e=this._groups,n=e.length,s=new Array(n),r=0;r<n;++r)for(var o=e[r],i=o.length,a=s[r]=new Array(i),l,c,d=0;d<i;++d)(l=o[d])&&(c=t.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Nt(s,this._parents)}function bx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vx(){return[]}function nf(t){return t==null?vx:function(){return this.querySelectorAll(t)}}function xx(t){return function(){return bx(t.apply(this,arguments))}}function wx(t){typeof t=="function"?t=xx(t):t=nf(t);for(var e=this._groups,n=e.length,s=[],r=[],o=0;o<n;++o)for(var i=e[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(s.push(t.call(l,l.__data__,c,i)),r.push(l));return new Nt(s,r)}function sf(t){return function(){return this.matches(t)}}function rf(t){return function(e){return e.matches(t)}}var kx=Array.prototype.find;function Ax(t){return function(){return kx.call(this.children,t)}}function Cx(){return this.firstElementChild}function Sx(t){return this.select(t==null?Cx:Ax(typeof t=="function"?t:rf(t)))}var Nx=Array.prototype.filter;function Ex(){return Array.from(this.children)}function Tx(t){return function(){return Nx.call(this.children,t)}}function Ix(t){return this.selectAll(t==null?Ex:Tx(typeof t=="function"?t:rf(t)))}function Lx(t){typeof t!="function"&&(t=sf(t));for(var e=this._groups,n=e.length,s=new Array(n),r=0;r<n;++r)for(var o=e[r],i=o.length,a=s[r]=[],l,c=0;c<i;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new Nt(s,this._parents)}function of(t){return new Array(t.length)}function Rx(){return new Nt(this._enter||this._groups.map(of),this._parents)}function Ao(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ao.prototype={constructor:Ao,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Px(t){return function(){return t}}function Dx(t,e,n,s,r,o){for(var i=0,a,l=e.length,c=o.length;i<c;++i)(a=e[i])?(a.__data__=o[i],s[i]=a):n[i]=new Ao(t,o[i]);for(;i<l;++i)(a=e[i])&&(r[i]=a)}function Mx(t,e,n,s,r,o,i){var a,l,c=new Map,d=e.length,u=o.length,f=new Array(d),p;for(a=0;a<d;++a)(l=e[a])&&(f[a]=p=i.call(l,l.__data__,a,e)+"",c.has(p)?r[a]=l:c.set(p,l));for(a=0;a<u;++a)p=i.call(t,o[a],a,o)+"",(l=c.get(p))?(s[a]=l,l.__data__=o[a],c.delete(p)):n[a]=new Ao(t,o[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(f[a])===l&&(r[a]=l)}function Ox(t){return t.__data__}function Gx(t,e){if(!arguments.length)return Array.from(this,Ox);var n=e?Mx:Dx,s=this._parents,r=this._groups;typeof t!="function"&&(t=Px(t));for(var o=r.length,i=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var d=s[c],u=r[c],f=u.length,p=Vx(t.call(d,d&&d.__data__,c,s)),y=p.length,_=a[c]=new Array(y),x=i[c]=new Array(y),v=l[c]=new Array(f);n(d,u,_,x,v,p,e);for(var w=0,N=0,A,L;w<y;++w)if(A=_[w]){for(w>=N&&(N=w+1);!(L=x[N])&&++N<y;);A._next=L||null}}return i=new Nt(i,s),i._enter=a,i._exit=l,i}function Vx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fx(){return new Nt(this._exit||this._groups.map(of),this._parents)}function $x(t,e,n){var s=this.enter(),r=this,o=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),s&&r?s.merge(r).order():r}function Bx(t){for(var e=t.selection?t.selection():t,n=this._groups,s=e._groups,r=n.length,o=s.length,i=Math.min(r,o),a=new Array(r),l=0;l<i;++l)for(var c=n[l],d=s[l],u=c.length,f=a[l]=new Array(u),p,y=0;y<u;++y)(p=c[y]||d[y])&&(f[y]=p);for(;l<r;++l)a[l]=n[l];return new Nt(a,this._parents)}function zx(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s=t[e],r=s.length-1,o=s[r],i;--r>=0;)(i=s[r])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function Hx(t){t||(t=jx);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var n=this._groups,s=n.length,r=new Array(s),o=0;o<s;++o){for(var i=n[o],a=i.length,l=r[o]=new Array(a),c,d=0;d<a;++d)(c=i[d])&&(l[d]=c);l.sort(e)}return new Nt(r,this._parents).order()}function jx(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ux(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wx(){return Array.from(this)}function Xx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s=t[e],r=0,o=s.length;r<o;++r){var i=s[r];if(i)return i}return null}function qx(){let t=0;for(const e of this)++t;return t}function Zx(){return!this.node()}function Yx(t){for(var e=this._groups,n=0,s=e.length;n<s;++n)for(var r=e[n],o=0,i=r.length,a;o<i;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Jx(t){return function(){this.removeAttribute(t)}}function Kx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qx(t,e){return function(){this.setAttribute(t,e)}}function ew(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function nw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function sw(t,e){var n=Qo(t);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((e==null?n.local?Kx:Jx:typeof e=="function"?n.local?nw:tw:n.local?ew:Qx)(n,e))}function af(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rw(t){return function(){this.style.removeProperty(t)}}function ow(t,e,n){return function(){this.style.setProperty(t,e,n)}}function iw(t,e,n){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,n)}}function aw(t,e,n){return arguments.length>1?this.each((e==null?rw:typeof e=="function"?iw:ow)(t,e,n??"")):ws(this.node(),t)}function ws(t,e){return t.style.getPropertyValue(e)||af(t).getComputedStyle(t,null).getPropertyValue(e)}function lw(t){return function(){delete this[t]}}function cw(t,e){return function(){this[t]=e}}function dw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function uw(t,e){return arguments.length>1?this.each((e==null?lw:typeof e=="function"?dw:cw)(t,e)):this.node()[t]}function lf(t){return t.trim().split(/^|\s+/)}function al(t){return t.classList||new cf(t)}function cf(t){this._node=t,this._names=lf(t.getAttribute("class")||"")}cf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function df(t,e){for(var n=al(t),s=-1,r=e.length;++s<r;)n.add(e[s])}function uf(t,e){for(var n=al(t),s=-1,r=e.length;++s<r;)n.remove(e[s])}function hw(t){return function(){df(this,t)}}function fw(t){return function(){uf(this,t)}}function pw(t,e){return function(){(e.apply(this,arguments)?df:uf)(this,t)}}function mw(t,e){var n=lf(t+"");if(arguments.length<2){for(var s=al(this.node()),r=-1,o=n.length;++r<o;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?pw:e?hw:fw)(n,e))}function gw(){this.textContent=""}function yw(t){return function(){this.textContent=t}}function _w(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function bw(t){return arguments.length?this.each(t==null?gw:(typeof t=="function"?_w:yw)(t)):this.node().textContent}function vw(){this.innerHTML=""}function xw(t){return function(){this.innerHTML=t}}function ww(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kw(t){return arguments.length?this.each(t==null?vw:(typeof t=="function"?ww:xw)(t)):this.node().innerHTML}function Aw(){this.nextSibling&&this.parentNode.appendChild(this)}function Cw(){return this.each(Aw)}function Sw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nw(){return this.each(Sw)}function Ew(t){var e=typeof t=="function"?t:tf(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Tw(){return null}function Iw(t,e){var n=typeof t=="function"?t:tf(t),s=e==null?Tw:typeof e=="function"?e:il(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function Lw(){var t=this.parentNode;t&&t.removeChild(this)}function Rw(){return this.each(Lw)}function Pw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dw(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mw(t){return this.select(t?Dw:Pw)}function Ow(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gw(t){return function(e){t.call(this,e,this.__data__)}}function Vw(t){return t.trim().split(/^|\s+/).map(function(e){var n="",s=e.indexOf(".");return s>=0&&(n=e.slice(s+1),e=e.slice(0,s)),{type:e,name:n}})}function Fw(t){return function(){var e=this.__on;if(e){for(var n=0,s=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++s]=o;++s?e.length=s:delete this.__on}}}function $w(t,e,n){return function(){var s=this.__on,r,o=Gw(e);if(s){for(var i=0,a=s.length;i<a;++i)if((r=s[i]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},s?s.push(r):this.__on=[r]}}function Bw(t,e,n){var s=Vw(t+""),r,o=s.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(r=0,d=a[l];r<o;++r)if((i=s[r]).type===d.type&&i.name===d.name)return d.value}return}for(a=e?$w:Fw,r=0;r<o;++r)this.each(a(s[r],e,n));return this}function hf(t,e,n){var s=af(t),r=s.CustomEvent;typeof r=="function"?r=new r(e,n):(r=s.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function zw(t,e){return function(){return hf(this,t,e)}}function Hw(t,e){return function(){return hf(this,t,e.apply(this,arguments))}}function jw(t,e){return this.each((typeof e=="function"?Hw:zw)(t,e))}function*Uw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s=t[e],r=0,o=s.length,i;r<o;++r)(i=s[r])&&(yield i)}var ff=[null];function Nt(t,e){this._groups=t,this._parents=e}function kr(){return new Nt([[document.documentElement]],ff)}function Ww(){return this}Nt.prototype=kr.prototype={constructor:Nt,select:_x,selectAll:wx,selectChild:Sx,selectChildren:Ix,filter:Lx,data:Gx,enter:Rx,exit:Fx,join:$x,merge:Bx,selection:Ww,order:zx,sort:Hx,call:Ux,nodes:Wx,node:Xx,size:qx,empty:Zx,each:Yx,attr:sw,style:aw,property:uw,classed:mw,text:bw,html:kw,raise:Cw,lower:Nw,append:Ew,insert:Iw,remove:Rw,clone:Mw,datum:Ow,on:Bw,dispatch:jw,[Symbol.iterator]:Uw};function _t(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],ff)}function Xw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function an(t,e){if(t=Xw(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(e.getScreenCTM().inverse()),[s.x,s.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const qw={passive:!1},hr={capture:!0,passive:!1};function Ri(t){t.stopImmediatePropagation()}function ps(t){t.preventDefault(),t.stopImmediatePropagation()}function pf(t){var e=t.document.documentElement,n=_t(t).on("dragstart.drag",ps,hr);"onselectstart"in e?n.on("selectstart.drag",ps,hr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mf(t,e){var n=t.document.documentElement,s=_t(t).on("dragstart.drag",null);e&&(s.on("click.drag",ps,hr),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gr=t=>()=>t;function ba(t,{sourceEvent:e,subject:n,target:s,identifier:r,active:o,x:i,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}ba.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Zw(t){return!t.ctrlKey&&!t.button}function Yw(){return this.parentNode}function Jw(t,e){return e??{x:t.x,y:t.y}}function Kw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qw(){var t=Zw,e=Yw,n=Jw,s=Kw,r={},o=wr("start","drag","end"),i=0,a,l,c,d,u=0;function f(A){A.on("mousedown.drag",p).filter(s).on("touchstart.drag",x).on("touchmove.drag",v,qw).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(A,L){if(!(d||!t.call(this,A,L))){var z=N(this,e.call(this,A,L),A,L,"mouse");z&&(_t(A.view).on("mousemove.drag",y,hr).on("mouseup.drag",_,hr),pf(A.view),Ri(A),c=!1,a=A.clientX,l=A.clientY,z("start",A))}}function y(A){if(ps(A),!c){var L=A.clientX-a,z=A.clientY-l;c=L*L+z*z>u}r.mouse("drag",A)}function _(A){_t(A.view).on("mousemove.drag mouseup.drag",null),mf(A.view,c),ps(A),r.mouse("end",A)}function x(A,L){if(t.call(this,A,L)){var z=A.changedTouches,H=e.call(this,A,L),ee=z.length,W,Z;for(W=0;W<ee;++W)(Z=N(this,H,A,L,z[W].identifier,z[W]))&&(Ri(A),Z("start",A,z[W]))}}function v(A){var L=A.changedTouches,z=L.length,H,ee;for(H=0;H<z;++H)(ee=r[L[H].identifier])&&(ps(A),ee("drag",A,L[H]))}function w(A){var L=A.changedTouches,z=L.length,H,ee;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),H=0;H<z;++H)(ee=r[L[H].identifier])&&(Ri(A),ee("end",A,L[H]))}function N(A,L,z,H,ee,W){var Z=o.copy(),j=an(W||z,L),R,G,S;if((S=n.call(A,new ba("beforestart",{sourceEvent:z,target:f,identifier:ee,active:i,x:j[0],y:j[1],dx:0,dy:0,dispatch:Z}),H))!=null)return R=S.x-j[0]||0,G=S.y-j[1]||0,function M(I,V,X){var oe=j,ue;switch(I){case"start":r[ee]=M,ue=i++;break;case"end":delete r[ee],--i;case"drag":j=an(X||V,L),ue=i;break}Z.call(I,A,new ba(I,{sourceEvent:V,subject:S,target:f,identifier:ee,active:ue,x:j[0]+R,y:j[1]+G,dx:j[0]-oe[0],dy:j[1]-oe[1],dispatch:Z}),H)}}return f.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Gr(!!A),f):t},f.container=function(A){return arguments.length?(e=typeof A=="function"?A:Gr(A),f):e},f.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Gr(A),f):n},f.touchable=function(A){return arguments.length?(s=typeof A=="function"?A:Gr(!!A),f):s},f.on=function(){var A=o.on.apply(o,arguments);return A===o?f:A},f.clickDistance=function(A){return arguments.length?(u=(A=+A)*A,f):Math.sqrt(u)},f}function ll(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gf(t,e){var n=Object.create(t.prototype);for(var s in e)n[s]=e[s];return n}function Ar(){}var fr=.7,Co=1/fr,ms="\\s*([+-]?\\d+)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ek=/^#([0-9a-f]{3,8})$/,tk=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),nk=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),sk=new RegExp(`^rgba\\(${ms},${ms},${ms},${pr}\\)$`),rk=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${pr}\\)$`),ok=new RegExp(`^hsl\\(${pr},${Yt},${Yt}\\)$`),ik=new RegExp(`^hsla\\(${pr},${Yt},${Yt},${pr}\\)$`),rd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ll(Ar,Zn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:od,formatHex:od,formatHex8:ak,formatHsl:lk,formatRgb:id,toString:id});function od(){return this.rgb().formatHex()}function ak(){return this.rgb().formatHex8()}function lk(){return yf(this).formatHsl()}function id(){return this.rgb().formatRgb()}function Zn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ek.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ad(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tk.exec(t))?new vt(e[1],e[2],e[3],1):(e=nk.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sk.exec(t))?Vr(e[1],e[2],e[3],e[4]):(e=rk.exec(t))?Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ok.exec(t))?dd(e[1],e[2]/100,e[3]/100,1):(e=ik.exec(t))?dd(e[1],e[2]/100,e[3]/100,e[4]):rd.hasOwnProperty(t)?ad(rd[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function ad(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Vr(t,e,n,s){return s<=0&&(t=e=n=NaN),new vt(t,e,n,s)}function ck(t){return t instanceof Ar||(t=Zn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function va(t,e,n,s){return arguments.length===1?ck(t):new vt(t,e,n,s??1)}function vt(t,e,n,s){this.r=+t,this.g=+e,this.b=+n,this.opacity=+s}ll(vt,va,gf(Ar,{brighter(t){return t=t==null?Co:Math.pow(Co,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Xn(this.r),Xn(this.g),Xn(this.b),So(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ld,formatHex:ld,formatHex8:dk,formatRgb:cd,toString:cd}));function ld(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function dk(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function cd(){const t=So(this.opacity);return`${t===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${t===1?")":`, ${t})`}`}function So(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Un(t){return t=Xn(t),(t<16?"0":"")+t.toString(16)}function dd(t,e,n,s){return s<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pt(t,e,n,s)}function yf(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);if(t instanceof Ar||(t=Zn(t)),!t)return new Pt;if(t instanceof Pt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,s=t.b/255,r=Math.min(e,n,s),o=Math.max(e,n,s),i=NaN,a=o-r,l=(o+r)/2;return a?(e===o?i=(n-s)/a+(n<s)*6:n===o?i=(s-e)/a+2:i=(e-n)/a+4,a/=l<.5?o+r:2-o-r,i*=60):a=l>0&&l<1?0:i,new Pt(i,a,l,t.opacity)}function uk(t,e,n,s){return arguments.length===1?yf(t):new Pt(t,e,n,s??1)}function Pt(t,e,n,s){this.h=+t,this.s=+e,this.l=+n,this.opacity=+s}ll(Pt,uk,gf(Ar,{brighter(t){return t=t==null?Co:Math.pow(Co,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*e,r=2*n-s;return new vt(Pi(t>=240?t-240:t+120,r,s),Pi(t,r,s),Pi(t<120?t+240:t-120,r,s),this.opacity)},clamp(){return new Pt(ud(this.h),Fr(this.s),Fr(this.l),So(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=So(this.opacity);return`${t===1?"hsl(":"hsla("}${ud(this.h)}, ${Fr(this.s)*100}%, ${Fr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ud(t){return t=(t||0)%360,t<0?t+360:t}function Fr(t){return Math.max(0,Math.min(1,t||0))}function Pi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cl=t=>()=>t;function hk(t,e){return function(n){return t+n*e}}function fk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(s){return Math.pow(t+s*e,n)}}function pk(t){return(t=+t)==1?_f:function(e,n){return n-e?fk(e,n,t):cl(isNaN(e)?n:e)}}function _f(t,e){var n=e-t;return n?hk(t,n):cl(isNaN(t)?e:t)}const No=(function t(e){var n=pk(e);function s(r,o){var i=n((r=va(r)).r,(o=va(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),c=_f(r.opacity,o.opacity);return function(d){return r.r=i(d),r.g=a(d),r.b=l(d),r.opacity=c(d),r+""}}return s.gamma=t,s})(1);function mk(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,s=e.slice(),r;return function(o){for(r=0;r<n;++r)s[r]=t[r]*(1-o)+e[r]*o;return s}}function gk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yk(t,e){var n=e?e.length:0,s=t?Math.min(n,t.length):0,r=new Array(s),o=new Array(n),i;for(i=0;i<s;++i)r[i]=ei(t[i],e[i]);for(;i<n;++i)o[i]=e[i];return function(a){for(i=0;i<s;++i)o[i]=r[i](a);return o}}function _k(t,e){var n=new Date;return t=+t,e=+e,function(s){return n.setTime(t*(1-s)+e*s),n}}function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bk(t,e){var n={},s={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=ei(t[r],e[r]):s[r]=e[r];return function(o){for(r in n)s[r]=n[r](o);return s}}var xa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Di=new RegExp(xa.source,"g");function vk(t){return function(){return t}}function xk(t){return function(e){return t(e)+""}}function bf(t,e){var n=xa.lastIndex=Di.lastIndex=0,s,r,o,i=-1,a=[],l=[];for(t=t+"",e=e+"";(s=xa.exec(t))&&(r=Di.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(s=s[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Rt(s,r)})),n=Di.lastIndex;return n<e.length&&(o=e.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?xk(l[0].x):vk(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function ei(t,e){var n=typeof e,s;return e==null||n==="boolean"?cl(e):(n==="number"?Rt:n==="string"?(s=Zn(e))?(e=s,No):bf:e instanceof Zn?No:e instanceof Date?_k:gk(e)?mk:Array.isArray(e)?yk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bk:Rt)(t,e)}function vf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var hd=180/Math.PI,wa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xf(t,e,n,s,r,o){var i,a,l;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(l=t*n+e*s)&&(n-=t*l,s-=e*l),(a=Math.sqrt(n*n+s*s))&&(n/=a,s/=a,l/=a),t*s<e*n&&(t=-t,e=-e,l=-l,i=-i),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*hd,skewX:Math.atan(l)*hd,scaleX:i,scaleY:a}}var $r;function wk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wa:xf(e.a,e.b,e.c,e.d,e.e,e.f)}function kk(t){return t==null||($r||($r=document.createElementNS("http://www.w3.org/2000/svg","g")),$r.setAttribute("transform",t),!(t=$r.transform.baseVal.consolidate()))?wa:(t=t.matrix,xf(t.a,t.b,t.c,t.d,t.e,t.f))}function wf(t,e,n,s){function r(c){return c.length?c.pop()+" ":""}function o(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push("translate(",null,e,null,n);y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u||f)&&p.push("translate("+u+e+f+n)}function i(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(r(u)+"rotate(",null,s)-2,x:Rt(c,d)})):d&&u.push(r(u)+"rotate("+d+s)}function a(c,d,u,f){c!==d?f.push({i:u.push(r(u)+"skewX(",null,s)-2,x:Rt(c,d)}):d&&u.push(r(u)+"skewX("+d+s)}function l(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push(r(p)+"scale(",null,",",null,")");y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u!==1||f!==1)&&p.push(r(p)+"scale("+u+","+f+")")}return function(c,d){var u=[],f=[];return c=t(c),d=t(d),o(c.translateX,c.translateY,d.translateX,d.translateY,u,f),i(c.rotate,d.rotate,u,f),a(c.skewX,d.skewX,u,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(p){for(var y=-1,_=f.length,x;++y<_;)u[(x=f[y]).i]=x.x(p);return u.join("")}}}var Ak=wf(wk,"px, ","px)","deg)"),Ck=wf(kk,", ",")",")"),Sk=1e-12;function fd(t){return((t=Math.exp(t))+1/t)/2}function Nk(t){return((t=Math.exp(t))-1/t)/2}function Ek(t){return((t=Math.exp(2*t))-1)/(t+1)}const Tk=(function t(e,n,s){function r(o,i){var a=o[0],l=o[1],c=o[2],d=i[0],u=i[1],f=i[2],p=d-a,y=u-l,_=p*p+y*y,x,v;if(_<Sk)v=Math.log(f/c)/e,x=function(H){return[a+H*p,l+H*y,c*Math.exp(e*H*v)]};else{var w=Math.sqrt(_),N=(f*f-c*c+s*_)/(2*c*n*w),A=(f*f-c*c-s*_)/(2*f*n*w),L=Math.log(Math.sqrt(N*N+1)-N),z=Math.log(Math.sqrt(A*A+1)-A);v=(z-L)/e,x=function(H){var ee=H*v,W=fd(L),Z=c/(n*w)*(W*Ek(e*ee+L)-Nk(L));return[a+Z*p,l+Z*y,c*W/fd(e*ee+L)]}}return x.duration=v*1e3*e/Math.SQRT2,x}return r.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return t(i,a,l)},r})(Math.SQRT2,2,4);var ks=0,Bs=0,Gs=0,kf=1e3,Eo,zs,To=0,Yn=0,ti=0,mr=typeof performance=="object"&&performance.now?performance:Date,Af=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dl(){return Yn||(Af(Ik),Yn=mr.now()+ti)}function Ik(){Yn=0}function Io(){this._call=this._time=this._next=null}Io.prototype=ul.prototype={constructor:Io,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?dl():+n)+(e==null?0:+e),!this._next&&zs!==this&&(zs?zs._next=this:Eo=this,zs=this),this._call=t,this._time=n,ka()},stop:function(){this._call&&(this._call=null,this._time=1/0,ka())}};function ul(t,e,n){var s=new Io;return s.restart(t,e,n),s}function Lk(){dl(),++ks;for(var t=Eo,e;t;)(e=Yn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ks}function pd(){Yn=(To=mr.now())+ti,ks=Bs=0;try{Lk()}finally{ks=0,Pk(),Yn=0}}function Rk(){var t=mr.now(),e=t-To;e>kf&&(ti-=e,To=t)}function Pk(){for(var t,e=Eo,n,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Eo=n);zs=t,ka(s)}function ka(t){if(!ks){Bs&&(Bs=clearTimeout(Bs));var e=t-Yn;e>24?(t<1/0&&(Bs=setTimeout(pd,t-mr.now()-ti)),Gs&&(Gs=clearInterval(Gs))):(Gs||(To=mr.now(),Gs=setInterval(Rk,kf)),ks=1,Af(pd))}}function md(t,e,n){var s=new Io;return e=e==null?0:+e,s.restart(r=>{s.stop(),t(r+e)},e,n),s}var Dk=wr("start","end","cancel","interrupt"),Mk=[],Cf=0,gd=1,Aa=2,Kr=3,yd=4,Ca=5,Qr=6;function ni(t,e,n,s,r,o){var i=t.__transition;if(!i)t.__transition={};else if(n in i)return;Ok(t,n,{name:e,index:s,group:r,on:Dk,tween:Mk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Cf})}function hl(t,e){var n=Vt(t,e);if(n.state>Cf)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=Vt(t,e);if(n.state>Kr)throw new Error("too late; already running");return n}function Vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ok(t,e,n){var s=t.__transition,r;s[e]=n,n.timer=ul(o,0,n.time);function o(c){n.state=gd,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var d,u,f,p;if(n.state!==gd)return l();for(d in s)if(p=s[d],p.name===n.name){if(p.state===Kr)return md(i);p.state===yd?(p.state=Qr,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete s[d]):+d<e&&(p.state=Qr,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete s[d])}if(md(function(){n.state===Kr&&(n.state=yd,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Aa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Aa){for(n.state=Kr,r=new Array(f=n.tween.length),d=0,u=-1;d<f;++d)(p=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Ca,1),u=-1,f=r.length;++u<f;)r[u].call(t,d);n.state===Ca&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Qr,n.timer.stop(),delete s[e];for(var c in s)return;delete t.__transition}}function eo(t,e){var n=t.__transition,s,r,o=!0,i;if(n){e=e==null?null:e+"";for(i in n){if((s=n[i]).name!==e){o=!1;continue}r=s.state>Aa&&s.state<Ca,s.state=Qr,s.timer.stop(),s.on.call(r?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete n[i]}o&&delete t.__transition}}function Gk(t){return this.each(function(){eo(this,t)})}function Vk(t,e){var n,s;return function(){var r=Kt(this,t),o=r.tween;if(o!==n){s=n=o;for(var i=0,a=s.length;i<a;++i)if(s[i].name===e){s=s.slice(),s.splice(i,1);break}}r.tween=s}}function Fk(t,e,n){var s,r;if(typeof n!="function")throw new Error;return function(){var o=Kt(this,t),i=o.tween;if(i!==s){r=(s=i).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function $k(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s=Vt(this.node(),n).tween,r=0,o=s.length,i;r<o;++r)if((i=s[r]).name===t)return i.value;return null}return this.each((e==null?Vk:Fk)(n,t,e))}function fl(t,e,n){var s=t._id;return t.each(function(){var r=Kt(this,s);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return Vt(r,s).value[e]}}function Sf(t,e){var n;return(typeof e=="number"?Rt:e instanceof Zn?No:(n=Zn(e))?(e=n,No):bf)(t,e)}function Bk(t){return function(){this.removeAttribute(t)}}function zk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hk(t,e,n){var s,r=n+"",o;return function(){var i=this.getAttribute(t);return i===r?null:i===s?o:o=e(s=i,n)}}function jk(t,e,n){var s,r=n+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===r?null:i===s?o:o=e(s=i,n)}}function Uk(t,e,n){var s,r,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(t):(i=this.getAttribute(t),l=a+"",i===l?null:i===s&&l===r?o:(r=l,o=e(s=i,a)))}}function Wk(t,e,n){var s,r,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),l=a+"",i===l?null:i===s&&l===r?o:(r=l,o=e(s=i,a)))}}function Xk(t,e){var n=Qo(t),s=n==="transform"?Ck:Sf;return this.attrTween(t,typeof e=="function"?(n.local?Wk:Uk)(n,s,fl(this,"attr."+t,e)):e==null?(n.local?zk:Bk)(n):(n.local?jk:Hk)(n,s,e))}function qk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Zk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Yk(t,e){var n,s;function r(){var o=e.apply(this,arguments);return o!==s&&(n=(s=o)&&Zk(t,o)),n}return r._value=e,r}function Jk(t,e){var n,s;function r(){var o=e.apply(this,arguments);return o!==s&&(n=(s=o)&&qk(t,o)),n}return r._value=e,r}function Kk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var s=Qo(t);return this.tween(n,(s.local?Yk:Jk)(s,e))}function Qk(t,e){return function(){hl(this,t).delay=+e.apply(this,arguments)}}function eA(t,e){return e=+e,function(){hl(this,t).delay=e}}function tA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qk:eA)(e,t)):Vt(this.node(),e).delay}function nA(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function sA(t,e){return e=+e,function(){Kt(this,t).duration=e}}function rA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nA:sA)(e,t)):Vt(this.node(),e).duration}function oA(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function iA(t){var e=this._id;return arguments.length?this.each(oA(e,t)):Vt(this.node(),e).ease}function aA(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function lA(t){if(typeof t!="function")throw new Error;return this.each(aA(this._id,t))}function cA(t){typeof t!="function"&&(t=sf(t));for(var e=this._groups,n=e.length,s=new Array(n),r=0;r<n;++r)for(var o=e[r],i=o.length,a=s[r]=[],l,c=0;c<i;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new gn(s,this._parents,this._name,this._id)}function dA(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,s=e.length,r=n.length,o=Math.min(s,r),i=new Array(s),a=0;a<o;++a)for(var l=e[a],c=n[a],d=l.length,u=i[a]=new Array(d),f,p=0;p<d;++p)(f=l[p]||c[p])&&(u[p]=f);for(;a<s;++a)i[a]=e[a];return new gn(i,this._parents,this._name,this._id)}function uA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hA(t,e,n){var s,r,o=uA(e)?hl:Kt;return function(){var i=o(this,t),a=i.on;a!==s&&(r=(s=a).copy()).on(e,n),i.on=r}}function fA(t,e){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(t):this.each(hA(n,t,e))}function pA(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function mA(){return this.on("end.remove",pA(this._id))}function gA(t){var e=this._name,n=this._id;typeof t!="function"&&(t=il(t));for(var s=this._groups,r=s.length,o=new Array(r),i=0;i<r;++i)for(var a=s[i],l=a.length,c=o[i]=new Array(l),d,u,f=0;f<l;++f)(d=a[f])&&(u=t.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,ni(c[f],e,n,f,c,Vt(d,n)));return new gn(o,this._parents,e,n)}function yA(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nf(t));for(var s=this._groups,r=s.length,o=[],i=[],a=0;a<r;++a)for(var l=s[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var f=t.call(d,d.__data__,u,l),p,y=Vt(d,n),_=0,x=f.length;_<x;++_)(p=f[_])&&ni(p,e,n,_,f,y);o.push(f),i.push(d)}return new gn(o,i,e,n)}var _A=kr.prototype.constructor;function bA(){return new _A(this._groups,this._parents)}function vA(t,e){var n,s,r;return function(){var o=ws(this,t),i=(this.style.removeProperty(t),ws(this,t));return o===i?null:o===n&&i===s?r:r=e(n=o,s=i)}}function Nf(t){return function(){this.style.removeProperty(t)}}function xA(t,e,n){var s,r=n+"",o;return function(){var i=ws(this,t);return i===r?null:i===s?o:o=e(s=i,n)}}function wA(t,e,n){var s,r,o;return function(){var i=ws(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),ws(this,t))),i===l?null:i===s&&l===r?o:(r=l,o=e(s=i,a))}}function kA(t,e){var n,s,r,o="style."+e,i="end."+o,a;return function(){var l=Kt(this,t),c=l.on,d=l.value[o]==null?a||(a=Nf(e)):void 0;(c!==n||r!==d)&&(s=(n=c).copy()).on(i,r=d),l.on=s}}function AA(t,e,n){var s=(t+="")=="transform"?Ak:Sf;return e==null?this.styleTween(t,vA(t,s)).on("end.style."+t,Nf(t)):typeof e=="function"?this.styleTween(t,wA(t,s,fl(this,"style."+t,e))).each(kA(this._id,t)):this.styleTween(t,xA(t,s,e),n).on("end.style."+t,null)}function CA(t,e,n){return function(s){this.style.setProperty(t,e.call(this,s),n)}}function SA(t,e,n){var s,r;function o(){var i=e.apply(this,arguments);return i!==r&&(s=(r=i)&&CA(t,i,n)),s}return o._value=e,o}function NA(t,e,n){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,SA(t,e,n??""))}function EA(t){return function(){this.textContent=t}}function TA(t){return function(){var e=t(this);this.textContent=e??""}}function IA(t){return this.tween("text",typeof t=="function"?TA(fl(this,"text",t)):EA(t==null?"":t+""))}function LA(t){return function(e){this.textContent=t.call(this,e)}}function RA(t){var e,n;function s(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&LA(r)),e}return s._value=t,s}function PA(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,RA(t))}function DA(){for(var t=this._name,e=this._id,n=Ef(),s=this._groups,r=s.length,o=0;o<r;++o)for(var i=s[o],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var d=Vt(l,e);ni(l,t,n,c,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new gn(s,this._parents,t,n)}function MA(){var t,e,n=this,s=n._id,r=n.size();return new Promise(function(o,i){var a={value:i},l={value:function(){--r===0&&o()}};n.each(function(){var c=Kt(this,s),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&o()})}var OA=0;function gn(t,e,n,s){this._groups=t,this._parents=e,this._name=n,this._id=s}function Ef(){return++OA}var sn=kr.prototype;gn.prototype={constructor:gn,select:gA,selectAll:yA,selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:cA,merge:dA,selection:bA,transition:DA,call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:fA,attr:Xk,attrTween:Kk,style:AA,styleTween:NA,text:IA,textTween:PA,remove:mA,tween:$k,delay:tA,duration:rA,ease:iA,easeVarying:lA,end:MA,[Symbol.iterator]:sn[Symbol.iterator]};function GA(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var VA={time:null,delay:0,duration:250,ease:GA};function FA(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $A(t){var e,n;t instanceof gn?(e=t._id,t=t._name):(e=Ef(),(n=VA).time=dl(),t=t==null?null:t+"");for(var s=this._groups,r=s.length,o=0;o<r;++o)for(var i=s[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&ni(l,t,e,c,i,n||FA(l,e));return new gn(s,this._parents,t,e)}kr.prototype.interrupt=Gk;kr.prototype.transition=$A;function _d(t,e){var n,s=1;t==null&&(t=0),e==null&&(e=0);function r(){var o,i=n.length,a,l=0,c=0;for(o=0;o<i;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/i-t)*s,c=(c/i-e)*s,o=0;o<i;++o)a=n[o],a.x-=l,a.y-=c}return r.initialize=function(o){n=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r.strength=function(o){return arguments.length?(s=+o,r):s},r}function BA(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Tf(this.cover(e,n),e,n,t)}function Tf(t,e,n,s){if(isNaN(e)||isNaN(n))return t;var r,o=t._root,i={data:s},a=t._x0,l=t._y0,c=t._x1,d=t._y1,u,f,p,y,_,x,v,w;if(!o)return t._root=i,t;for(;o.length;)if((_=e>=(u=(a+c)/2))?a=u:c=u,(x=n>=(f=(l+d)/2))?l=f:d=f,r=o,!(o=o[v=x<<1|_]))return r[v]=i,t;if(p=+t._x.call(null,o.data),y=+t._y.call(null,o.data),e===p&&n===y)return i.next=o,r?r[v]=i:t._root=i,t;do r=r?r[v]=new Array(4):t._root=new Array(4),(_=e>=(u=(a+c)/2))?a=u:c=u,(x=n>=(f=(l+d)/2))?l=f:d=f;while((v=x<<1|_)===(w=(y>=f)<<1|p>=u));return r[w]=o,r[v]=i,t}function zA(t){var e,n,s=t.length,r,o,i=new Array(s),a=new Array(s),l=1/0,c=1/0,d=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(i[n]=r,a[n]=o,r<l&&(l=r),r>d&&(d=r),o<c&&(c=o),o>u&&(u=o));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),n=0;n<s;++n)Tf(this,i[n],a[n],t[n]);return this}function HA(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,s=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(s=Math.floor(e))+1;else{for(var i=r-n||1,a=this._root,l,c;n>t||t>=r||s>e||e>=o;)switch(c=(e<s)<<1|t<n,l=new Array(4),l[c]=a,a=l,i*=2,c){case 0:r=n+i,o=s+i;break;case 1:n=r-i,o=s+i;break;case 2:r=n+i,s=o-i;break;case 3:n=r-i,s=o-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=s,this._x1=r,this._y1=o,this}function jA(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function UA(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ft(t,e,n,s,r){this.node=t,this.x0=e,this.y0=n,this.x1=s,this.y1=r}function WA(t,e,n){var s,r=this._x0,o=this._y0,i,a,l,c,d=this._x1,u=this._y1,f=[],p=this._root,y,_;for(p&&f.push(new ft(p,r,o,d,u)),n==null?n=1/0:(r=t-n,o=e-n,d=t+n,u=e+n,n*=n);y=f.pop();)if(!(!(p=y.node)||(i=y.x0)>d||(a=y.y0)>u||(l=y.x1)<r||(c=y.y1)<o))if(p.length){var x=(i+l)/2,v=(a+c)/2;f.push(new ft(p[3],x,v,l,c),new ft(p[2],i,v,x,c),new ft(p[1],x,a,l,v),new ft(p[0],i,a,x,v)),(_=(e>=v)<<1|t>=x)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-_],f[f.length-1-_]=y)}else{var w=t-+this._x.call(null,p.data),N=e-+this._y.call(null,p.data),A=w*w+N*N;if(A<n){var L=Math.sqrt(n=A);r=t-L,o=e-L,d=t+L,u=e+L,s=p.data}}return s}function XA(t){if(isNaN(d=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var e,n=this._root,s,r,o,i=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,f,p,y,_,x,v;if(!n)return this;if(n.length)for(;;){if((y=d>=(f=(i+l)/2))?i=f:l=f,(_=u>=(p=(a+c)/2))?a=p:c=p,e=n,!(n=n[x=_<<1|y]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(s=e,v=x)}for(;n.data!==t;)if(r=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,r?(o?r.next=o:delete r.next,this):e?(o?e[x]=o:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(s?s[v]=n:this._root=n),this):(this._root=o,this)}function qA(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ZA(){return this._root}function YA(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function JA(t){var e=[],n,s=this._root,r,o,i,a,l;for(s&&e.push(new ft(s,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(s=n.node,o=n.x0,i=n.y0,a=n.x1,l=n.y1)&&s.length){var c=(o+a)/2,d=(i+l)/2;(r=s[3])&&e.push(new ft(r,c,d,a,l)),(r=s[2])&&e.push(new ft(r,o,d,c,l)),(r=s[1])&&e.push(new ft(r,c,i,a,d)),(r=s[0])&&e.push(new ft(r,o,i,c,d))}return this}function KA(t){var e=[],n=[],s;for(this._root&&e.push(new ft(this._root,this._x0,this._y0,this._x1,this._y1));s=e.pop();){var r=s.node;if(r.length){var o,i=s.x0,a=s.y0,l=s.x1,c=s.y1,d=(i+l)/2,u=(a+c)/2;(o=r[0])&&e.push(new ft(o,i,a,d,u)),(o=r[1])&&e.push(new ft(o,d,a,l,u)),(o=r[2])&&e.push(new ft(o,i,u,d,c)),(o=r[3])&&e.push(new ft(o,d,u,l,c))}n.push(s)}for(;s=n.pop();)t(s.node,s.x0,s.y0,s.x1,s.y1);return this}function QA(t){return t[0]}function eC(t){return arguments.length?(this._x=t,this):this._x}function tC(t){return t[1]}function nC(t){return arguments.length?(this._y=t,this):this._y}function pl(t,e,n){var s=new ml(e??QA,n??tC,NaN,NaN,NaN,NaN);return t==null?s:s.addAll(t)}function ml(t,e,n,s,r,o){this._x=t,this._y=e,this._x0=n,this._y0=s,this._x1=r,this._y1=o,this._root=void 0}function bd(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var pt=pl.prototype=ml.prototype;pt.copy=function(){var t=new ml(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,s;if(!e)return t;if(!e.length)return t._root=bd(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var r=0;r<4;++r)(s=e.source[r])&&(s.length?n.push({source:s,target:e.target[r]=new Array(4)}):e.target[r]=bd(s));return t};pt.add=BA;pt.addAll=zA;pt.cover=HA;pt.data=jA;pt.extent=UA;pt.find=WA;pt.remove=XA;pt.removeAll=qA;pt.root=ZA;pt.size=YA;pt.visit=JA;pt.visitAfter=KA;pt.x=eC;pt.y=nC;function qn(t){return function(){return t}}function Cn(t){return(t()-.5)*1e-6}function sC(t){return t.x+t.vx}function rC(t){return t.y+t.vy}function oC(t){var e,n,s,r=1,o=1;typeof t!="function"&&(t=qn(t==null?1:+t));function i(){for(var c,d=e.length,u,f,p,y,_,x,v=0;v<o;++v)for(u=pl(e,sC,rC).visitAfter(a),c=0;c<d;++c)f=e[c],_=n[f.index],x=_*_,p=f.x+f.vx,y=f.y+f.vy,u.visit(w);function w(N,A,L,z,H){var ee=N.data,W=N.r,Z=_+W;if(ee){if(ee.index>f.index){var j=p-ee.x-ee.vx,R=y-ee.y-ee.vy,G=j*j+R*R;G<Z*Z&&(j===0&&(j=Cn(s),G+=j*j),R===0&&(R=Cn(s),G+=R*R),G=(Z-(G=Math.sqrt(G)))/G*r,f.vx+=(j*=G)*(Z=(W*=W)/(x+W)),f.vy+=(R*=G)*Z,ee.vx-=j*(Z=1-Z),ee.vy-=R*Z)}return}return A>p+Z||z<p-Z||L>y+Z||H<y-Z}}function a(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(e){var c,d=e.length,u;for(n=new Array(d),c=0;c<d;++c)u=e[c],n[u.index]=+t(u,c,e)}}return i.initialize=function(c,d){e=c,s=d,l()},i.iterations=function(c){return arguments.length?(o=+c,i):o},i.strength=function(c){return arguments.length?(r=+c,i):r},i.radius=function(c){return arguments.length?(t=typeof c=="function"?c:qn(+c),l(),i):t},i}function iC(t){return t.index}function vd(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function aC(t){var e=iC,n=u,s,r=qn(30),o,i,a,l,c,d=1;t==null&&(t=[]);function u(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function f(x){for(var v=0,w=t.length;v<d;++v)for(var N=0,A,L,z,H,ee,W,Z;N<w;++N)A=t[N],L=A.source,z=A.target,H=z.x+z.vx-L.x-L.vx||Cn(c),ee=z.y+z.vy-L.y-L.vy||Cn(c),W=Math.sqrt(H*H+ee*ee),W=(W-o[N])/W*x*s[N],H*=W,ee*=W,z.vx-=H*(Z=l[N]),z.vy-=ee*Z,L.vx+=H*(Z=1-Z),L.vy+=ee*Z}function p(){if(i){var x,v=i.length,w=t.length,N=new Map(i.map((L,z)=>[e(L,z,i),L])),A;for(x=0,a=new Array(v);x<w;++x)A=t[x],A.index=x,typeof A.source!="object"&&(A.source=vd(N,A.source)),typeof A.target!="object"&&(A.target=vd(N,A.target)),a[A.source.index]=(a[A.source.index]||0)+1,a[A.target.index]=(a[A.target.index]||0)+1;for(x=0,l=new Array(w);x<w;++x)A=t[x],l[x]=a[A.source.index]/(a[A.source.index]+a[A.target.index]);s=new Array(w),y(),o=new Array(w),_()}}function y(){if(i)for(var x=0,v=t.length;x<v;++x)s[x]=+n(t[x],x,t)}function _(){if(i)for(var x=0,v=t.length;x<v;++x)o[x]=+r(t[x],x,t)}return f.initialize=function(x,v){i=x,c=v,p()},f.links=function(x){return arguments.length?(t=x,p(),f):t},f.id=function(x){return arguments.length?(e=x,f):e},f.iterations=function(x){return arguments.length?(d=+x,f):d},f.strength=function(x){return arguments.length?(n=typeof x=="function"?x:qn(+x),y(),f):n},f.distance=function(x){return arguments.length?(r=typeof x=="function"?x:qn(+x),_(),f):r},f}const lC=1664525,cC=1013904223,xd=4294967296;function dC(){let t=1;return()=>(t=(lC*t+cC)%xd)/xd}function uC(t){return t.x}function hC(t){return t.y}var fC=10,pC=Math.PI*(3-Math.sqrt(5));function mC(t){var e,n=1,s=.001,r=1-Math.pow(s,1/300),o=0,i=.6,a=new Map,l=ul(u),c=wr("tick","end"),d=dC();t==null&&(t=[]);function u(){f(),c.call("tick",e),n<s&&(l.stop(),c.call("end",e))}function f(_){var x,v=t.length,w;_===void 0&&(_=1);for(var N=0;N<_;++N)for(n+=(o-n)*r,a.forEach(function(A){A(n)}),x=0;x<v;++x)w=t[x],w.fx==null?w.x+=w.vx*=i:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=i:(w.y=w.fy,w.vy=0);return e}function p(){for(var _=0,x=t.length,v;_<x;++_){if(v=t[_],v.index=_,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var w=fC*Math.sqrt(.5+_),N=_*pC;v.x=w*Math.cos(N),v.y=w*Math.sin(N)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function y(_){return _.initialize&&_.initialize(t,d),_}return p(),e={tick:f,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(_){return arguments.length?(t=_,p(),a.forEach(y),e):t},alpha:function(_){return arguments.length?(n=+_,e):n},alphaMin:function(_){return arguments.length?(s=+_,e):s},alphaDecay:function(_){return arguments.length?(r=+_,e):+r},alphaTarget:function(_){return arguments.length?(o=+_,e):o},velocityDecay:function(_){return arguments.length?(i=1-_,e):1-i},randomSource:function(_){return arguments.length?(d=_,a.forEach(y),e):d},force:function(_,x){return arguments.length>1?(x==null?a.delete(_):a.set(_,y(x)),e):a.get(_)},find:function(_,x,v){var w=0,N=t.length,A,L,z,H,ee;for(v==null?v=1/0:v*=v,w=0;w<N;++w)H=t[w],A=_-H.x,L=x-H.y,z=A*A+L*L,z<v&&(ee=H,v=z);return ee},on:function(_,x){return arguments.length>1?(c.on(_,x),e):c.on(_)}}}function gC(){var t,e,n,s,r=qn(-30),o,i=1,a=1/0,l=.81;function c(p){var y,_=t.length,x=pl(t,uC,hC).visitAfter(u);for(s=p,y=0;y<_;++y)e=t[y],x.visit(f)}function d(){if(t){var p,y=t.length,_;for(o=new Array(y),p=0;p<y;++p)_=t[p],o[_.index]=+r(_,p,t)}}function u(p){var y=0,_,x,v=0,w,N,A;if(p.length){for(w=N=A=0;A<4;++A)(_=p[A])&&(x=Math.abs(_.value))&&(y+=_.value,v+=x,w+=x*_.x,N+=x*_.y);p.x=w/v,p.y=N/v}else{_=p,_.x=_.data.x,_.y=_.data.y;do y+=o[_.data.index];while(_=_.next)}p.value=y}function f(p,y,_,x){if(!p.value)return!0;var v=p.x-e.x,w=p.y-e.y,N=x-y,A=v*v+w*w;if(N*N/l<A)return A<a&&(v===0&&(v=Cn(n),A+=v*v),w===0&&(w=Cn(n),A+=w*w),A<i&&(A=Math.sqrt(i*A)),e.vx+=v*p.value*s/A,e.vy+=w*p.value*s/A),!0;if(p.length||A>=a)return;(p.data!==e||p.next)&&(v===0&&(v=Cn(n),A+=v*v),w===0&&(w=Cn(n),A+=w*w),A<i&&(A=Math.sqrt(i*A)));do p.data!==e&&(N=o[p.data.index]*s/A,e.vx+=v*N,e.vy+=w*N);while(p=p.next)}return c.initialize=function(p,y){t=p,n=y,d()},c.strength=function(p){return arguments.length?(r=typeof p=="function"?p:qn(+p),d(),c):r},c.distanceMin=function(p){return arguments.length?(i=p*p,c):Math.sqrt(i)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function yC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,s=t.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+t.slice(n+1)]}function As(t){return t=Lo(Math.abs(t)),t?t[1]:NaN}function _C(t,e){return function(n,s){for(var r=n.length,o=[],i=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>s&&(a=Math.max(1,s-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>s));)a=t[i=(i+1)%t.length];return o.reverse().join(e)}}function bC(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ro(t){if(!(e=vC.exec(t)))throw new Error("invalid format: "+t);var e;return new gl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ro.prototype=gl.prototype;function gl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xC(t){e:for(var e=t.length,n=1,s=-1,r;n<e;++n)switch(t[n]){case".":s=r=n;break;case"0":s===0&&(s=n),r=n;break;default:if(!+t[n])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(r+1):t}var If;function wC(t,e){var n=Lo(t,e);if(!n)return t+"";var s=n[0],r=n[1],o=r-(If=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,i=s.length;return o===i?s:o>i?s+new Array(o-i+1).join("0"):o>0?s.slice(0,o)+"."+s.slice(o):"0."+new Array(1-o).join("0")+Lo(t,Math.max(0,e+o-1))[0]}function wd(t,e){var n=Lo(t,e);if(!n)return t+"";var s=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+s:s.length>r+1?s.slice(0,r+1)+"."+s.slice(r+1):s+new Array(r-s.length+2).join("0")}const kd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yC,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wd(t*100,e),r:wd,s:wC,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ad(t){return t}var Cd=Array.prototype.map,Sd=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kC(t){var e=t.grouping===void 0||t.thousands===void 0?Ad:_C(Cd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ad:bC(Cd.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Ro(u);var f=u.fill,p=u.align,y=u.sign,_=u.symbol,x=u.zero,v=u.width,w=u.comma,N=u.precision,A=u.trim,L=u.type;L==="n"?(w=!0,L="g"):kd[L]||(N===void 0&&(N=12),A=!0,L="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var z=_==="$"?n:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",H=_==="$"?s:/[%p]/.test(L)?i:"",ee=kd[L],W=/[defgprs%]/.test(L);N=N===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function Z(j){var R=z,G=H,S,M,I;if(L==="c")G=ee(j)+G,j="";else{j=+j;var V=j<0||1/j<0;if(j=isNaN(j)?l:ee(Math.abs(j),N),A&&(j=xC(j)),V&&+j==0&&y!=="+"&&(V=!1),R=(V?y==="("?y:a:y==="-"||y==="("?"":y)+R,G=(L==="s"?Sd[8+If/3]:"")+G+(V&&y==="("?")":""),W){for(S=-1,M=j.length;++S<M;)if(I=j.charCodeAt(S),48>I||I>57){G=(I===46?r+j.slice(S+1):j.slice(S))+G,j=j.slice(0,S);break}}}w&&!x&&(j=e(j,1/0));var X=R.length+j.length+G.length,oe=X<v?new Array(v-X+1).join(f):"";switch(w&&x&&(j=e(oe+j,oe.length?v-G.length:1/0),oe=""),p){case"<":j=R+j+G+oe;break;case"=":j=R+oe+j+G;break;case"^":j=oe.slice(0,X=oe.length>>1)+R+j+G+oe.slice(X);break;default:j=oe+R+j+G;break}return o(j)}return Z.toString=function(){return u+""},Z}function d(u,f){var p=c((u=Ro(u),u.type="f",u)),y=Math.max(-8,Math.min(8,Math.floor(As(f)/3)))*3,_=Math.pow(10,-y),x=Sd[8+y/3];return function(v){return p(_*v)+x}}return{format:c,formatPrefix:d}}var Br,Lf,Rf;AC({thousands:",",grouping:[3],currency:["$",""]});function AC(t){return Br=kC(t),Lf=Br.format,Rf=Br.formatPrefix,Br}function CC(t){return Math.max(0,-As(Math.abs(t)))}function SC(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(As(e)/3)))*3-As(Math.abs(t)))}function NC(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,As(e)-As(t))+1}function Pf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function EC(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Nd=Symbol("implicit");function Df(){var t=new ed,e=[],n=[],s=Nd;function r(o){let i=t.get(o);if(i===void 0){if(s!==Nd)return s;t.set(o,i=e.push(o)-1)}return n[i%n.length]}return r.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ed;for(const i of o)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(s=o,r):s},r.copy=function(){return Df(e,n).unknown(s)},Pf.apply(r,arguments),r}function TC(t){return function(){return t}}function IC(t){return+t}var Ed=[0,1];function Xt(t){return t}function Sa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:TC(isNaN(e)?NaN:.5)}function LC(t,e){var n;return t>e&&(n=t,t=e,e=n),function(s){return Math.max(t,Math.min(e,s))}}function RC(t,e,n){var s=t[0],r=t[1],o=e[0],i=e[1];return r<s?(s=Sa(r,s),o=n(i,o)):(s=Sa(s,r),o=n(o,i)),function(a){return o(s(a))}}function PC(t,e,n){var s=Math.min(t.length,e.length)-1,r=new Array(s),o=new Array(s),i=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<s;)r[i]=Sa(t[i],t[i+1]),o[i]=n(e[i],e[i+1]);return function(a){var l=sx(t,a,1,s)-1;return o[l](r[l](a))}}function DC(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function MC(){var t=Ed,e=Ed,n=ei,s,r,o,i=Xt,a,l,c;function d(){var f=Math.min(t.length,e.length);return i!==Xt&&(i=LC(t[0],t[f-1])),a=f>2?PC:RC,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(s),e,n)))(s(i(f)))}return u.invert=function(f){return i(r((c||(c=a(e,t.map(s),Rt)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,IC),d()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),n=vf,d()},u.clamp=function(f){return arguments.length?(i=f?!0:Xt,d()):i!==Xt},u.interpolate=function(f){return arguments.length?(n=f,d()):n},u.unknown=function(f){return arguments.length?(o=f,u):o},function(f,p){return s=f,r=p,d()}}function OC(t,e,n,s){var r=ux(t,e,n),o;switch(s=Ro(s??",f"),s.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return s.precision==null&&!isNaN(o=SC(r,i))&&(s.precision=o),Rf(s,i)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=NC(r,Math.max(Math.abs(t),Math.abs(e))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=CC(r))&&(s.precision=o-(s.type==="%")*2);break}}return Lf(s)}function Mf(t){var e=t.domain;return t.ticks=function(n){var s=e();return dx(s[0],s[s.length-1],n??10)},t.tickFormat=function(n,s){var r=e();return OC(r[0],r[r.length-1],n??10,s)},t.nice=function(n){n==null&&(n=10);var s=e(),r=0,o=s.length-1,i=s[r],a=s[o],l,c,d=10;for(a<i&&(c=i,i=a,a=c,c=r,r=o,o=c);d-- >0;){if(c=ya(i,a,n),c===l)return s[r]=i,s[o]=a,e(s);if(c>0)i=Math.floor(i/c)*c,a=Math.ceil(a/c)*c;else if(c<0)i=Math.ceil(i*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Td(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GC(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function VC(t){return t<0?-t*t:t*t}function FC(t){var e=t(Xt,Xt),n=1;function s(){return n===1?t(Xt,Xt):n===.5?t(GC,VC):t(Td(n),Td(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,s()):n},Mf(e)}function Of(){var t=FC(MC());return t.copy=function(){return DC(t,Of()).exponent(t.exponent())},Pf.apply(t,arguments),t}function $C(){return Of.apply(null,arguments).exponent(.5)}function BC(){var t=0,e=1,n,s,r,o,i=Xt,a=!1,l;function c(u){return u==null||isNaN(u=+u)?l:i(r===0?.5:(u=(o(u)-n)*r,a?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,n=o(t=+t),s=o(e=+e),r=n===s?0:1/(s-n),c):[t,e]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(i=u,c):i};function d(u){return function(f){var p,y;return arguments.length?([p,y]=f,i=u(p,y),c):[i(0),i(1)]}}return c.range=d(ei),c.rangeRound=d(vf),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(t),s=u(e),r=n===s?0:1/(s-n),c}}function zC(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Gf(){var t=Mf(BC()(Xt));return t.copy=function(){return zC(t,Gf())},EC.apply(t,arguments)}function Cr(t){for(var e=t.length/6|0,n=new Array(e),s=0;s<e;)n[s]="#"+t.slice(s*6,++s*6);return n}const HC=Cr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function si(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const jC=si(Cr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));si(Cr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));si(Cr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));si(Cr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const zr=t=>()=>t;function UC(t,{sourceEvent:e,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function hn(t,e,n){this.k=t,this.x=e,this.y=n}hn.prototype={constructor:hn,scale:function(t){return t===1?this:new hn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new hn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ri=new hn(1,0,0);Vf.prototype=hn.prototype;function Vf(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ri;return t.__zoom}function Mi(t){t.stopImmediatePropagation()}function Vs(t){t.preventDefault(),t.stopImmediatePropagation()}function WC(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function XC(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Id(){return this.__zoom||ri}function qC(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ZC(){return navigator.maxTouchPoints||"ontouchstart"in this}function YC(t,e,n){var s=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],i=t.invertY(e[1][1])-n[1][1];return t.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function JC(){var t=WC,e=XC,n=YC,s=qC,r=ZC,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Tk,c=wr("start","zoom","end"),d,u,f,p=500,y=150,_=0,x=10;function v(S){S.property("__zoom",Id).on("wheel.zoom",ee,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Z).filter(r).on("touchstart.zoom",j).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(S,M,I,V){var X=S.selection?S.selection():S;X.property("__zoom",Id),S!==X?L(S,M,I,V):X.interrupt().each(function(){z(this,arguments).event(V).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function(S,M,I,V){v.scaleTo(S,function(){var X=this.__zoom.k,oe=typeof M=="function"?M.apply(this,arguments):M;return X*oe},I,V)},v.scaleTo=function(S,M,I,V){v.transform(S,function(){var X=e.apply(this,arguments),oe=this.__zoom,ue=I==null?A(X):typeof I=="function"?I.apply(this,arguments):I,Y=oe.invert(ue),le=typeof M=="function"?M.apply(this,arguments):M;return n(N(w(oe,le),ue,Y),X,i)},I,V)},v.translateBy=function(S,M,I,V){v.transform(S,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof I=="function"?I.apply(this,arguments):I),e.apply(this,arguments),i)},null,V)},v.translateTo=function(S,M,I,V,X){v.transform(S,function(){var oe=e.apply(this,arguments),ue=this.__zoom,Y=V==null?A(oe):typeof V=="function"?V.apply(this,arguments):V;return n(ri.translate(Y[0],Y[1]).scale(ue.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof I=="function"?-I.apply(this,arguments):-I),oe,i)},V,X)};function w(S,M){return M=Math.max(o[0],Math.min(o[1],M)),M===S.k?S:new hn(M,S.x,S.y)}function N(S,M,I){var V=M[0]-I[0]*S.k,X=M[1]-I[1]*S.k;return V===S.x&&X===S.y?S:new hn(S.k,V,X)}function A(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function L(S,M,I,V){S.on("start.zoom",function(){z(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(V).end()}).tween("zoom",function(){var X=this,oe=arguments,ue=z(X,oe).event(V),Y=e.apply(X,oe),le=I==null?A(Y):typeof I=="function"?I.apply(X,oe):I,Ie=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Ae=X.__zoom,ce=typeof M=="function"?M.apply(X,oe):M,ge=l(Ae.invert(le).concat(Ie/Ae.k),ce.invert(le).concat(Ie/ce.k));return function(T){if(T===1)T=ce;else{var te=ge(T),ne=Ie/te[2];T=new hn(ne,le[0]-te[0]*ne,le[1]-te[1]*ne)}ue.zoom(null,T)}})}function z(S,M,I){return!I&&S.__zooming||new H(S,M)}function H(S,M){this.that=S,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,M),this.taps=0}H.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,M){return this.mouse&&S!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var M=_t(this.that).datum();c.call(S,this.that,new UC(S,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),M)}};function ee(S,...M){if(!t.apply(this,arguments))return;var I=z(this,M).event(S),V=this.__zoom,X=Math.max(o[0],Math.min(o[1],V.k*Math.pow(2,s.apply(this,arguments)))),oe=an(S);if(I.wheel)(I.mouse[0][0]!==oe[0]||I.mouse[0][1]!==oe[1])&&(I.mouse[1]=V.invert(I.mouse[0]=oe)),clearTimeout(I.wheel);else{if(V.k===X)return;I.mouse=[oe,V.invert(oe)],eo(this),I.start()}Vs(S),I.wheel=setTimeout(ue,y),I.zoom("mouse",n(N(w(V,X),I.mouse[0],I.mouse[1]),I.extent,i));function ue(){I.wheel=null,I.end()}}function W(S,...M){if(f||!t.apply(this,arguments))return;var I=S.currentTarget,V=z(this,M,!0).event(S),X=_t(S.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",Ie,!0),oe=an(S,I),ue=S.clientX,Y=S.clientY;pf(S.view),Mi(S),V.mouse=[oe,this.__zoom.invert(oe)],eo(this),V.start();function le(Ae){if(Vs(Ae),!V.moved){var ce=Ae.clientX-ue,ge=Ae.clientY-Y;V.moved=ce*ce+ge*ge>_}V.event(Ae).zoom("mouse",n(N(V.that.__zoom,V.mouse[0]=an(Ae,I),V.mouse[1]),V.extent,i))}function Ie(Ae){X.on("mousemove.zoom mouseup.zoom",null),mf(Ae.view,V.moved),Vs(Ae),V.event(Ae).end()}}function Z(S,...M){if(t.apply(this,arguments)){var I=this.__zoom,V=an(S.changedTouches?S.changedTouches[0]:S,this),X=I.invert(V),oe=I.k*(S.shiftKey?.5:2),ue=n(N(w(I,oe),V,X),e.apply(this,M),i);Vs(S),a>0?_t(this).transition().duration(a).call(L,ue,V,S):_t(this).call(v.transform,ue,V,S)}}function j(S,...M){if(t.apply(this,arguments)){var I=S.touches,V=I.length,X=z(this,M,S.changedTouches.length===V).event(S),oe,ue,Y,le;for(Mi(S),ue=0;ue<V;++ue)Y=I[ue],le=an(Y,this),le=[le,this.__zoom.invert(le),Y.identifier],X.touch0?!X.touch1&&X.touch0[2]!==le[2]&&(X.touch1=le,X.taps=0):(X.touch0=le,oe=!0,X.taps=1+!!d);d&&(d=clearTimeout(d)),oe&&(X.taps<2&&(u=le[0],d=setTimeout(function(){d=null},p)),eo(this),X.start())}}function R(S,...M){if(this.__zooming){var I=z(this,M).event(S),V=S.changedTouches,X=V.length,oe,ue,Y,le;for(Vs(S),oe=0;oe<X;++oe)ue=V[oe],Y=an(ue,this),I.touch0&&I.touch0[2]===ue.identifier?I.touch0[0]=Y:I.touch1&&I.touch1[2]===ue.identifier&&(I.touch1[0]=Y);if(ue=I.that.__zoom,I.touch1){var Ie=I.touch0[0],Ae=I.touch0[1],ce=I.touch1[0],ge=I.touch1[1],T=(T=ce[0]-Ie[0])*T+(T=ce[1]-Ie[1])*T,te=(te=ge[0]-Ae[0])*te+(te=ge[1]-Ae[1])*te;ue=w(ue,Math.sqrt(T/te)),Y=[(Ie[0]+ce[0])/2,(Ie[1]+ce[1])/2],le=[(Ae[0]+ge[0])/2,(Ae[1]+ge[1])/2]}else if(I.touch0)Y=I.touch0[0],le=I.touch0[1];else return;I.zoom("touch",n(N(ue,Y,le),I.extent,i))}}function G(S,...M){if(this.__zooming){var I=z(this,M).event(S),V=S.changedTouches,X=V.length,oe,ue;for(Mi(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),oe=0;oe<X;++oe)ue=V[oe],I.touch0&&I.touch0[2]===ue.identifier?delete I.touch0:I.touch1&&I.touch1[2]===ue.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(ue=an(ue,this),Math.hypot(u[0]-ue[0],u[1]-ue[1])<x)){var Y=_t(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return v.wheelDelta=function(S){return arguments.length?(s=typeof S=="function"?S:zr(+S),v):s},v.filter=function(S){return arguments.length?(t=typeof S=="function"?S:zr(!!S),v):t},v.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:zr(!!S),v):r},v.extent=function(S){return arguments.length?(e=typeof S=="function"?S:zr([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),v):e},v.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],v):[o[0],o[1]]},v.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(S){return arguments.length?(n=S,v):n},v.duration=function(S){return arguments.length?(a=+S,v):a},v.interpolate=function(S){return arguments.length?(l=S,v):l},v.on=function(){var S=c.on.apply(c,arguments);return S===c?v:S},v.clickDistance=function(S){return arguments.length?(_=(S=+S)*S,v):Math.sqrt(_)},v.tapDistance=function(S){return arguments.length?(x=+S,v):x},v}const Ne={WIDTH:800,HEIGHT:600,NODE_RADIUS:8,LINK_DISTANCE:100,CHARGE_STRENGTH:-300,MIN_RADIUS:4,MAX_RADIUS:20,COLLISION_PADDING:2,COLLISION_STRENGTH:.7,LINK_STRENGTH:.5,ZOOM_MIN:.1,ZOOM_MAX:4,RESIZE_DEBOUNCE_MS:150,TOOLTIP_PADDING:12,TOOLTIP_DURATION:150,TOOLTIP_MAX_WIDTH:280,DRAG_ALPHA_TARGET:.3,SIMULATION_ALPHA:1,SIMULATION_RESTART_ALPHA:.3,LABEL_VISIBILITY_THRESHOLD:.5};function gt(t){return typeof t=="string"?t:t?.id||String(t)}function vn(t){const e=gt(t.source),n=gt(t.target);return e<n?`${e}-${n}`:`${n}-${e}`}function KC(t,e){let n;return function(...r){const o=()=>{clearTimeout(n),t(...r)};clearTimeout(n),n=setTimeout(o,e)}}class QC{constructor(e,n={}){if(this.container=typeof e=="string"?document.querySelector(e):e,!this.container)throw new Error("NetworkGraphD3: Container not found");this.log=Xe({prefix:"NetworkGraphD3",level:"info"}),this.options={width:n.width||Ne.WIDTH,height:n.height||Ne.HEIGHT,nodeRadius:n.nodeRadius||Ne.NODE_RADIUS,linkDistance:n.linkDistance||Ne.LINK_DISTANCE,chargeStrength:n.chargeStrength||Ne.CHARGE_STRENGTH,sizeBy:n.sizeBy||null,minRadius:n.minRadius||Ne.MIN_RADIUS,maxRadius:n.maxRadius||Ne.MAX_RADIUS,colorBy:n.colorBy||"group",colorScheme:n.colorScheme||"categorical",showLabels:n.showLabels!==!1,tooltipBuilder:n.tooltipBuilder||null,renderMode:n.renderMode||"colors",...n},this.options.minRadius>=this.options.maxRadius&&(this.log.warn("minRadius should be less than maxRadius, adjusting..."),this.options.minRadius=Math.min(this.options.minRadius,this.options.maxRadius-1)),this.data={nodes:[],links:[]},this.svg=null,this.simulation=null,this.isDestroyed=!1,this.isReady=!1,this.isRendering=!1,this.selectedNode=null,this.sizeScale=null,this.colorScale=null,this.resizeHandler=null,this.darkModeQuery=null,this.darkModeHandler=null,this.tooltip=null,this.currentTooltipNode=null,this.linkKeyCache=new Map,this.stabilizationCheckFrame=null,this.lastAlpha=1,this.stableTickCount=0,this.requiredStableTicks=10,this.stabilizationThreshold=.01,this.init()}init(){this.log.debug("Initializing graph",{width:this.options.width,height:this.options.height}),this.svg=_t(this.container).append("svg").attr("width",this.options.width).attr("height",this.options.height).attr("viewBox",`0 0 ${this.options.width} ${this.options.height}`).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label","Network graph visualization").style("background","transparent").style("opacity",0).style("visibility","hidden").attr("class","network-graph-svg"),this.g=this.svg.append("g").attr("class","main-group"),this.linkGroup=this.g.append("g").attr("class","links").attr("aria-label","Graph links"),this.nodeGroup=this.g.append("g").attr("class","nodes").attr("aria-label","Graph nodes"),this.options.showLabels&&(this.labelGroup=this.g.append("g").attr("class","labels").attr("aria-label","Node labels")),this.createTooltip(),this.zoomBehavior=JC().scaleExtent([Ne.ZOOM_MIN,Ne.ZOOM_MAX]).on("zoom",e=>{this.g.attr("transform",e.transform),this.currentZoom=e.transform.k,this.updateLabelVisibility()}),this.svg.call(this.zoomBehavior),this.currentZoom=1,this.svg.on("click",e=>{e.target===this.svg.node()&&this.deselectNode()}),this.simulation=mC().force("link",aC().id(e=>e.id).distance(this.options.linkDistance).strength(Ne.LINK_STRENGTH)).force("charge",gC().strength(this.options.chargeStrength)).force("center",_d(this.options.width/2,this.options.height/2)).force("collision",oC().radius(e=>this.getNodeRadius(e)+Ne.COLLISION_PADDING).strength(Ne.COLLISION_STRENGTH)).on("tick",()=>this.onTick()).on("end",()=>this.onSimulationEnd()),this.resizeHandler=KC(()=>this.handleResize(),Ne.RESIZE_DEBOUNCE_MS),window.addEventListener("resize",this.resizeHandler)}setData(e,n){if(this.isDestroyed){this.log.warn("Cannot set data on destroyed instance");return}if(!Array.isArray(e))throw new Error("NetworkGraphD3: nodes must be an array");if(!Array.isArray(n))throw new Error("NetworkGraphD3: links must be an array");const s=e.filter(r=>!r||!r.id);s.length>0&&this.log.warn(`Found ${s.length} nodes without id property`),this.log.debug("Setting graph data",{nodeCount:e.length,linkCount:n.length}),this.data.nodes=e,this.data.links=n.map(r=>({...r,source:gt(r.source),target:gt(r.target)})),this.linkKeyCache.clear(),this.selectedNode=null,this.computeScales(),this.updateGraph()}computeScales(){if(!this.data.nodes||this.data.nodes.length===0)return;if(this.options.sizeBy){const s=this.data.nodes.map(r=>r[this.options.sizeBy]).filter(r=>r!=null);if(s.length>0){const r=Math.min(...s),o=Math.max(...s);this.sizeScale=$C().domain([r,o]).range([this.options.minRadius,this.options.maxRadius]).clamp(!0)}}const e=this.options.colorBy,n=this.data.nodes.map(s=>s[e]).filter(s=>s!=null);if(n.length>0){const s=n.every(r=>typeof r=="number");if(this.options.colorScheme==="sequential"||s){const r=Math.min(...n),o=Math.max(...n);this.colorScale=Gf(jC).domain([r,o])}else{const r=[...new Set(n)];this.colorScale=Df().domain(r).range(HC)}}}updateVisualEncoding(e={}){e.sizeBy!==void 0&&(this.options.sizeBy=e.sizeBy),e.minRadius!==void 0&&(this.options.minRadius=e.minRadius),e.maxRadius!==void 0&&(this.options.maxRadius=e.maxRadius),e.colorBy!==void 0&&(this.options.colorBy=e.colorBy),e.colorScheme!==void 0&&(this.options.colorScheme=e.colorScheme);const n=e.preserveZoom!==!1;let s=null;n&&this.g&&(s=Vf(this.svg.node())),this.computeScales(),this.node&&this.node.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)),this.simulation&&this.simulation.force("collision").radius(r=>this.getNodeRadius(r)+Ne.COLLISION_PADDING),n&&s&&this.zoomBehavior&&this.svg&&(this.svg.call(this.zoomBehavior.transform,s),this.g.attr("transform",s),this.currentZoom=s.k)}setRenderMode(e){if(e!=="colors"&&e!=="avatars"){this.log.warn(`Invalid render mode: ${e}. Must be 'colors' or 'avatars'`);return}this.options.renderMode=e,this.log.debug(`Render mode changed to: ${e}`),this.nodeGroup&&(this.nodeGroup.selectAll("circle").remove(),this.nodeGroup.selectAll("text").remove(),this.node=null),this.labelGroup&&(this.labelGroup.selectAll("text").remove(),this.label=null),this.updateGraph()}updateNodeStatistics(e,n="eigenvector",s=!0){if(!e||!Array.isArray(e)){this.log.warn("updateNodeStatistics: enrichedNodes must be an array");return}const r=new Map;e.forEach(i=>{r.set(i.id,i)});let o=!1;this.data.nodes.forEach(i=>{const a=r.get(i.id);a&&(Object.keys(a).forEach(l=>{l!=="x"&&l!=="y"&&l!=="vx"&&l!=="vy"&&l!=="fx"&&l!=="fy"&&(i[l]=a[l])}),a.eigenvector!==void 0&&(o=!0))}),o&&n==="eigenvector"?this.updateVisualEncoding({sizeBy:"eigenvector",preserveZoom:s}):(this.computeScales(),this.node&&this.node.attr("r",i=>this.getNodeRadius(i)).attr("fill",i=>this.getNodeColor(i)),this.simulation&&this.simulation.force("collision").radius(i=>this.getNodeRadius(i)+Ne.COLLISION_PADDING)),this.log.debug("Node statistics updated",{nodeCount:e.length,sizingBy:o?n:"none"})}updateGraph(){if(!this.data.nodes||!this.data.links)return;this.isReady=!1,this.isRendering=!1,this.stableTickCount=0,this.lastAlpha=1,this.svg&&this.svg.style("opacity",0).style("visibility","hidden"),this.link=this.linkGroup.selectAll("line").data(this.data.links,r=>vn(r)),this.link.exit().remove();const e=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("aria-label",r=>`Link from ${gt(r.source)} to ${gt(r.target)}`);this.link=e.merge(this.link);const n=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(n).data(this.data.nodes,r=>r.id),this.node.exit().remove();const s=this.node.enter().append(n);if(this.options.renderMode==="avatars"?s.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",r=>`${this.getNodeRadius(r)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",r=>`Node ${r.id}`).text(r=>r.avatar||"").attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(r,o)=>this.onNodeMouseOver(r,o)).on("mouseout",(r,o)=>this.onNodeMouseOut(r,o)).on("click",(r,o)=>{r.stopPropagation(),this.toggleNodeSelection(o),this.emit("nodeClick",o)}).on("keydown",(r,o)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),this.toggleNodeSelection(o),this.emit("nodeClick",o))}):s.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",r=>`Node ${r.id}`).call(this.createDragBehavior()).on("mouseover",(r,o)=>this.onNodeMouseOver(r,o)).on("mouseout",(r,o)=>this.onNodeMouseOut(r,o)).on("click",(r,o)=>{r.stopPropagation(),this.toggleNodeSelection(o),this.emit("nodeClick",o)}).on("keydown",(r,o)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),this.toggleNodeSelection(o),this.emit("nodeClick",o))}),this.node=s.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",r=>`${this.getNodeRadius(r)*2}px`).text(r=>r.avatar||"").attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)*.5):this.node.attr("r",r=>this.getNodeRadius(r)).attr("fill",r=>this.getNodeColor(r)).attr("stroke",r=>this.getNodeStrokeColor(r)).attr("stroke-width",r=>this.getNodeStrokeWidth(r)),this.simulation.force("collision").radius(r=>this.getNodeRadius(r)+Ne.COLLISION_PADDING),this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,o=>o.id),this.label.exit().remove();const r=this.label.enter().append("text").text(o=>o.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",o=>this.getNodeRadius(o)+15).attr("fill","var(--color-text-primary)").style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=r.merge(this.label),this.label.attr("dy",o=>this.getNodeRadius(o)+15),this.updateLabelVisibility()}this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),requestAnimationFrame(()=>{this.isRendering=!0,this.simulation.alpha(Ne.SIMULATION_ALPHA).restart()})}onTick(){this.isDestroyed||!this.isRendering&&!this.isReady||(this.link&&this.link.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),this.node&&(this.options.renderMode==="avatars"?this.node.attr("x",e=>e.x).attr("y",e=>e.y):this.node.attr("cx",e=>e.x).attr("cy",e=>e.y)),this.label&&this.label.attr("x",e=>e.x).attr("y",e=>e.y),!this.isReady&&this.simulation&&this.checkStabilization())}checkStabilization(){if(!this.simulation||this.isDestroyed)return;const e=this.simulation.alpha();e<this.stabilizationThreshold?this.stableTickCount++:this.stableTickCount=0,this.stableTickCount>=this.requiredStableTicks?this.markAsReady():this.stabilizationCheckFrame||(this.stabilizationCheckFrame=requestAnimationFrame(()=>{this.stabilizationCheckFrame=null})),this.lastAlpha=e}onSimulationEnd(){this.isDestroyed||this.markAsReady()}markAsReady(){this.isReady||this.isDestroyed||(this.log.debug("Graph marked as ready"),this.isReady=!0,this.isRendering=!0,this.svg&&this.svg.style("opacity",1).style("visibility","visible"),this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.fitToView(),this.emit("ready")})}))}createDragBehavior(){return Qw().on("start",(e,n)=>{e.active||this.simulation.alphaTarget(Ne.DRAG_ALPHA_TARGET).restart(),n.fx=n.x,n.fy=n.y,this.emit("nodeDragStart",n)}).on("drag",(e,n)=>{n.fx=e.x,n.fy=e.y,this.emit("nodeDrag",n)}).on("end",(e,n)=>{e.active||this.simulation.alphaTarget(0),this.emit("nodeDragEnd",n)})}isDarkMode(){return document.documentElement.classList.contains("dark")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}updateTooltipStyles(e){this.tooltip&&this.tooltip.style("background",e?"rgba(17, 24, 39, 0.95)":"rgba(0, 0, 0, 0.9)").style("color",e?"#f9fafb":"#fff").style("box-shadow",e?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.3)").style("border",e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.2)")}createTooltip(){this.tooltip&&this.tooltip.remove(),this.darkModeQuery&&this.darkModeHandler&&this.darkModeQuery.removeEventListener("change",this.darkModeHandler);const e=this.isDarkMode();this.tooltip=_t("body").append("div").attr("class","network-graph-tooltip").attr("role","tooltip").attr("aria-hidden","true").style("position","absolute").style("padding","10px 14px").style("border-radius","8px").style("font-size","12px").style("font-family","system-ui, -apple-system, sans-serif").style("pointer-events","none").style("opacity",0).style("visibility","hidden").style("z-index",1e3).style("max-width",`${Ne.TOOLTIP_MAX_WIDTH}px`).style("line-height","1.6").style("backdrop-filter","blur(8px)"),this.updateTooltipStyles(e),window.matchMedia&&(this.darkModeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeHandler=n=>{!this.isDestroyed&&this.tooltip&&this.updateTooltipStyles(n.matches)},this.darkModeQuery.addEventListener("change",this.darkModeHandler))}showTooltip(e,n){if(!this.tooltip||this.isDestroyed)return;const s=this.options.tooltipBuilder?this.options.tooltipBuilder(n):this.buildTooltipContent(n);this.tooltip.html(s);const r=e.clientX||e.pageX,o=e.clientY||e.pageY;this.tooltip.style("opacity",0).style("visibility","visible").attr("aria-hidden","false");const i=this.tooltip.node();if(!i)return;const a=i.offsetWidth||200,l=i.offsetHeight||100,c=Ne.TOOLTIP_PADDING;let d=r+c,u=o-l-c;const f=window.innerWidth,p=window.innerHeight;d+a>f-c&&(d=r-a-c),d<c&&(d=r+c),u<c&&(u=o+c),u+l>p-c&&(u=o-l-c),this.tooltip.style("left",`${d}px`).style("top",`${u}px`).transition().duration(Ne.TOOLTIP_DURATION).style("opacity",1),this.currentTooltipNode=n}hideTooltip(){this.tooltip&&(this.tooltip.transition().duration(Ne.TOOLTIP_DURATION).style("opacity",0).on("end",function(){_t(this).style("visibility","hidden").attr("aria-hidden","true")}),this.currentTooltipNode=null)}updateLabelVisibility(){if(!this.label||!this.options.showLabels)return;const e=this.currentZoom>=Ne.LABEL_VISIBILITY_THRESHOLD;this.label.style("opacity",e?1:0).style("visibility",e?"visible":"hidden")}buildTooltipContent(e){if(!e)return"";const n=[];n.push(`<div style="font-weight: 600; margin-bottom: 6px; font-size: 13px;"> ${e.id}</div>`);const s=new Set(["id","x","y","fx","fy","vx","vy","index","__data__","__transition__"]),r=["relationship","gender","avatar","group","community"],o=["degree","eigenvector","betweenness","clustering","closeness","centrality"];r.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!s.has(l)){const c=e[l];let d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="relationship")n.push(`<div style="margin-bottom: 3px;"><strong> Relationship:</strong> ${this.escapeHtml(c)}</div>`);else if(l==="gender"){const f={male:{emoji:"",text:"Male"},female:{emoji:"",text:"Female"},other:{emoji:"",text:"Other"}}[c]||{emoji:"",text:c};n.push(`<div style="margin-bottom: 3px;"><strong>Gender:</strong> ${f.emoji} ${f.text}</div>`)}else l==="avatar"?n.push(`<div style="margin-bottom: 3px;"><strong>Avatar:</strong> ${c}</div>`):l==="group"?n.push(`<div style="margin-bottom: 3px;"><strong>Group:</strong> ${c}</div>`):l==="community"?n.push(`<div style="margin-bottom: 3px;"><strong> Community:</strong> ${c}</div>`):n.push(`<div style="margin-bottom: 3px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}}),o.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!s.has(l)){const c=e[l],d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="centrality"&&e.eigenvector!==void 0)return;typeof c=="number"?n.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${c.toFixed(4)}</div>`):n.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}});const i=new Set([...r,...o,"x","y"]),a=Object.keys(e).filter(l=>!s.has(l)&&!i.has(l)&&e[l]!==void 0&&e[l]!==null&&typeof e[l]!="function"&&!l.startsWith("__")).sort();return a.length>0&&(n.push(`<div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid ${this.isDarkMode()?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.1)"}; font-size: 11px;">`),n.push(`<div style="margin-bottom: 4px; font-weight: 600; color: ${this.isDarkMode()?"rgba(249,250,251,0.8)":"rgba(0,0,0,0.7)"};">Other Properties:</div>`),a.forEach(l=>{const c=e[l];let d;typeof c=="object"&&c!==null?Array.isArray(c)?d=`[${c.length} items]`:d=`{${Object.keys(c).length} keys}`:d=String(c);const u=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");n.push(`<div style="margin-bottom: 2px; font-family: monospace; font-size: 10px;"><strong>${u}:</strong> ${this.escapeHtml(d)}</div>`)}),n.push("</div>")),e.x!==void 0&&e.y,n.join("")}escapeHtml(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML}onNodeMouseOver(e,n){_t(e.currentTarget).attr("stroke-width",4).attr("stroke","#fbbf24"),this.showTooltip(e,n),this.emit("nodeHover",n)}onNodeMouseOut(e,n){_t(e.currentTarget).attr("stroke-width",this.getNodeStrokeWidth(n)).attr("stroke",this.getNodeStrokeColor(n)),this.hideTooltip(),this.emit("nodeLeave",n)}getNodeRadius(e){if(this.options.sizeBy&&this.sizeScale){const n=e[this.options.sizeBy];if(n!=null)return this.sizeScale(n)}return this.options.nodeRadius}getNodeColor(e){if(this.options.customColorFunction){const o=this.options.customColorFunction(e);if(o)return o}const n=this.options.colorBy;if(this.colorScale){const o=e[n];if(o!=null)return this.colorScale(o)}const s=e.group||0,r=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return r[(s-1)%r.length]}getNodeStrokeColor(e){return this.selectedNode&&this.selectedNode.id===e.id?"#fb923c":"#fff"}getNodeStrokeWidth(e){return this.selectedNode&&this.selectedNode.id===e.id?3:2}toggleNodeSelection(e){this.selectedNode&&this.selectedNode.id===e.id?this.deselectNode():this.selectNode(e)}selectNode(e){if(!e)return;const n=this.selectedNode;n&&(n.fx=null,n.fy=null),this.selectedNode=e,this.node&&this.node.attr("stroke",s=>this.getNodeStrokeColor(s)).attr("stroke-width",s=>this.getNodeStrokeWidth(s)),this.log.debug("Node selected",{nodeId:e.id}),this.emit("nodeSelected",{node:e,previousSelection:n})}deselectNode(){if(!this.selectedNode)return;const e=this.selectedNode;e.fx=null,e.fy=null,this.selectedNode=null,this.node&&this.node.attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)),this.simulation&&this.simulation.alpha(.3).restart(),this.log.debug("Node deselected",{nodeId:e.id}),this.emit("nodeDeselected",{previousSelection:e})}getSelectedNode(){return this.selectedNode}handleResize(){if(this.isDestroyed||!this.container)return;const e=this.container.getBoundingClientRect(),n=e.width||this.options.width,s=e.height||this.options.height;n===this.options.width&&s===this.options.height||(this.options.width=n,this.options.height=s,this.svg&&this.svg.attr("width",n).attr("height",s).attr("viewBox",`0 0 ${n} ${s}`),this.simulation&&this.simulation.force("center",_d(n/2,s/2)).alpha(Ne.SIMULATION_RESTART_ALPHA).restart(),this.emit("resize",{width:n,height:s}))}emit(e,n){this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(s=>s(n))}on(e,n){this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(n)}off(e,n){this.eventHandlers&&this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter(s=>s!==n))}addNodeIncremental(e=[],n=null,s=null){const r=n||`Node${this.data.nodes.length+1}`,o=s!==null?s:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const d=this.data.nodes.filter(u=>e.includes(u.id));if(d.length>0){i=d.reduce((p,y)=>p+y.x,0)/d.length,a=d.reduce((p,y)=>p+y.y,0)/d.length;const u=Math.random()*2*Math.PI,f=50+Math.random()*50;i+=Math.cos(u)*f,a+=Math.sin(u)*f}}const l={id:r,group:o,centrality:.5,x:i,y:a,fx:i,fy:a};this.data.nodes.push(l);const c=[];if(e.forEach(d=>{if(this.data.nodes.find(u=>u.id===d)){const u={source:r,target:d};this.data.links.push(u),c.push(u)}}),this.computeScales(),this.nodeGroup){const d=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(d).data(this.data.nodes,f=>f.id);const u=this.node.enter().append(d);this.options.renderMode==="avatars"?u.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("x",f=>f.x).attr("y",f=>f.y).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}):u.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("cx",f=>f.x).attr("cy",f=>f.y).call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}),this.node=u.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5):this.node.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f))}if(this.linkGroup&&c.length>0){this.link=this.linkGroup.selectAll("line").data(this.data.links,u=>vn(u));const d=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.x||0).attr("y1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.y||0).attr("x2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.x||0).attr("y2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.y||0).attr("aria-label",u=>`Link from ${gt(u.source)} to ${gt(u.target)}`);this.link=d.merge(this.link)}if(this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,u=>u.id);const d=this.label.enter().append("text").text(u=>u.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",u=>this.getNodeRadius(u)+15).attr("fill","var(--color-text-primary)").attr("x",u=>u.x).attr("y",u=>u.y).style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=d.merge(this.label),this.label.attr("dy",u=>this.getNodeRadius(u)+15),this.updateLabelVisibility()}return this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(d=>this.getNodeRadius(d)+Ne.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ne.SIMULATION_ALPHA).restart()})),setTimeout(()=>{const d=this.data.nodes.find(u=>u.id===r);d&&(d.fx=null,d.fy=null,this.simulation.alpha(.3).restart())},1e3),l}addNode(e=[],n=null,s=null){const r=n||`Node${this.data.nodes.length+1}`,o=s!==null?s:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const c=this.data.nodes.filter(d=>e.includes(d.id));if(c.length>0){i=c.reduce((f,p)=>f+p.x,0)/c.length,a=c.reduce((f,p)=>f+p.y,0)/c.length;const d=Math.random()*2*Math.PI,u=50+Math.random()*50;i+=Math.cos(d)*u,a+=Math.sin(d)*u}}const l={id:r,group:o,centrality:.5,x:i,y:a,fx:i,fy:a};return this.data.nodes.push(l),e.forEach(c=>{this.data.nodes.find(d=>d.id===c)&&this.data.links.push({source:r,target:c})}),this.updateGraph(),setTimeout(()=>{const c=this.data.nodes.find(d=>d.id===r);c&&(c.fx=null,c.fy=null,this.simulation.alpha(.3).restart())},1e3),l}removeNode(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const n=this.data.nodes.findIndex(s=>s.id===e);return n===-1?!1:(this.data.nodes.splice(n,1),this.data.links=this.data.links.filter(s=>{const r=gt(s.source),o=gt(s.target);return r!==e&&o!==e}),this.linkKeyCache.clear(),this.updateGraph(),this.emit("nodeRemoved",e),!0)}removeNodeIncremental(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const n=this.data.nodes.findIndex(s=>s.id===e);return n===-1?!1:(this.data.nodes.splice(n,1),this.data.links=this.data.links.filter(s=>{const r=gt(s.source),o=gt(s.target);return r!==e&&o!==e}),this.linkKeyCache.clear(),this.computeScales(),this.nodeGroup&&(this.node=this.nodeGroup.selectAll("circle").data(this.data.nodes,s=>s.id),this.node.exit().remove()),this.linkGroup&&(this.link=this.linkGroup.selectAll("line").data(this.data.links,s=>vn(s)),this.link.exit().remove()),this.options.showLabels&&this.labelGroup&&(this.label=this.labelGroup.selectAll("text").data(this.data.nodes,s=>s.id),this.label.exit().remove()),this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(s=>this.getNodeRadius(s)+Ne.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ne.SIMULATION_ALPHA).restart()})),this.emit("nodeRemoved",e),!0)}addLinkIncremental(e,n){if(!e||!n)return!1;const s=this.data.nodes.find(l=>l.id===e),r=this.data.nodes.find(l=>l.id===n);if(!s||!r)return this.log.warn(`Cannot add link: nodes ${e} or ${n} not found`),!1;if(e===n)return this.log.warn("Cannot add self-loop"),!1;const o={source:e,target:n},i=vn(o);if(this.data.links.some(l=>vn(l)===i))return this.log.debug(`Link already exists: ${e} -> ${n}`),!1;if(this.data.links.push(o),this.linkGroup){this.link=this.linkGroup.selectAll("line").data(this.data.links,c=>vn(c));const l=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.x||0).attr("y1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.y||0).attr("x2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.x||0).attr("y2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.y||0).attr("aria-label",c=>`Link from ${gt(c.source)} to ${gt(c.target)}`);this.link=l.merge(this.link)}return this.simulation.force("link").links(this.data.links),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ne.SIMULATION_ALPHA).restart()})),this.emit("linkAdded",{source:e,target:n}),!0}addLink(e,n){if(!e||!n)return!1;const s=this.data.nodes.some(l=>l.id===e),r=this.data.nodes.some(l=>l.id===n);if(!s||!r)return this.log.warn(`Cannot add link: nodes ${e} or ${n} not found`),!1;if(e===n)return this.log.warn("Cannot add self-loop"),!1;const o={source:e,target:n},i=vn(o);return this.data.links.some(l=>vn(l)===i)?(this.log.debug(`Link already exists: ${e} -> ${n}`),!1):(this.data.links.push(o),this.updateGraph(),this.emit("linkAdded",{source:e,target:n}),!0)}getNodeIds(){return this.data.nodes.map(e=>e.id)}hasNode(e){return this.data.nodes.some(n=>n.id===e)}fitToView(){if(!this.data.nodes||this.data.nodes.length===0||!this.svg)return;let e=1/0,n=1/0,s=-1/0,r=-1/0;if(this.data.nodes.forEach(w=>{if(w.x!==void 0&&w.y!==void 0){const N=this.getNodeRadius(w);e=Math.min(e,w.x-N),n=Math.min(n,w.y-N),s=Math.max(s,w.x+N),r=Math.max(r,w.y+N)}}),e===1/0||n===1/0)return;const o=50;e-=o,n-=o,s+=o,r+=o;const i=s-e,a=r-n,l=(e+s)/2,c=(n+r)/2,d=this.options.width,u=this.options.height,f=d/i,p=u/a,y=Math.min(f,p,Ne.ZOOM_MAX)*.9,_=d/2-l*y,x=u/2-c*y,v=ri.translate(_,x).scale(y);this.zoomBehavior&&this.svg&&this.svg.call(this.zoomBehavior.transform,v),this.g.attr("transform",v),this.currentZoom=y,this.updateLabelVisibility(),this.log.debug("Fitted graph to view",{scale:y,translateX:_,translateY:x})}lockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to lock");return}this.data.nodes.forEach(e=>{e.x!==void 0&&e.y!==void 0&&(e.fx=e.x,e.fy=e.y)}),this.simulation&&this.simulation.alpha(0).alphaTarget(0),this.log.debug("Node positions locked"),this.emit("positionsLocked")}unlockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to unlock");return}this.data.nodes.forEach(e=>{e.fx=null,e.fy=null}),this.simulation&&this.simulation.alpha(.3).alphaTarget(0).restart(),this.log.debug("Node positions unlocked"),this.emit("positionsUnlocked")}saveAsPNG(e="network-graph.png"){if(!this.svg||this.isDestroyed){this.log.warn("Cannot save PNG - graph not available");return}try{const n=this.svg.node();if(!n){this.log.warn("SVG element not found");return}const s=new XMLSerializer().serializeToString(n),r=new Image,o=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(o);r.onload=()=>{const a=document.createElement("canvas");a.width=this.options.width,a.height=this.options.height;const l=a.getContext("2d");l.fillStyle="white",l.fillRect(0,0,a.width,a.height),l.drawImage(r,0,0),a.toBlob(c=>{if(c){const d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=e,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d),this.log.info("PNG exported successfully",{filename:e})}},"image/png"),URL.revokeObjectURL(i)},r.onerror=()=>{this.log.error("Failed to load SVG for PNG export"),URL.revokeObjectURL(i)},r.src=i}catch(n){this.log.error("Failed to export PNG",{error:n.message,stack:n.stack})}}destroy(){this.isDestroyed||(this.log.debug("Destroying graph instance"),this.isDestroyed=!0,this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),this.simulation&&(this.simulation.stop(),this.simulation=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.darkModeQuery&&this.darkModeHandler&&(this.darkModeQuery.removeEventListener("change",this.darkModeHandler),this.darkModeQuery=null,this.darkModeHandler=null),this.svg&&(this.svg.remove(),this.svg=null),this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this.data={nodes:[],links:[]},this.linkKeyCache.clear(),this.eventHandlers={},this.log.info("Graph destroyed"))}}class yl{constructor(){this.nodes=new Set,this.edges=[],this.adjacencyMap=new Map}addNode(e){return this.nodes.add(e),this}addNodesFrom(e){return e.forEach(n=>this.nodes.add(n)),this}removeNode(e){if(!this.nodes.has(e))throw new Error(`Node '${e}' does not exist in the graph`);return this.nodes.delete(e),this.edges=this.edges.filter(n=>n.u!==e&&n.v!==e),this.adjacencyMap.has(e)&&(Array.from(this.adjacencyMap.get(e).keys()).forEach(n=>{this.adjacencyMap.has(n)&&this.adjacencyMap.get(n).delete(e)}),this.adjacencyMap.delete(e)),this}hasNode(e){return this.nodes.has(e)}addEdgesFrom(e){return e.forEach(([n,s,r=1])=>{this.addEdge(n,s,r)}),this}addEdge(e,n,s=1){this.nodes.add(e),this.nodes.add(n);const r={u:e,v:n,weight:s};return this.edges.push(r),this.adjacencyMap.has(e)||this.adjacencyMap.set(e,new Map),this.adjacencyMap.has(n)||this.adjacencyMap.set(n,new Map),this.adjacencyMap.get(e).set(n,s),this.adjacencyMap.get(n).set(e,s),this}getNeighbors(e){return this.adjacencyMap.has(e)?Array.from(this.adjacencyMap.get(e).keys()):[]}getAllEdges(){return this.edges}getNodeList(){return Array.from(this.nodes)}numberOfNodes(){return this.nodes.size}numberOfEdges(){return this.edges.length}removeEdge(e,n){const s=this.edges.findIndex(r=>r.u===e&&r.v===n||r.u===n&&r.v===e);if(s===-1)throw new Error(`Edge between '${e}' and '${n}' does not exist`);return this.edges.splice(s,1),this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).delete(n),this.adjacencyMap.has(n)&&this.adjacencyMap.get(n).delete(e),this}hasEdge(e,n){return this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).has(n)}getEdgeWeight(e,n){return this.hasEdge(e,n)?this.adjacencyMap.get(e).get(n):null}updateEdgeWeight(e,n,s){if(!this.hasEdge(e,n))throw new Error(`Edge between '${e}' and '${n}' does not exist`);this.adjacencyMap.get(e).set(n,s),this.adjacencyMap.get(n).set(e,s);const r=this.edges.find(o=>o.u===e&&o.v===n||o.u===n&&o.v===e);return r&&(r.weight=s),this}degree(e){return this.adjacencyMap.has(e)?this.adjacencyMap.get(e).size:0}clear(){return this.nodes.clear(),this.edges=[],this.adjacencyMap.clear(),this}}class gr{constructor(e){this.workerScript=e,this.worker=null}static create(e){if(typeof Worker<"u")return new _l(e);if(typeof require<"u")try{return require.resolve("worker_threads"),new eS(e)}catch{throw new Error("Worker Threads not available in this Node.js version")}else throw new Error("No worker support available in this environment")}static isSupported(){if(typeof Worker<"u")return!0;if(typeof require<"u")try{return require.resolve("worker_threads"),!0}catch{return!1}return!1}postMessage(e,n=[]){throw new Error("Must implement postMessage")}onMessage(e){throw new Error("Must implement onMessage")}onError(e){throw new Error("Must implement onError")}terminate(){throw new Error("Must implement terminate")}}class _l extends gr{constructor(e){super(e),this.worker=new Worker(e,{type:"module"})}static fromCode(e){const n=new Blob([e],{type:"application/javascript"}),s=URL.createObjectURL(n);return new _l(s)}postMessage(e,n=[]){this.worker.postMessage(e,n)}onMessage(e){this.worker.onmessage=n=>e(n.data)}onError(e){this.worker.onerror=n=>{e(new Error(n.message||"Worker error"))}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class eS extends gr{constructor(e){super(e);const{Worker:n}=require("worker_threads");this.worker=new n(e)}postMessage(e,n=[]){this.worker.postMessage(e,n)}onMessage(e){this.worker.on("message",e)}onError(e){this.worker.on("error",n=>{e(n)}),this.worker.on("exit",n=>{n!==0&&e(new Error(`Worker stopped with exit code ${n}`))})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class tS{constructor(e={}){this.maxWorkers=e.maxWorkers||this.detectCPUCount(),this.workerScript=e.workerScript||this.getDefaultWorkerScript(),this.taskTimeout=e.taskTimeout||6e4,this.verbose=e.verbose||!1,this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.activeTasks=new Map,this.taskIdCounter=0,this.initialized=!1,this.log=Xe({prefix:"WorkerPool",level:this.verbose?"debug":"info"})}detectCPUCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;if(typeof require<"u")try{return require("os").cpus().length}catch{}return 4}getDefaultWorkerScript(){return typeof window<"u"?new URL("data:text/javascript;base64,LyoqDQogKiBOZXR3b3JrIFdvcmtlciAtIEV4ZWN1dGVzIGNvbXB1dGUgZnVuY3Rpb25zIGZyb20gYWxnb3JpdGhtIG1vZHVsZXMNCiAqDQogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqDQogKiAtIFN0YXRpY2FsbHkgaW1wb3J0cyBhbGwgYWxnb3JpdGhtIG1vZHVsZXMgdXBmcm9udA0KICogLSBDcmVhdGVzIGEgcmVnaXN0cnkgdGhhdCBtYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzDQogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9DQogKiAtIFdvcmtlciBsb29rcyB1cCBtb2R1bGUgZnJvbSByZWdpc3RyeSBhbmQgZXhlY3V0ZXMgZnVuY3Rpb24NCiAqDQogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UNCiAqIGltcG9ydHMgYXJlIGtub3duIGF0IGJ1aWxkIHRpbWUuDQogKg0KICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcg0KICovDQoNCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOw0KDQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250DQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQ0KY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKHsNCiAgcHJlZml4OiAnbmV0d29yay13b3JrZXInLA0KICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsDQp9KTsNCg0KLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkNCmltcG9ydCAqIGFzIG5vZGVTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOw0KaW1wb3J0ICogYXMgZ3JhcGhTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL2dyYXBoLXN0YXRzLmpzJzsNCg0KLy8gQ29tbXVuaXR5IGRldGVjdGlvbiBhbGdvcml0aG1zDQppbXBvcnQgKiBhcyBsb3V2YWluQ29tcHV0ZSBmcm9tICcuLi9jb21tdW5pdHkvYWxnb3JpdGhtcy9sb3V2YWluLmpzJzsNCg0KLy8gTGF5b3V0IGFsZ29yaXRobXMNCmltcG9ydCAqIGFzIHJhbmRvbUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9yYW5kb20uanMnOw0KaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOw0KaW1wb3J0ICogYXMgc3BpcmFsQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL3NwaXJhbC5qcyc7DQppbXBvcnQgKiBhcyBzaGVsbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zaGVsbC5qcyc7DQppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7DQppbXBvcnQgKiBhcyBmb3JjZURpcmVjdGVkQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzsNCmltcG9ydCAqIGFzIGthbWFkYUthd2FpQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc7DQppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsNCmltcG9ydCAqIGFzIG11bHRpcGFydGl0ZUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9tdWx0aXBhcnRpdGUuanMnOw0KaW1wb3J0ICogYXMgYmZzQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2Jmcy5qcyc7DQoNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vIE1PRFVMRSBSRUdJU1RSWSAtIE1hcHMgbW9kdWxlIHBhdGhzIHRvIHRoZWlyIGV4cG9ydHMNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KY29uc3QgTU9EVUxFX1JFR0lTVFJZID0gew0KICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkNCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ub2RlLXN0YXRzLmpzJzogbm9kZVN0YXRzQ29tcHV0ZSwNCg0KICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzDQogICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvZ3JhcGgtc3RhdHMuanMnOiBncmFwaFN0YXRzQ29tcHV0ZSwNCg0KICAvLyBDb21tdW5pdHkNCiAgJy4uL2NvbW11bml0eS9hbGdvcml0aG1zL2xvdXZhaW4uanMnOiBsb3V2YWluQ29tcHV0ZSwNCg0KICAvLyBMYXlvdXRzDQogICcuLi9sYXlvdXRzL3JhbmRvbS5qcyc6IHJhbmRvbUNvbXB1dGUsDQogICcuLi9sYXlvdXRzL2NpcmN1bGFyLmpzJzogY2lyY3VsYXJDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zaGVsbC5qcyc6IHNoZWxsQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvc3BlY3RyYWwuanMnOiBzcGVjdHJhbENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc6IGthbWFkYUthd2FpQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzogYmlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmZzLmpzJzogYmZzQ29tcHV0ZQ0KfTsNCg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy8gV09SS0VSIE1FU1NBR0UgSEFORExFUg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQovKioNCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcw0KICovDQpzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7DQogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7DQoNCiAgdHJ5IHsNCiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdA0KICAgIGlmICghbW9kdWxlIHx8ICFmdW5jdGlvbk5hbWUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXNrOiBtb2R1bGUgYW5kIGZ1bmN0aW9uTmFtZSBhcmUgcmVxdWlyZWQnKTsNCiAgICB9DQoNCiAgICBsb2cuZGVidWcoJ1Byb2Nlc3NpbmcgdGFzaycsIHsNCiAgICAgIGlkLA0KICAgICAgbW9kdWxlLA0KICAgICAgZnVuY3Rpb25OYW1lLA0KICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDANCiAgICB9KTsNCg0KICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZA0KICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHsNCiAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoew0KICAgICAgICBpZCwNCiAgICAgICAgc3RhdHVzOiAncHJvZ3Jlc3MnLA0KICAgICAgICBwcm9ncmVzczogTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKSAvLyBDbGFtcCB0byBbMCwgMV0NCiAgICAgIH0pOw0KICAgIH07DQoNCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQ0KICAgIGNvbnN0IGFsZ29yaXRobU1vZHVsZSA9IE1PRFVMRV9SRUdJU1RSWVttb2R1bGVdOw0KDQogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcigNCiAgICAgICAgYE1vZHVsZSAnJHttb2R1bGV9JyBub3QgZm91bmQgaW4gcmVnaXN0cnkuIGAgKw0KICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gR2V0IHRoZSBjb21wdXRlIGZ1bmN0aW9uDQogICAgY29uc3QgY29tcHV0ZUZ1bmN0aW9uID0gYWxnb3JpdGhtTW9kdWxlW2Z1bmN0aW9uTmFtZV07DQoNCiAgICBpZiAoIWNvbXB1dGVGdW5jdGlvbiB8fCB0eXBlb2YgY29tcHV0ZUZ1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoDQogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsNCiAgICAgICAgYEF2YWlsYWJsZSBmdW5jdGlvbnM6ICR7T2JqZWN0LmtleXMoYWxnb3JpdGhtTW9kdWxlKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gRXhlY3V0ZSB0aGUgY29tcHV0ZSBmdW5jdGlvbg0KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wdXRlRnVuY3Rpb24oLi4uYXJncywgcHJvZ3Jlc3NDYWxsYmFjayk7DQoNCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywNCiAgICAgIHJlc3VsdA0KICAgIH0pOw0KDQogIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgLy8gU2VuZCBlcnJvcg0KICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7DQogICAgICBpZCwNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLA0KICAgICAgc3RhY2s6IGVycm9yLnN0YWNrDQogICAgfSk7DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2Vycm9yJywNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJywNCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICAgIH0pOw0KICB9DQp9Ow0KDQovKioNCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzDQogKi8NCnNlbGYub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7DQogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgew0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnLA0KICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICB9KTsNCiAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgc3RhdHVzOiAnZXJyb3InLA0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnDQogIH0pOw0KfTsNCg0KLy8gTG9nIHdvcmtlciBpbml0aWFsaXphdGlvbg0KbG9nLmluZm8oJ0luaXRpYWxpemVkJywgeyBtb2R1bGVDb3VudDogT2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5sZW5ndGggfSk7DQo=",import.meta.url).href:typeof require<"u"?require("path").join(__dirname,"network-worker.js"):"./network-worker.js"}async initialize(){if(!this.initialized){if(!gr.isSupported())throw new Error("Workers not supported in this environment");this.log.debug("Initializing worker pool",{maxWorkers:this.maxWorkers});try{for(let e=0;e<this.maxWorkers;e++){const n=await this.createWorker(e);this.workers.push(n),this.availableWorkers.push(n)}this.initialized=!0,this.log.info("Worker pool initialized successfully",{workerCount:this.maxWorkers})}catch(e){throw this.log.error("Failed to initialize worker pool",{error:e.message,stack:e.stack}),await this.terminate(),e}}}async createWorker(e){const n=gr.create(this.workerScript);return n.id=e,n.currentTaskId=null,n.onMessage(s=>{this.handleWorkerMessage(n,s)}),n.onError(s=>{this.handleWorkerError(n,s)}),this.log.debug("Worker created",{workerId:e}),n}async execute(e,n={}){if(!this.initialized)throw new Error("Worker pool not initialized. Call initialize() first.");return new Promise((s,r)=>{const o=`task_${this.taskIdCounter++}`,i={id:o,...e},a=n.timeout||this.taskTimeout,l=setTimeout(()=>{this.handleTaskTimeout(o)},a);if(this.activeTasks.set(o,{resolve:s,reject:r,onProgress:n.onProgress,timeoutId:l,startTime:Date.now()}),this.availableWorkers.length>0){const c=this.availableWorkers.pop();this.assignTask(c,i),this.log.debug("Task assigned to worker",{taskId:o,workerId:c.id})}else this.taskQueue.push(i),this.log.debug("Task queued",{taskId:o,queueLength:this.taskQueue.length})})}assignTask(e,n){e.currentTaskId=n.id,e.postMessage(n)}handleWorkerMessage(e,n){const{id:s,status:r,result:o,progress:i,error:a}=n,l=this.activeTasks.get(s);if(!l){this.log.warn("Received message for unknown task",{taskId:s});return}if(r==="progress")l.onProgress&&l.onProgress(i),this.log.debug("Task progress",{taskId:s,progress:Math.round(i*100)});else if(r==="complete"){const c=Date.now()-l.startTime;this.log.debug("Task completed",{taskId:s,duration:c}),clearTimeout(l.timeoutId),l.resolve(o),this.activeTasks.delete(s),this.freeWorker(e)}else r==="error"&&(this.log.error("Task failed",{taskId:s,error:a}),clearTimeout(l.timeoutId),l.reject(new Error(a)),this.activeTasks.delete(s),this.freeWorker(e))}handleWorkerError(e,n){if(this.log.error("Worker error",{workerId:e.id,error:n.message,stack:n.stack}),e.currentTaskId){const s=this.activeTasks.get(e.currentTaskId);s&&(clearTimeout(s.timeoutId),s.reject(n),this.activeTasks.delete(e.currentTaskId))}this.restartWorker(e)}handleTaskTimeout(e){const n=this.activeTasks.get(e);if(!n)return;this.log.warn("Task timed out",{taskId:e,timeout:this.taskTimeout}),n.reject(new Error(`Task timed out after ${this.taskTimeout}ms`)),this.activeTasks.delete(e);const s=this.workers.find(r=>r.currentTaskId===e);s&&this.restartWorker(s)}freeWorker(e){if(e.currentTaskId=null,this.taskQueue.length>0){const n=this.taskQueue.shift();this.assignTask(e,n),this.log.debug("Task assigned from queue",{taskId:n.id,workerId:e.id})}else this.availableWorkers.push(e)}async restartWorker(e){const n=this.workers.indexOf(e);if(n!==-1){this.log.debug("Restarting worker",{workerId:e.id});try{e.terminate();const s=await this.createWorker(e.id);this.workers[n]=s,this.availableWorkers.push(s),this.log.info("Worker restarted successfully",{workerId:e.id})}catch(s){this.log.error("Failed to restart worker",{workerId:e.id,error:s.message,stack:s.stack}),this.workers.splice(n,1)}}}async waitForActiveTasks(e=5e3){if(this.activeTasks.size!==0)return this.log.debug("Waiting for active tasks",{taskCount:this.activeTasks.size,timeout:e}),new Promise(n=>{const s=Date.now(),r=setInterval(()=>{(this.activeTasks.size===0||Date.now()-s>e)&&(clearInterval(r),this.log.debug("Wait complete",{remainingTasks:this.activeTasks.size}),n())},100)})}async terminate(e=!1){this.initialized&&(this.log.info("Terminating worker pool",{force:e}),e||await this.waitForActiveTasks(5e3),this.activeTasks.forEach((n,s)=>{clearTimeout(n.timeoutId),n.reject(new Error("Worker pool terminated"))}),this.activeTasks.clear(),this.workers.forEach(n=>{try{n.terminate()}catch(s){this.log.error("Error terminating worker",{workerId:n.id,error:s.message})}}),this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.initialized=!1,this.log.info("Worker pool terminated"))}getStatus(){return{initialized:this.initialized,totalWorkers:this.workers.length,availableWorkers:this.availableWorkers.length,busyWorkers:this.workers.length-this.availableWorkers.length,activeTasks:this.activeTasks.size,queuedTasks:this.taskQueue.length}}}class cn{constructor(){if(cn.instance)return cn.instance;this.workerPool=null,this.initialized=!1,this.initPromise=null,this.log=Xe({prefix:"WorkerManager",level:"info"}),cn.instance=this}async initialize(e={}){if(this.initPromise)return this.initPromise;if(this.initialized&&this.workerPool)return Promise.resolve();this.initPromise=this._doInitialize(e);try{await this.initPromise}finally{this.initPromise=null}}async _doInitialize(e){const{maxWorkers:n,workerScript:s,taskTimeout:r=6e4,verbose:o=!1}=e;this.log.setLevel(o?"debug":"info");let i=s;if(!i)try{i=new URL("data:text/javascript;base64,LyoqDQogKiBOZXR3b3JrIFdvcmtlciAtIEV4ZWN1dGVzIGNvbXB1dGUgZnVuY3Rpb25zIGZyb20gYWxnb3JpdGhtIG1vZHVsZXMNCiAqDQogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqDQogKiAtIFN0YXRpY2FsbHkgaW1wb3J0cyBhbGwgYWxnb3JpdGhtIG1vZHVsZXMgdXBmcm9udA0KICogLSBDcmVhdGVzIGEgcmVnaXN0cnkgdGhhdCBtYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzDQogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9DQogKiAtIFdvcmtlciBsb29rcyB1cCBtb2R1bGUgZnJvbSByZWdpc3RyeSBhbmQgZXhlY3V0ZXMgZnVuY3Rpb24NCiAqDQogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UNCiAqIGltcG9ydHMgYXJlIGtub3duIGF0IGJ1aWxkIHRpbWUuDQogKg0KICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcg0KICovDQoNCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOw0KDQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250DQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoNCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQ0KY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKHsNCiAgcHJlZml4OiAnbmV0d29yay13b3JrZXInLA0KICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsDQp9KTsNCg0KLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkNCmltcG9ydCAqIGFzIG5vZGVTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOw0KaW1wb3J0ICogYXMgZ3JhcGhTdGF0c0NvbXB1dGUgZnJvbSAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL2dyYXBoLXN0YXRzLmpzJzsNCg0KLy8gQ29tbXVuaXR5IGRldGVjdGlvbiBhbGdvcml0aG1zDQppbXBvcnQgKiBhcyBsb3V2YWluQ29tcHV0ZSBmcm9tICcuLi9jb21tdW5pdHkvYWxnb3JpdGhtcy9sb3V2YWluLmpzJzsNCg0KLy8gTGF5b3V0IGFsZ29yaXRobXMNCmltcG9ydCAqIGFzIHJhbmRvbUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9yYW5kb20uanMnOw0KaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOw0KaW1wb3J0ICogYXMgc3BpcmFsQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL3NwaXJhbC5qcyc7DQppbXBvcnQgKiBhcyBzaGVsbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zaGVsbC5qcyc7DQppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7DQppbXBvcnQgKiBhcyBmb3JjZURpcmVjdGVkQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzsNCmltcG9ydCAqIGFzIGthbWFkYUthd2FpQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc7DQppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsNCmltcG9ydCAqIGFzIG11bHRpcGFydGl0ZUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9tdWx0aXBhcnRpdGUuanMnOw0KaW1wb3J0ICogYXMgYmZzQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL2Jmcy5qcyc7DQoNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vIE1PRFVMRSBSRUdJU1RSWSAtIE1hcHMgbW9kdWxlIHBhdGhzIHRvIHRoZWlyIGV4cG9ydHMNCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KY29uc3QgTU9EVUxFX1JFR0lTVFJZID0gew0KICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkNCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ub2RlLXN0YXRzLmpzJzogbm9kZVN0YXRzQ29tcHV0ZSwNCg0KICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzDQogICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvZ3JhcGgtc3RhdHMuanMnOiBncmFwaFN0YXRzQ29tcHV0ZSwNCg0KICAvLyBDb21tdW5pdHkNCiAgJy4uL2NvbW11bml0eS9hbGdvcml0aG1zL2xvdXZhaW4uanMnOiBsb3V2YWluQ29tcHV0ZSwNCg0KICAvLyBMYXlvdXRzDQogICcuLi9sYXlvdXRzL3JhbmRvbS5qcyc6IHJhbmRvbUNvbXB1dGUsDQogICcuLi9sYXlvdXRzL2NpcmN1bGFyLmpzJzogY2lyY3VsYXJDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLA0KICAnLi4vbGF5b3V0cy9zaGVsbC5qcyc6IHNoZWxsQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvc3BlY3RyYWwuanMnOiBzcGVjdHJhbENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsDQogICcuLi9sYXlvdXRzL2thbWFkYS1rYXdhaS5qcyc6IGthbWFkYUthd2FpQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzogYmlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwNCiAgJy4uL2xheW91dHMvYmZzLmpzJzogYmZzQ29tcHV0ZQ0KfTsNCg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy8gV09SS0VSIE1FU1NBR0UgSEFORExFUg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQovKioNCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcw0KICovDQpzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7DQogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7DQoNCiAgdHJ5IHsNCiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdA0KICAgIGlmICghbW9kdWxlIHx8ICFmdW5jdGlvbk5hbWUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXNrOiBtb2R1bGUgYW5kIGZ1bmN0aW9uTmFtZSBhcmUgcmVxdWlyZWQnKTsNCiAgICB9DQoNCiAgICBsb2cuZGVidWcoJ1Byb2Nlc3NpbmcgdGFzaycsIHsNCiAgICAgIGlkLA0KICAgICAgbW9kdWxlLA0KICAgICAgZnVuY3Rpb25OYW1lLA0KICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDANCiAgICB9KTsNCg0KICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZA0KICAgIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHsNCiAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoew0KICAgICAgICBpZCwNCiAgICAgICAgc3RhdHVzOiAncHJvZ3Jlc3MnLA0KICAgICAgICBwcm9ncmVzczogTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKSAvLyBDbGFtcCB0byBbMCwgMV0NCiAgICAgIH0pOw0KICAgIH07DQoNCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQ0KICAgIGNvbnN0IGFsZ29yaXRobU1vZHVsZSA9IE1PRFVMRV9SRUdJU1RSWVttb2R1bGVdOw0KDQogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcigNCiAgICAgICAgYE1vZHVsZSAnJHttb2R1bGV9JyBub3QgZm91bmQgaW4gcmVnaXN0cnkuIGAgKw0KICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gR2V0IHRoZSBjb21wdXRlIGZ1bmN0aW9uDQogICAgY29uc3QgY29tcHV0ZUZ1bmN0aW9uID0gYWxnb3JpdGhtTW9kdWxlW2Z1bmN0aW9uTmFtZV07DQoNCiAgICBpZiAoIWNvbXB1dGVGdW5jdGlvbiB8fCB0eXBlb2YgY29tcHV0ZUZ1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoDQogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsNCiAgICAgICAgYEF2YWlsYWJsZSBmdW5jdGlvbnM6ICR7T2JqZWN0LmtleXMoYWxnb3JpdGhtTW9kdWxlKS5qb2luKCcsICcpfWANCiAgICAgICk7DQogICAgfQ0KDQogICAgLy8gRXhlY3V0ZSB0aGUgY29tcHV0ZSBmdW5jdGlvbg0KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wdXRlRnVuY3Rpb24oLi4uYXJncywgcHJvZ3Jlc3NDYWxsYmFjayk7DQoNCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywNCiAgICAgIHJlc3VsdA0KICAgIH0pOw0KDQogIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgLy8gU2VuZCBlcnJvcg0KICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7DQogICAgICBpZCwNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLA0KICAgICAgc3RhY2s6IGVycm9yLnN0YWNrDQogICAgfSk7DQogICAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgICBpZCwNCiAgICAgIHN0YXR1czogJ2Vycm9yJywNCiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJywNCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICAgIH0pOw0KICB9DQp9Ow0KDQovKioNCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzDQogKi8NCnNlbGYub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7DQogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgew0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnLA0KICAgIHN0YWNrOiBlcnJvci5zdGFjaw0KICB9KTsNCiAgc2VsZi5wb3N0TWVzc2FnZSh7DQogICAgc3RhdHVzOiAnZXJyb3InLA0KICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnDQogIH0pOw0KfTsNCg0KLy8gTG9nIHdvcmtlciBpbml0aWFsaXphdGlvbg0KbG9nLmluZm8oJ0luaXRpYWxpemVkJywgeyBtb2R1bGVDb3VudDogT2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5sZW5ndGggfSk7DQo=",import.meta.url).href}catch{i="/graph-js/src/compute/network-worker.js",this.log.warn("Could not resolve worker path from import.meta.url, using fallback",{workerPath:i})}if(!gr.isSupported())throw new Error("Web Workers are not supported in this environment. This library requires Web Worker support (browser) or Worker Threads (Node.js).");this.workerPool=new tS({maxWorkers:n||this._getDefaultWorkerCount(),workerScript:i,taskTimeout:r,verbose:o}),await this.workerPool.initialize(),this.initialized=!0,this.log.info("Initialized successfully",{workerCount:this.workerPool.maxWorkers})}_getDefaultWorkerCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;try{return require("os").cpus().length}catch{return 4}}async execute(e,n={}){return this.initialized||await this.initialize(),this.workerPool.execute(e,n)}serializeGraph(e){return{nodes:Array.from(e.nodes),edges:e.edges.map(n=>({source:n.u,target:n.v,weight:n.weight}))}}getStatus(){return this.workerPool?this.workerPool.getStatus():null}async terminate(e=!1){this.workerPool&&(await this.workerPool.terminate(e),this.workerPool=null,this.initialized=!1)}static reset(){cn.instance&&(cn.instance.terminate(!0),cn.instance=null)}}cn.instance=null;const Rn=new cn;Xe({prefix:"compute-utils",level:"info"});let wt=class Ff{constructor(e,n="",s="node",r=null){if(new.target===Ff)throw new Error("StatisticAlgorithm is abstract and cannot be instantiated directly");if(s!=="node"&&s!=="graph")throw new Error(`Scope must be 'node' or 'graph', got: ${s}`);if(!r||!r.module||!r.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=n,this.scope=s,this.computeConfig=r,this.options={}}async calculate(e,n=null,s={}){const r=Rn.serializeGraph(e),o={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[r,n,this.options]};return await Rn.execute(o,s)}getInfo(){return{name:this.name,description:this.description,scope:this.scope}}isNodeLevel(){return this.scope==="node"}isGraphLevel(){return this.scope==="graph"}};class nS extends wt{constructor(){super("degree","Number of connections per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"degreeCompute"})}}class sS extends wt{constructor(e={}){super("closeness","Average distance to all other nodes (inverted)","node",{module:"../statistics/algorithms/node-stats.js",functionName:"closenessCompute"}),this.options={normalized:e.normalized!==!1}}}class rS extends wt{constructor(e={}){super("ego-density","Density of connections among neighbors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"egoDensityCompute"}),this.options={radius:e.radius||1}}}class oS extends wt{constructor(){super("betweenness","Frequency on shortest paths between other nodes","node",{module:"../statistics/algorithms/node-stats.js",functionName:"betweennessCompute"})}}class iS extends wt{constructor(){super("clustering","Local clustering coefficient","node",{module:"../statistics/algorithms/node-stats.js",functionName:"clusteringCompute"})}}class aS extends wt{constructor(e={}){super("eigenvector","Importance based on neighbor importance","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class lS extends wt{constructor(e={}){super("eigenvector-laplacian","X,Y coordinates from Laplacian eigenvectors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorLaplacianCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class cS extends wt{constructor(){super("cliques","Number of maximal cliques per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"cliquesCompute"})}}class dS extends wt{constructor(){super("density","Ratio of actual edges to possible edges","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"densityCompute"})}}class uS extends wt{constructor(){super("diameter","Longest shortest path in the graph","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"diameterCompute"})}}class hS extends wt{constructor(){super("average_clustering","Mean clustering coefficient across all nodes","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageClusteringCompute"})}}class fS extends wt{constructor(){super("average_shortest_path","Mean distance between all node pairs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageShortestPathCompute"})}}class pS extends wt{constructor(){super("connected_components","Number of disconnected subgraphs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"connectedComponentsCompute"})}}class mS extends wt{constructor(){super("average_degree","Mean number of connections per node","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageDegreeCompute"})}}class oi{constructor(e,n="",s=null){if(new.target===oi)throw new Error("CommunityAlgorithm is abstract and cannot be instantiated directly");if(!s||!s.module||!s.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=n,this.computeConfig=s,this.options={}}async detect(e,n={}){const s=Rn.serializeGraph(e),r={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[s,this.options]};return{...await Rn.execute(r,n),algorithm:this.name}}getInfo(){return{name:this.name,description:this.description}}}class bl extends oi{constructor(e={}){super("louvain","Louvain method for community detection using modularity optimization",{module:"../community/algorithms/louvain.js",functionName:"louvainCompute"}),this.options={resolution:e.resolution||1,maxIterations:e.maxIterations||100}}}class Qt{constructor(e,n={},s=null){if(!e)throw new Error("Graph is required for layout computation");if(!s||!s.module||!s.functionName)throw new Error("computeConfig with module and functionName is required");this.graph=e,this.options=n,this.computeConfig=s,this._positions=null}async computePositions(e={}){const n={...this.options,...e},{onProgress:s,timeout:r,...o}=n,i=Rn.serializeGraph(this.graph),a={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[i,o]};return await Rn.execute(a,{onProgress:s,timeout:r})}async getPositions(e={},n=!1){return(!this._positions||n)&&(this._positions=await this.computePositions(e)),this._positions}async updateLayout(e=1){return this.getPositions({},!0)}reset(){this._positions=null}getNodes(){return this.graph.getNodeList()}getNodeCount(){return this.graph.numberOfNodes()}}class gS extends Qt{constructor(e,n={}){super(e,{scale:100,center:{x:0,y:0},seed:null,...n},{module:"../layouts/random.js",functionName:"randomCompute"})}}class yS extends Qt{constructor(e,n={}){super(e,{scale:100,center:{x:0,y:0},sortBy:null,...n},{module:"../layouts/circular.js",functionName:"circularCompute"})}}class _S extends Qt{constructor(e,n={}){super(e,{scale:100,center:{x:0,y:0},resolution:.35,equidistant:!1,...n},{module:"../layouts/spiral.js",functionName:"spiralCompute"})}}class bS extends Qt{constructor(e,n={}){super(e,{scale:100,center:{x:0,y:0},nlist:null,rotate:null,nodeProperties:null,...n},{module:"../layouts/shell.js",functionName:"shellCompute"})}}class vS extends Qt{constructor(e,n={}){super(e,{scale:100,center:{x:0,y:0},...n},{module:"../layouts/spectral.js",functionName:"spectralCompute"})}}class xS extends Qt{constructor(e,n={}){super(e,{iterations:50,k:null,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,...n},{module:"../layouts/force-directed.js",functionName:"forceDirectedCompute"})}}class wS extends Qt{constructor(e,n={}){super(e,{iterations:1e3,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,K:null,...n},{module:"../layouts/kamada-kawai.js",functionName:"kamadaKawaiCompute"})}}class kS extends Qt{constructor(e,n={}){super(e,{partition:null,align:"vertical",scale:1,aspectRatio:4/3,center:{x:0,y:0},...n},{module:"../layouts/bipartite.js",functionName:"bipartiteCompute"})}}class AS extends Qt{constructor(e,n={}){super(e,{subsets:null,align:"vertical",scale:1,center:{x:0,y:0},...n},{module:"../layouts/multipartite.js",functionName:"multipartiteCompute"})}}class CS extends Qt{constructor(e,n={}){super(e,{startNode:null,align:"vertical",scale:1,center:{x:0,y:0},...n},{module:"../layouts/bfs.js",functionName:"bfsCompute"})}}class ii{constructor(e=null){this.graph=e}setGraph(e){return this.graph=e,this}async detectCommunities(e="louvain",n={}){if(!this.graph)throw new Error("No graph set. Use setGraph() or provide graph in constructor.");let s;if(e instanceof oi)s=e;else if(typeof e=="string")s=this._createAlgorithmFromName(e,n);else throw new Error("Algorithm must be a CommunityAlgorithm instance or a string name");return await s.detect(this.graph,{onProgress:n.onProgress})}_createAlgorithmFromName(e,n={}){switch(e.toLowerCase()){case"louvain":return new bl(n);default:throw new Error(`Unknown community detection algorithm: ${e}`)}}calculateModularity(e){if(!this.graph)throw new Error("No graph set");const n=this.graph.numberOfEdges();if(n===0)return 0;let s=0;const r=Array.from(this.graph.nodes.keys());for(const o of r)for(const i of r)if(e[o]===e[i]){const a=this.graph.hasEdge(o,i)?this.graph.getEdgeWeight(o,i):0,l=this.graph.degree(o),c=this.graph.degree(i);s+=a-l*c/(2*n)}return s/(2*n)}static getNodesInCommunity(e,n){return Object.keys(e).filter(s=>e[s]===n)}static getCommunityGroups(e){const n={};for(const[s,r]of Object.entries(e))n[r]||(n[r]=[]),n[r].push(s);return n}static graphFromData(e){const n=new yl;for(const s of e.nodes)n.addNode(s.id);for(const s of e.edges)n.addEdge(s.source,s.target,s.weight||1);return n}static async detect(e,n="louvain",s={}){const r=this.graphFromData(e);return await new ii(r).detectCommunities(n,s)}}const Ld={algorithms:[{id:"louvain",name:"Louvain Method",description:"Fast greedy algorithm that optimizes modularity",category:"modularity",complexity:"O(n log n)",bestFor:["General graphs","Large networks","Hierarchical communities"],supportsWeighted:!0,supportsDirected:!1,defaultOptions:{resolution:1,maxIterations:100}}],getAll(){return[...this.algorithms]},get(t){return this.algorithms.find(e=>e.id===t)||null},filter(t){return this.algorithms.filter(t)},getIds(){return this.algorithms.map(t=>t.id)}},SS={layouts:[{id:"none",name:"None (D3 Physics)",description:"D3's built-in force-directed physics simulation",category:"physics",complexity:"O(iterations)",bestFor:["General graphs","Interactive exploration"],requiresStats:!1},{id:"random",name:"Random",description:"Random node positioning",category:"simple",complexity:"O(n)",bestFor:["Testing","Initial visualization"],requiresStats:!1},{id:"circular",name:"Circular",description:"Nodes arranged in a circle",category:"simple",complexity:"O(n)",bestFor:["Symmetric graphs","Ring topologies"],requiresStats:!1},{id:"spiral",name:"Spiral",description:"Archimedean spiral arrangement",category:"simple",complexity:"O(n)",bestFor:["Linear structures","Sequences"],requiresStats:!1},{id:"shell",name:"Shell",description:"Concentric circles by degree",category:"simple",complexity:"O(n)",bestFor:["Star-like graphs","Hub structures"],requiresStats:!0},{id:"spectral",name:"Spectral",description:"Laplacian eigenvector layout",category:"spectral",complexity:"O(n)",bestFor:["Community detection visualization","Graph topology"],requiresStats:!0,requiredStat:"eigenvector-laplacian"},{id:"force-directed",name:"Force-Directed",description:"Spring-electrical model (Fruchterman-Reingold)",category:"physics",complexity:"O(iterations  n)",bestFor:["General graphs","Complex networks"],requiresStats:!1},{id:"kamada-kawai",name:"Kamada-Kawai",description:"Energy minimization based on shortest paths",category:"energy",complexity:"O(n + iterations  n)",bestFor:["Small-medium graphs","Trees","Planar graphs"],requiresStats:!1},{id:"bipartite",name:"Bipartite",description:"Two-line layout for bipartite graphs",category:"hierarchical",complexity:"O(n)",bestFor:["Bipartite graphs","Two-level hierarchies"],requiresStats:!1},{id:"multipartite",name:"Multipartite",description:"Multi-layer layout for hierarchical structures",category:"hierarchical",complexity:"O(n)",bestFor:["DAGs","Organizational hierarchies"],requiresStats:!1},{id:"bfs",name:"BFS Layout",description:"Layer-by-layer breadth-first search",category:"hierarchical",complexity:"O(n + m)",bestFor:["Trees","Network exploration"],requiresStats:!1}],getAll(){return[...this.layouts]},get(t){return this.layouts.find(e=>e.id===t)||null},filter(t){return this.layouts.filter(t)},byCategory(t){return this.layouts.filter(e=>e.category===t)},withoutStatRequirements(){return this.layouts.filter(t=>!t.requiresStats)},exists(t){return this.layouts.some(e=>e.id===t)}},NS=Xe({prefix:"Adapter",level:"info"});class vl{static fromFormat(e,n={}){throw new Error("Adapter.fromFormat() must be implemented by subclass")}static toFormat(e,n={}){throw new Error("Adapter.toFormat() must be implemented by subclass")}static validateGraphData(e){if(!e||typeof e!="object")throw new Error("GraphData must be an object");if(!Array.isArray(e.nodes))throw new Error("GraphData.nodes must be an array");if(!Array.isArray(e.edges))throw new Error("GraphData.edges must be an array");for(const n of e.nodes)if(!n.id&&n.id!==0)throw new Error("All nodes must have an id property");for(const n of e.edges){if(!n.source&&n.source!==0)throw new Error("All edges must have a source property");if(!n.target&&n.target!==0)throw new Error("All edges must have a target property")}return!0}static normalizeIds(e){return{nodes:e.nodes.map(n=>({...n,id:String(n.id)})),edges:e.edges.map(n=>({...n,source:String(n.source),target:String(n.target)}))}}static getNodeIdSet(e){return new Set(e.map(n=>String(n.id)))}static filterInvalidEdges(e,n=!0){const s=this.getNodeIdSet(e.nodes),r=[],o=[];for(const i of e.edges){const a=String(i.source),l=String(i.target);s.has(a)&&s.has(l)?r.push(i):o.push(i)}return n&&o.length>0&&NS.warn("Filtered out edges referencing non-existent nodes",{invalidEdgeCount:o.length,totalEdges:e.edges.length}),{nodes:e.nodes,edges:r}}}const Rd=Xe({prefix:"CSVAdapter",level:"info"});class $f extends vl{static parseCSV(e,n=","){const s=[],r=e.trim().split(`
`);for(const o of r){const i=[];let a="",l=!1;for(let c=0;c<o.length;c++){const d=o[c];d==='"'?l=!l:d===n&&!l?(i.push(a.trim()),a=""):a+=d}i.push(a.trim()),s.push(i)}return s}static fromEdgeList(e,n={}){const{header:s=!0,delimiter:r=",",weighted:o=!0}=n,i=this.parseCSV(e,r),a=s?i.slice(1):i,l=new Set,c=[];for(const d of a){if(d.length<2)continue;const u=d[0],f=d[1],p=o&&d[2]?parseFloat(d[2]):1;l.add(u),l.add(f),c.push({source:u,target:f,weight:isNaN(p)?1:p})}return{nodes:Array.from(l).map(d=>({id:d,group:1})),edges:c}}static fromNodes(e,n={}){const{header:s=!0,delimiter:r=","}=n,o=this.parseCSV(e,r);if(o.length===0)return[];const i=s?o[0]:["id","group","label"];return(s?o.slice(1):o).map(a=>{const l={};for(let c=0;c<i.length;c++){const d=i[c],u=a[c];d==="group"&&u?l[d]=parseInt(u,10):!isNaN(u)&&u!==""?l[d]=parseFloat(u):l[d]=u}return l})}static fromFormat(e,n=null,s={}){const{nodes:r,edges:o}=this.fromEdgeList(e,s);if(n){const a=this.fromNodes(n,s),l=new Map(a.map(d=>[String(d.id),d])),c={nodes:r.map(d=>{const u=l.get(String(d.id));return u?{...d,...u}:d}),edges:o};return this.filterInvalidEdges(c)}const i={nodes:r,edges:o};return this.filterInvalidEdges(i)}static async loadFromURL(e,n=null,s={}){try{const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch edges: ${r.statusText}`);const o=await r.text();let i=null;if(n){const a=await fetch(n);a.ok&&(i=await a.text())}return this.fromFormat(o,i,s)}catch(r){throw Rd.error("Error loading CSV",{edgeURL:e,nodeURL:n,error:r.message,stack:r.stack}),r}}static async loadFromFiles(e,n=null,s={}){try{const r=await e.text();let o=null;return n&&(o=await n.text()),this.fromFormat(r,o,s)}catch(r){throw Rd.error("Error reading file",{edgeFileName:e?.name,nodeFileName:n?.name,error:r.message,stack:r.stack}),r}}static toEdgeList(e,n={}){const{header:s=!0,delimiter:r=","}=n,o=[];s&&o.push(["source","target","weight"].join(r));for(const i of e.edges){const a=i.source?.id||i.source,l=i.target?.id||i.target,c=i.weight||1;o.push([a,l,c].join(r))}return o.join(`
`)}static toNodes(e,n={}){const{header:s=!0,delimiter:r=","}=n,{nodes:o}=e;if(o.length===0)return"";const i=[],a=new Set;o.forEach(c=>{Object.keys(c).forEach(d=>a.add(d))});const l=Array.from(a);s&&i.push(l.join(r));for(const c of o){const d=l.map(u=>{const f=c[u];return typeof f=="string"&&(f.includes(r)||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f??""});i.push(d.join(r))}return i.join(`
`)}static toFormat(e,n={}){return this.validateGraphData(e),{edges:this.toEdgeList(e,n),nodes:this.toNodes(e,n)}}}const ES=Xe({prefix:"JSONAdapter",level:"info"});class Bf extends vl{static fromD3(e){if(!e||!e.nodes)throw new Error("Invalid D3 data: must have nodes array");const n=e.nodes.map(o=>({...o,id:String(o.id)})),s=(e.links||[]).map(o=>({...o,source:String(o.source?.id||o.source),target:String(o.target?.id||o.target),weight:o.weight||o.value||1})),r={nodes:n,edges:s};return this.filterInvalidEdges(r)}static fromCytoscape(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid Cytoscape data: must have nodes array");const n=e.nodes.map(o=>({id:String(o.data.id),...o.data})),s=(e.edges||[]).map(o=>({source:String(o.data.source),target:String(o.data.target),weight:o.data.weight||1,...o.data})),r={nodes:n,edges:s};return this.filterInvalidEdges(r)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid JSON data");if(e.nodes&&e.edges)return this.normalizeIds(e);if(e.nodes&&e.links)return this.fromD3(e);if(Array.isArray(e.nodes)&&e.nodes[0]?.data)return this.fromCytoscape(e);if(e.nodes&&(e.links||e.edges))return this.fromD3({nodes:e.nodes,links:e.links||e.edges});throw new Error("Unknown JSON format - cannot auto-detect")}static toD3(e){return this.validateGraphData(e),{nodes:e.nodes.map(n=>({...n})),links:e.edges.map(n=>({source:n.source,target:n.target,value:n.weight,...n}))}}static toCytoscape(e){return this.validateGraphData(e),{nodes:e.nodes.map(n=>({data:{...n}})),edges:e.edges.map((n,s)=>({data:{id:`e${s}`,source:n.source,target:n.target,weight:n.weight||1,...n}}))}}static toFormat(e,n={}){const{format:s="standard",pretty:r=!1}=n;let o;switch(s){case"d3":o=this.toD3(e);break;case"cytoscape":o=this.toCytoscape(e);break;case"standard":default:this.validateGraphData(e),o=e}return JSON.stringify(o,null,r?2:0)}static async loadFromURL(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const s=await n.json();return this.fromFormat(s)}catch(n){throw ES.error("Error loading JSON",{url:e,error:n.message,stack:n.stack}),n}}}class TS extends vl{static fromNodeLink(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid NetworkX node-link data: must have nodes array");const n=e.nodes.map(o=>({id:String(o.id),...o})),s=(e.links||[]).map(o=>({source:String(o.source),target:String(o.target),weight:o.weight||1,...o})),r={nodes:n,edges:s};return this.filterInvalidEdges(r)}static fromAdjacency(e){if(!Array.isArray(e))throw new Error("Invalid NetworkX adjacency data: must be array");const n=[],s=[],r=new Set;for(const i of e){const a=String(i.id);if(n.push({id:a,...i}),i.adjacency&&Array.isArray(i.adjacency))for(const l of i.adjacency){const c=String(l.id),d=`${a}-${c}`,u=`${c}-${a}`;!r.has(d)&&!r.has(u)&&(s.push({source:a,target:c,weight:l.weight||1,...l}),r.add(d))}}const o={nodes:n,edges:s};return this.filterInvalidEdges(o)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid NetworkX data");if(e.nodes&&Array.isArray(e.nodes)&&(e.links||e.edges))return this.fromNodeLink({...e,links:e.links||e.edges});if(Array.isArray(e)&&e[0]?.adjacency)return this.fromAdjacency(e);throw new Error("Unknown NetworkX format")}static toNodeLink(e,n={}){this.validateGraphData(e);const{directed:s=!1,multigraph:r=!1}=n;return{directed:s,multigraph:r,graph:{},nodes:e.nodes.map(o=>({...o})),links:e.edges.map(o=>({source:o.source,target:o.target,weight:o.weight||1,...o}))}}static toAdjacency(e){this.validateGraphData(e);const n=new Map;for(const s of e.nodes)n.set(String(s.id),{...s,adjacency:[]});for(const s of e.edges){const r=String(s.source),o=String(s.target),i=n.get(r);i&&i.adjacency.push({id:o,weight:s.weight||1,...s});const a=n.get(o);a&&r!==o&&a.adjacency.push({id:r,weight:s.weight||1,...s})}return Array.from(n.values())}static toFormat(e,n={}){const{format:s="node-link"}=n;switch(s){case"adjacency":return this.toAdjacency(e);case"node-link":default:return this.toNodeLink(e,n)}}}class ze{static FEATURES={EIGENVECTOR:"eigenvector",EIGENVECTOR_LAPLACIAN:"eigenvector-laplacian",MODULARITY:"modularity",BETWEENNESS:"betweenness",CLUSTERING:"clustering",CLIQUES:"cliques",DEGREE:"degree",CLOSENESS:"closeness",EGO_DENSITY:"ego-density",ALL:["degree","betweenness","clustering","eigenvector","eigenvector-laplacian","cliques","closeness","ego-density"]};static GRAPH_STATS={DENSITY:"density",DIAMETER:"diameter",AVERAGE_CLUSTERING:"average_clustering",AVERAGE_SHORTEST_PATH:"average_shortest_path",CONNECTED_COMPONENTS:"connected_components",AVERAGE_DEGREE:"average_degree",ALL:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]};static COMMUNITY_DETECTION={LOUVAIN:"louvain",ALL:["louvain"]};constructor(e={}){this.options={verbose:e.verbose!==void 0?e.verbose:!0,maxWorkers:e.maxWorkers,taskTimeout:e.taskTimeout||6e4,workerScript:e.workerScript},this.log=Xe({prefix:"NetworkStats",level:this.options.verbose?"debug":"info"}),Rn.initialize({maxWorkers:this.options.maxWorkers,taskTimeout:this.options.taskTimeout,verbose:this.options.verbose,workerScript:this.options.workerScript}).catch(n=>{this.log.error("Failed to initialize workers:",n)}),this.statisticClasses={[ze.FEATURES.DEGREE]:nS,[ze.FEATURES.BETWEENNESS]:oS,[ze.FEATURES.CLUSTERING]:iS,[ze.FEATURES.EIGENVECTOR]:aS,[ze.FEATURES.EIGENVECTOR_LAPLACIAN]:lS,[ze.FEATURES.CLIQUES]:cS,[ze.FEATURES.CLOSENESS]:sS,[ze.FEATURES.EGO_DENSITY]:rS,[ze.FEATURES.MODULARITY]:"modularity"},this.graphStatClasses={[ze.GRAPH_STATS.DENSITY]:dS,[ze.GRAPH_STATS.DIAMETER]:uS,[ze.GRAPH_STATS.AVERAGE_CLUSTERING]:hS,[ze.GRAPH_STATS.AVERAGE_SHORTEST_PATH]:fS,[ze.GRAPH_STATS.CONNECTED_COMPONENTS]:pS,[ze.GRAPH_STATS.AVERAGE_DEGREE]:mS}}async analyze(e,n,s={}){this.log.time("networkAnalysis"),this.log.info(`Analyzing network with ${e.length} edges`),n=n||ze.FEATURES.ALL,typeof n=="string"&&(n=[n]);const{graph:r,nodes:o}=this._prepareNetwork(e);this.log.info(`Graph: ${o.length} nodes, ${r.edges.length} edges`);const i=await this._calculateNodeStats(r,o,n,s);if(s.includeGraphStats){const a=await this._calculateGraphStats(r,s.graphStats,s);return this.log.timeEnd("networkAnalysis"),{nodes:i,graph:a}}return this.log.timeEnd("networkAnalysis"),i}async _calculateNodeStats(e,n,s,r){const o={};for(const i of s)if(i===ze.FEATURES.MODULARITY)o[i]=await this._calculateModularity(e,r);else if(this.statisticClasses[i]){const a=this.statisticClasses[i],l=new a;this.log.debug(`Calculating ${i}...`);const c=await l.calculate(e,null,{onProgress:r.onProgress});o[i]=c}else this.log.warn(`Unknown feature: ${i}`);return this._normalizeNodeStats(o,n)}async _calculateGraphStats(e,n,s={}){const r=n||ze.GRAPH_STATS.ALL,o={};for(const i of r){const a=this.graphStatClasses[i];if(a){this.log.debug(`Calculating graph stat: ${i}...`);const l=new a;o[i]=await l.calculate(e,null,{onProgress:s.onProgress})}else this.log.warn(`Unknown graph stat: ${i}`)}return o}async _calculateModularity(e,n={}){const s=new ii(e),r=new bl;return this.log.debug("Running Louvain community detection..."),(await s.detectCommunities(r,{onProgress:n.onProgress})).communities}_prepareNetwork(e){const n=new Set;for(const o of e)n.add(o.source),n.add(o.target);const s=Array.from(n),r=new yl;for(const o of s)r.addNode(o);for(const o of e){const i=o.weight!==void 0?o.weight:1;r.addEdge(o.source,o.target,i)}return{graph:r,nodes:s}}_normalizeNodeStats(e,n){const s=[];for(const r of n){const o={id:r};for(const[i,a]of Object.entries(e))typeof a=="object"&&a!==null&&(o[i]=a[r]);s.push(o)}return s}async dispose(){await Rn.terminate()}}const IS=async()=>"/assets/network-worker.js";class LS{constructor(){this.analyzer=null,this.initPromise=null,this.lastAnalysisResults=null,this.workerUrl=null,this.log=Xe({prefix:"NetworkAnalyzer",level:"info"})}async _ensureInitialized(){if(!this.analyzer){if(this.initPromise)return this.initPromise;this.initPromise=(async()=>{this.workerUrl=await IS(),this.log.debug("Initializing with worker",{workerUrl:this.workerUrl}),this.analyzer=new ze({verbose:!0,workerScript:this.workerUrl}),await new Promise(e=>setTimeout(e,500)),this.log.info("Initialized successfully")})(),await this.initPromise}}_toEdgeList(e,n){return n.map(s=>({source:typeof s.source=="object"?s.source.id:s.source,target:typeof s.target=="object"?s.target.id:s.target,weight:s.weight||1}))}_buildGraph(e,n){const s=new yl;return e.forEach(r=>{s.addNode(r.id)}),n.forEach(r=>{const o=typeof r.source=="object"?r.source.id:r.source,i=typeof r.target=="object"?r.target.id:r.target;s.addEdge(o,i,r.weight||1)}),s}async analyzeGraph(e,n,s={}){await this._ensureInitialized(),this.log.debug("Starting analysis",{nodeCount:e.length,linkCount:n.length,features:s.features,includeGraphStats:s.includeGraphStats});const r=this._toEdgeList(e,n),o=s.features||["degree","eigenvector"],i={onProgress:s.onProgress};s.includeGraphStats&&(i.includeGraphStats=!0,i.graphStats=s.graphStats||["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]);const a=await this.analyzer.analyze(r,o,i);let l,c=null;Array.isArray(a)?l=a:a.nodes&&a.graph?(l=a.nodes,c=a.graph):l=a,this.log.info("Analysis complete",{resultsCount:l.length,hasGraphStats:c!==null}),this.lastAnalysisResults=l,e.forEach(u=>{const f=l.find(y=>y.id===u.id);if(!f){this.log.warn("No stats found for node",{nodeId:u.id}),u.centrality=.5;return}const p=f.eigenvector!==void 0?f.eigenvector:f.degree!==void 0?f.degree/10:.5;Object.assign(u,f,{centrality:p})}),this.log.debug("Nodes enriched",{sampleNode:e[0]});const d={nodes:e,links:n};return c&&(d.graphStats=c),d}async applyLayout(e,n,s,r={}){await this._ensureInitialized(),this.log.debug("Applying layout",{layoutId:e});const o=r.width||800,i=r.height||600,a=Math.min(o,i)/1.2,l={x:o/2,y:i/2},c=this._buildGraph(n,s);let d;const u={scale:a,center:l};switch(e){case"random":d=new gS(c,u);break;case"circular":d=new yS(c,u);break;case"spiral":d=new _S(c,{...u,resolution:.15});break;case"shell":const p=new Map;n.forEach(N=>{N.degree!==void 0&&p.set(N.id,{degree:N.degree})}),d=new bS(c,{...u,nodeProperties:p.size>0?p:null});break;case"spectral":if(!n.some(N=>{const A=N["eigenvector-laplacian"];return A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0}))throw new Error('Spectral layout requires eigenvector-laplacian analysis. Please run analysis with ["eigenvector-laplacian"] first.');const _=new Map;n.forEach(N=>{const A=N["eigenvector-laplacian"];A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0&&_.set(N.id,{laplacian_x:A.laplacian_x,laplacian_y:A.laplacian_y})}),d=new vS(c,{...u,nodeProperties:_});break;case"force-directed":const x=n.length,v=Math.sqrt(1/x)*2.5;d=new xS(c,{iterations:50,k:v,...u});break;case"kamada-kawai":d=new wS(c,{iterations:300,...u});break;case"bipartite":d=new kS(c,{align:"vertical",...u});break;case"multipartite":d=new AS(c,{align:"vertical",...u});break;case"bfs":const w=n[0]?.id||Array.from(c.nodes)[0];d=new CS(c,{startNode:w,align:"vertical",...u});break;default:throw new Error(`Unknown layout: ${e}`)}const f=await d.getPositions({onProgress:r.onProgress});return this.log.info("Layout complete",{positionCount:Object.keys(f).length}),f}getAvailableLayouts(){return SS.getAll()}getAvailableCommunityAlgorithms(){return Ld.getAll()}async detectCommunities(e,n,s,r={}){await this._ensureInitialized(),this.log.debug("Detecting communities",{algorithmId:e});const o=this._buildGraph(n,s),i=Ld.get(e);if(!i)throw new Error(`Unknown community detection algorithm: ${e}`);let a;switch(e){case"louvain":a=new bl(i.defaultOptions);break;default:throw new Error(`Unsupported algorithm: ${e}`)}const c=await new ii(o).detectCommunities(a,{onProgress:r.onProgress});return this.log.info("Community detection complete",{numCommunities:c.numCommunities,modularity:c.modularity}),n.forEach(d=>{const u=c.communities[d.id];u!==void 0&&(d.community=u)}),c}async dispose(){if(this.analyzer)try{await this.analyzer.dispose(),this.analyzer=null}catch(e){this.log.warn("Error disposing analyzer",{error:e.message}),this.analyzer=null}}}const we=Xe({prefix:"useNetworkGraph",level:"info"});function xl(t={}){const e=ae(null),n=ae(null),s=ae(null),r=ae(!1),o=ae(null),i=ae(null),a=ae(0),l=t.autoComputeCentrality!==!1,c=()=>{if(!e.value){we.warn("Container ref not ready");return}if(n.value){we.warn("Graph already initialized");return}try{r.value=!0,we.debug("Initializing graph",{options:t});const R=e.value.getBoundingClientRect(),G=R.width||t.width||800,S=R.height||t.height||600;n.value=new QC(e.value,{width:G,height:S,...t}),s.value=new LS,n.value.on("nodeHover",M=>{i.value=M}),n.value.on("nodeLeave",()=>{i.value=null}),r.value=!1,we.info("Graph and analyzer initialized successfully")}catch(R){we.error("Failed to initialize graph",{error:R.message,stack:R.stack}),o.value=R.message,r.value=!1}},d=(R,G)=>{if(!n.value){we.warn("Graph not initialized yet");return}try{r.value=!0,we.debug("Loading data into graph",{nodeCount:R.length,linkCount:G.length});const S=()=>{r.value=!1,n.value.off("ready",S),we.info("Graph ready and fitted to view"),l&&n.value?.data?.nodes?.length>=2&&requestAnimationFrame(()=>{u()})};n.value.on("ready",S),n.value.setData(R,G)}catch(S){we.error("Failed to load data",{error:S.message,stack:S.stack}),o.value=S.message,r.value=!1}},u=async()=>{if(!(!l||!n.value||!s.value)&&!(!n.value.data||n.value.data.nodes.length<2))try{we.debug("Auto-computing eigenvector centrality");const R=n.value.data,G=await s.value.analyzeGraph(R.nodes,R.links,{features:["eigenvector"],onProgress:()=>{}});G&&G.nodes&&n.value.updateNodeStatistics&&(n.value.updateNodeStatistics(G.nodes,"eigenvector",!0),we.debug("Auto-computed eigenvector centrality and updated node sizes"))}catch(R){we.debug("Auto-compute eigenvector failed (non-critical)",{error:R.message})}},f=async(R=[],G=null,S=null,M=!1)=>{if(!n.value)return we.warn("Graph not initialized yet"),null;try{we.debug("Adding node",{neighborIds:R,nodeId:G,group:S,incremental:M});let I;return M&&n.value.addNodeIncremental?I=n.value.addNodeIncremental(R,G,S):I=n.value.addNode(R,G,S),I&&l&&requestAnimationFrame(()=>{u()}),I}catch(I){return we.error("Failed to add node",{error:I.message,stack:I.stack}),o.value=I.message,null}},p=(R=null,G=!1)=>{if(!n.value)return we.warn("Graph not initialized yet"),!1;try{we.debug("Removing node",{nodeId:R,incremental:G});let S;return G&&n.value.removeNodeIncremental?S=n.value.removeNodeIncremental(R):S=n.value.removeNode(R),S&&l&&requestAnimationFrame(()=>{u()}),S}catch(S){return we.error("Failed to remove node",{error:S.message,stack:S.stack}),o.value=S.message,!1}},y=async(R,G,S=!1)=>{if(!n.value)return we.warn("Graph not initialized yet"),!1;try{let M;return S&&n.value.addLinkIncremental?M=n.value.addLinkIncremental(R,G):M=n.value.addLink(R,G),M&&l&&requestAnimationFrame(()=>{u()}),M}catch(M){return we.error("Failed to add link",{error:M.message,stack:M.stack}),o.value=M.message,!1}},_=()=>n.value?n.value.getNodeIds():[],x=R=>n.value?n.value.hasNode(R):!1,v=async(R=["degree","eigenvector"],G={})=>{if(!n.value||!s.value)return we.warn("Graph or analyzer not initialized"),null;try{r.value=!0,a.value=0,we.debug("Starting graph analysis",{features:R,options:G});const S=n.value.data,M=await s.value.analyzeGraph(S.nodes,S.links,{features:R,includeGraphStats:G.includeGraphStats||!1,graphStats:G.graphStats,onProgress:V=>{a.value=V}});return we.info("Analysis complete, updating visualization",{nodeCount:M.nodes.length,hasGraphStats:!!M.graphStats}),R.includes("eigenvector")&&M.nodes.some(V=>V.eigenvector!==void 0)?(we.debug("Sizing nodes by eigenvector centrality"),n.value.updateVisualEncoding({sizeBy:"eigenvector",minRadius:4,maxRadius:20})):n.value.updateGraph(),r.value=!1,a.value=0,M}catch(S){return we.error("Failed to analyze graph",{error:S.message,stack:S.stack,features:R}),o.value=S.message,r.value=!1,a.value=0,null}},w=async R=>{if(!n.value||!s.value)return we.warn("Graph or analyzer not initialized"),!1;try{r.value=!0,a.value=0,we.debug("Applying layout",{layoutId:R});const G=n.value.data,S=e.value.getBoundingClientRect(),M=await s.value.applyLayout(R,G.nodes,G.links,{width:S.width||800,height:S.height||600,onProgress:V=>{a.value=V}});G.nodes.forEach(V=>{const X=M[V.id];X&&(V.x=X.x,V.y=X.y,V.fx=X.x,V.fy=X.y)});const I=()=>{r.value=!1,a.value=0,n.value.off("ready",I),we.info("Layout applied successfully",{layoutId:R})};return n.value.on("ready",I),n.value.updateGraph(),!0}catch(G){return we.error("Failed to apply layout",{layoutId:R,error:G.message,stack:G.stack}),o.value=G.message,r.value=!1,a.value=0,!1}},N=()=>s.value?s.value.getAvailableLayouts():[],A=()=>s.value?s.value.getAvailableCommunityAlgorithms():[],L=async R=>{if(!n.value||!s.value)return we.warn("Graph or analyzer not initialized"),null;try{r.value=!0,a.value=0,we.debug("Detecting communities",{algorithmId:R});const G=n.value.data,S=await s.value.detectCommunities(R,G.nodes,G.links,{onProgress:M=>{a.value=M}});return we.info("Community detection complete, updating colors",{numCommunities:S.numCommunities,modularity:S.modularity}),n.value.updateVisualEncoding({colorBy:"community",colorScheme:"categorical",preserveZoom:!0}),r.value=!1,a.value=0,S}catch(G){return we.error("Failed to detect communities",{algorithmId:R,error:G.message,stack:G.stack}),o.value=G.message,r.value=!1,a.value=0,null}},z=(R={})=>{if(!n.value){we.warn("Cannot update visual encoding - no graph instance");return}n.value.updateVisualEncoding(R)},H=()=>{if(!n.value){we.warn("Graph not initialized yet");return}n.value.lockPositions()},ee=()=>{if(!n.value){we.warn("Graph not initialized yet");return}n.value.unlockPositions()},W=(R="network-graph.png")=>{if(!n.value){we.warn("Graph not initialized yet");return}n.value.saveAsPNG(R)},Z=()=>n.value?n.value.getSelectedNode():(we.warn("Graph not initialized yet"),null),j=async()=>{if(n.value&&(n.value.destroy(),n.value=null,we.info("Graph destroyed")),s.value)try{await s.value.dispose(),s.value=null,we.info("Analyzer disposed")}catch(R){we.warn("Error disposing analyzer",{error:R.message}),s.value=null}};return Dn(async()=>{await Cs(),e.value&&c()}),jo(()=>{j()}),{graphContainer:e,graphInstance:n,loading:r,error:o,nodeInfo:i,analysisProgress:a,initGraph:c,loadData:d,destroyGraph:j,addNode:f,removeNode:p,addLink:y,getNodeIds:_,hasNode:x,analyzeGraph:v,applyLayout:w,getAvailableLayouts:N,detectCommunities:L,getAvailableCommunityAlgorithms:A,updateVisualEncoding:z,lockPositions:H,unlockPositions:ee,saveAsPNG:W,getSelectedNode:Z}}class RS{constructor({graphManager:e,onStatusChange:n=null,translate:s=null}){this.graphManager=e,this.onStatusChange=n,this.translate=s||(r=>r),this.log=Xe({prefix:"ShowcaseController",level:"info"}),this.datasets={default:{name:"Default",loader:()=>this._loadDefaultDataset()},karate:{name:"Karate Club",loader:()=>this._loadKarateDataset()},miserables:{name:"Les Misrables",loader:()=>this._loadMiserablesDataset()}}}getInitialDataset(){return{nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]}}async _loadDefaultDataset(){return this.getInitialDataset()}async _loadKarateDataset(){const e=await Bf.loadFromURL("/data/karateclub.json");return e.nodes=e.nodes.map(n=>({...n,group:n.club==="Mr. Hi"?1:2})),{nodes:e.nodes,links:e.edges}}async _loadMiserablesDataset(){const e=await $f.loadFromURL("/data/les_miserables.csv");return e.nodes=e.nodes.map(n=>({...n,group:n.group||1})),{nodes:e.nodes,links:e.edges}}async loadDataset(e){const n=this.datasets[e];if(!n)return{success:!1,error:`Unknown dataset: ${e}`};try{this.log.debug("Loading dataset",{datasetKey:e,datasetName:n.name}),this._updateStatus("Loading dataset...","info");const s=await n.loader();this.graphManager.loadData(s.nodes,s.links);const r=this.translate("showcase.messages.loadedDataset",{name:n.name,nodes:s.nodes.length,edges:s.links.length});return this.log.info("Dataset loaded successfully",{name:n.name,nodeCount:s.nodes.length,edgeCount:s.links.length}),this._updateStatus(r,"success"),{success:!0,data:s,name:n.name,nodeCount:s.nodes.length,edgeCount:s.links.length}}catch(s){const r=this.translate("showcase.messages.failedToLoadDataset",{error:s.message});return this.log.error("Failed to load dataset",{datasetKey:e,error:s.message,stack:s.stack}),this._updateStatus(r,"error"),{success:!1,error:s.message}}}addRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0)return{success:!1,error:"No nodes available to connect to"};const n=e[Math.floor(Math.random()*e.length)],s=this.graphManager.addNode([n],null,null,!0);if(s){const r=this.translate("showcase.messages.addedNode",{nodeId:s.id,connectedTo:n});return this.log.debug("Added random node",{nodeId:s.id,connectedTo:n}),this._updateStatus(r,"success"),{success:!0,node:s,connectedTo:n}}return this.log.warn("Failed to add random node"),{success:!1,error:"Failed to add node"}}addNodeToSelected(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getSelectedNode();if(!e){const r=this.translate("showcase.messages.noNodeSelected");return this.log.warn("No node selected"),this._updateStatus(r,"error"),{success:!1,error:"No node selected"}}const n=e.id,s=this.graphManager.addNode([n],null,null,!0);if(s){const r=this.translate("showcase.messages.addedNode",{nodeId:s.id,connectedTo:n});return this.log.debug("Added node connected to selected",{nodeId:s.id,targetNodeId:n}),this._updateStatus(r,"success"),{success:!0,node:s,connectedTo:n}}return this.log.warn("Failed to add node connected to selected",{targetNodeId:n}),{success:!1,error:"Failed to add node"}}removeRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0){const r=this.translate("showcase.messages.noNodesToRemove");return this._updateStatus(r,"error"),{success:!1,error:"No nodes to remove"}}const n=e[Math.floor(Math.random()*e.length)];if(this.graphManager.removeNode(n,!0)){const r=this.translate("showcase.messages.removedNode",{nodeId:n});return this.log.debug("Removed random node",{nodeId:n}),this._updateStatus(r,"info"),{success:!0,removedNodeId:n}}return this.log.warn("Failed to remove random node"),{success:!1,error:"Failed to remove node"}}async analyzeGraph(e=["degree","eigenvector","betweenness"]){try{this.log.debug("Starting graph analysis",{metrics:e}),this._updateStatus("Analyzing network using workers...","info");const n=await this.graphManager.analyzeGraph(e);if(n){const s=this.translate("showcase.messages.analysisComplete",{count:n.nodes.length});return this.log.info("Graph analysis complete",{nodeCount:n.nodes.length,metrics:e}),this._updateStatus(s,"success"),{success:!0,results:n,nodeCount:n.nodes.length,metrics:e}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(n){const s=this.translate("showcase.messages.analysisFailed",{error:n.message});return this.log.error("Graph analysis failed",{error:n.message,stack:n.stack,metrics:e}),this._updateStatus(s,"error"),{success:!1,error:n.message}}}async applyLayout(e){if(e==="none"){const n=this.translate("showcase.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(n,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(`Applying ${e} layout...`,"info"),await this.graphManager.applyLayout(e)){const s=this.translate("showcase.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(s,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(n){const s=this.translate("showcase.messages.layoutFailed",{error:n.message});return this.log.error("Layout application failed",{layoutId:e,error:n.message,stack:n.stack}),this._updateStatus(s,"error"),{success:!1,error:n.message}}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}_updateStatus(e,n){this.onStatusChange&&this.onStatusChange(e,n)}isGraphReady(){return this.graphManager.graphInstance.value!==null}getNodeCount(){return this.graphManager.getNodeIds().length}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}async detectCommunities(e){if(!this.isGraphReady())return this._updateStatus(this.translate("showcase.messages.graphNotInitialized"),"error"),null;if(this.getNodeCount()===0)return this._updateStatus(this.translate("showcase.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(`Detecting communities using ${e}...`,"info");const s=await this.graphManager.detectCommunities(e);if(s){const r=this.translate("showcase.messages.foundCommunities",{count:s.numCommunities,modularity:s.modularity.toFixed(3)});return this._updateStatus(r,"success"),s}else return this._updateStatus(this.translate("showcase.messages.communityDetectionFailed"),"error"),null}catch(s){return this.log.error("Community detection failed",{algorithmId:e,error:s.message,stack:s.stack}),this._updateStatus(`Error: ${s.message}`,"error"),null}}getSelectedNode(){return this.graphManager.getSelectedNode()}}const PS={class:"demo-controls-header"},DS={class:"demo-controls-title"},MS={class:"demo-controls-description"},OS={class:"info-box-blue mb-4"},GS={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},VS=["innerHTML"],FS={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},$S={class:"demo-controls-section-title mb-3"},BS={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},zS={key:0,class:"text-secondary text-center py-2"},HS={class:"text-xs"},jS={class:"text-xs mt-1 opacity-60"},US={key:1,class:"space-y-2"},WS={class:"flex-shrink-0 mt-0.5"},XS={key:0},qS={key:1},ZS={key:2},YS={class:"flex-1 break-words"},JS={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},KS={class:"demo-controls-section-title"},QS={class:"grid grid-cols-3 gap-2"},eN=["title"],tN=["disabled","title"],nN=["title"],sN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},rN={class:"demo-controls-section-title"},oN={class:"space-y-2"},iN={class:"block text-sm font-medium text-secondary"},aN={value:"default"},lN={value:"karate"},cN={value:"miserables"},dN=["disabled"],uN={key:0},hN={key:1},fN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},pN={class:"demo-controls-section-title"},mN={class:"info-box-green mt-3"},gN=["innerHTML"],yN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},_N={class:"demo-controls-section-title"},bN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},vN={class:"demo-controls-section-title"},xN={key:0,class:"info-box-green mt-3"},wN={class:"text-sm text-green-800 dark:text-green-200 space-y-1"},kN={class:"text-xs mt-2"},AN={key:1,class:"info-box-yellow mt-3"},CN={class:"text-xs text-yellow-800 dark:text-yellow-200"},SN={class:"info-box-purple"},NN={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},EN={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},TN=["innerHTML"],IN=["innerHTML"],LN=["innerHTML"],RN=["innerHTML"],PN=["innerHTML"],DN=["innerHTML"],MN={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},ON={class:"text-center"},GN={class:"text-secondary"},VN={__name:"ShowcasePage",setup(t){const e=Xe({prefix:"ShowcasePage",level:"info"}),{t:n}=Jt(),s=xl(),{graphContainer:r,graphInstance:o,loading:i,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analysisProgress:f,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:x,getAvailableCommunityAlgorithms:v,getSelectedNode:w,unlockPositions:N}=s,A=ae("default"),L=ae("none"),z=ae([]),H=ae("louvain"),ee=ae([]),W=ae(null),Z=ae(["degree","eigenvector","betweenness"]),j=ae(""),R=ae(""),G=ae("info"),S=ae("");let M=null;const I=(ce,ge)=>{R.value=ce,G.value=ge},V=()=>{const ce={graphInstance:o,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:x,getAvailableCommunityAlgorithms:v,getSelectedNode:w,unlockPositions:N};M=new RS({graphManager:ce,onStatusChange:I,translate:(T,te)=>n(T,te)});const ge=M.getInitialDataset();S.value=n("showcase.messages.loadingGraph"),a(ge.nodes,ge.links),z.value=M.getAvailableLayouts(),ee.value=M.getAvailableCommunityAlgorithms(),e.info("Initial data loaded",{layouts:z.value.length,communityAlgorithms:ee.value.length,nodes:ge.nodes.length})},X=()=>{M&&M.addRandomNode()},oe=()=>{M&&M.addNodeToSelected()},ue=()=>{M&&M.removeRandomNode()},Y=async()=>{if(M)try{S.value=n("showcase.messages.loadingDataset").replace("{dataset}",A.value);const ce=await M.loadDataset(A.value);ce.success&&(S.value=n("showcase.messages.loadingDatasetName").replace("{name}",ce.name))}catch(ce){e.error("Failed to load dataset",{error:ce.message,stack:ce.stack}),i.value=!1}},le=async()=>{if(M)try{S.value=n("showcase.messages.analyzing"),await M.analyzeGraph(Z.value)}catch(ce){e.error("Analysis error",{error:ce.message,stack:ce.stack})}},Ie=async()=>{if(M)try{S.value=n("showcase.messages.applyingLayout").replace("{layout}",L.value),await M.applyLayout(L.value)}catch(ce){e.error("Layout error",{error:ce.message,stack:ce.stack})}},Ae=async()=>{if(M)try{S.value=n("showcase.messages.detectingCommunities").replace("{algorithm}",H.value);const ce=await M.detectCommunities(H.value);ce&&(W.value=ce)}catch(ce){e.error("Community detection error",{error:ce.message,stack:ce.stack})}};return St(o,ce=>{ce&&!M&&V()},{immediate:!0}),(ce,ge)=>(U(),In(sl,null,{controls:Be(()=>[h("div",PS,[h("h1",DS,g(m(n)("showcase.header.title")),1),h("p",MS,g(m(n)("showcase.header.subtitle")),1)]),h("div",OS,[h("h2",GS,g(m(n)("showcase.whatIs.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200",innerHTML:m(n)("showcase.whatIs.description")},null,8,VS)]),h("div",FS,[h("h2",$S,g(m(n)("showcase.status.title")),1),h("div",BS,[R.value?(U(),q("div",US,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":G.value==="success","text-red-600 dark:text-red-400":G.value==="error","text-blue-600 dark:text-blue-400":G.value==="info"})},[h("div",WS,[G.value==="success"?(U(),q("span",XS,"")):G.value==="error"?(U(),q("span",qS,"")):(U(),q("span",ZS,""))]),h("div",YS,g(R.value),1)],2)])):(U(),q("div",zS,[h("div",HS,g(m(n)("showcase.status.ready")),1),h("div",jS,g(m(n)("showcase.status.hover")),1)]))])]),h("div",JS,[h("h2",KS,g(m(n)("showcase.controls.title")),1),h("div",QS,[h("button",{onClick:X,class:"btn-primary text-sm px-2 py-2 whitespace-nowrap",title:m(n)("showcase.controls.addRandom")},"  "+g(m(n)("showcase.buttons.add")),9,eN),h("button",{onClick:oe,class:"btn-secondary text-sm px-2 py-2 whitespace-nowrap",disabled:!m(w)(),title:m(w)()?m(n)("showcase.controls.addToSelected").replace("{name}",m(w)().id):m(n)("showcase.controls.selectNodeFirst")},"  "+g(m(n)("showcase.buttons.toSelected")),9,tN),h("button",{onClick:ue,class:"btn-primary bg-red-600 hover:bg-red-700 text-sm px-2 py-2 whitespace-nowrap",title:m(n)("showcase.controls.removeRandom")},"  "+g(m(n)("showcase.buttons.remove")),9,nN)])]),h("div",sN,[h("h2",rN,g(m(n)("showcase.dataLoading.title")),1),h("div",oN,[h("label",iN,g(m(n)("showcase.dataLoading.choose")),1),ht(h("select",{"onUpdate:modelValue":ge[0]||(ge[0]=T=>A.value=T),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",aN,g(m(n)("showcase.dataLoading.default")),1),h("option",lN,g(m(n)("showcase.dataLoading.karate")),1),h("option",cN,g(m(n)("showcase.dataLoading.miserables")),1)],512),[[_s,A.value]])]),h("button",{onClick:Y,disabled:m(i),class:"w-full btn-primary mt-3"},[m(i)?(U(),q("span",hN,g(m(n)("showcase.dataLoading.loading")),1)):(U(),q("span",uN,g(m(n)("showcase.dataLoading.loadButton")),1))],8,dN)]),h("div",fN,[h("h2",pN,g(m(n)("showcase.networkAnalysis.title")),1),_e(ol,{"selected-metrics":Z.value,"onUpdate:selectedMetrics":ge[1]||(ge[1]=T=>Z.value=T),"size-metric":j.value,"onUpdate:sizeMetric":ge[2]||(ge[2]=T=>j.value=T),analyzing:m(i),progress:m(f),onAnalyze:le},null,8,["selected-metrics","size-metric","analyzing","progress"]),h("div",mN,[h("p",{class:"text-xs text-green-800 dark:text-green-200",innerHTML:m(n)("showcase.networkAnalysis.description")},null,8,gN)])]),h("div",yN,[h("h2",_N,g(m(n)("showcase.layoutAlgorithm.title")),1),_e(rl,{modelValue:L.value,"onUpdate:modelValue":ge[3]||(ge[3]=T=>L.value=T),"available-layouts":z.value,loading:m(i),onApply:Ie},null,8,["modelValue","available-layouts","loading"])]),h("div",bN,[h("h2",vN,g(m(n)("showcase.communityDetection.title")),1),_e(Qh,{modelValue:H.value,"onUpdate:modelValue":ge[4]||(ge[4]=T=>H.value=T),"available-algorithms":ee.value,detecting:m(i),onDetect:Ae},{results:Be(()=>[W.value?(U(),q("div",xN,[h("p",wN,[h("div",null,[h("strong",null,g(m(n)("showcase.communityDetection.communitiesFound")),1),xe(" "+g(W.value.numCommunities),1)]),h("div",null,[h("strong",null,g(m(n)("showcase.communityDetection.modularity")),1),xe(" "+g(W.value.modularity.toFixed(3)),1)]),h("div",kN,g(m(n)("showcase.communityDetection.nodeColorsAssignments")),1)])])):Re("",!0),ee.value.length>0&&!W.value?(U(),q("div",AN,[h("p",CN,[h("strong",null,g(ee.value.find(T=>T.id===H.value)?.name)+":",1),xe(" "+g(ee.value.find(T=>T.id===H.value)?.description),1)])])):Re("",!0)]),_:1},8,["modelValue","available-algorithms","detecting"])]),h("div",SN,[h("h3",NN,g(m(n)("showcase.instructions.title")),1),h("ul",EN,[h("li",{innerHTML:m(n)("showcase.instructions.dragNodes")},null,8,TN),h("li",{innerHTML:m(n)("showcase.instructions.scroll")},null,8,IN),h("li",{innerHTML:m(n)("showcase.instructions.dragBackground")},null,8,LN),h("li",{innerHTML:m(n)("showcase.instructions.hoverNodes")},null,8,RN),h("li",{innerHTML:m(n)("showcase.instructions.nodeSize")},null,8,PN),h("li",{innerHTML:m(n)("showcase.instructions.color")},null,8,DN)])])]),graph:Be(()=>[m(i)?(U(),q("div",MN,[h("div",ON,[ge[5]||(ge[5]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",GN,g(S.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}))}};class FN{constructor({graphManager:e,onStatusChange:n=null,translate:s=null}){this.graphManager=e,this.onStatusChange=n,this.translate=s||(r=>r),this.log=Xe({prefix:"ExplorerController",level:"info"}),this.sampleNetworks={caruaru:{name:"Caruaru",file:"/data/network_caruaru.json",description:"Small network (~130 edges)"},rj:{name:"Rio de Janeiro",file:"/data/network_rj.json",description:"Medium network (~1,900 edges)"},niteroi:{name:"Niteri",file:"/data/network_niteroi.json",description:"Large network (~18,500 edges)"}},this.workersSupported=typeof Worker<"u",this.workerCount=navigator.hardwareConcurrency||4}async loadSampleNetwork(e){const n=this.sampleNetworks[e];if(!n)return{success:!1,error:`Unknown network: ${e}`};try{this.log.debug("Loading sample network",{networkKey:e,networkName:n.name}),this._updateStatus(this.translate("explorer.messages.loadingNetworkData"),"info");const s=await fetch(n.file);if(!s.ok)throw new Error(`Failed to fetch: ${s.statusText}`);const r=await s.json(),o=new Set,i=[];r.forEach(d=>{o.add(d.source),o.add(d.target),i.push({source:String(d.source),target:String(d.target),weight:d.weight||1})});const a=Array.from(o).map(d=>({id:String(d),group:1})),l={nodes:a,links:i.map(d=>({source:d.source,target:d.target,weight:d.weight}))};this.graphManager.loadData(l.nodes,l.links);const c=this.translate("explorer.messages.loadedNetwork",{name:n.name,nodes:a.length,edges:i.length});return this.log.info("Sample network loaded successfully",{name:n.name,nodeCount:a.length,edgeCount:i.length}),this._updateStatus(c,"success"),{success:!0,data:l,name:n.name,nodeCount:a.length,edgeCount:i.length,description:n.description,useWorkers:a.length>=500&&this.workersSupported}}catch(s){const r=this.translate("explorer.messages.failedToLoadNetwork",{error:s.message});return this.log.error("Failed to load sample network",{networkKey:e,error:s.message,stack:s.stack}),this._updateStatus(r,"error"),{success:!1,error:s.message}}}async loadUploadedNetwork(e,n,s,r){try{this.log.debug("Loading uploaded network",{format:e}),this._updateStatus(this.translate("explorer.messages.loadingUploadedFile"),"info");let o;if(e==="csv"){if(!n)throw new Error("Edges CSV file is required");this.log.debug("Loading CSV files",{edgeFile:n.name,nodeFile:s?.name}),o=await $f.loadFromFiles(n,s||null)}else if(e==="json"){if(!r)throw new Error("JSON file is required");this.log.debug("Loading JSON file",{fileName:r.name});const d=await r.text(),u=JSON.parse(d);if(Array.isArray(u)&&u.length>0&&u[0].source&&u[0].target){this.log.debug("Detected raw edge list array format");const f=new Set;u.forEach(p=>{f.add(p.source),f.add(p.target)}),o={nodes:Array.from(f).map(p=>({id:String(p),group:1})),edges:u.map(p=>({source:String(p.source),target:String(p.target),weight:p.weight||1}))}}else o=Bf.fromFormat(u)}else if(e==="networkx"){if(!r)throw new Error("NetworkX JSON file is required");this.log.debug("Loading NetworkX file",{fileName:r.name});const d=await r.text(),u=JSON.parse(d);o=TS.fromFormat(u)}else throw new Error(`Unknown format: ${e}`);this.log.info("Parsed graph data",{nodes:o.nodes.length,edges:o.edges.length});const i=o.nodes.map(d=>({...d,id:String(d.id),group:d.group||1})),a=o.edges.map(d=>({source:String(d.source),target:String(d.target),weight:d.weight||1}));this.graphManager.loadData(i,a);const l=r?.name||n?.name||"uploaded file",c=this.translate("explorer.messages.loadedFile",{fileName:l,nodes:i.length,edges:a.length});return this.log.info("Uploaded network loaded successfully",{fileName:l,nodeCount:i.length,edgeCount:a.length}),this._updateStatus(c,"success"),{success:!0,data:{nodes:i,links:a},name:l,nodeCount:i.length,edgeCount:a.length,description:`Uploaded ${e.toUpperCase()} file`,useWorkers:i.length>=500&&this.workersSupported}}catch(o){const i=this.translate("explorer.messages.failedToLoadFile",{error:o.message});return this.log.error("Failed to load uploaded network",{format:e,error:o.message,stack:o.stack}),this._updateStatus(i,"error"),{success:!1,error:o.message}}}async analyzeGraph(e=["degree","eigenvector"],n=null){try{this.log.debug("Starting graph analysis",{metrics:e,sizeMetric:n}),this._updateStatus(this.translate("explorer.messages.analyzingNetwork"),"info");const s=await this.graphManager.analyzeGraph(e,{includeGraphStats:!0,graphStats:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]});if(s){const r=s.nodes.length,o=s.links.length,i=(2*o/r).toFixed(2);n&&s.nodes.some(l=>l[n]!==void 0)&&this.graphManager.updateVisualEncoding({sizeBy:n,minRadius:4,maxRadius:20});const a=this.translate("explorer.messages.analysisComplete",{count:r});return this.log.info("Graph analysis complete",{nodeCount:r,metrics:e,hasGraphStats:!!s.graphStats}),this._updateStatus(a,"success"),{success:!0,results:s,nodeCount:r,linkCount:o,avgDegree:i,metrics:e,graphStats:s.graphStats||{average_degree:parseFloat(i)}}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(s){const r=this.translate("explorer.messages.analysisFailed",{error:s.message});return this.log.error("Graph analysis failed",{error:s.message,stack:s.stack,metrics:e}),this._updateStatus(r,"error"),{success:!1,error:s.message}}}async applyLayout(e){if(e==="none"){const n=this.translate("explorer.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(n,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(this.translate("explorer.messages.applyingLayout",{layout:e}),"info"),await this.graphManager.applyLayout(e)){const s=this.translate("explorer.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(s,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(n){const s=this.translate("explorer.messages.layoutFailed",{error:n.message});return this.log.error("Layout application failed",{layoutId:e,error:n.message,stack:n.stack}),this._updateStatus(s,"error"),{success:!1,error:n.message}}}async detectCommunities(e){if(!this.graphManager.graphInstance.value)return this._updateStatus(this.translate("explorer.messages.graphNotInitialized"),"error"),null;if(this.graphManager.getNodeIds().length===0)return this._updateStatus(this.translate("explorer.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(this.translate("explorer.messages.detectingCommunities",{algorithm:e}),"info");const s=await this.graphManager.detectCommunities(e);if(s){const r=this.translate("explorer.messages.foundCommunities",{count:s.numCommunities,modularity:s.modularity.toFixed(3)});return this._updateStatus(r,"success"),s}else return this._updateStatus(this.translate("explorer.messages.communityDetectionFailed"),"error"),null}catch(s){return this.log.error("Community detection failed",{algorithmId:e,error:s.message,stack:s.stack}),this._updateStatus(this.translate("explorer.messages.analysisFailed",{error:s.message}),"error"),null}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}getWorkerInfo(){return{supported:this.workersSupported,count:this.workerCount}}_updateStatus(e,n){this.onStatusChange&&this.onStatusChange(e,n)}}const $N={class:"demo-controls-header"},BN={class:"demo-controls-title"},zN={class:"demo-controls-description"},HN={class:"info-box-blue mb-4"},jN={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},UN=["innerHTML"],WN={class:"flex items-center gap-2 text-xs"},XN={key:0},qN={key:1},ZN={key:0,class:"badge badge-yellow"},YN={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 shadow-sm"},JN={class:"demo-controls-section-title mb-3"},KN={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},QN={key:0,class:"text-secondary text-center py-2"},e2={class:"text-xs"},t2={class:"text-xs mt-1 opacity-60"},n2={key:1,class:"space-y-2"},s2={class:"flex-shrink-0 mt-0.5"},r2={key:0},o2={key:1},i2={key:2},a2={class:"flex-1 break-words"},l2={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},c2={class:"demo-controls-section-title"},d2={class:"flex gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-4"},u2={class:"space-y-2"},h2={class:"block text-sm font-medium text-secondary"},f2={value:""},p2={value:"caruaru"},m2={value:"rj"},g2={value:"niteroi"},y2=["disabled"],_2={key:0},b2={key:1},v2={class:"space-y-3"},x2={class:"space-y-2"},w2={class:"block text-sm font-medium text-secondary"},k2={value:"json"},A2={value:"csv"},C2={value:"networkx"},S2={class:"space-y-2"},N2={class:"block text-sm font-medium text-secondary"},E2={class:"block text-sm font-medium text-secondary mt-2"},T2=["innerHTML"],I2={class:"space-y-2"},L2={class:"block text-sm font-medium text-secondary"},R2={key:0},P2={key:1},D2={key:0,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},M2={key:1,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},O2=["disabled"],G2={key:0},V2={key:1},F2={key:0,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},$2={class:"demo-controls-section-title"},B2={class:"metrics-grid-row mb-3"},z2={class:"metric-card"},H2={class:"text-xs text-secondary"},j2={class:"text-xl font-bold text-purple-600 dark:text-purple-400"},U2={class:"metric-card"},W2={class:"text-xs text-secondary"},X2={class:"text-xl font-bold text-pink-600 dark:text-pink-400"},q2={class:"metric-card"},Z2={class:"text-xs text-secondary"},Y2={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},J2={class:"metric-card"},K2={class:"text-xs text-secondary"},Q2={class:"text-xl font-bold text-green-600 dark:text-green-400"},eE={key:0,class:"metric-card"},tE={class:"text-xs text-secondary"},nE={class:"text-xl font-bold text-orange-600 dark:text-orange-400"},sE={key:1,class:"metric-card"},rE={class:"text-xs text-secondary"},oE={class:"text-xl font-bold text-cyan-600 dark:text-cyan-400"},iE={key:0,class:"info-box-green text-xs"},aE={class:"font-semibold text-green-800 dark:text-green-300"},lE={class:"text-green-700 dark:text-green-400"},cE={key:1,class:"info-box-yellow text-xs"},dE={class:"font-semibold text-yellow-800 dark:text-yellow-300"},uE={class:"text-yellow-700 dark:text-yellow-400"},hE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},fE={class:"demo-controls-section-title"},pE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},mE={class:"demo-controls-section-title"},gE={class:"info-box-yellow mt-3"},yE={class:"text-xs text-yellow-800 dark:text-yellow-200"},_E={key:0,class:"italic"},bE={key:1,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},vE={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-700"},xE={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-2"},wE={class:"space-y-2"},kE={class:"flex justify-between items-center"},AE={class:"text-sm text-blue-800 dark:text-blue-200"},CE={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},SE={class:"flex justify-between items-center"},NE={class:"text-sm text-blue-800 dark:text-blue-200"},EE={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},TE={class:"flex justify-between items-center"},IE={class:"text-sm text-blue-800 dark:text-blue-200"},LE={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},RE={class:"flex justify-between items-center"},PE={class:"text-sm text-blue-800 dark:text-blue-200"},DE={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},ME={class:"flex justify-between items-center"},OE={class:"text-sm text-blue-800 dark:text-blue-200"},GE={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},VE={class:"flex justify-between items-center"},FE={class:"text-sm text-blue-800 dark:text-blue-200"},$E={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},BE={class:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700"},zE={class:"text-xs text-blue-700 dark:text-blue-300"},HE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},jE={class:"demo-controls-section-title"},UE={key:2,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},WE={class:"bg-gradient-to-br from-orange-50 to-pink-50 dark:from-orange-900/30 dark:to-pink-900/30 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-700"},XE={class:"text-sm font-semibold text-orange-900 dark:text-orange-300 mb-3 flex items-center gap-2"},qE={class:"space-y-2"},ZE={class:"flex justify-between items-center"},YE={class:"text-sm text-orange-800 dark:text-orange-200"},JE={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},KE={class:"flex justify-between items-center"},QE={class:"text-sm text-orange-800 dark:text-orange-200"},eT={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},tT={class:"flex justify-between items-center"},nT={class:"text-sm text-orange-800 dark:text-orange-200"},sT={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},rT={class:"flex justify-between items-center"},oT={class:"text-sm text-orange-800 dark:text-orange-200"},iT={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},aT={class:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-700"},lT={class:"text-xs text-orange-700 dark:text-orange-300"},cT={class:"info-box-purple"},dT={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},uT={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},hT=["innerHTML"],fT=["innerHTML"],pT=["innerHTML"],mT=["innerHTML"],gT=["innerHTML"],yT=["innerHTML"],_T={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},bT={class:"text-center"},vT={class:"text-secondary"},xT={__name:"ExplorerPage",setup(t){const e=Xe({prefix:"ExplorerPage",level:"info"}),{t:n}=Jt(),s=xl(),{graphContainer:r,graphInstance:o,loading:i,loadData:a,analysisProgress:l,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:x}=s,v=ae("sample"),w=ae(""),N=ae("json"),A=ae(null),L=ae(null),z=ae(null),H=ae("none"),ee=ae([]),W=ae([]),Z=ae(""),j=ae("louvain"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),I=ae(""),V=ae("info"),X=ae("Loading graph..."),oe=ae(null),ue=ae("-"),Y=ae(!1),le=ae(null),Ie=ae(!1),Ae=ae(!1),ce=ae({nodes:0,edges:0,avgDegree:0,analysisTime:"-",communities:null,modularity:null}),ge=ae({type:"default",message:"Select a network to begin...",details:null});let T=null;const te=ae({supported:typeof Worker<"u",count:navigator.hardwareConcurrency||4}),ne=it(()=>N.value==="csv"?A.value!==null:z.value!==null),fe=(P,D)=>{I.value=P,V.value=D},he=(P,D,O=null)=>{ge.value={type:P,message:D,details:O}},k=()=>{const P={graphInstance:o,loadData:a,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:x};T=new FN({graphManager:P,onStatusChange:fe,translate:(D,O)=>n(D,O)}),ee.value=T.getAvailableLayouts(),R.value=T.getAvailableCommunityAlgorithms(),o.value&&(o.value.on("nodeHover",D=>{he("node-hover",`Node: ${D.id}`,{id:D.id,group:D.group||1,community:Y.value?D.community:null,centrality:D.centrality?.toFixed(4)||"N/A",degree:D.degree||"N/A",betweenness:D.betweenness?.toFixed(4),clustering:D.clustering?.toFixed(3),eigenvector:D.eigenvector?.toFixed(4),closeness:D.closeness?.toFixed(4),egoDensity:D["ego-density"]?.toFixed(3),cliques:D.cliques})}),o.value.on("nodeLeave",()=>{G.value?he("default","Hover over a node to see details..."):he("default","Select a network to begin...")})),C()},C=()=>{const P={nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]};a(P.nodes,P.links),G.value=!0,ce.value={nodes:P.nodes.length,edges:P.links.length,avgDegree:(2*P.links.length/P.nodes.length).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("default","Default network loaded. Hover over a node to see details...")},E=async()=>{if(!(!T||!w.value))try{i.value=!0,X.value=`Loading ${w.value} network...`,he("loading","Loading network data...");const P=await T.loadSampleNetwork(w.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load network: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load sample network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load network: ${P.message}`)}},$=async()=>{if(!(!T||!ne.value))try{i.value=!0,X.value="Loading uploaded file...",he("loading","Loading uploaded file...");const P=await T.loadUploadedNetwork(N.value,A.value,L.value,z.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load file: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load uploaded network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load file: ${P.message}`)}},B=async()=>{if(!(!T||!G.value))try{S.value=!0,X.value="Analyzing network using workers...",he("loading","Running network analysis...");const P=performance.now(),D=await T.analyzeGraph(W.value,Z.value),O=performance.now()-P;D.success&&(ce.value.analysisTime=`${(O/1e3).toFixed(2)}s`,D.graphStats&&(le.value=D.graphStats,Ie.value=!0),he("success","Analysis complete",{nodes:D.nodeCount,edges:D.linkCount,time:ce.value.analysisTime,metric:Z.value||W.value[0]}))}catch(P){e.error("Analysis error",{error:P.message,stack:P.stack}),he("error",`Analysis failed: ${P.message}`)}finally{S.value=!1}},F=async()=>{if(!(!T||!G.value))try{X.value=`Applying ${H.value} layout...`,I.value=`Applying ${H.value} layout...`,V.value="info";const P=await T.applyLayout(H.value);if(P.success)I.value=` Applied ${H.value} layout`,V.value="success",he("layout-applied",`Layout Applied: ${H.value}`,{description:H.value==="none"?"Using D3's built-in force simulation":"Nodes fixed in position (D3 physics disabled)"});else{const D=P.error||"Layout application failed";I.value=` ${D}`,V.value="error",he("error",`Layout failed: ${D}`)}}catch(P){e.error("Layout error",{error:P.message,stack:P.stack});const D=P.message||"Layout failed";I.value=` ${D}`,V.value="error",he("error",`Layout failed: ${D}`)}},re=async()=>{if(!(!T||!G.value))try{M.value=!0,X.value=`Detecting communities using ${j.value}...`,he("loading","Detecting communities...");const P=performance.now(),D=await T.detectCommunities(j.value),O=performance.now()-P;D&&(oe.value=D,ue.value=`${(O/1e3).toFixed(2)}s`,Y.value=!0,ce.value.communities=D.numCommunities,ce.value.modularity=D.modularity.toFixed(3),he("default","Hover over a node to see details..."))}catch(P){e.error("Community detection error",{error:P.message,stack:P.stack}),he("error",`Community detection failed: ${P.message}`)}finally{M.value=!1}};return St(o,P=>{P&&!T&&k()},{immediate:!0}),(P,D)=>(U(),In(sl,null,{controls:Be(()=>[h("div",$N,[h("h1",BN,g(m(n)("explorer.header.title")),1),h("p",zN,g(m(n)("explorer.header.subtitle")),1)]),h("div",HN,[h("h2",jN,g(m(n)("explorer.parallelComputation.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-3",innerHTML:m(n)("explorer.parallelComputation.description")},null,8,UN),h("div",WN,[h("span",{class:bt(te.value.supported?"badge badge-green":"badge badge-red")},[te.value.supported?(U(),q("span",XN,g(m(n)("explorer.parallelComputation.workersSupported")),1)):(U(),q("span",qN,g(m(n)("explorer.parallelComputation.workersNotSupported")),1))],2),te.value.supported?(U(),q("span",ZN,g(te.value.count)+" "+g(m(n)("explorer.parallelComputation.cores")),1)):Re("",!0)])]),h("div",YN,[h("h2",JN,g(m(n)("explorer.status.title")),1),h("div",KN,[I.value?(U(),q("div",n2,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":V.value==="success","text-red-600 dark:text-red-400":V.value==="error","text-blue-600 dark:text-blue-400":V.value==="info"})},[h("div",s2,[V.value==="success"?(U(),q("span",r2,"")):V.value==="error"?(U(),q("span",o2,"")):(U(),q("span",i2,""))]),h("div",a2,g(I.value),1)],2)])):(U(),q("div",QN,[h("div",e2,g(m(n)("explorer.status.ready")),1),h("div",t2,g(m(n)("explorer.status.loadNetwork")),1)]))])]),h("div",l2,[h("h2",c2,g(m(n)("explorer.dataLoading.title")),1),h("div",d2,[h("button",{onClick:D[0]||(D[0]=O=>v.value="sample"),class:bt([v.value==="sample"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(n)("explorer.dataLoading.sampleNetworks")),3),h("button",{onClick:D[1]||(D[1]=O=>v.value="upload"),class:bt([v.value==="upload"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(n)("explorer.dataLoading.uploadFile")),3)]),ht(h("div",u2,[h("label",h2,g(m(n)("explorer.dataLoading.chooseNetwork")),1),ht(h("select",{"onUpdate:modelValue":D[2]||(D[2]=O=>w.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",f2,g(m(n)("explorer.dataLoading.chooseCity")),1),h("option",p2,g(m(n)("explorer.dataLoading.caruaru")),1),h("option",m2,g(m(n)("explorer.dataLoading.rj")),1),h("option",g2,g(m(n)("explorer.dataLoading.niteroi")),1)],512),[[_s,w.value]]),h("button",{onClick:E,disabled:!w.value||m(i),class:"w-full btn-primary mt-3"},[m(i)?(U(),q("span",b2,g(m(n)("explorer.dataLoading.loading")),1)):(U(),q("span",_2,g(m(n)("explorer.dataLoading.loadNetwork")),1))],8,y2)],512),[[Lr,v.value==="sample"]]),ht(h("div",v2,[h("div",x2,[h("label",w2,g(m(n)("explorer.dataLoading.fileFormat")),1),ht(h("select",{"onUpdate:modelValue":D[3]||(D[3]=O=>N.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",k2,g(m(n)("explorer.dataLoading.formatJSON")),1),h("option",A2,g(m(n)("explorer.dataLoading.formatCSV")),1),h("option",C2,g(m(n)("explorer.dataLoading.formatNetworkX")),1)],512),[[_s,N.value]])]),ht(h("div",S2,[h("label",N2,g(m(n)("explorer.dataLoading.edgesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[4]||(D[4]=O=>A.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("label",E2,g(m(n)("explorer.dataLoading.nodesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[5]||(D[5]=O=>L.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("div",{class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2",innerHTML:m(n)("explorer.dataLoading.edgeCSVFormat")},null,8,T2)],512),[[Lr,N.value==="csv"]]),ht(h("div",I2,[h("label",L2,[N.value==="json"?(U(),q("span",R2,g(m(n)("explorer.dataLoading.jsonFile")),1)):(U(),q("span",P2,g(m(n)("explorer.dataLoading.networkxFile")),1))]),h("input",{type:"file",accept:".json",onChange:D[6]||(D[6]=O=>z.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),N.value==="json"?(U(),q("div",D2,g(m(n)("explorer.dataLoading.jsonSupports")),1)):(U(),q("div",M2,g(m(n)("explorer.dataLoading.networkxSupports")),1))],512),[[Lr,N.value==="json"||N.value==="networkx"]]),h("button",{onClick:$,disabled:!ne.value||m(i),class:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[m(i)?(U(),q("span",V2,g(m(n)("explorer.dataLoading.loading")),1)):(U(),q("span",G2,g(m(n)("explorer.dataLoading.loadUploadedFile")),1))],8,O2)],512),[[Lr,v.value==="upload"]])]),G.value?(U(),q("div",F2,[h("h2",$2,g(m(n)("explorer.networkStats.title")),1),h("div",B2,[h("div",z2,[h("div",H2,g(m(n)("explorer.networkStats.nodes")),1),h("div",j2,g(ce.value.nodes),1)]),h("div",U2,[h("div",W2,g(m(n)("explorer.networkStats.edges")),1),h("div",X2,g(ce.value.edges),1)]),h("div",q2,[h("div",Z2,g(m(n)("explorer.networkStats.avgDegree")),1),h("div",Y2,g(ce.value.avgDegree),1)]),h("div",J2,[h("div",K2,g(m(n)("explorer.networkStats.analysisTime")),1),h("div",Q2,g(ce.value.analysisTime),1)]),ce.value.communities?(U(),q("div",eE,[h("div",tE,g(m(n)("explorer.networkStats.communities")),1),h("div",nE,g(ce.value.communities),1)])):Re("",!0),ce.value.modularity?(U(),q("div",sE,[h("div",rE,g(m(n)("explorer.networkStats.modularity")),1),h("div",oE,g(ce.value.modularity),1)])):Re("",!0)]),Ae.value?(U(),q("div",iE,[h("span",aE,g(m(n)("explorer.networkStats.usingParallel")),1),h("span",lE," - "+g(te.value.count)+" "+g(m(n)("explorer.networkStats.workersActive")),1)])):Re("",!0),!Ae.value&&G.value?(U(),q("div",cE,[h("span",dE,g(m(n)("explorer.networkStats.singleThreaded")),1),h("span",uE," - "+g(m(n)("explorer.networkStats.networkTooSmall")),1)])):Re("",!0)])):Re("",!0),h("div",hE,[h("h2",fE,g(m(n)("explorer.networkAnalysis.title")),1),_e(ol,{"selected-metrics":W.value,"onUpdate:selectedMetrics":D[7]||(D[7]=O=>W.value=O),"size-metric":Z.value,"onUpdate:sizeMetric":D[8]||(D[8]=O=>Z.value=O),analyzing:S.value,disabled:!G.value,progress:m(l),"show-spectral-metric":!0,onAnalyze:B},null,8,["selected-metrics","size-metric","analyzing","disabled","progress"])]),h("div",pE,[h("h2",mE,g(m(n)("explorer.layoutAlgorithm.title")),1),_e(rl,{modelValue:H.value,"onUpdate:modelValue":D[9]||(D[9]=O=>H.value=O),"available-layouts":ee.value,loading:m(i),disabled:!G.value,onApply:F},null,8,["modelValue","available-layouts","loading","disabled"]),h("div",gE,[h("p",yE,[(U(!0),q(Ge,null,Nn(ee.value,O=>(U(),q("div",{key:O.id},[h("strong",null,g(O.name)+":",1),xe(" "+g(O.description)+" ",1),O.requiresStats?(U(),q("span",_E," ("+g(m(n)("explorer.layoutAlgorithm.requiresAnalysis"))+")",1)):Re("",!0),D[11]||(D[11]=h("br",null,null,-1))]))),128))])])]),Ie.value?(U(),q("div",bE,[h("div",vE,[h("h3",xE,g(m(n)("explorer.graphStats.title")),1),h("div",wE,[h("div",kE,[h("span",AE,g(m(n)("explorer.graphStats.density")),1),h("span",CE,g(le.value?.density?.toFixed(4)||"-"),1)]),h("div",SE,[h("span",NE,g(m(n)("explorer.graphStats.diameter")),1),h("span",EE,g(le.value?.diameter===1/0?"":le.value?.diameter||"-"),1)]),h("div",TE,[h("span",IE,g(m(n)("explorer.graphStats.avgClustering")),1),h("span",LE,g(le.value?.average_clustering?.toFixed(4)||"-"),1)]),h("div",RE,[h("span",PE,g(m(n)("explorer.graphStats.avgPathLength")),1),h("span",DE,g(le.value?.average_shortest_path===1/0?"":le.value?.average_shortest_path?.toFixed(2)||"-"),1)]),h("div",ME,[h("span",OE,g(m(n)("explorer.graphStats.components")),1),h("span",GE,g(le.value?.connected_components||"-"),1)]),h("div",VE,[h("span",FE,g(m(n)("explorer.graphStats.avgDegree")),1),h("span",$E,g(le.value?.average_degree?.toFixed(2)||"-"),1)])]),h("div",BE,[h("p",zE,g(m(n)("explorer.graphStats.calculated")),1)])])])):Re("",!0),h("div",HE,[h("h2",jE,g(m(n)("explorer.communityDetection.title")),1),_e(Qh,{modelValue:j.value,"onUpdate:modelValue":D[10]||(D[10]=O=>j.value=O),"available-algorithms":R.value,detecting:M.value,disabled:!G.value,label:m(n)("explorer.communityDetection.algorithm"),onDetect:re},null,8,["modelValue","available-algorithms","detecting","disabled","label"])]),Y.value?(U(),q("div",UE,[h("div",WE,[h("h3",XE,g(m(n)("explorer.communityResults.title")),1),h("div",qE,[h("div",ZE,[h("span",YE,g(m(n)("explorer.communityResults.communitiesFound")),1),h("span",JE,g(oe.value?.numCommunities||"-"),1)]),h("div",KE,[h("span",QE,g(m(n)("explorer.communityResults.modularityScore")),1),h("span",eT,g(oe.value?.modularity?.toFixed(3)||"-"),1)]),h("div",tT,[h("span",nT,g(m(n)("explorer.communityResults.computationTime")),1),h("span",sT,g(ue.value||"-"),1)]),h("div",rT,[h("span",oT,g(m(n)("explorer.communityResults.algorithm")),1),h("span",iT,g(j.value),1)])]),h("div",aT,[h("p",lT,g(m(n)("explorer.communityResults.nodeColorsRepresent")),1)])])])):Re("",!0),h("div",cT,[h("h3",dT,g(m(n)("explorer.instructions.title")),1),h("ul",uT,[h("li",{innerHTML:m(n)("explorer.instructions.dragNodes")},null,8,hT),h("li",{innerHTML:m(n)("explorer.instructions.scroll")},null,8,fT),h("li",{innerHTML:m(n)("explorer.instructions.dragBackground")},null,8,pT),h("li",{innerHTML:m(n)("explorer.instructions.hoverNodes")},null,8,mT),h("li",{innerHTML:m(n)("explorer.instructions.nodeSize")},null,8,gT),h("li",{innerHTML:m(n)("explorer.instructions.color")},null,8,yT)])])]),graph:Be(()=>[m(i)?(U(),q("div",_T,[h("div",bT,[D[12]||(D[12]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",vT,g(X.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}))}},wT=Es(xT,[["__scopeId","data-v-790b5b0e"]]),kT=["aria-labelledby"],AT={class:"px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-700"},CT=["id"],ST={class:"px-6 py-4"},NT={class:"space-y-4"},ET=["for"],TT={key:0,class:"text-red-500"},IT=["id","onUpdate:modelValue","required"],LT=["id","onUpdate:modelValue","required"],RT={value:"",disabled:""},PT=["value"],DT=["aria-labelledby"],MT=["name","value","onUpdate:modelValue","required"],OT={class:"text-2xl"},GT={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},VT=["id","onUpdate:modelValue","placeholder","required"],FT={__name:"DialogForm",props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},fields:{type:Array,required:!0,default:()=>[]}},emits:["confirm","cancel"],setup(t,{emit:e}){const n=t,s=e,{t:r}=Jt(),o=`dialog-${Math.random().toString(36).substr(2,9)}`,i=ae([]),a=()=>{i.value=n.fields.map(()=>"")},l=()=>{if(!n.fields.every((u,f)=>!(u.required&&!i.value[f]?.trim()))){alert("Please fill in all required fields");return}s("confirm",[...i.value])},c=()=>{a(),s("cancel")};return St(()=>n.visible,d=>{d&&(a(),Cs(()=>{const u=document.querySelector("#field-0");u&&(u.focus(),u.tagName==="INPUT"&&u.select())}))}),Dn(()=>{a()}),(d,u)=>(U(),In(Mp,{to:"body"},[t.visible?(U(),q("div",{key:0,class:"dialog-overlay fixed inset-0 z-[9999] flex items-center justify-center",style:{"z-index":"9999 !important",position:"fixed !important"},onClick:Ju(c,["self"])},[u[0]||(u[0]=h("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",style:{"z-index":"9998"}},null,-1)),h("div",{class:"dialog-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",style:{"z-index":"10000 !important",position:"relative !important"},role:"dialog","aria-modal":"true","aria-labelledby":`dialog-title-${o}`},[h("div",AT,[h("h3",{id:`dialog-title-${o}`,class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},g(t.title),9,CT)]),h("div",ST,[h("div",NT,[(U(!0),q(Ge,null,Nn(t.fields,(f,p)=>(U(),q("div",{key:p,class:"space-y-2"},[h("label",{for:`field-${p}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[xe(g(f.label)+" ",1),f.required?(U(),q("span",TT,"*")):Re("",!0)],8,ET),f.type==="text"||!f.type?ht((U(),q("input",{key:0,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:[Ps(l,["enter"]),Ps(c,["esc"])]},null,40,IT)),[[dc,i.value[p]]]):f.type==="select"?ht((U(),q("select",{key:1,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:Ps(c,["esc"])},[h("option",RT,g(m(r)("family.dialogs.selectOption")),1),(U(!0),q(Ge,null,Nn(f.options,y=>(U(),q("option",{key:y.value,value:y.value},g(y.text),9,PT))),128))],40,LT)),[[_s,i.value[p]]]):f.type==="radio"?(U(),q("div",{key:2,class:"flex flex-wrap gap-2",role:"radiogroup","aria-labelledby":`field-${p}-label`},[(U(!0),q(Ge,null,Nn(f.options,y=>(U(),q("label",{key:y.value,class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":i.value[p]===y.value,"border-gray-300 dark:border-gray-600 hover:border-green-300":i.value[p]!==y.value}])},[ht(h("input",{type:"radio",name:`field-${p}`,value:y.value,"onUpdate:modelValue":_=>i.value[p]=_,required:f.required,class:"text-green-600 focus:ring-green-500"},null,8,MT),[[Qi,i.value[p]]]),h("span",OT,g(y.emoji),1),h("span",GT,g(y.text),1)],2))),128))],8,DT)):f.type==="emoji"?ht((U(),q("input",{key:3,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",placeholder:f.placeholder||"Type an emoji ",required:f.required,maxlength:"10",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-2xl text-center",onKeyup:[Ps(l,["enter"]),Ps(c,["esc"])]},null,40,VT)),[[dc,i.value[p]]]):Re("",!0)]))),128))])]),h("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3"},[h("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors"}," Cancel "),h("button",{type:"button",onClick:l,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"}," OK ")])],8,kT)])):Re("",!0)]))}},$T=Es(FT,[["__scopeId","data-v-8db90550"]]),se={YOU:1,PARENT:2,SIBLING:3,UNCLE_AUNT:4,COUSIN:5,GRANDPARENT:6,NIECE_NEPHEW:7,CHILD:8,PARTNER:9},st={MALE:"male",FEMALE:"female",OTHER:"other"},Oi={[st.MALE]:"",[st.FEMALE]:"",[st.OTHER]:""},BT={[se.YOU]:"#6366f1",[se.PARENT]:"#ec4899",[se.SIBLING]:"#3b82f6",[se.UNCLE_AUNT]:"#f97316",[se.COUSIN]:"#a855f7",[se.GRANDPARENT]:"#b45309",[se.NIECE_NEPHEW]:"#06b6d4",[se.CHILD]:"#14b8a6",[se.PARTNER]:"#f43f5e"};function rs(t,e=null){const n=e===st.FEMALE,s=e===st.MALE||e===st.OTHER;switch(t){case se.YOU:return"You";case se.PARENT:return n?"Mother":s?"Father":"Parent";case se.SIBLING:return n?"Sister":s?"Brother":"Sibling";case se.UNCLE_AUNT:return n?"Aunt":s?"Uncle":"Uncle/Aunt";case se.COUSIN:return"Cousin";case se.GRANDPARENT:return n?"Grandmother":s?"Grandfather":"Grandparent";case se.NIECE_NEPHEW:return n?"Niece":s?"Nephew":"Niece/Nephew";case se.CHILD:return n?"Daughter":s?"Son":"Child";case se.PARTNER:return n?"Wife":s?"Husband":"Partner/Spouse";default:return"Relative"}}const zT={nodes:[{id:"YOU",group:se.YOU,relationship:"You"}],links:[]},Gi="familyTree";function Pd(t){return typeof t=="string"?t:t?.id||String(t)}class HT{constructor(e,n=s=>s){this.getGraphInstance=e,this.t=n}canAddParents(){const e=this.getGraphInstance();if(!e?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const n=e.data.nodes.filter(s=>s.group===se.PARENT);return n.length>=2?{canAdd:!1,existingCount:n.length,message:this.t("family.operations.validation.maxParents")}:{canAdd:!0,existingCount:n.length,remainingSlots:2-n.length}}canAddGrandparents(e){const n=this.getGraphInstance();if(!n?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const r=n.data.links.filter(o=>Pd(o.target)===e).map(o=>{const i=Pd(o.source);return n.data.nodes.find(a=>a.id===i)}).filter(o=>o&&o.group===se.GRANDPARENT);return r.length>=2?{canAdd:!1,existingCount:r.length,message:`${e} already has 2 grandparents. Cannot add more.`}:{canAdd:!0,existingCount:r.length,remainingSlots:2-r.length}}hasPartner(e){const n=this.getGraphInstance();return n?.data?n.data.nodes.filter(r=>r.group===se.PARTNER&&r.partnerOf===e).length>0:!1}getEligibleParents(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(n=>{const s=n.group;return s!==se.GRANDPARENT&&s!==se.UNCLE_AUNT&&s!==se.PARENT}):[]}getEligibleForPartner(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(n=>{const s=n.group;return(s===se.YOU||s===se.SIBLING||s===se.COUSIN||s===se.UNCLE_AUNT||s===se.NIECE_NEPHEW||s===se.CHILD)&&!this.hasPartner(n.id)}):[]}}function $e(t){return typeof t=="string"?t:t?.id||String(t)}class jT{constructor(e,n,s,r){this.graphManager=e,this.getGraphInstance=n,this.validation=s,this.saveFamily=r}addNodeWithRelationship(e,n,s,r=null,o=null,i=null){const a=i||rs(s,r),l=this.getGraphInstance(),c=this.graphManager.addNode(e,n,s,!0);if(c&&typeof c.then=="function")return c.then(u=>(this._setNodeProperties(u,a,r,o,l),u));const d=c;return this._setNodeProperties(d,a,r,o,l),d}_setNodeProperties(e,n,s,r,o){this._setNodeProperty(e,"relationship",n,o),s&&this._setNodeProperty(e,"gender",s,o),r&&this._setNodeProperty(e,"avatar",r,o),requestAnimationFrame(()=>{if(o?.data){const i=o.data.nodes.find(a=>a.id===e.id);i&&(i.relationship||(i.relationship=n),s&&!i.gender&&(i.gender=s),r&&!i.avatar&&(i.avatar=r),r&&o.options?.renderMode==="avatars"&&this._updateNodeAvatarElement(e.id,r,o))}})}_updateNodeAvatarElement(e,n,s){s?.nodeGroup&&s.nodeGroup.selectAll("text").filter(r=>r.id===e).text(n)}_setNodeProperty(e,n,s,r){if(e&&(e[n]=s,r?.data)){let o=r.data.nodes.find(i=>i.id===e.id);o?(o[n]=s,o!==e&&(e[n]=s)):requestAnimationFrame(()=>{if(r?.data){const i=r.data.nodes.find(a=>a.id===e.id);i&&(i[n]=s)}})}}_setRelationshipOnNode(e,n,s){this._setNodeProperty(e,"relationship",n,s),requestAnimationFrame(()=>{if(s?.data){const r=s.data.nodes.find(o=>o.id===e.id);r&&!r.relationship&&(r.relationship=n)}})}addParents(e,n,s=null,r=null){const o=this.validation.canAddParents();if(!o.canAdd)return{success:!1,message:o.message};if(!e?.trim()&&!n?.trim())return{success:!1,message:"At least one parent name is required"};const i=o.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let l=null;e?.trim()&&i>=1&&(l=this.addNodeWithRelationship(["YOU"],e.trim(),se.PARENT,st.FEMALE,s?.trim()||null)?.id||e.trim());let c=null;const d=l?i>=2:i>=1;if(n?.trim()&&d)c=this.addNodeWithRelationship(["YOU"],n.trim(),se.PARENT,st.MALE,r?.trim()||null)?.id||n.trim();else if(n?.trim()&&!d)return{success:!0,message:"Only one parent slot available. Added only the mother."};return l&&c&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(l,c)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addSibling(e,n,s=null){if(!e?.trim())return{success:!1,message:"Sibling name is required"};if(!n)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.links.filter(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"||p==="YOU"}).map(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"?p:f}).map(u=>{const f=r.data.nodes.find(p=>p.id===u);return f&&f.group===se.PARENT?u:null}).filter(u=>u!==null),a=r.data.nodes.filter(u=>u.group===se.SIBLING||u.id==="YOU").map(u=>u.id),l=[];i.length>0?l.push(...i):l.push("YOU"),a.forEach(u=>{l.includes(u)||l.push(u)});const c=this.addNodeWithRelationship(l,e.trim(),se.SIBLING,n,s?.trim()||null);if(!c)return{success:!1,message:"Failed to add sibling"};const d=c.id||e.trim();return this.graphManager.addLink&&a.forEach(u=>{u!==d&&requestAnimationFrame(()=>{this.graphManager.addLink(d,u,!0)})}),this.saveFamily(),{success:!0}}addGrandparents(e,n,s,r=null,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};const i=this.validation.canAddGrandparents(e);if(!i.canAdd)return{success:!1,message:i.message};if(!n?.trim()&&!s?.trim())return{success:!1,message:"At least one grandparent name is required"};const a=i.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let c=null;n?.trim()&&a>=1&&(c=this.addNodeWithRelationship([e],n.trim(),se.GRANDPARENT,st.FEMALE,r?.trim()||null)?.id||n.trim());let d=null;const u=c?a>=2:a>=1;if(s?.trim()&&u)d=this.addNodeWithRelationship([e],s.trim(),se.GRANDPARENT,st.MALE,o?.trim()||null)?.id||s.trim();else if(s?.trim()&&!u)return{success:!0,message:"Only one grandparent slot available for this parent. Added only the grandmother."};return c&&d&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(c,d)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addUncleAunt(e,n,s,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!n?.trim())return{success:!1,message:"Uncle/aunt name is required"};if(!s)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.links,a=i.filter(p=>($e(p.source),$e(p.target)===e)).map(p=>{const y=$e(p.source);return o.data.nodes.find(_=>_.id===y)}).filter(p=>p&&p.group===se.GRANDPARENT).map(p=>p.id),l=[];if(a.length>0){const p=i.filter(y=>{const _=$e(y.source);return a.includes(_)}).map(y=>{const _=$e(y.target);return o.data.nodes.find(x=>x.id===_)}).filter(y=>y&&(y.group===se.PARENT||y.group===se.UNCLE_AUNT)).map(y=>y.id);l.push(...p)}else l.push(e);const c=[...new Set(l)],d=[...a,...c],u=this.addNodeWithRelationship(d,n.trim(),se.UNCLE_AUNT,s,r?.trim()||null);if(!u)return{success:!1,message:"Failed to add uncle/aunt"};const f=u.id||n.trim();return this.graphManager.addLink&&c.forEach(p=>{p!==f&&requestAnimationFrame(()=>{this.graphManager.addLink(f,p,!0)})}),this.saveFamily(),{success:!0}}addCousin(e,n,s,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Uncle/aunt not found"};if(!s)return{success:!1,message:"Gender is required"};if(!n?.trim())return{success:!1,message:"Cousin name is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(f=>f.group===se.PARTNER&&f.partnerOf===e),a=o.data.links,l=o.data.nodes.filter(f=>{if(f.group!==se.COUSIN)return!1;const p=a.some(y=>{const _=$e(y.source),x=$e(y.target);return _===f.id&&x===e||x===f.id&&_===e});if(i){const y=a.some(_=>{const x=$e(_.source),v=$e(_.target);return x===f.id&&v===i.id||v===f.id&&x===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,n.trim(),se.COUSIN,s,r?.trim()||null);if(!d)return{success:!1,message:"Failed to add cousin"};const u=d.id||n.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addChild(e,n,s,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!n?.trim())return{success:!1,message:"Child name is required"};if(!s)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(y=>y.id===e);if(!i)return{success:!1,message:"Parent not found"};let a=se.CHILD;i.group===se.YOU||i.group===se.PARTNER?a=se.CHILD:i.group===se.SIBLING?a=se.NIECE_NEPHEW:a=se.CHILD;const l=o.data.nodes.find(y=>y.group===se.PARTNER&&y.partnerOf===e),c=o.data.links,d=o.data.nodes.filter(y=>{if(y.group!==a)return!1;const _=c.some(x=>{const v=$e(x.source),w=$e(x.target);return v===y.id&&w===e||w===y.id&&v===e});if(l){const x=c.some(v=>{const w=$e(v.source),N=$e(v.target);return w===y.id&&N===l.id||N===y.id&&w===l.id});return _||x}return _}).map(y=>y.id),u=[e];l&&u.push(l.id),d.forEach(y=>{u.includes(y)||u.push(y)});const f=this.addNodeWithRelationship(u,n.trim(),a,s,r?.trim()||null);if(!f)return{success:!1,message:"Failed to add child"};const p=f.id||n.trim();return this.graphManager.addLink&&d.forEach(y=>{y!==p&&requestAnimationFrame(()=>{this.graphManager.addLink(p,y,!0)})}),this.saveFamily(),{success:!0}}addNieceNephew(e,n,s,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Sibling not found"};if(!n?.trim())return{success:!1,message:"Niece/nephew name is required"};if(!s)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.nodes.find(f=>f.group===se.PARTNER&&f.partnerOf===e),a=o.data.links,l=o.data.nodes.filter(f=>{if(f.group!==se.NIECE_NEPHEW)return!1;const p=a.some(y=>{const _=$e(y.source),x=$e(y.target);return _===f.id&&x===e||x===f.id&&_===e});if(i){const y=a.some(_=>{const x=$e(_.source),v=$e(_.target);return x===f.id&&v===i.id||v===f.id&&x===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,n.trim(),se.NIECE_NEPHEW,s,r?.trim()||null);if(!d)return{success:!1,message:"Failed to add niece/nephew"};const u=d.id||n.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addPartner(e,n,s,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Person not found"};if(!n?.trim())return{success:!1,message:"Partner name is required"};if(!s)return{success:!1,message:"Gender is required"};if(this.validation.hasPartner(e))return{success:!1,message:`${e} already has a partner!`};const o=this.getGraphInstance();let i=null;if(o?.data){const c=o.data.nodes.find(d=>d.id===e);if(c){const d=c.relationship||rs(c.group);d==="You"?i="Your Partner/Spouse":i=`${d}'s Partner`}}const a=this.addNodeWithRelationship([e],n.trim(),se.PARTNER,s,r?.trim()||null,i),l=c=>{this._setNodeProperty(c,"partnerOf",e,o),requestAnimationFrame(()=>{if(o?.data){const d=o.data.nodes.find(u=>u.id===c.id);d&&(d.partnerOf=e)}this.saveFamily()})};return a&&typeof a.then=="function"?a.then(c=>{l(c)}):l(a),{success:!0}}}function rn(t){return typeof t=="string"?t:t?.id||String(t)}class UT{constructor(e,n,s,r=o=>o){this.getGraphInstance=e,this.onStatusChange=n,this.log=s,this.t=r,this.autoSaveInterval=null,this.autoSaveIntervalMs=3e4}getInitialDataset(){return{...zT}}loadFamily(){try{const e=localStorage.getItem(Gi);if(e){const n=JSON.parse(e);return n.links&&Array.isArray(n.links)&&(n.links=n.links.map(s=>({...s,source:rn(s.source),target:rn(s.target)}))),n.nodes&&Array.isArray(n.nodes)&&(n.nodes=n.nodes.filter(s=>s&&s.id),n.nodes.forEach(s=>{if(!s.relationship&&s.group!==void 0)if(s.group===se.PARTNER){const o=(n.links||[]).filter(i=>{const a=rn(i.source),l=rn(i.target);return a===s.id||l===s.id});if(o.length>0){const i=o[0],a=rn(i.source)===s.id?rn(i.target):rn(i.source),l=n.nodes.find(c=>c.id===a);if(l){const c=l.relationship||rs(l.group);c==="You"?s.relationship="Your Partner/Spouse":s.relationship=`${c}'s Partner`}else s.relationship=rs(s.group)}else s.relationship=rs(s.group)}else s.relationship=rs(s.group)})),this.log.debug("Loaded family tree from storage",{nodeCount:n.nodes?.length||0,linkCount:n.links?.length||0}),n}}catch(e){this.log.error("Failed to load family tree",{error:e.message})}return null}saveFamily(){const e=this.getGraphInstance();if(!e?.data){this.log.warn("Cannot save - graph not initialized");return}try{const n=e.data.links.map(o=>({source:rn(o.source),target:rn(o.target)})),r={nodes:e.data.nodes.map(o=>{const{id:i,group:a,relationship:l,...c}=o,d={id:i,group:a};return l!==void 0&&(d.relationship=l),c.gender!==void 0&&(d.gender=c.gender),c.avatar!==void 0&&(d.avatar=c.avatar),c.partnerOf!==void 0&&(d.partnerOf=c.partnerOf),c.centrality!==void 0&&(d.centrality=c.centrality),c.community!==void 0&&(d.community=c.community),c.degree!==void 0&&(d.degree=c.degree),c.eigenvector!==void 0&&(d.eigenvector=c.eigenvector),c.betweenness!==void 0&&(d.betweenness=c.betweenness),d}),links:n};localStorage.setItem(Gi,JSON.stringify(r)),this.log.debug("Family tree saved",{nodeCount:r.nodes.length,linkCount:r.links.length}),this.showStatus(this.t("family.storage.saved"),"success")}catch(n){this.log.error("Failed to save family tree",{error:n.message}),this.showStatus(this.t("family.storage.error"),"error")}}resetFamily(e,n){const s=!!this.autoSaveInterval;s&&this.stopAutoSave(),localStorage.removeItem(Gi);const r=this.getInitialDataset(),o=n.value||n;if(o){const i=()=>{o.off("ready",i),s&&this.startAutoSave(),this.saveFamily()};o.on("ready",i)}e(r.nodes,r.links),this.log.info("Family tree reset"),this.showStatus(this.t("family.storage.reset"),"success")}startAutoSave(){this.autoSaveInterval||(this.autoSaveInterval=setInterval(()=>{document.visibilityState==="visible"&&this.saveFamily()},this.autoSaveIntervalMs),this.log.debug("Auto-save started",{intervalMs:this.autoSaveIntervalMs}))}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null,this.log.debug("Auto-save stopped"))}showStatus(e,n="info"){this.onStatusChange&&this.onStatusChange(e,n)}}function es(t){return[{value:st.MALE,emoji:Oi[st.MALE],text:t("family.dialogs.genderOptions.male")},{value:st.FEMALE,emoji:Oi[st.FEMALE],text:t("family.dialogs.genderOptions.female")},{value:st.OTHER,emoji:Oi[st.OTHER],text:t("family.dialogs.genderOptions.other")}]}const Ce={ADD_PARENTS:"addParents",ADD_SIBLING:"addSibling",ADD_GRANDPARENTS:"addGrandparents",ADD_UNCLE_AUNT:"addUncleAunt",ADD_COUSIN:"addCousin",ADD_CHILD:"addChild",ADD_NIECE_NEPHEW:"addNieceNephew",ADD_PARTNER:"addPartner"};class zf{constructor(e,n,s=r=>r){this.getGraphInstance=e,this.validation=n,this.t=s}getAddParentsDialog(){const e=this.validation.canAddParents();return e&&!e.canAdd?null:{title:this.t("family.dialogs.addParents"),fields:[{label:this.t("family.dialogs.fields.motherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.motherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.mother")},{label:this.t("family.dialogs.fields.fatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.fatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.father")}],action:Ce.ADD_PARENTS}}getAddSiblingDialog(){return{title:this.t("family.dialogs.addSibling"),fields:[{label:this.t("family.dialogs.fields.siblingName"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_SIBLING}}getAddGrandparentsDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const n=e.data.nodes.filter(r=>r.group===se.PARENT);if(n.length===0)return null;const s=n.map(r=>({value:r.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addGrandparents"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.grandmotherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandmotherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandmother")},{label:this.t("family.dialogs.fields.grandfatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandfatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandfather")}],action:Ce.ADD_GRANDPARENTS}}getAddUncleAuntDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const n=e.data.nodes.filter(r=>r.group===se.PARENT);if(n.length===0)return null;const s=n.map(r=>({value:r.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addUncleAunt"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_UNCLE_AUNT}}getAddCousinDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const n=e.data.nodes.filter(r=>r.group===se.UNCLE_AUNT);if(n.length===0)return null;const s=n.map(r=>({value:r.id,text:this.t("family.dropdownOptions.uncleAuntChildTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addCousin"),fields:[{label:this.t("family.dialogs.fields.uncleAuntField"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_COUSIN}}getAddChildDialog(){const e=this.validation.getEligibleParents();if(e.length===0)return null;const n=e.map(s=>{let r="";switch(s.group){case se.YOU:r=this.t("family.dropdownOptions.yourChild");break;case se.SIBLING:r=this.t("family.dropdownOptions.nieceNephewTemplate").replace("{name}",s.id);break;case se.COUSIN:r=this.t("family.dropdownOptions.cousinChildTemplate").replace("{name}",s.id);break;case se.CHILD:r=this.t("family.dropdownOptions.grandchildTemplate").replace("{name}",s.id);break;case se.NIECE_NEPHEW:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",s.id);break;case se.PARTNER:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",s.id);break;default:r=this.t("family.dropdownOptions.childTemplate").replace("{name}",s.id)}return{value:s.id,text:r}});return{title:this.t("family.dialogs.addChild"),fields:[{label:this.t("family.dialogs.fields.parent"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_CHILD}}getAddNieceNephewDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const n=e.data.nodes.filter(r=>r.group===se.SIBLING);if(n.length===0)return null;const s=n.map(r=>({value:r.id,text:this.t("family.dropdownOptions.siblingChildTemplate").replace("{name}",r.id)}));return{title:this.t("family.dialogs.addNieceNephew"),fields:[{label:this.t("family.dialogs.fields.sibling"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_NIECE_NEPHEW}}getAddPartnerDialog(){const e=this.validation.getEligibleForPartner();if(e.length===0)return null;const n=e.map(s=>{let r="";switch(s.group){case se.YOU:r=this.t("family.operations.relationships.yourPartner");break;case se.SIBLING:r=this.t("family.dropdownOptions.siblingPartnerTemplate").replace("{name}",s.id);break;case se.COUSIN:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",s.id);break;case se.UNCLE_AUNT:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",s.id);break;case se.NIECE_NEPHEW:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",s.id);break;case se.CHILD:r=this.t("family.dropdownOptions.childPartnerTemplate").replace("{name}",s.id);break;default:r=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",s.id)}return{value:s.id,text:r}});return{title:this.t("family.dialogs.addPartner"),fields:[{label:this.t("family.dialogs.fields.partnerOf"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:es(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_PARTNER}}getValidationMessage(e){const n=this.getGraphInstance();switch(e){case Ce.ADD_PARENTS:return this.validation.canAddParents()?.message||"Cannot add more parents (maximum 2)";case Ce.ADD_GRANDPARENTS:return n?.data?.nodes.filter(r=>r.group===se.PARENT)?.length===0?"You must add parents first before adding grandparents":"No parents available";case Ce.ADD_UNCLE_AUNT:return n?.data?.nodes.filter(r=>r.group===se.PARENT)?.length===0?"You must add parents first before adding uncles/aunts":"No parents available";case Ce.ADD_COUSIN:return n?.data?.nodes.filter(r=>r.group===se.UNCLE_AUNT)?.length===0?"You must add uncles/aunts first before adding cousins":"No uncles/aunts available";case Ce.ADD_CHILD:return"No eligible parents available to have children";case Ce.ADD_NIECE_NEPHEW:return n?.data?.nodes.filter(r=>r.group===se.SIBLING)?.length===0?"You must add siblings first before adding nieces/nephews":"No siblings available";case Ce.ADD_PARTNER:return"No eligible people available for partners (they may already have partners)";default:return"Operation cannot be performed"}}executeAction(e,n,s){switch(e){case Ce.ADD_PARENTS:return s.addParents(n[0],n[2],n[1],n[3]);case Ce.ADD_SIBLING:return s.addSibling(n[0],n[1],n[2]);case Ce.ADD_GRANDPARENTS:return s.addGrandparents(n[0],n[1],n[3],n[2],n[4]);case Ce.ADD_UNCLE_AUNT:return s.addUncleAunt(n[0],n[1],n[2],n[3]);case Ce.ADD_COUSIN:return s.addCousin(n[0],n[1],n[2],n[3]);case Ce.ADD_CHILD:return s.addChild(n[0],n[1],n[2],n[3]);case Ce.ADD_NIECE_NEPHEW:return s.addNieceNephew(n[0],n[1],n[2],n[3]);case Ce.ADD_PARTNER:return s.addPartner(n[0],n[1],n[2],n[3]);default:return{success:!1,message:`Unknown action: ${e}`}}}}class WT{constructor(e,n,s=""){this.nodes=JSON.parse(JSON.stringify(e)),this.links=n.map(r=>({source:typeof r.source=="string"?r.source:r.source.id,target:typeof r.target=="string"?r.target:r.target.id})),this.description=s,this.timestamp=Date.now()}getNodes(){return JSON.parse(JSON.stringify(this.nodes))}getLinks(){return JSON.parse(JSON.stringify(this.links))}getDescription(){return this.description}getTimestamp(){return this.timestamp}getSummary(){return{nodeCount:this.nodes.length,linkCount:this.links.length,description:this.description,timestamp:new Date(this.timestamp).toLocaleString()}}}class XT{constructor(e={}){this.undoStack=[],this.redoStack=[],this.maxHistorySize=e.maxHistorySize||10}saveState(e){this.undoStack.push(e),this.undoStack.length>this.maxHistorySize&&this.undoStack.shift(),this.redoStack=[]}undo(){if(this.undoStack.length===0)return null;const e=this.undoStack.pop();return this.redoStack.push(e),e}redo(){if(this.redoStack.length===0)return null;const e=this.redoStack.pop();return this.undoStack.push(e),e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getUndoCount(){return this.undoStack.length}getRedoCount(){return this.redoStack.length}getUndoDescription(){return this.undoStack.length===0?null:this.undoStack[this.undoStack.length-1].getDescription()}getRedoDescription(){return this.redoStack.length===0?null:this.redoStack[this.redoStack.length-1].getDescription()}clear(){this.undoStack=[],this.redoStack=[]}getHistorySummary(){return{undoCount:this.undoStack.length,redoCount:this.redoStack.length,canUndo:this.canUndo(),canRedo:this.canRedo(),nextUndo:this.getUndoDescription(),nextRedo:this.getRedoDescription()}}}class qT{constructor({graphManager:e,onStatusChange:n=null,lang:s="en"}){this.graphManager=e,this.onStatusChange=n,this.lang=s,this.log=Xe({prefix:"FamilyController",level:"info"});const r=()=>this.getGraphInstance(),o=i=>hh(this.lang,i);this.validation=new HT(r,o),this.storage=new UT(r,n,this.log,o),this.operations=new jT(e,r,this.validation,()=>this.storage.saveFamily()),this.dialogService=new zf(r,this.validation,o),this.mementoHistory=new XT({maxHistorySize:10}),this.storage.startAutoSave()}getInitialDataset(){return this.storage.getInitialDataset()}loadFamily(){return this.storage.loadFamily()}getGraphInstance(){return this.graphManager?.graphInstance?this.graphManager.graphInstance.value||this.graphManager.graphInstance:null}saveFamily(){this.storage.saveFamily()}resetFamily(){this.storage.resetFamily(this.graphManager.loadData,this.graphManager.graphInstance)}lockGraph(){if(!this.graphManager?.lockPositions){this.log.warn("lockPositions not available");return}this.graphManager.lockPositions(),this.showStatus("Graph locked","success")}unlockGraph(){if(!this.graphManager?.unlockPositions){this.log.warn("unlockPositions not available");return}this.graphManager.unlockPositions(),this.showStatus("Graph unlocked","success")}saveAsPNG(e="family-tree.png"){if(!this.graphManager?.saveAsPNG){this.log.warn("saveAsPNG not available");return}this.graphManager.saveAsPNG(e),this.showStatus("Image saved!","success")}canAddParents(){return this.validation.canAddParents()}getEligibleParents(){return this.validation.getEligibleParents()}getEligibleForPartner(){return this.validation.getEligibleForPartner()}addParents(e,n=null){return this.operations.addParents(e,n)}addSibling(e){return this.operations.addSibling(e)}addGrandparents(e,n,s=null){return this.operations.addGrandparents(e,n,s)}addUncleAunt(e,n){return this.operations.addUncleAunt(e,n)}addCousin(e,n){return this.operations.addCousin(e,n)}addChild(e,n){return this.operations.addChild(e,n)}addNieceNephew(e,n){return this.operations.addNieceNephew(e,n)}addPartner(e,n){return this.operations.addPartner(e,n)}getDialogService(){return this.dialogService}getOperations(){return this.operations}async applyLayout(e){if(e==="none"){const n=" Using D3 physics simulation (no layout algorithm)";return this.log.debug("Using default D3 physics simulation"),this.showStatus(n,"info"),this.graphManager?.unlockPositions&&this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this.showStatus(`Applying ${e} layout...`,"info"),!this.graphManager?.applyLayout)return{success:!1,error:"Layout functionality not available"};if(await this.graphManager.applyLayout(e)){const s=` Applied ${e} layout algorithm`;return this.log.info("Layout applied successfully",{layoutId:e}),this.showStatus(s,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(n){const s=` Layout failed: ${n.message}`;return this.log.error("Layout application failed",{layoutId:e,error:n.message,stack:n.stack}),this.showStatus(s,"error"),{success:!1,error:n.message}}}getAvailableLayouts(){return this.graphManager?.getAvailableLayouts?this.graphManager.getAvailableLayouts():[]}showStatus(e,n="info"){this.onStatusChange&&this.onStatusChange(e,n)}saveStateBeforeOperation(e){const n=this.getGraphInstance();if(!n||!n.data){this.log.warn("Cannot save state: graph not available");return}const s=new WT(n.data.nodes,n.data.links,e);this.mementoHistory.saveState(s),this.log.debug("State saved",{description:e,summary:s.getSummary()})}undo(){if(!this.mementoHistory.canUndo())return{success:!1,message:"Nothing to undo"};const e=this.mementoHistory.undo();if(!e)return{success:!1,message:"Failed to undo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const s=e.getNodes(),r=e.getLinks();this.graphManager.loadData(s,r);const o=`Undid: ${e.getDescription()}`;return this.log.info("Undo successful",{description:e.getDescription()}),this.showStatus(o,"info"),{success:!0,message:o}}redo(){if(!this.mementoHistory.canRedo())return{success:!1,message:"Nothing to redo"};const e=this.mementoHistory.redo();if(!e)return{success:!1,message:"Failed to redo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const s=e.getNodes(),r=e.getLinks();this.graphManager.loadData(s,r);const o=`Redid: ${e.getDescription()}`;return this.log.info("Redo successful",{description:e.getDescription()}),this.showStatus(o,"info"),{success:!0,message:o}}canUndo(){return this.mementoHistory.canUndo()}canRedo(){return this.mementoHistory.canRedo()}getHistorySummary(){return this.mementoHistory.getHistorySummary()}dispose(){this.storage.stopAutoSave(),this.log.info("FamilyController disposed")}}const ZT={class:"demo-controls-header"},YT={class:"demo-controls-title"},JT={class:"demo-controls-description"},KT={class:"info-box-green mb-4"},QT={class:"text-lg font-semibold text-green-900 dark:text-green-300 mb-2"},eI={class:"text-sm text-green-800 dark:text-green-200"},tI={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},nI={class:"demo-controls-section-title mb-3"},sI={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},rI={key:0,class:"text-secondary text-center py-2"},oI={class:"text-xs"},iI={class:"text-xs mt-1 opacity-60"},aI={key:1,class:"space-y-2"},lI={class:"flex-shrink-0 mt-0.5"},cI={key:0},dI={key:1},uI={key:2},hI={class:"flex-1 break-words"},fI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},pI={class:"demo-controls-section-title"},mI={class:"grid grid-cols-2 gap-2"},gI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},yI={class:"demo-controls-section-title"},_I={class:"grid grid-cols-2 gap-2"},bI=["disabled"],vI=["disabled"],xI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},wI={class:"demo-controls-section-title"},kI={class:"flex flex-wrap gap-2 mb-3"},AI={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},CI={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},SI={class:"info-box-blue"},NI={class:"text-xs text-blue-800 dark:text-blue-200"},EI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},TI={class:"demo-controls-section-title"},II={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},LI={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},RI={class:"space-y-2 text-sm"},PI={class:"flex items-center gap-2"},DI={class:"text-gray-700 dark:text-gray-300"},MI={class:"flex items-center gap-2"},OI={class:"text-gray-700 dark:text-gray-300"},GI={class:"flex items-center gap-2"},VI={class:"text-gray-700 dark:text-gray-300"},FI={class:"flex items-center gap-2"},$I={class:"text-gray-700 dark:text-gray-300"},BI={class:"flex items-center gap-2"},zI={class:"text-gray-700 dark:text-gray-300"},HI={class:"flex items-center gap-2"},jI={class:"text-gray-700 dark:text-gray-300"},UI={class:"flex items-center gap-2"},WI={class:"text-gray-700 dark:text-gray-300"},XI={class:"flex items-center gap-2"},qI={class:"text-gray-700 dark:text-gray-300"},ZI={class:"flex items-center gap-2"},YI={class:"text-gray-700 dark:text-gray-300"},JI={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},KI={class:"demo-controls-section-title"},QI={class:"info-box-yellow mt-3"},eL={class:"text-xs text-yellow-800 dark:text-yellow-200"},tL={key:0,class:"italic"},nL={class:"info-box-blue"},sL={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2"},rL={class:"text-sm text-blue-800 dark:text-blue-200 space-y-1"},oL=["innerHTML"],iL=["innerHTML"],aL=["innerHTML"],lL=["innerHTML"],cL=["innerHTML"],dL=["innerHTML"],uL=["innerHTML"],hL={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},fL={class:"text-center"},pL={class:"text-secondary"},mL={__name:"FamilyPage",setup(t){const e=Xe({prefix:"FamilyPage",level:"info"}),{t:n,lang:s}=Jt(),r=xl({colorBy:"group",colorScheme:"categorical",showLabels:!0,autoComputeCentrality:!1,customColorFunction:K=>{const Q=K.group||0;return BT[Q]||null}}),{graphContainer:o,graphInstance:i,loading:a,loadData:l,addNode:c,addLink:d,hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:x,getAvailableLayouts:v,analyzeGraph:w,analysisProgress:N}=r,A=ae(""),L=ae("info"),z=ae("Loading graph..."),H=ae(!1),ee=ae(""),W=ae([]),Z=ae(null),j=ae("none"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),I=ae(["eigenvector"]),V=ae("eigenvector"),X=ae(!1),oe=ae("colors"),ue=ae(!1);let Y=null;const le=(K,Q)=>{A.value=K,L.value=Q},Ie=()=>{Y&&(S.value=Y.canUndo(),M.value=Y.canRedo())},Ae=K=>{(K.ctrlKey||K.metaKey)&&K.key==="z"&&!K.shiftKey?(K.preventDefault(),me()):((K.ctrlKey||K.metaKey)&&K.key==="y"||(K.ctrlKey||K.metaKey)&&K.shiftKey&&K.key==="z")&&(K.preventDefault(),ie())},ce=()=>{const K={graphInstance:i,loadData:l,addNode:(de,Oe,Ze)=>c(de,Oe,Ze,!0),addLink:(de,Oe)=>d(de,Oe,!0),hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:x,getAvailableLayouts:v};Y=new qT({graphManager:K,onStatusChange:le,lang:s.value}),R.value=Y.getAvailableLayouts();const Q=Y.loadFamily();if(Q)l(Q.nodes,Q.links);else{const de=Y.getInitialDataset();l(de.nodes,de.links)}},ge=async(K,Q)=>{if(!Y){le("Graph is still loading. Please wait...","error");return}const de=Y.getDialogService(),Oe=Q();if(!Oe){const Ze=de.getValidationMessage(K);le(Ze,"error");return}ee.value=Oe.title,W.value=Oe.fields,Z.value=Oe.action,await Cs(),H.value=!0},T=()=>ge(Ce.ADD_PARENTS,()=>Y?.getDialogService().getAddParentsDialog()),te=()=>ge(Ce.ADD_SIBLING,()=>Y?.getDialogService().getAddSiblingDialog()),ne=()=>ge(Ce.ADD_GRANDPARENTS,()=>Y?.getDialogService().getAddGrandparentsDialog()),fe=()=>ge(Ce.ADD_UNCLE_AUNT,()=>Y?.getDialogService().getAddUncleAuntDialog()),he=()=>ge(Ce.ADD_COUSIN,()=>Y?.getDialogService().getAddCousinDialog()),k=()=>ge(Ce.ADD_CHILD,()=>Y?.getDialogService().getAddChildDialog()),C=()=>ge(Ce.ADD_NIECE_NEPHEW,()=>Y?.getDialogService().getAddNieceNephewDialog()),E=()=>ge(Ce.ADD_PARTNER,()=>Y?.getDialogService().getAddPartnerDialog()),$=K=>{if(!Y||!Z.value)return;H.value=!1,Y.saveStateBeforeOperation(ee.value);const de=Y.getDialogService().executeAction(Z.value,K,Y.getOperations());de.success?(de.message&&le(de.message,"info"),Ie()):le(de.message||"Failed to add relative","error"),Z.value=null},B=()=>{H.value=!1,Z.value=null},F=()=>{Y&&Y.saveFamily()},re=()=>{Y&&Y.saveAsPNG("family-tree.png")},P=()=>{Y&&Y.lockGraph()},D=()=>{Y&&Y.unlockGraph()},O=()=>{Y&&confirm("Are you sure you want to reset your family tree?")&&(Y.resetFamily(),Ie())},me=()=>{if(!Y)return;const K=Y.undo();K.success?le(K.message,"info"):le(K.message||"Nothing to undo","error"),Ie()},ie=()=>{if(!Y)return;const K=Y.redo();K.success?le(K.message,"info"):le(K.message||"Nothing to redo","error"),Ie()},pe=async()=>{if(!(!w||I.value.length===0))try{if(X.value=!0,le("Analyzing network...","info"),await w(I.value,{includeGraphStats:!1})){const Q=V.value||I.value[0];i.value?.updateVisualEncoding&&i.value.updateVisualEncoding({sizeBy:Q,preserveZoom:!0}),le(` Analysis complete - sizing by ${Q}`,"success")}}catch(K){e.error("Analysis error",{error:K.message,stack:K.stack}),le(`Analysis failed: ${K.message}`,"error")}finally{X.value=!1}},be=async()=>{if(!(!Y||!j.value))try{G.value=!0;const K=await Y.applyLayout(j.value);K.success||le(K.error||"Failed to apply layout","error")}catch(K){e.error("Layout error",{error:K.message,stack:K.stack}),le(`Layout failed: ${K.message}`,"error")}finally{G.value=!1}};return St(i,K=>{K&&!Y&&(ce(),Ie())},{immediate:!0}),St(s,K=>{if(Y){Y.lang=K;const Q=de=>hh(K,de);Y.dialogService=new zf(()=>Y.getGraphInstance(),Y.validation,Q),Y.validation.t=Q,Y.storage.t=Q}}),St(oe,K=>{if(i.value){ue.value=!0;const Q=()=>{ue.value=!1,i.value.off("ready",Q)};i.value.on("ready",Q),i.value.setRenderMode(K)}}),Dn(()=>{window.addEventListener("keydown",Ae)}),jo(()=>{window.removeEventListener("keydown",Ae),Y&&Y.dispose()}),(K,Q)=>(U(),q(Ge,null,[_e(sl,null,{controls:Be(()=>[h("div",ZT,[h("h1",YT,g(m(n)("family.header.title")),1),h("p",JT,g(m(n)("family.header.subtitle")),1)]),h("div",KT,[h("h2",QT,g(m(n)("family.whatIs.title")),1),h("p",eI,g(m(n)("family.whatIs.description")),1)]),h("div",tI,[h("h2",nI,g(m(n)("family.status.title")),1),h("div",sI,[A.value?(U(),q("div",aI,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":L.value==="success","text-red-600 dark:text-red-400":L.value==="error","text-blue-600 dark:text-blue-400":L.value==="info"})},[h("div",lI,[L.value==="success"?(U(),q("span",cI,"")):L.value==="error"?(U(),q("span",dI,"")):(U(),q("span",uI,""))]),h("div",hI,g(A.value),1)],2)])):(U(),q("div",rI,[h("div",oI,g(m(n)("family.status.ready")),1),h("div",iI,g(m(n)("family.status.clickToAdd")),1)]))])]),h("div",fI,[h("h2",pI,g(m(n)("family.addRelatives.title")),1),h("div",mI,[h("button",{onClick:T,class:"bg-pink-600 hover:bg-pink-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm",type:"button"},g(m(n)("family.addRelatives.parents")),1),h("button",{onClick:ne,class:"bg-amber-700 hover:bg-amber-800 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.grandparents")),1),h("button",{onClick:te,class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.sibling")),1),h("button",{onClick:C,class:"bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.nieceNephew")),1),h("button",{onClick:fe,class:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.uncleAunt")),1),h("button",{onClick:he,class:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.cousin")),1),h("button",{onClick:E,class:"bg-rose-600 hover:bg-rose-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.partner")),1),h("button",{onClick:k,class:"bg-teal-600 hover:bg-teal-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.addRelatives.child")),1)])]),h("div",gI,[h("h2",yI,g(m(n)("family.actions.title")),1),h("div",_I,[h("button",{onClick:F,class:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.saveFamily")),1),h("button",{onClick:re,class:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.saveImage")),1),h("button",{onClick:P,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.lockGraph")),1),h("button",{onClick:D,class:"bg-amber-600 hover:bg-amber-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.unlockGraph")),1),h("button",{onClick:me,disabled:!S.value,class:"bg-violet-600 hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.undo")),9,bI),h("button",{onClick:ie,disabled:!M.value,class:"bg-fuchsia-600 hover:bg-fuchsia-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.redo")),9,vI),h("button",{onClick:O,class:"col-span-2 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg font-semibold transition-colors shadow-sm text-sm"},g(m(n)("family.actions.resetTree")),1)])]),h("div",xI,[h("h2",wI,g(m(n)("family.renderNodes.title")),1),h("div",kI,[h("label",{class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="colors","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="colors"}])},[ht(h("input",{type:"radio",name:"renderMode",value:"colors","onUpdate:modelValue":Q[0]||(Q[0]=de=>oe.value=de),class:"text-green-600 focus:ring-green-500"},null,512),[[Qi,oe.value]]),Q[5]||(Q[5]=h("span",{class:"text-xl"},"",-1)),h("span",AI,g(m(n)("family.renderNodes.colors")),1)],2),h("label",{class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":oe.value==="avatars","border-gray-300 dark:border-gray-600 hover:border-green-300":oe.value!=="avatars"}])},[ht(h("input",{type:"radio",name:"renderMode",value:"avatars","onUpdate:modelValue":Q[1]||(Q[1]=de=>oe.value=de),class:"text-green-600 focus:ring-green-500"},null,512),[[Qi,oe.value]]),Q[6]||(Q[6]=h("span",{class:"text-xl"},"",-1)),h("span",CI,g(m(n)("family.renderNodes.avatars")),1)],2)]),h("div",SI,[h("p",NI,[h("strong",null,g(m(n)("family.renderNodes.colors"))+":",1),xe(" "+g(m(n)("family.renderNodes.colorsDesc")),1),Q[7]||(Q[7]=h("br",null,null,-1)),h("strong",null,g(m(n)("family.renderNodes.avatars"))+":",1),xe(" "+g(m(n)("family.renderNodes.avatarsDesc")),1)])])]),h("div",EI,[h("h2",TI,g(m(n)("family.networkAnalysis.title")),1),_e(ol,{"selected-metrics":I.value,"onUpdate:selectedMetrics":Q[2]||(Q[2]=de=>I.value=de),"size-metric":V.value,"onUpdate:sizeMetric":Q[3]||(Q[3]=de=>V.value=de),analyzing:X.value,progress:m(N),onAnalyze:pe},null,8,["selected-metrics","size-metric","analyzing","progress"])]),h("div",II,[h("h3",LI,g(m(n)("family.relationshipColors.title")),1),h("div",RI,[h("div",PI,[Q[8]||(Q[8]=h("div",{class:"w-4 h-4 rounded-full bg-indigo-500"},null,-1)),h("span",DI,g(m(n)("family.relationshipColors.you")),1)]),h("div",MI,[Q[9]||(Q[9]=h("div",{class:"w-4 h-4 rounded-full bg-pink-500"},null,-1)),h("span",OI,g(m(n)("family.relationshipColors.parents")),1)]),h("div",GI,[Q[10]||(Q[10]=h("div",{class:"w-4 h-4 rounded-full bg-blue-500"},null,-1)),h("span",VI,g(m(n)("family.relationshipColors.siblings")),1)]),h("div",FI,[Q[11]||(Q[11]=h("div",{class:"w-4 h-4 rounded-full bg-orange-500"},null,-1)),h("span",$I,g(m(n)("family.relationshipColors.unclesAunts")),1)]),h("div",BI,[Q[12]||(Q[12]=h("div",{class:"w-4 h-4 rounded-full bg-purple-500"},null,-1)),h("span",zI,g(m(n)("family.relationshipColors.cousins")),1)]),h("div",HI,[Q[13]||(Q[13]=h("div",{class:"w-4 h-4 rounded-full bg-amber-700"},null,-1)),h("span",jI,g(m(n)("family.relationshipColors.grandparents")),1)]),h("div",UI,[Q[14]||(Q[14]=h("div",{class:"w-4 h-4 rounded-full bg-cyan-500"},null,-1)),h("span",WI,g(m(n)("family.relationshipColors.nieces")),1)]),h("div",XI,[Q[15]||(Q[15]=h("div",{class:"w-4 h-4 rounded-full bg-rose-500"},null,-1)),h("span",qI,g(m(n)("family.relationshipColors.partners")),1)]),h("div",ZI,[Q[16]||(Q[16]=h("div",{class:"w-4 h-4 rounded-full bg-teal-500"},null,-1)),h("span",YI,g(m(n)("family.relationshipColors.children")),1)])])]),h("div",JI,[h("h2",KI,g(m(n)("family.layoutAlgorithm.title")),1),_e(rl,{modelValue:j.value,"onUpdate:modelValue":Q[4]||(Q[4]=de=>j.value=de),"available-layouts":R.value,loading:m(a)||G.value,onApply:be},null,8,["modelValue","available-layouts","loading"]),h("div",QI,[h("p",eL,[(U(!0),q(Ge,null,Nn(R.value,de=>(U(),q("div",{key:de.id},[h("strong",null,g(de.name)+":",1),xe(" "+g(de.description)+" ",1),de.requiresStats?(U(),q("span",tL," (requires analysis)")):Re("",!0),Q[17]||(Q[17]=h("br",null,null,-1))]))),128))])])]),h("div",nL,[h("h3",sL,g(m(n)("family.instructions.title")),1),h("ul",rL,[h("li",{innerHTML:m(n)("family.instructions.dragNodes")},null,8,oL),h("li",{innerHTML:m(n)("family.instructions.autoSaves")},null,8,iL),h("li",{innerHTML:m(n)("family.instructions.lock")},null,8,aL),h("li",{innerHTML:m(n)("family.instructions.download")},null,8,lL),h("li",{innerHTML:m(n)("family.instructions.analyze")},null,8,cL),h("li",{innerHTML:m(n)("family.instructions.layouts")},null,8,dL),h("li",{innerHTML:m(n)("family.instructions.undoRedo")},null,8,uL)])])]),graph:Be(()=>[m(a)||ue.value?(U(),q("div",hL,[h("div",fL,[Q[18]||(Q[18]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-green-600 border-t-transparent mb-4"},null,-1)),h("p",pL,g(ue.value?"Switching render mode...":z.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:o,class:"w-full h-full"},null,512)]),_:1}),(U(),In($T,{key:`dialog-${Z.value||"default"}`,visible:H.value,title:ee.value,fields:W.value,onConfirm:$,onCancel:B},null,8,["visible","title","fields"]))],64))}},gL={class:"page-content"},yL={class:"section-header mb-12"},_L={class:"text-5xl font-bold mb-4"},bL={class:"section-description"},vL={class:"card mb-12 p-6"},xL={class:"grid md:grid-cols-3 gap-4"},wL={href:"#quick-start",class:"flex items-center text-accent hover:underline"},kL={href:"#core-classes",class:"flex items-center text-accent hover:underline"},AL={href:"#adapters",class:"flex items-center text-accent hover:underline"},CL={href:"#layouts",class:"flex items-center text-accent hover:underline"},SL={href:"#community",class:"flex items-center text-accent hover:underline"},NL={href:"#examples",class:"flex items-center text-accent hover:underline"},EL={id:"quick-start",class:"mb-12"},TL={class:"text-3xl font-bold mb-8 flex items-center"},IL={class:"card p-8"},LL={class:"text-secondary mb-6"},RL={class:"text-xl font-bold text-accent mb-3"},PL={class:"bg-gray-900 rounded-lg p-4 mb-6"},DL={class:"text-green-400"},ML={class:"text-xl font-bold text-accent mb-3"},OL={id:"core-classes",class:"mb-12"},GL={class:"text-3xl font-bold mb-8 flex items-center"},VL={class:"card p-8 mb-8"},FL={class:"text-2xl font-bold text-accent mb-4"},$L={class:"text-secondary mb-6"},BL={class:"text-xl font-bold mb-4"},zL={class:"space-y-3"},HL={class:"border-l-4 border-accent pl-4 py-2"},jL={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},UL={class:"text-secondary text-sm mt-1"},WL={class:"border-l-4 border-accent pl-4 py-2"},XL={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},qL={class:"text-secondary text-sm mt-1"},ZL={class:"border-l-4 border-accent pl-4 py-2"},YL={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},JL={class:"text-secondary text-sm mt-1"},KL={class:"border-l-4 border-accent pl-4 py-2"},QL={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},eR={class:"text-secondary text-sm mt-1"},tR={class:"border-l-4 border-accent pl-4 py-2"},nR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},sR={class:"text-secondary text-sm mt-1"},rR={class:"border-l-4 border-accent pl-4 py-2"},oR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},iR={class:"text-secondary text-sm mt-1"},aR={class:"border-l-4 border-accent pl-4 py-2"},lR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},cR={class:"text-secondary text-sm mt-1"},dR={class:"card p-8"},uR={class:"text-2xl font-bold text-accent mb-4"},hR={class:"text-secondary mb-6"},fR={class:"text-xl font-bold mb-3"},pR={class:"list-disc pl-6 space-y-2 text-secondary mb-6"},mR={class:"text-xl font-bold mb-3"},gR={class:"text-secondary mb-3"},yR={class:"text-xl font-bold mb-3"},_R={class:"grid md:grid-cols-2 gap-4"},bR={class:"flex items-start"},vR={class:"text-secondary text-sm"},xR={class:"flex items-start"},wR={class:"text-secondary text-sm"},kR={class:"flex items-start"},AR={class:"text-secondary text-sm"},CR={class:"flex items-start"},SR={class:"text-secondary text-sm"},NR={class:"flex items-start"},ER={class:"text-secondary text-sm"},TR={class:"flex items-start"},IR={class:"text-secondary text-sm"},LR={class:"flex items-start"},RR={class:"text-secondary text-sm"},PR={class:"flex items-start"},DR={class:"text-secondary text-sm"},MR={class:"flex items-start"},OR={class:"text-secondary text-sm"},GR={id:"adapters",class:"mb-12"},VR={class:"text-3xl font-bold mb-8 flex items-center"},FR={class:"text-xl text-secondary mb-8"},$R={class:"card p-8 mb-8"},BR={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},zR={class:"text-secondary mb-6"},HR={class:"text-xl font-bold mb-4"},jR={class:"space-y-3 mb-6"},UR={class:"border-l-4 border-blue-500 pl-4 py-2"},WR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},XR={class:"text-secondary text-sm mt-1"},qR={class:"text-xs text-accent mt-1"},ZR={class:"border-l-4 border-blue-500 pl-4 py-2"},YR={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},JR={class:"text-secondary text-sm mt-1"},KR={class:"text-xs text-accent mt-1"},QR={class:"border-l-4 border-blue-500 pl-4 py-2"},eP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},tP={class:"text-secondary text-sm mt-1"},nP={class:"text-xs text-accent mt-1"},sP={class:"border-l-4 border-blue-500 pl-4 py-2"},rP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},oP={class:"text-secondary text-sm mt-1"},iP={class:"text-xs text-accent mt-1"},aP={class:"border-l-4 border-blue-500 pl-4 py-2"},lP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},cP={class:"text-secondary text-sm mt-1"},dP={class:"text-xs text-accent mt-1"},uP={class:"card p-8 mb-8"},hP={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},fP={class:"text-secondary mb-6"},pP={class:"text-xl font-bold mb-4"},mP={class:"space-y-3 mb-6"},gP={class:"border-l-4 border-green-500 pl-4 py-2"},yP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},_P={class:"text-secondary text-sm mt-1"},bP={class:"text-xs text-accent mt-1"},vP={class:"border-l-4 border-green-500 pl-4 py-2"},xP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},wP={class:"text-secondary text-sm mt-1"},kP={class:"text-xs text-accent mt-1"},AP={class:"border-l-4 border-green-500 pl-4 py-2"},CP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},SP={class:"text-secondary text-sm mt-1"},NP={class:"text-xs text-accent mt-1"},EP={class:"border-l-4 border-green-500 pl-4 py-2"},TP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},IP={class:"text-secondary text-sm mt-1"},LP={class:"text-xs text-accent mt-1"},RP={class:"border-l-4 border-green-500 pl-4 py-2"},PP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},DP={class:"text-secondary text-sm mt-1"},MP={class:"text-xs text-accent mt-1"},OP={class:"border-l-4 border-green-500 pl-4 py-2"},GP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},VP={class:"text-secondary text-sm mt-1"},FP={class:"text-xs text-accent mt-1"},$P={class:"card p-8"},BP={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-4"},zP={class:"text-secondary mb-6"},HP={class:"text-xl font-bold mb-4"},jP={class:"space-y-3 mb-6"},UP={class:"border-l-4 border-yellow-500 pl-4 py-2"},WP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},XP={class:"text-secondary text-sm mt-1"},qP={class:"text-xs text-accent mt-1"},ZP={class:"border-l-4 border-yellow-500 pl-4 py-2"},YP={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},JP={class:"text-secondary text-sm mt-1"},KP={class:"text-xs text-accent mt-1"},QP={class:"border-l-4 border-yellow-500 pl-4 py-2"},e3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},t3={class:"text-secondary text-sm mt-1"},n3={class:"text-xs text-accent mt-1"},s3={class:"border-l-4 border-yellow-500 pl-4 py-2"},r3={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},o3={class:"text-secondary text-sm mt-1"},i3={class:"text-xs text-accent mt-1"},a3={id:"layouts",class:"mb-12"},l3={class:"text-3xl font-bold mb-8 flex items-center"},c3={class:"text-xl text-secondary mb-4"},d3={class:"text-sm text-accent mb-8"},u3={class:"card p-8 mb-8"},h3={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},f3={class:"text-secondary mb-2"},p3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},m3={class:"text-sm text-accent mb-4"},g3={class:"text-lg font-bold mb-3"},y3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},_3={class:"space-y-1 text-sm"},b3={class:"card p-8 mb-8"},v3={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4"},x3={class:"text-secondary mb-2"},w3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},k3={class:"text-sm text-accent mb-4"},A3={class:"text-lg font-bold mb-3"},C3={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},S3={class:"space-y-1 text-sm"},N3={class:"card p-8 mb-8"},E3={class:"text-2xl font-bold text-pink-600 dark:text-pink-400 mb-4"},T3={class:"text-secondary mb-2"},I3={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},L3={class:"text-sm text-accent mb-2"},R3={class:"text-sm text-red-600 dark:text-red-400 mb-4"},P3={class:"grid md:grid-cols-2 gap-6"},D3={class:"card p-6"},M3={class:"text-xl font-bold text-blue-600 dark:text-blue-400 mb-3"},O3={class:"text-secondary text-sm mb-2"},G3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},V3={class:"text-xs text-accent"},F3={class:"card p-6"},$3={class:"text-xl font-bold text-green-600 dark:text-green-400 mb-3"},B3={class:"text-secondary text-sm mb-2"},z3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},H3={class:"text-xs text-accent mb-1"},j3={class:"text-xs text-red-600 dark:text-red-400"},U3={class:"card p-6"},W3={class:"text-xl font-bold text-yellow-600 dark:text-yellow-400 mb-3"},X3={class:"text-secondary text-sm mb-2"},q3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},Z3={class:"text-xs text-accent"},Y3={class:"card p-6"},J3={class:"text-xl font-bold text-red-600 dark:text-red-400 mb-3"},K3={class:"text-secondary text-sm mb-2"},Q3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},eD={class:"text-xs text-accent"},tD={class:"card p-6"},nD={class:"text-xl font-bold text-teal-600 dark:text-teal-400 mb-3"},sD={class:"text-secondary text-sm mb-2"},rD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},oD={class:"text-xs text-accent"},iD={class:"card p-6"},aD={class:"text-xl font-bold text-gray-600 dark:text-gray-400 mb-3"},lD={class:"text-secondary text-sm mb-2"},cD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},dD={class:"text-xs text-accent"},uD={class:"card p-6 mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},hD={class:"text-lg font-bold mb-3"},fD={class:"text-sm text-secondary mb-3"},pD={id:"community",class:"mb-12"},mD={class:"text-3xl font-bold mb-8 flex items-center"},gD={class:"text-xl text-secondary mb-8"},yD={class:"card p-8 mb-8"},_D={class:"text-2xl font-bold text-accent mb-4"},bD={class:"text-secondary mb-6"},vD={class:"text-xl font-bold mb-3"},xD={class:"space-y-3 mb-6"},wD={class:"border-l-4 border-accent pl-4 py-2"},kD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},AD={class:"text-secondary text-sm mt-1"},CD={class:"text-xs text-accent mt-1"},SD={class:"border-l-4 border-accent pl-4 py-2"},ND={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},ED={class:"text-secondary text-sm mt-1"},TD={class:"text-xs text-accent mt-1"},ID={class:"space-y-3"},LD={class:"border-l-4 border-purple-500 pl-4 py-2"},RD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},PD={class:"text-secondary text-sm mt-1"},DD={class:"text-xs text-accent mt-1"},MD={class:"border-l-4 border-purple-500 pl-4 py-2"},OD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},GD={class:"text-secondary text-sm mt-1"},VD={class:"border-l-4 border-purple-500 pl-4 py-2"},FD={class:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded"},$D={class:"text-secondary text-sm mt-1"},BD={class:"card p-8 mb-8"},zD={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-4"},HD={class:"text-secondary mb-2"},jD={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},UD={class:"text-sm text-accent mb-6"},WD={class:"text-lg font-bold mb-3"},XD={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded mb-4"},qD={class:"space-y-1 text-sm"},ZD={class:"card p-8"},YD={class:"text-2xl font-bold text-green-600 dark:text-green-400 mb-4"},JD={class:"text-secondary mb-6"},KD={class:"bg-gray-100 dark:bg-gray-900 p-4 rounded"},QD={class:"space-y-2 text-sm"},e9={id:"examples",class:"mb-12"},t9={class:"text-3xl font-bold mb-8 flex items-center"},n9={class:"text-xl text-secondary mb-8"},s9={class:"card p-8 mb-8"},r9={class:"text-2xl font-bold text-accent mb-4"},o9={class:"text-secondary mb-4"},i9={class:"card p-8 mb-8"},a9={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4"},l9={class:"text-secondary mb-4"},c9={class:"card p-8"},d9={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-4"},u9={class:"text-secondary mb-4"},h9=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob' },
  { source: 'Bob', target: 'Charlie' },
  { source: 'Charlie', target: 'Alice' }
];

const analyzer = new NetworkStats({ verbose: false });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// [
//   { id: 'Alice', degree: 2, eigenvector: 0.577 },
//   { id: 'Bob', degree: 2, eigenvector: 0.577 },
//   { id: 'Charlie', degree: 2, eigenvector: 0.577 }
// ]`,f9=`import { Graph } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B', 1);
graph.addEdge('B', 'C', 2);

console.log(graph.getNeighbors('B')); // ['A', 'C']
console.log(graph.numberOfNodes());    // 3
console.log(graph.numberOfEdges());    // 2`,p9=`import { CSVAdapter } from '@guinetik/graph-js';

// Load from URLs
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Export to CSV
const edgesCSV = CSVAdapter.toEdgeList(graphData);
const nodesCSV = CSVAdapter.toNodes(graphData);`,m9=`import { JSONAdapter } from '@guinetik/graph-js';

// Convert D3 format to GraphData
const graphData = JSONAdapter.fromD3(d3Data);

// Convert to Cytoscape format
const cytoData = JSONAdapter.toCytoscape(graphData);

// Auto-detect format
const data = JSONAdapter.fromFormat(unknownJSON);`,g9=`import { NetworkXAdapter } from '@guinetik/graph-js';

// From Python: nx.node_link_data(G)
const graphData = NetworkXAdapter.fromNodeLink(nxData);

// To Python: G = nx.node_link_graph(nxData)
const nxData = NetworkXAdapter.toNodeLink(graphData, {
  directed: false,
  multigraph: false
});`,y9=`import { Graph, ForceDirectedLayout } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B');
graph.addEdge('B', 'C');

const layout = new ForceDirectedLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();
// { 'A': {x: 120, y: 45}, 'B': {x: -30, y: 90}, ... }`,_9=`import { KamadaKawaiLayout } from '@guinetik/graph-js';

const layout = new KamadaKawaiLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();`,b9=`import { NetworkStats, Graph, SpectralLayout } from '@guinetik/graph-js';

// First compute eigenvector-laplacian
const analyzer = new NetworkStats();
await analyzer.analyze(edges, ['eigenvector-laplacian']);

// Then apply layout
const layout = new SpectralLayout(graph, { scale: 200 });
const positions = await layout.getPositions();`,v9=`// All layouts follow this pattern
const layout = new SomeLayout(graph, options);
const positions = await layout.getPositions({
  onProgress: (progress) => console.log(\`\${progress * 100}%\`)
});`,x9=`import { CommunityDetection, LouvainAlgorithm } from '@guinetik/graph-js';

// Method 1: Direct detection from GraphData
const result = await CommunityDetection.detect(graphData, 'louvain', {
  resolution: 1.0,
  onProgress: (p) => console.log(\`\${Math.round(p * 100)}%\`)
});

// Method 2: Using algorithm instance
const detector = new CommunityDetection(graph);
const algorithm = new LouvainAlgorithm({ resolution: 1.0 });
const result = await detector.detectCommunities(algorithm);

console.log(result.communities);     // { 'A': 0, 'B': 0, 'C': 1 }
console.log(result.modularity);      // 0.42
console.log(result.numCommunities);  // 2`,w9=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Dave', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector', 'betweenness']);

console.log(results);
// [
//   { id: 'Alice', degree: 1, eigenvector: 0.34, betweenness: 0 },
//   { id: 'Bob', degree: 2, eigenvector: 0.58, betweenness: 0.67 },
//   ...
// ]

await analyzer.dispose(); // Cleanup workers`,k9=`import { CSVAdapter } from '@guinetik/graph-js';
import NetworkStats from '@guinetik/graph-js';

// Load CSV data
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Convert to edge list for analysis
const network = graphData.edges;

// Analyze
const analyzer = new NetworkStats();
const results = await analyzer.analyze(network, ['degree', 'clustering']);
await analyzer.dispose();`,A9=`import NetworkStats, {
  CSVAdapter,
  Graph,
  KamadaKawaiLayout,
  CommunityDetection
} from '@guinetik/graph-js';

// 1. Load data
const graphData = await CSVAdapter.loadFromURL('../data/edges.csv');

// 2. Analyze network
const analyzer = new NetworkStats();
const nodeMetrics = await analyzer.analyze(graphData.edges, [
  'degree',
  'eigenvector',
  'betweenness'
]);

// 3. Apply layout
const graph = new Graph();
graphData.edges.forEach(e => {
  graph.addNode(e.source);
  graph.addNode(e.target);
  graph.addEdge(e.source, e.target, e.weight || 1);
});

const layout = new KamadaKawaiLayout(graph, { scale: 200 });
const positions = await layout.getPositions();

// 4. Detect communities
const communityResult = await CommunityDetection.detect(
  graphData,
  'louvain'
);

// 5. Combine results
const finalData = nodeMetrics.map(node => ({
  ...node,
  x: positions[node.id].x,
  y: positions[node.id].y,
  community: communityResult.communities[node.id]
}));

console.log('Analysis complete!', finalData);
console.log('Modularity:', communityResult.modularity);

await analyzer.dispose();`,C9={__name:"DocsPage",setup(t){const{t:e}=Jt();return(n,s)=>(U(),q("div",gL,[h("div",yL,[h("h1",_L,g(m(e)("docs.title")),1),h("p",bL,g(m(e)("docs.subtitle")),1)]),h("div",vL,[s[6]||(s[6]=h("h2",{class:"text-2xl font-bold mb-4"}," Contents",-1)),h("div",xL,[h("a",wL,[s[0]||(s[0]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.quickStart")),1)]),h("a",kL,[s[1]||(s[1]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("a",AL,[s[2]||(s[2]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.adapters")),1)]),h("a",CL,[s[3]||(s[3]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.layouts")),1)]),h("a",SL,[s[4]||(s[4]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.community")),1)]),h("a",NL,[s[5]||(s[5]=h("span",{class:"mr-2"},"",-1)),h("span",null,g(m(e)("docs.sections.examples")),1)])])]),h("section",EL,[h("h2",TL,[s[7]||(s[7]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.quickStart.title")),1)]),h("div",IL,[h("p",LL,g(m(e)("docs.quickStart.description")),1),h("h3",RL,g(m(e)("docs.quickStart.install")),1),h("div",PL,[h("code",DL,g(m(e)("docs.quickStart.installCmd")),1)]),h("h3",ML,g(m(e)("docs.quickStart.basicUsage")),1),_e(mt,{code:h9,language:"javascript"})])]),h("section",OL,[h("h2",GL,[s[8]||(s[8]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("div",VL,[h("h3",FL,g(m(e)("docs.graph.title")),1),h("p",$L,g(m(e)("docs.graph.description")),1),s[9]||(s[9]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[h("code",{class:"text-sm text-gray-200"},"const graph = new Graph();")],-1)),h("h4",BL,g(m(e)("docs.graph.methods")),1),h("div",zL,[h("div",HL,[h("code",jL,g(m(e)("docs.graph.methodsList.addNode.name")),1),h("p",UL,g(m(e)("docs.graph.methodsList.addNode.description")),1)]),h("div",WL,[h("code",XL,g(m(e)("docs.graph.methodsList.addNodesFrom.name")),1),h("p",qL,g(m(e)("docs.graph.methodsList.addNodesFrom.description")),1)]),h("div",ZL,[h("code",YL,g(m(e)("docs.graph.methodsList.addEdge.name")),1),h("p",JL,g(m(e)("docs.graph.methodsList.addEdge.description")),1)]),h("div",KL,[h("code",QL,g(m(e)("docs.graph.methodsList.removeNode.name")),1),h("p",eR,g(m(e)("docs.graph.methodsList.removeNode.description")),1)]),h("div",tR,[h("code",nR,g(m(e)("docs.graph.methodsList.getNeighbors.name")),1),h("p",sR,g(m(e)("docs.graph.methodsList.getNeighbors.description")),1)]),h("div",rR,[h("code",oR,g(m(e)("docs.graph.methodsList.hasEdge.name")),1),h("p",iR,g(m(e)("docs.graph.methodsList.hasEdge.description")),1)]),h("div",aR,[h("code",lR,g(m(e)("docs.graph.methodsList.numberOfNodes.name")),1),h("p",cR,g(m(e)("docs.graph.methodsList.numberOfNodes.description")),1)])]),_e(mt,{code:f9,language:"javascript"})]),h("div",dR,[h("h3",uR,g(m(e)("docs.networkStats.title")),1),h("p",hR,g(m(e)("docs.networkStats.description")),1),h("h4",fR,g(m(e)("docs.networkStats.constructor")),1),s[21]||(s[21]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[h("code",{class:"text-sm text-gray-200"},"new NetworkStats(options?)")],-1)),h("ul",pR,[h("li",null,[s[10]||(s[10]=h("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"maxIter:",-1)),xe(" "+g(m(e)("docs.networkStats.constructorParams.maxIter")),1)]),h("li",null,[s[11]||(s[11]=h("code",{class:"bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded text-xs"},"verbose:",-1)),xe(" "+g(m(e)("docs.networkStats.constructorParams.verbose")),1)])]),h("h4",mR,g(m(e)("docs.networkStats.analyze.title")),1),h("p",gR,g(m(e)("docs.networkStats.analyze.description")),1),s[22]||(s[22]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-4"},[h("code",{class:"text-sm text-gray-200"},"analyzer.analyze(network, features?)")],-1)),h("h4",yR,g(m(e)("docs.networkStats.features.title")),1),h("div",_R,[h("div",bR,[s[12]||(s[12]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"degree",-1)),h("span",vR,g(m(e)("docs.networkStats.features.degree")),1)]),h("div",xR,[s[13]||(s[13]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector",-1)),h("span",wR,g(m(e)("docs.networkStats.features.eigenvector")),1)]),h("div",kR,[s[14]||(s[14]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"eigenvector-laplacian",-1)),h("span",AR,g(m(e)("docs.networkStats.features.eigenvectorLaplacian")),1)]),h("div",CR,[s[15]||(s[15]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"betweenness",-1)),h("span",SR,g(m(e)("docs.networkStats.features.betweenness")),1)]),h("div",NR,[s[16]||(s[16]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"clustering",-1)),h("span",ER,g(m(e)("docs.networkStats.features.clustering")),1)]),h("div",TR,[s[17]||(s[17]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"closeness",-1)),h("span",IR,g(m(e)("docs.networkStats.features.closeness")),1)]),h("div",LR,[s[18]||(s[18]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"cliques",-1)),h("span",RR,g(m(e)("docs.networkStats.features.cliques")),1)]),h("div",PR,[s[19]||(s[19]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"ego-density",-1)),h("span",DR,g(m(e)("docs.networkStats.features.egoDensity")),1)]),h("div",MR,[s[20]||(s[20]=h("span",{class:"font-mono text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-1 rounded mr-3"},"modularity",-1)),h("span",OR,g(m(e)("docs.networkStats.features.modularity")),1)])])])]),h("section",GR,[h("h2",VR,[s[23]||(s[23]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.adapters.title")),1)]),h("p",FR,g(m(e)("docs.adapters.description")),1),h("div",$R,[h("h3",BR,g(m(e)("docs.adapters.csv.title")),1),h("p",zR,g(m(e)("docs.adapters.csv.description")),1),h("h4",HR,g(m(e)("docs.adapters.csv.methods")),1),h("div",jR,[h("div",UR,[h("code",WR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.name")),1),h("p",XR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.description")),1),h("p",qR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.returns")),1)]),h("div",ZR,[h("code",YR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.name")),1),h("p",JR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.description")),1),h("p",KR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.returns")),1)]),h("div",QR,[h("code",eP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.name")),1),h("p",tP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.description")),1),h("p",nP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.returns")),1)]),h("div",sP,[h("code",rP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.name")),1),h("p",oP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.description")),1),h("p",iP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.returns")),1)]),h("div",aP,[h("code",lP,g(m(e)("docs.adapters.csv.methodsList.toNodes.name")),1),h("p",cP,g(m(e)("docs.adapters.csv.methodsList.toNodes.description")),1),h("p",dP,g(m(e)("docs.adapters.csv.methodsList.toNodes.returns")),1)])]),_e(mt,{code:p9,language:"javascript"})]),h("div",uP,[h("h3",hP,g(m(e)("docs.adapters.json.title")),1),h("p",fP,g(m(e)("docs.adapters.json.description")),1),h("h4",pP,g(m(e)("docs.adapters.json.methods")),1),h("div",mP,[h("div",gP,[h("code",yP,g(m(e)("docs.adapters.json.methodsList.fromD3.name")),1),h("p",_P,g(m(e)("docs.adapters.json.methodsList.fromD3.description")),1),h("p",bP,g(m(e)("docs.adapters.json.methodsList.fromD3.returns")),1)]),h("div",vP,[h("code",xP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.name")),1),h("p",wP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.description")),1),h("p",kP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.returns")),1)]),h("div",AP,[h("code",CP,g(m(e)("docs.adapters.json.methodsList.fromFormat.name")),1),h("p",SP,g(m(e)("docs.adapters.json.methodsList.fromFormat.description")),1),h("p",NP,g(m(e)("docs.adapters.json.methodsList.fromFormat.returns")),1)]),h("div",EP,[h("code",TP,g(m(e)("docs.adapters.json.methodsList.toD3.name")),1),h("p",IP,g(m(e)("docs.adapters.json.methodsList.toD3.description")),1),h("p",LP,g(m(e)("docs.adapters.json.methodsList.toD3.returns")),1)]),h("div",RP,[h("code",PP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.name")),1),h("p",DP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.description")),1),h("p",MP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.returns")),1)]),h("div",OP,[h("code",GP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.name")),1),h("p",VP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.description")),1),h("p",FP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.returns")),1)])]),_e(mt,{code:m9,language:"javascript"})]),h("div",$P,[h("h3",BP,g(m(e)("docs.adapters.networkx.title")),1),h("p",zP,g(m(e)("docs.adapters.networkx.description")),1),h("h4",HP,g(m(e)("docs.adapters.networkx.methods")),1),h("div",jP,[h("div",UP,[h("code",WP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.name")),1),h("p",XP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.description")),1),h("p",qP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.returns")),1)]),h("div",ZP,[h("code",YP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.name")),1),h("p",JP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.description")),1),h("p",KP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.returns")),1)]),h("div",QP,[h("code",e3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.name")),1),h("p",t3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.description")),1),h("p",n3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.returns")),1)]),h("div",s3,[h("code",r3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.name")),1),h("p",o3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.description")),1),h("p",i3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.returns")),1)])]),_e(mt,{code:g9,language:"javascript"})])]),h("section",a3,[h("h2",l3,[s[24]||(s[24]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.layouts.title")),1)]),h("p",c3,g(m(e)("docs.layouts.description")),1),h("p",d3," "+g(m(e)("docs.layouts.note")),1),h("div",u3,[h("h3",h3,g(m(e)("docs.layouts.forceDirected.title")),1),h("p",f3,g(m(e)("docs.layouts.forceDirected.description")),1),h("p",p3,g(m(e)("docs.layouts.forceDirected.complexity")),1),h("p",m3,g(m(e)("docs.layouts.forceDirected.bestFor")),1),h("h4",g3,g(m(e)("docs.layouts.forceDirected.constructor")),1),h("div",y3,[s[31]||(s[31]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",_3,[h("li",null,[s[25]||(s[25]=h("code",{class:"text-xs"},"iterations:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.iterations")),1)]),h("li",null,[s[26]||(s[26]=h("code",{class:"text-xs"},"k:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.k")),1)]),h("li",null,[s[27]||(s[27]=h("code",{class:"text-xs"},"scale:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.scale")),1)]),h("li",null,[s[28]||(s[28]=h("code",{class:"text-xs"},"center:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.center")),1)]),h("li",null,[s[29]||(s[29]=h("code",{class:"text-xs"},"initialPositions:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.initialPositions")),1)]),h("li",null,[s[30]||(s[30]=h("code",{class:"text-xs"},"threshold:",-1)),xe(" "+g(m(e)("docs.layouts.forceDirected.options.threshold")),1)])])]),_e(mt,{code:y9,language:"javascript"})]),h("div",b3,[h("h3",v3,g(m(e)("docs.layouts.kamadaKawai.title")),1),h("p",x3,g(m(e)("docs.layouts.kamadaKawai.description")),1),h("p",w3,g(m(e)("docs.layouts.kamadaKawai.complexity")),1),h("p",k3,g(m(e)("docs.layouts.kamadaKawai.bestFor")),1),h("h4",A3,g(m(e)("docs.layouts.kamadaKawai.constructor")),1),h("div",C3,[s[38]||(s[38]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",S3,[h("li",null,[s[32]||(s[32]=h("code",{class:"text-xs"},"iterations:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.iterations")),1)]),h("li",null,[s[33]||(s[33]=h("code",{class:"text-xs"},"scale:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.scale")),1)]),h("li",null,[s[34]||(s[34]=h("code",{class:"text-xs"},"center:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.center")),1)]),h("li",null,[s[35]||(s[35]=h("code",{class:"text-xs"},"initialPositions:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.initialPositions")),1)]),h("li",null,[s[36]||(s[36]=h("code",{class:"text-xs"},"threshold:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.threshold")),1)]),h("li",null,[s[37]||(s[37]=h("code",{class:"text-xs"},"K:",-1)),xe(" "+g(m(e)("docs.layouts.kamadaKawai.options.K")),1)])])]),_e(mt,{code:_9,language:"javascript"})]),h("div",N3,[h("h3",E3,g(m(e)("docs.layouts.spectral.title")),1),h("p",T3,g(m(e)("docs.layouts.spectral.description")),1),h("p",I3,g(m(e)("docs.layouts.spectral.complexity")),1),h("p",L3,g(m(e)("docs.layouts.spectral.bestFor")),1),h("p",R3," "+g(m(e)("docs.layouts.spectral.requires")),1),_e(mt,{code:b9,language:"javascript"})]),h("div",P3,[h("div",D3,[h("h3",M3,g(m(e)("docs.layouts.circular.title")),1),h("p",O3,g(m(e)("docs.layouts.circular.description")),1),h("p",G3,g(m(e)("docs.layouts.circular.complexity")),1),h("p",V3,g(m(e)("docs.layouts.circular.bestFor")),1)]),h("div",F3,[h("h3",$3,g(m(e)("docs.layouts.shell.title")),1),h("p",B3,g(m(e)("docs.layouts.shell.description")),1),h("p",z3,g(m(e)("docs.layouts.shell.complexity")),1),h("p",H3,g(m(e)("docs.layouts.shell.bestFor")),1),h("p",j3," "+g(m(e)("docs.layouts.shell.requires")),1)]),h("div",U3,[h("h3",W3,g(m(e)("docs.layouts.spiral.title")),1),h("p",X3,g(m(e)("docs.layouts.spiral.description")),1),h("p",q3,g(m(e)("docs.layouts.spiral.complexity")),1),h("p",Z3,g(m(e)("docs.layouts.spiral.bestFor")),1)]),h("div",Y3,[h("h3",J3,g(m(e)("docs.layouts.bfs.title")),1),h("p",K3,g(m(e)("docs.layouts.bfs.description")),1),h("p",Q3,g(m(e)("docs.layouts.bfs.complexity")),1),h("p",eD,g(m(e)("docs.layouts.bfs.bestFor")),1)]),h("div",tD,[h("h3",nD,g(m(e)("docs.layouts.bipartite.title")),1),h("p",sD,g(m(e)("docs.layouts.bipartite.description")),1),h("p",rD,g(m(e)("docs.layouts.bipartite.complexity")),1),h("p",oD,g(m(e)("docs.layouts.bipartite.bestFor")),1)]),h("div",iD,[h("h3",aD,g(m(e)("docs.layouts.random.title")),1),h("p",lD,g(m(e)("docs.layouts.random.description")),1),h("p",cD,g(m(e)("docs.layouts.random.complexity")),1),h("p",dD,g(m(e)("docs.layouts.random.bestFor")),1)])]),h("div",uD,[h("h4",hD,g(m(e)("docs.layouts.usage")),1),h("p",fD,g(m(e)("docs.layouts.usageDescription")),1),_e(mt,{code:v9,language:"javascript"})])]),h("section",pD,[h("h2",mD,[s[39]||(s[39]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.community.title")),1)]),h("p",gD,g(m(e)("docs.community.description")),1),h("div",yD,[h("h3",_D,g(m(e)("docs.community.mainClass.title")),1),h("p",bD,g(m(e)("docs.community.mainClass.description")),1),h("h4",vD,g(m(e)("docs.community.mainClass.constructor")),1),s[40]||(s[40]=h("div",{class:"bg-gray-900 rounded-lg p-4 mb-6"},[h("code",{class:"text-sm text-gray-200"},"new CommunityDetection(graph)")],-1)),s[41]||(s[41]=h("h4",{class:"text-xl font-bold mb-4"},"Methods",-1)),h("div",xD,[h("div",wD,[h("code",kD,g(m(e)("docs.community.mainClass.methods.detectCommunities.name")),1),h("p",AD,g(m(e)("docs.community.mainClass.methods.detectCommunities.description")),1),h("p",CD,g(m(e)("docs.community.mainClass.methods.detectCommunities.returns")),1)]),h("div",SD,[h("code",ND,g(m(e)("docs.community.mainClass.methods.calculateModularity.name")),1),h("p",ED,g(m(e)("docs.community.mainClass.methods.calculateModularity.description")),1),h("p",TD,g(m(e)("docs.community.mainClass.methods.calculateModularity.returns")),1)])]),s[42]||(s[42]=h("h4",{class:"text-xl font-bold mb-4"},"Static Methods",-1)),h("div",ID,[h("div",LD,[h("code",RD,g(m(e)("docs.community.mainClass.staticMethods.detect.name")),1),h("p",PD,g(m(e)("docs.community.mainClass.staticMethods.detect.description")),1),h("p",DD,g(m(e)("docs.community.mainClass.staticMethods.detect.returns")),1)]),h("div",MD,[h("code",OD,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.name")),1),h("p",GD,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.description")),1)]),h("div",VD,[h("code",FD,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.name")),1),h("p",$D,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.description")),1)])])]),h("div",BD,[h("h3",zD,g(m(e)("docs.community.louvain.title")),1),h("p",HD,g(m(e)("docs.community.louvain.description")),1),h("p",jD,g(m(e)("docs.community.louvain.complexity")),1),h("p",UD,g(m(e)("docs.community.louvain.bestFor")),1),h("h4",WD,g(m(e)("docs.community.louvain.constructor")),1),h("div",XD,[s[45]||(s[45]=h("h5",{class:"font-semibold mb-2"},"Options:",-1)),h("ul",qD,[h("li",null,[s[43]||(s[43]=h("code",{class:"text-xs"},"resolution:",-1)),xe(" "+g(m(e)("docs.community.louvain.options.resolution")),1)]),h("li",null,[s[44]||(s[44]=h("code",{class:"text-xs"},"maxIterations:",-1)),xe(" "+g(m(e)("docs.community.louvain.options.maxIterations")),1)])])]),_e(mt,{code:x9,language:"javascript"})]),h("div",ZD,[h("h3",YD,g(m(e)("docs.community.result.title")),1),h("p",JD,g(m(e)("docs.community.result.description")),1),h("div",KD,[s[51]||(s[51]=h("h5",{class:"font-semibold mb-3"},"Properties:",-1)),h("ul",QD,[h("li",null,[s[46]||(s[46]=h("code",{class:"text-xs"},"communities:",-1)),xe(" "+g(m(e)("docs.community.result.properties.communities")),1)]),h("li",null,[s[47]||(s[47]=h("code",{class:"text-xs"},"modularity:",-1)),xe(" "+g(m(e)("docs.community.result.properties.modularity")),1)]),h("li",null,[s[48]||(s[48]=h("code",{class:"text-xs"},"numCommunities:",-1)),xe(" "+g(m(e)("docs.community.result.properties.numCommunities")),1)]),h("li",null,[s[49]||(s[49]=h("code",{class:"text-xs"},"algorithm:",-1)),xe(" "+g(m(e)("docs.community.result.properties.algorithm")),1)]),h("li",null,[s[50]||(s[50]=h("code",{class:"text-xs"},"metadata:",-1)),xe(" "+g(m(e)("docs.community.result.properties.metadata")),1)])])])])]),h("section",e9,[h("h2",t9,[s[52]||(s[52]=h("span",{class:"mr-3"},"",-1)),h("span",null,g(m(e)("docs.examples.title")),1)]),h("p",n9,g(m(e)("docs.examples.description")),1),h("div",s9,[h("h3",r9,g(m(e)("docs.examples.basic.title")),1),h("p",o9,g(m(e)("docs.examples.basic.description")),1),_e(mt,{code:w9,language:"javascript"})]),h("div",i9,[h("h3",a9,g(m(e)("docs.examples.csv.title")),1),h("p",l9,g(m(e)("docs.examples.csv.description")),1),_e(mt,{code:k9,language:"javascript"})]),h("div",c9,[h("h3",d9,g(m(e)("docs.examples.complete.title")),1),h("p",u9,g(m(e)("docs.examples.complete.description")),1),_e(mt,{code:A9,language:"javascript"})])]),s[53]||(s[53]=h("div",{class:"text-center pt-12 pb-6 border-t border-[var(--color-border)]"},[h("p",{class:"text-secondary"},[xe("  For more details, check out the "),h("a",{href:"https://github.com/guinetik/graph-js",class:"text-purple-600 dark:text-purple-400 hover:underline",target:"_blank"}," GitHub repository ")])],-1))]))}},S9=[{path:"/",name:"home",component:Wv},{path:"/showcase",name:"showcase",component:VN},{path:"/explorer",name:"explorer",component:wT},{path:"/family",name:"family",component:mL},{path:"/docs",name:"docs",component:C9}],N9=wy({history:ey(),routes:S9}),E9=Xe({prefix:"App",level:"info"}),Hf=pg(a0);Hf.use(N9);Hf.mount("#app");E9.info("Vue app started");
