const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ea(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Pe={},on=[],qt=()=>{},Dd=()=>!1,Pr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Na=t=>t.startsWith("onUpdate:"),Ye=Object.assign,Ta=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},jf=Object.prototype.hasOwnProperty,Te=(t,e)=>jf.call(t,e),ye=Array.isArray,rn=t=>_o(t)==="[object Map]",Dr=t=>_o(t)==="[object Set]",Cl=t=>_o(t)==="[object Date]",be=t=>typeof t=="function",Ge=t=>typeof t=="string",Mt=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",Md=t=>(Le(t)||be(t))&&be(t.then)&&be(t.catch),Od=Object.prototype.toString,_o=t=>Od.call(t),Uf=t=>_o(t).slice(8,-1),Gd=t=>_o(t)==="[object Object]",Ia=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jn=Ea(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mr=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Hf=/-\w/g,Lt=Mr(t=>t.replace(Hf,e=>e.slice(1).toUpperCase())),Wf=/\B([A-Z])/g,Rs=Mr(t=>t.replace(Wf,"-$1").toLowerCase()),Or=Mr(t=>t.charAt(0).toUpperCase()+t.slice(1)),ai=Mr(t=>t?`on${Or(t)}`:""),Cs=(t,e)=>!Object.is(t,e),Uo=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Fd=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},sr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Xf=t=>{const e=Ge(t)?Number(t):NaN;return isNaN(e)?t:e};let Sl;const Gr=()=>Sl||(Sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fr(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],o=Ge(n)?Jf(n):Fr(n);if(o)for(const r in o)e[r]=o[r]}return e}else if(Ge(t)||Le(t))return t}const qf=/;(?![^(]*\))/g,Zf=/:([^]+)/,Kf=/\/\*[^]*?\*\//g;function Jf(t){const e={};return t.replace(Kf,"").split(qf).forEach(s=>{if(s){const n=s.split(Zf);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function bt(t){let e="";if(Ge(t))e=t;else if(ye(t))for(let s=0;s<t.length;s++){const n=bt(t[s]);n&&(e+=n+" ")}else if(Le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Yf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qf=Ea(Yf);function Vd(t){return!!t||t===""}function ep(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=gn(t[n],e[n]);return s}function gn(t,e){if(t===e)return!0;let s=Cl(t),n=Cl(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=Mt(t),n=Mt(e),s||n)return t===e;if(s=ye(t),n=ye(e),s||n)return s&&n?ep(t,e):!1;if(s=Le(t),n=Le(e),s||n){if(!s||!n)return!1;const o=Object.keys(t).length,r=Object.keys(e).length;if(o!==r)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!gn(t[i],e[i]))return!1}}return String(t)===String(e)}function tp(t,e){return t.findIndex(s=>gn(s,e))}const $d=t=>!!(t&&t.__v_isRef===!0),g=t=>Ge(t)?t:t==null?"":ye(t)||Le(t)&&(t.toString===Od||!be(t.toString))?$d(t)?g(t.value):JSON.stringify(t,Bd,2):String(t),Bd=(t,e)=>$d(e)?Bd(t,e.value):rn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,o],r)=>(s[li(n,r)+" =>"]=o,s),{})}:Dr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>li(s))}:Mt(e)?li(e):Le(e)&&!ye(e)&&!Gd(e)?String(e):e,li=(t,e="")=>{var s;return Mt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class sp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=_t;try{return _t=this,e()}finally{_t=s}}}on(){++this._on===1&&(this.prevScope=_t,_t=this)}off(){this._on>0&&--this._on===0&&(_t=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function np(){return _t}let Me;const ci=new WeakSet;class zd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ci.has(this)&&(ci.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ud(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,El(this),Hd(this);const e=Me,s=Dt;Me=this,Dt=!0;try{return this.fn()}finally{Wd(this),Me=e,Dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Pa(e);this.deps=this.depsTail=void 0,El(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ci.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fi(this)&&this.run()}get dirty(){return Fi(this)}}let jd=0,Un,Hn;function Ud(t,e=!1){if(t.flags|=8,e){t.next=Hn,Hn=t;return}t.next=Un,Un=t}function La(){jd++}function Ra(){if(--jd>0)return;if(Hn){let e=Hn;for(Hn=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Un;){let e=Un;for(Un=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Hd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wd(t){let e,s=t.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),Pa(n),op(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}t.deps=e,t.depsTail=s}function Fi(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Xd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Xd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yn)||(t.globalVersion=Yn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fi(t))))return;t.flags|=2;const e=t.dep,s=Me,n=Dt;Me=t,Dt=!0;try{Hd(t);const o=t.fn(t._value);(e.version===0||Cs(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{Me=s,Dt=n,Wd(t),t.flags&=-3}}function Pa(t,e=!1){const{dep:s,prevSub:n,nextSub:o}=t;if(n&&(n.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Pa(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function op(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Dt=!0;const qd=[];function fs(){qd.push(Dt),Dt=!1}function ps(){const t=qd.pop();Dt=t===void 0?!0:t}function El(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Me;Me=void 0;try{e()}finally{Me=s}}}let Yn=0;class rp{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Da{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Me||!Dt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new rp(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,Zd(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=n)}return s}trigger(e){this.version++,Yn++,this.notify(e)}notify(e){La();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ra()}}}function Zd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Zd(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Vi=new WeakMap,Hs=Symbol(""),$i=Symbol(""),Qn=Symbol("");function st(t,e,s){if(Dt&&Me){let n=Vi.get(t);n||Vi.set(t,n=new Map);let o=n.get(s);o||(n.set(s,o=new Da),o.map=n,o.key=s),o.track()}}function cs(t,e,s,n,o,r){const i=Vi.get(t);if(!i){Yn++;return}const a=l=>{l&&l.trigger()};if(La(),e==="clear")i.forEach(a);else{const l=ye(t),c=l&&Ia(s);if(l&&s==="length"){const d=Number(n);i.forEach((u,f)=>{(f==="length"||f===Qn||!Mt(f)&&f>=d)&&a(u)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),c&&a(i.get(Qn)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Hs)),rn(t)&&a(i.get($i)));break;case"delete":l||(a(i.get(Hs)),rn(t)&&a(i.get($i)));break;case"set":rn(t)&&a(i.get(Hs));break}}Ra()}function Js(t){const e=Se(t);return e===t?e:(st(e,"iterate",Qn),It(t)?e:e.map(Qe))}function Vr(t){return st(t=Se(t),"iterate",Qn),t}const ip={__proto__:null,[Symbol.iterator](){return di(this,Symbol.iterator,Qe)},concat(...t){return Js(this).concat(...t.map(e=>ye(e)?Js(e):e))},entries(){return di(this,"entries",t=>(t[1]=Qe(t[1]),t))},every(t,e){return es(this,"every",t,e,void 0,arguments)},filter(t,e){return es(this,"filter",t,e,s=>s.map(Qe),arguments)},find(t,e){return es(this,"find",t,e,Qe,arguments)},findIndex(t,e){return es(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return es(this,"findLast",t,e,Qe,arguments)},findLastIndex(t,e){return es(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return es(this,"forEach",t,e,void 0,arguments)},includes(...t){return ui(this,"includes",t)},indexOf(...t){return ui(this,"indexOf",t)},join(t){return Js(this).join(t)},lastIndexOf(...t){return ui(this,"lastIndexOf",t)},map(t,e){return es(this,"map",t,e,void 0,arguments)},pop(){return In(this,"pop")},push(...t){return In(this,"push",t)},reduce(t,...e){return Nl(this,"reduce",t,e)},reduceRight(t,...e){return Nl(this,"reduceRight",t,e)},shift(){return In(this,"shift")},some(t,e){return es(this,"some",t,e,void 0,arguments)},splice(...t){return In(this,"splice",t)},toReversed(){return Js(this).toReversed()},toSorted(t){return Js(this).toSorted(t)},toSpliced(...t){return Js(this).toSpliced(...t)},unshift(...t){return In(this,"unshift",t)},values(){return di(this,"values",Qe)}};function di(t,e,s){const n=Vr(t),o=n[e]();return n!==t&&!It(t)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=s(r.value)),r}),o}const ap=Array.prototype;function es(t,e,s,n,o,r){const i=Vr(t),a=i!==t&&!It(t),l=i[e];if(l!==ap[e]){const u=l.apply(t,r);return a?Qe(u):u}let c=s;i!==t&&(a?c=function(u,f){return s.call(this,Qe(u),f,t)}:s.length>2&&(c=function(u,f){return s.call(this,u,f,t)}));const d=l.call(i,c,n);return a&&o?o(d):d}function Nl(t,e,s,n){const o=Vr(t);let r=s;return o!==t&&(It(t)?s.length>3&&(r=function(i,a,l){return s.call(this,i,a,l,t)}):r=function(i,a,l){return s.call(this,i,Qe(a),l,t)}),o[e](r,...n)}function ui(t,e,s){const n=Se(t);st(n,"iterate",Qn);const o=n[e](...s);return(o===-1||o===!1)&&Ga(s[0])?(s[0]=Se(s[0]),n[e](...s)):o}function In(t,e,s=[]){fs(),La();const n=Se(t)[e].apply(t,s);return Ra(),ps(),n}const lp=Ea("__proto__,__v_isRef,__isVue"),Kd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function cp(t){Mt(t)||(t=String(t));const e=Se(this);return st(e,"has",t),e.hasOwnProperty(t)}class Jd{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(o?r?vp:tu:r?eu:Qd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=ye(e);if(!o){let l;if(i&&(l=ip[s]))return l;if(s==="hasOwnProperty")return cp}const a=Reflect.get(e,s,Je(e)?e:n);if((Mt(s)?Kd.has(s):lp(s))||(o||st(e,"get",s),r))return a;if(Je(a)){const l=i&&Ia(s)?a:a.value;return o&&Le(l)?zi(l):l}return Le(a)?o?zi(a):$r(a):a}}class Yd extends Jd{constructor(e=!1){super(!1,e)}set(e,s,n,o){let r=e[s];if(!this._isShallow){const l=Ns(r);if(!It(n)&&!Ns(n)&&(r=Se(r),n=Se(n)),!ye(e)&&Je(r)&&!Je(n))return l||(r.value=n),!0}const i=ye(e)&&Ia(s)?Number(s)<e.length:Te(e,s),a=Reflect.set(e,s,n,Je(e)?e:o);return e===Se(o)&&(i?Cs(n,r)&&cs(e,"set",s,n):cs(e,"add",s,n)),a}deleteProperty(e,s){const n=Te(e,s);e[s];const o=Reflect.deleteProperty(e,s);return o&&n&&cs(e,"delete",s,void 0),o}has(e,s){const n=Reflect.has(e,s);return(!Mt(s)||!Kd.has(s))&&st(e,"has",s),n}ownKeys(e){return st(e,"iterate",ye(e)?"length":Hs),Reflect.ownKeys(e)}}class dp extends Jd{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const up=new Yd,hp=new dp,fp=new Yd(!0);const Bi=t=>t,Eo=t=>Reflect.getPrototypeOf(t);function pp(t,e,s){return function(...n){const o=this.__v_raw,r=Se(o),i=rn(r),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=o[t](...n),d=s?Bi:e?nr:Qe;return!e&&st(r,"iterate",l?$i:Hs),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function No(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mp(t,e){const s={get(o){const r=this.__v_raw,i=Se(r),a=Se(o);t||(Cs(o,a)&&st(i,"get",o),st(i,"get",a));const{has:l}=Eo(i),c=e?Bi:t?nr:Qe;if(l.call(i,o))return c(r.get(o));if(l.call(i,a))return c(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!t&&st(Se(o),"iterate",Hs),o.size},has(o){const r=this.__v_raw,i=Se(r),a=Se(o);return t||(Cs(o,a)&&st(i,"has",o),st(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,l=Se(a),c=e?Bi:t?nr:Qe;return!t&&st(l,"iterate",Hs),a.forEach((d,u)=>o.call(r,c(d),c(u),i))}};return Ye(s,t?{add:No("add"),set:No("set"),delete:No("delete"),clear:No("clear")}:{add(o){!e&&!It(o)&&!Ns(o)&&(o=Se(o));const r=Se(this);return Eo(r).has.call(r,o)||(r.add(o),cs(r,"add",o,o)),this},set(o,r){!e&&!It(r)&&!Ns(r)&&(r=Se(r));const i=Se(this),{has:a,get:l}=Eo(i);let c=a.call(i,o);c||(o=Se(o),c=a.call(i,o));const d=l.call(i,o);return i.set(o,r),c?Cs(r,d)&&cs(i,"set",o,r):cs(i,"add",o,r),this},delete(o){const r=Se(this),{has:i,get:a}=Eo(r);let l=i.call(r,o);l||(o=Se(o),l=i.call(r,o)),a&&a.call(r,o);const c=r.delete(o);return l&&cs(r,"delete",o,void 0),c},clear(){const o=Se(this),r=o.size!==0,i=o.clear();return r&&cs(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=pp(o,t,e)}),s}function Ma(t,e){const s=mp(t,e);return(n,o,r)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Te(s,o)&&o in n?s:n,o,r)}const gp={get:Ma(!1,!1)},yp={get:Ma(!1,!0)},_p={get:Ma(!0,!1)};const Qd=new WeakMap,eu=new WeakMap,tu=new WeakMap,vp=new WeakMap;function bp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wp(t){return t.__v_skip||!Object.isExtensible(t)?0:bp(Uf(t))}function $r(t){return Ns(t)?t:Oa(t,!1,up,gp,Qd)}function su(t){return Oa(t,!1,fp,yp,eu)}function zi(t){return Oa(t,!0,hp,_p,tu)}function Oa(t,e,s,n,o){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=wp(t);if(r===0)return t;const i=o.get(t);if(i)return i;const a=new Proxy(t,r===2?n:s);return o.set(t,a),a}function an(t){return Ns(t)?an(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function It(t){return!!(t&&t.__v_isShallow)}function Ga(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function xp(t){return!Te(t,"__v_skip")&&Object.isExtensible(t)&&Fd(t,"__v_skip",!0),t}const Qe=t=>Le(t)?$r(t):t,nr=t=>Le(t)?zi(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function ae(t){return nu(t,!1)}function kp(t){return nu(t,!0)}function nu(t,e){return Je(t)?t:new Ap(t,e)}class Ap{constructor(e,s){this.dep=new Da,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Se(e),this._value=s?e:Qe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||It(e)||Ns(e);e=n?e:Se(e),Cs(e,s)&&(this._rawValue=e,this._value=n?e:Qe(e),this.dep.trigger())}}function m(t){return Je(t)?t.value:t}const Cp={get:(t,e,s)=>e==="__v_raw"?t:m(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const o=t[e];return Je(o)&&!Je(s)?(o.value=s,!0):Reflect.set(t,e,s,n)}};function ou(t){return an(t)?t:new Proxy(t,Cp)}class Sp{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Da(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return Ud(this,!0),!0}get value(){const e=this.dep.track();return Xd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ep(t,e,s=!1){let n,o;return be(t)?n=t:(n=t.get,o=t.set),new Sp(n,o,s)}const To={},or=new WeakMap;let Fs;function Np(t,e=!1,s=Fs){if(s){let n=or.get(s);n||or.set(s,n=[]),n.push(t)}}function Tp(t,e,s=Pe){const{immediate:n,deep:o,once:r,scheduler:i,augmentJob:a,call:l}=s,c=A=>o?A:It(A)||o===!1||o===0?ds(A,1):ds(A);let d,u,f,p,y=!1,_=!1;if(Je(t)?(u=()=>t.value,y=It(t)):an(t)?(u=()=>c(t),y=!0):ye(t)?(_=!0,y=t.some(A=>an(A)||It(A)),u=()=>t.map(A=>{if(Je(A))return A.value;if(an(A))return c(A);if(be(A))return l?l(A,2):A()})):be(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){fs();try{f()}finally{ps()}}const A=Fs;Fs=d;try{return l?l(t,3,[p]):t(p)}finally{Fs=A}}:u=qt,e&&o){const A=u,L=o===!0?1/0:o;u=()=>ds(A(),L)}const w=np(),b=()=>{d.stop(),w&&w.active&&Ta(w.effects,d)};if(r&&e){const A=e;e=(...L)=>{A(...L),b()}}let x=_?new Array(t.length).fill(To):To;const E=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const L=d.run();if(o||y||(_?L.some((z,j)=>Cs(z,x[j])):Cs(L,x))){f&&f();const z=Fs;Fs=d;try{const j=[L,x===To?void 0:_&&x[0]===To?[]:x,p];x=L,l?l(e,3,j):e(...j)}finally{Fs=z}}}else d.run()};return a&&a(E),d=new zd(u),d.scheduler=i?()=>i(E,!1):E,p=A=>Np(A,!1,d),f=d.onStop=()=>{const A=or.get(d);if(A){if(l)l(A,4);else for(const L of A)L();or.delete(d)}},e?n?E(!0):x=d.run():i?i(E.bind(null,!0),!0):d.run(),b.pause=d.pause.bind(d),b.resume=d.resume.bind(d),b.stop=b,b}function ds(t,e=1/0,s){if(e<=0||!Le(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Je(t))ds(t.value,e,s);else if(ye(t))for(let n=0;n<t.length;n++)ds(t[n],e,s);else if(Dr(t)||rn(t))t.forEach(n=>{ds(n,e,s)});else if(Gd(t)){for(const n in t)ds(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ds(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vo(t,e,s,n){try{return n?t(...n):t()}catch(o){Br(o,e,s)}}function Ot(t,e,s,n){if(be(t)){const o=vo(t,e,s,n);return o&&Md(o)&&o.catch(r=>{Br(r,e,s)}),o}if(ye(t)){const o=[];for(let r=0;r<t.length;r++)o.push(Ot(t[r],e,s,n));return o}}function Br(t,e,s,n=!0){const o=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(r){fs(),vo(r,null,10,[t,l,c]),ps();return}}Ip(t,s,o,n,i)}function Ip(t,e,s,n=!0,o=!1){if(o)throw t;console.error(t)}const ht=[];let Ht=-1;const ln=[];let bs=null,en=0;const ru=Promise.resolve();let rr=null;function Cn(t){const e=rr||ru;return t?e.then(this?t.bind(this):t):e}function Lp(t){let e=Ht+1,s=ht.length;for(;e<s;){const n=e+s>>>1,o=ht[n],r=eo(o);r<t||r===t&&o.flags&2?e=n+1:s=n}return e}function Fa(t){if(!(t.flags&1)){const e=eo(t),s=ht[ht.length-1];!s||!(t.flags&2)&&e>=eo(s)?ht.push(t):ht.splice(Lp(e),0,t),t.flags|=1,iu()}}function iu(){rr||(rr=ru.then(lu))}function Rp(t){ye(t)?ln.push(...t):bs&&t.id===-1?bs.splice(en+1,0,t):t.flags&1||(ln.push(t),t.flags|=1),iu()}function Tl(t,e,s=Ht+1){for(;s<ht.length;s++){const n=ht[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ht.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function au(t){if(ln.length){const e=[...new Set(ln)].sort((s,n)=>eo(s)-eo(n));if(ln.length=0,bs){bs.push(...e);return}for(bs=e,en=0;en<bs.length;en++){const s=bs[en];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}bs=null,en=0}}const eo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lu(t){try{for(Ht=0;Ht<ht.length;Ht++){const e=ht[Ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ht<ht.length;Ht++){const e=ht[Ht];e&&(e.flags&=-2)}Ht=-1,ht.length=0,au(),rr=null,(ht.length||ln.length)&&lu()}}let et=null,cu=null;function ir(t){const e=et;return et=t,cu=t&&t.type.__scopeId||null,e}function Be(t,e=et,s){if(!e||t._n)return t;const n=(...o)=>{n._d&&cr(-1);const r=ir(e);let i;try{i=t(...o)}finally{ir(r),n._d&&cr(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function ft(t,e){if(et===null)return t;const s=Xr(et),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[r,i,a,l=Pe]=e[o];r&&(be(r)&&(r={mounted:r,updated:r}),r.deep&&ds(i),n.push({dir:r,instance:s,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ds(t,e,s,n){const o=t.dirs,r=e&&e.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let l=a.dir[n];l&&(fs(),Ot(l,s,8,[t.el,a,t,e]),ps())}}const du=Symbol("_vte"),uu=t=>t.__isTeleport,Wn=t=>t&&(t.disabled||t.disabled===""),Il=t=>t&&(t.defer||t.defer===""),Ll=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rl=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ji=(t,e)=>{const s=t&&t.to;return Ge(s)?e?e(s):null:s},hu={name:"Teleport",__isTeleport:!0,process(t,e,s,n,o,r,i,a,l,c){const{mc:d,pc:u,pbc:f,o:{insert:p,querySelector:y,createText:_,createComment:w}}=c,b=Wn(e.props);let{shapeFlag:x,children:E,dynamicChildren:A}=e;if(t==null){const L=e.el=_(""),z=e.anchor=_("");p(L,s,n),p(z,s,n);const j=(W,Z)=>{x&16&&d(E,W,Z,o,r,i,a,l)},ee=()=>{const W=e.target=ji(e.props,y),Z=fu(W,e,_,p);W&&(i!=="svg"&&Ll(W)?i="svg":i!=="mathml"&&Rl(W)&&(i="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(W),b||(j(W,Z),Ho(e,!1)))};b&&(j(s,z),Ho(e,!0)),Il(e.props)?(e.el.__isMounted=!1,dt(()=>{ee(),delete e.el.__isMounted},r)):ee()}else{if(Il(e.props)&&t.el.__isMounted===!1){dt(()=>{hu.process(t,e,s,n,o,r,i,a,l,c)},r);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,z=e.target=t.target,j=e.targetAnchor=t.targetAnchor,ee=Wn(t.props),W=ee?s:z,Z=ee?L:j;if(i==="svg"||Ll(z)?i="svg":(i==="mathml"||Rl(z))&&(i="mathml"),A?(f(t.dynamicChildren,A,W,o,r,i,a),Ba(t,e,!0)):l||u(t,e,W,Z,o,r,i,a,!1),b)ee?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Io(e,s,L,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=ji(e.props,y);U&&Io(e,U,null,c,0)}else ee&&Io(e,z,j,c,1);Ho(e,b)}},remove(t,e,s,{um:n,o:{remove:o}},r){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:d,target:u,props:f}=t;if(u&&(o(c),o(d)),r&&o(l),i&16){const p=r||!Wn(f);for(let y=0;y<a.length;y++){const _=a[y];n(_,e,s,p,!!_.dynamicChildren)}}},move:Io,hydrate:Pp};function Io(t,e,s,{o:{insert:n},m:o},r=2){r===0&&n(t.targetAnchor,e,s);const{el:i,anchor:a,shapeFlag:l,children:c,props:d}=t,u=r===2;if(u&&n(i,e,s),(!u||Wn(d))&&l&16)for(let f=0;f<c.length;f++)o(c[f],e,s,2);u&&n(a,e,s)}function Pp(t,e,s,n,o,r,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:d}},u){function f(_,w,b,x){w.anchor=u(i(_),w,a(_),s,n,o,r),w.targetStart=b,w.targetAnchor=x}const p=e.target=ji(e.props,l),y=Wn(e.props);if(p){const _=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)f(t,e,_,_&&i(_));else{e.anchor=i(t);let w=_;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,p._lpa=e.targetAnchor&&i(e.targetAnchor);break}}w=i(w)}e.targetAnchor||fu(p,e,d,c),u(_&&i(_),e,p,s,n,o,r)}Ho(e,y)}else y&&e.shapeFlag&16&&f(t,e,t,i(t));return e.anchor&&i(e.anchor)}const Dp=hu;function Ho(t,e){const s=t.ctx;if(s&&s.ut){let n,o;for(e?(n=t.el,o=t.anchor):(n=t.targetStart,o=t.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function fu(t,e,s,n){const o=e.targetStart=s(""),r=e.targetAnchor=s("");return o[du]=r,t&&(n(o,t),n(r,t)),r}const as=Symbol("_leaveCb"),Lo=Symbol("_enterCb");function Mp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ps(()=>{t.isMounted=!0}),xu(()=>{t.isUnmounting=!0}),t}const Nt=[Function,Array],pu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nt,onEnter:Nt,onAfterEnter:Nt,onEnterCancelled:Nt,onBeforeLeave:Nt,onLeave:Nt,onAfterLeave:Nt,onLeaveCancelled:Nt,onBeforeAppear:Nt,onAppear:Nt,onAfterAppear:Nt,onAppearCancelled:Nt},mu=t=>{const e=t.subTree;return e.component?mu(e.component):e},Op={name:"BaseTransition",props:pu,setup(t,{slots:e}){const s=Hu(),n=Mp();return()=>{const o=e.default&&_u(e.default(),!0);if(!o||!o.length)return;const r=gu(o),i=Se(t),{mode:a}=i;if(n.isLeaving)return hi(r);const l=Pl(r);if(!l)return hi(r);let c=Ui(l,i,n,s,u=>c=u);l.type!==ot&&to(l,c);let d=s.subTree&&Pl(s.subTree);if(d&&d.type!==ot&&!Bs(d,l)&&mu(s).type!==ot){let u=Ui(d,i,n,s);if(to(d,u),a==="out-in"&&l.type!==ot)return n.isLeaving=!0,u.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete u.afterLeave,d=void 0},hi(r);a==="in-out"&&l.type!==ot?u.delayLeave=(f,p,y)=>{const _=yu(n,d);_[String(d.key)]=d,f[as]=()=>{p(),f[as]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function gu(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==ot){e=s;break}}return e}const Gp=Op;function yu(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Ui(t,e,s,n,o){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:w,onAppear:b,onAfterAppear:x,onAppearCancelled:E}=e,A=String(t.key),L=yu(s,t),z=(W,Z)=>{W&&Ot(W,n,9,Z)},j=(W,Z)=>{const U=Z[1];z(W,Z),ye(W)?W.every(R=>R.length<=1)&&U():W.length<=1&&U()},ee={mode:i,persisted:a,beforeEnter(W){let Z=l;if(!s.isMounted)if(r)Z=w||l;else return;W[as]&&W[as](!0);const U=L[A];U&&Bs(t,U)&&U.el[as]&&U.el[as](),z(Z,[W])},enter(W){let Z=c,U=d,R=u;if(!s.isMounted)if(r)Z=b||c,U=x||d,R=E||u;else return;let G=!1;const S=W[Lo]=M=>{G||(G=!0,M?z(R,[W]):z(U,[W]),ee.delayedLeave&&ee.delayedLeave(),W[Lo]=void 0)};Z?j(Z,[W,S]):S()},leave(W,Z){const U=String(t.key);if(W[Lo]&&W[Lo](!0),s.isUnmounting)return Z();z(f,[W]);let R=!1;const G=W[as]=S=>{R||(R=!0,Z(),S?z(_,[W]):z(y,[W]),W[as]=void 0,L[U]===t&&delete L[U])};L[U]=t,p?j(p,[W,G]):G()},clone(W){const Z=Ui(W,e,s,n,o);return o&&o(Z),Z}};return ee}function hi(t){if(zr(t))return t=Is(t),t.children=null,t}function Pl(t){if(!zr(t))return uu(t.type)&&t.children?gu(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&be(s.default))return s.default()}}function to(t,e){t.shapeFlag&6&&t.component?(t.transition=e,to(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _u(t,e=!1,s){let n=[],o=0;for(let r=0;r<t.length;r++){let i=t[r];const a=s==null?i.key:String(s)+String(i.key!=null?i.key:r);i.type===Ve?(i.patchFlag&128&&o++,n=n.concat(_u(i.children,e,a))):(e||i.type!==ot)&&n.push(a!=null?Is(i,{key:a}):i)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function vu(t,e){return be(t)?Ye({name:t.name},e,{setup:t}):t}function bu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ar=new WeakMap;function Xn(t,e,s,n,o=!1){if(ye(t)){t.forEach((y,_)=>Xn(y,e&&(ye(e)?e[_]:e),s,n,o));return}if(cn(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Xn(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?Xr(n.component):n.el,i=o?null:r,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Pe?a.refs={}:a.refs,u=a.setupState,f=Se(u),p=u===Pe?Dd:y=>Te(f,y);if(c!=null&&c!==l){if(Dl(e),Ge(c))d[c]=null,p(c)&&(u[c]=null);else if(Je(c)){c.value=null;const y=e;y.k&&(d[y.k]=null)}}if(be(l))vo(l,a,12,[i,d]);else{const y=Ge(l),_=Je(l);if(y||_){const w=()=>{if(t.f){const b=y?p(l)?u[l]:d[l]:l.value;if(o)ye(b)&&Ta(b,r);else if(ye(b))b.includes(r)||b.push(r);else if(y)d[l]=[r],p(l)&&(u[l]=d[l]);else{const x=[r];l.value=x,t.k&&(d[t.k]=x)}}else y?(d[l]=i,p(l)&&(u[l]=i)):_&&(l.value=i,t.k&&(d[t.k]=i))};if(i){const b=()=>{w(),ar.delete(t)};b.id=-1,ar.set(t,b),dt(b,s)}else Dl(t),w()}}}function Dl(t){const e=ar.get(t);e&&(e.flags|=8,ar.delete(t))}Gr().requestIdleCallback;Gr().cancelIdleCallback;const cn=t=>!!t.type.__asyncLoader,zr=t=>t.type.__isKeepAlive;function Fp(t,e){wu(t,"a",e)}function Vp(t,e){wu(t,"da",e)}function wu(t,e,s=rt){const n=t.__wdc||(t.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(jr(e,n,s),s){let o=s.parent;for(;o&&o.parent;)zr(o.parent.vnode)&&$p(n,e,s,o),o=o.parent}}function $p(t,e,s,n){const o=jr(e,t,n,!0);Ur(()=>{Ta(n[e],o)},s)}function jr(t,e,s=rt,n=!1){if(s){const o=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...i)=>{fs();const a=bo(s),l=Ot(e,s,t,i);return a(),ps(),l});return n?o.unshift(r):o.push(r),r}}const gs=t=>(e,s=rt)=>{(!oo||t==="sp")&&jr(t,(...n)=>e(...n),s)},Bp=gs("bm"),Ps=gs("m"),zp=gs("bu"),jp=gs("u"),xu=gs("bum"),Ur=gs("um"),Up=gs("sp"),Hp=gs("rtg"),Wp=gs("rtc");function Xp(t,e=rt){jr("ec",t,e)}const ku="components";function Hi(t,e){return Cu(ku,t,!0,e)||t}const Au=Symbol.for("v-ndc");function qp(t){return Ge(t)?Cu(ku,t,!1)||t:t||Au}function Cu(t,e,s=!0,n=!1){const o=et||rt;if(o){const r=o.type;{const a=Mm(r,!1);if(a&&(a===e||a===Lt(e)||a===Or(Lt(e))))return r}const i=Ml(o[t]||r[t],e)||Ml(o.appContext[t],e);return!i&&n?r:i}}function Ml(t,e){return t&&(t[e]||t[Lt(e)]||t[Or(Lt(e))])}function Ss(t,e,s,n){let o;const r=s,i=ye(t);if(i||Ge(t)){const a=i&&an(t);let l=!1,c=!1;a&&(l=!It(t),c=Ns(t),t=Vr(t)),o=new Array(t.length);for(let d=0,u=t.length;d<u;d++)o[d]=e(l?c?nr(Qe(t[d])):Qe(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,r)}else if(Le(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];o[l]=e(t[d],d,l,r)}}else o=[];return o}function Wi(t,e,s={},n,o){if(et.ce||et.parent&&cn(et.parent)&&et.parent.ce){const c=Object.keys(s).length>0;return e!=="default"&&(s.name=e),H(),Ts(Ve,null,[_e("slot",s,n)],c?-2:64)}let r=t[e];r&&r._c&&(r._d=!1),H();const i=r&&Su(r(s)),a=s.key||i&&i.key,l=Ts(Ve,{key:(a&&!Mt(a)?a:`_${e}`)+(!i&&n?"_fb":"")},i||[],i&&t._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Su(t){return t.some(e=>no(e)?!(e.type===ot||e.type===Ve&&!Su(e.children)):!0)?t:null}const Xi=t=>t?Wu(t)?Xr(t):Xi(t.parent):null,qn=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xi(t.parent),$root:t=>Xi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Nu(t),$forceUpdate:t=>t.f||(t.f=()=>{Fa(t.update)}),$nextTick:t=>t.n||(t.n=Cn.bind(t.proxy)),$watch:t=>mm.bind(t)}),fi=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Te(t,e),Zp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return o[e];case 4:return s[e];case 3:return r[e]}else{if(fi(n,e))return i[e]=1,n[e];if(o!==Pe&&Te(o,e))return i[e]=2,o[e];if((c=t.propsOptions[0])&&Te(c,e))return i[e]=3,r[e];if(s!==Pe&&Te(s,e))return i[e]=4,s[e];qi&&(i[e]=0)}}const d=qn[e];let u,f;if(d)return e==="$attrs"&&st(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==Pe&&Te(s,e))return i[e]=4,s[e];if(f=l.config.globalProperties,Te(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:o,ctx:r}=t;return fi(o,e)?(o[e]=s,!0):n!==Pe&&Te(n,e)?(n[e]=s,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:o,propsOptions:r,type:i}},a){let l,c;return!!(s[a]||t!==Pe&&a[0]!=="$"&&Te(t,a)||fi(e,a)||(l=r[0])&&Te(l,a)||Te(n,a)||Te(qn,a)||Te(o.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Te(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ol(t){return ye(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let qi=!0;function Kp(t){const e=Nu(t),s=t.proxy,n=t.ctx;qi=!1,e.beforeCreate&&Gl(e.beforeCreate,t,"bc");const{data:o,computed:r,methods:i,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:p,updated:y,activated:_,deactivated:w,beforeDestroy:b,beforeUnmount:x,destroyed:E,unmounted:A,render:L,renderTracked:z,renderTriggered:j,errorCaptured:ee,serverPrefetch:W,expose:Z,inheritAttrs:U,components:R,directives:G,filters:S}=e;if(c&&Jp(c,n,null),i)for(const F in i){const X=i[F];be(X)&&(n[F]=X.bind(s))}if(o){const F=o.call(s,s);Le(F)&&(t.data=$r(F))}if(qi=!0,r)for(const F in r){const X=r[F],re=be(X)?X.bind(s,s):be(X.get)?X.get.bind(s,s):qt,ue=!be(X)&&be(X.set)?X.set.bind(s):qt,K=it({get:re,set:ue});Object.defineProperty(n,F,{enumerable:!0,configurable:!0,get:()=>K.value,set:le=>K.value=le})}if(a)for(const F in a)Eu(a[F],n,s,F);if(l){const F=be(l)?l.call(s):l;Reflect.ownKeys(F).forEach(X=>{Wo(X,F[X])})}d&&Gl(d,t,"c");function I(F,X){ye(X)?X.forEach(re=>F(re.bind(s))):X&&F(X.bind(s))}if(I(Bp,u),I(Ps,f),I(zp,p),I(jp,y),I(Fp,_),I(Vp,w),I(Xp,ee),I(Wp,z),I(Hp,j),I(xu,x),I(Ur,A),I(Up,W),ye(Z))if(Z.length){const F=t.exposed||(t.exposed={});Z.forEach(X=>{Object.defineProperty(F,X,{get:()=>s[X],set:re=>s[X]=re,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===qt&&(t.render=L),U!=null&&(t.inheritAttrs=U),R&&(t.components=R),G&&(t.directives=G),W&&bu(t)}function Jp(t,e,s=qt){ye(t)&&(t=Zi(t));for(const n in t){const o=t[n];let r;Le(o)?"default"in o?r=Zt(o.from||n,o.default,!0):r=Zt(o.from||n):r=Zt(o),Je(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):e[n]=r}}function Gl(t,e,s){Ot(ye(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Eu(t,e,s,n){let o=n.includes(".")?$u(s,n):()=>s[n];if(Ge(t)){const r=e[t];be(r)&&St(o,r)}else if(be(t))St(o,t.bind(s));else if(Le(t))if(ye(t))t.forEach(r=>Eu(r,e,s,n));else{const r=be(t.handler)?t.handler.bind(s):e[t.handler];be(r)&&St(o,r,t)}}function Nu(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=t.appContext,a=r.get(e);let l;return a?l=a:!o.length&&!s&&!n?l=e:(l={},o.length&&o.forEach(c=>lr(l,c,i,!0)),lr(l,e,i)),Le(e)&&r.set(e,l),l}function lr(t,e,s,n=!1){const{mixins:o,extends:r}=e;r&&lr(t,r,s,!0),o&&o.forEach(i=>lr(t,i,s,!0));for(const i in e)if(!(n&&i==="expose")){const a=Yp[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Yp={data:Fl,props:Vl,emits:Vl,methods:Vn,computed:Vn,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:Vn,directives:Vn,watch:em,provide:Fl,inject:Qp};function Fl(t,e){return e?t?function(){return Ye(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function Qp(t,e){return Vn(Zi(t),Zi(e))}function Zi(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ct(t,e){return t?[...new Set([].concat(t,e))]:e}function Vn(t,e){return t?Ye(Object.create(null),t,e):e}function Vl(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:Ye(Object.create(null),Ol(t),Ol(e??{})):e}function em(t,e){if(!t)return e;if(!e)return t;const s=Ye(Object.create(null),t);for(const n in e)s[n]=ct(t[n],e[n]);return s}function Tu(){return{app:null,config:{isNativeTag:Dd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tm=0;function sm(t,e){return function(n,o=null){be(n)||(n=Ye({},n)),o!=null&&!Le(o)&&(o=null);const r=Tu(),i=new WeakSet,a=[];let l=!1;const c=r.app={_uid:tm++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:Gm,get config(){return r.config},set config(d){},use(d,...u){return i.has(d)||(d&&be(d.install)?(i.add(d),d.install(c,...u)):be(d)&&(i.add(d),d(c,...u))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,u){return u?(r.components[d]=u,c):r.components[d]},directive(d,u){return u?(r.directives[d]=u,c):r.directives[d]},mount(d,u,f){if(!l){const p=c._ceVNode||_e(n,o);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(p,d,f),l=!0,c._container=d,d.__vue_app__=c,Xr(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Ot(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return r.provides[d]=u,c},runWithContext(d){const u=dn;dn=c;try{return d()}finally{dn=u}}};return c}}let dn=null;function Wo(t,e){if(rt){let s=rt.provides;const n=rt.parent&&rt.parent.provides;n===s&&(s=rt.provides=Object.create(n)),s[t]=e}}function Zt(t,e,s=!1){const n=Hu();if(n||dn){let o=dn?dn._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return s&&be(e)?e.call(n&&n.proxy):e}}const Iu={},Lu=()=>Object.create(Iu),Ru=t=>Object.getPrototypeOf(t)===Iu;function nm(t,e,s,n=!1){const o={},r=Lu();t.propsDefaults=Object.create(null),Pu(t,e,o,r);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);s?t.props=n?o:su(o):t.type.props?t.props=o:t.props=r,t.attrs=r}function om(t,e,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=t,a=Se(o),[l]=t.propsOptions;let c=!1;if((n||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(Hr(t.emitsOptions,f))continue;const p=e[f];if(l)if(Te(r,f))p!==r[f]&&(r[f]=p,c=!0);else{const y=Lt(f);o[y]=Ki(l,a,y,p,t,!1)}else p!==r[f]&&(r[f]=p,c=!0)}}}else{Pu(t,e,o,r)&&(c=!0);let d;for(const u in a)(!e||!Te(e,u)&&((d=Rs(u))===u||!Te(e,d)))&&(l?s&&(s[u]!==void 0||s[d]!==void 0)&&(o[u]=Ki(l,a,u,void 0,t,!0)):delete o[u]);if(r!==a)for(const u in r)(!e||!Te(e,u))&&(delete r[u],c=!0)}c&&cs(t.attrs,"set","")}function Pu(t,e,s,n){const[o,r]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(jn(l))continue;const c=e[l];let d;o&&Te(o,d=Lt(l))?!r||!r.includes(d)?s[d]=c:(a||(a={}))[d]=c:Hr(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,i=!0)}if(r){const l=Se(s),c=a||Pe;for(let d=0;d<r.length;d++){const u=r[d];s[u]=Ki(o,l,u,c[u],t,!Te(c,u))}}return i}function Ki(t,e,s,n,o,r){const i=t[s];if(i!=null){const a=Te(i,"default");if(a&&n===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&be(l)){const{propsDefaults:c}=o;if(s in c)n=c[s];else{const d=bo(o);n=c[s]=l.call(null,e),d()}}else n=l;o.ce&&o.ce._setProp(s,n)}i[0]&&(r&&!a?n=!1:i[1]&&(n===""||n===Rs(s))&&(n=!0))}return n}const rm=new WeakMap;function Du(t,e,s=!1){const n=s?rm:e.propsCache,o=n.get(t);if(o)return o;const r=t.props,i={},a=[];let l=!1;if(!be(t)){const d=u=>{l=!0;const[f,p]=Du(u,e,!0);Ye(i,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return Le(t)&&n.set(t,on),on;if(ye(r))for(let d=0;d<r.length;d++){const u=Lt(r[d]);$l(u)&&(i[u]=Pe)}else if(r)for(const d in r){const u=Lt(d);if($l(u)){const f=r[d],p=i[u]=ye(f)||be(f)?{type:f}:Ye({},f),y=p.type;let _=!1,w=!0;if(ye(y))for(let b=0;b<y.length;++b){const x=y[b],E=be(x)&&x.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(w=!1)}else _=be(y)&&y.name==="Boolean";p[0]=_,p[1]=w,(_||Te(p,"default"))&&a.push(u)}}const c=[i,a];return Le(t)&&n.set(t,c),c}function $l(t){return t[0]!=="$"&&!jn(t)}const Va=t=>t==="_"||t==="_ctx"||t==="$stable",$a=t=>ye(t)?t.map(Wt):[Wt(t)],im=(t,e,s)=>{if(e._n)return e;const n=Be((...o)=>$a(e(...o)),s);return n._c=!1,n},Mu=(t,e,s)=>{const n=t._ctx;for(const o in t){if(Va(o))continue;const r=t[o];if(be(r))e[o]=im(o,r,n);else if(r!=null){const i=$a(r);e[o]=()=>i}}},Ou=(t,e)=>{const s=$a(e);t.slots.default=()=>s},Gu=(t,e,s)=>{for(const n in e)(s||!Va(n))&&(t[n]=e[n])},am=(t,e,s)=>{const n=t.slots=Lu();if(t.vnode.shapeFlag&32){const o=e._;o?(Gu(n,e,s),s&&Fd(n,"_",o,!0)):Mu(e,n)}else e&&Ou(t,e)},lm=(t,e,s)=>{const{vnode:n,slots:o}=t;let r=!0,i=Pe;if(n.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:Gu(o,e,s):(r=!e.$stable,Mu(e,o)),i=e}else e&&(Ou(t,e),i={default:1});if(r)for(const a in o)!Va(a)&&i[a]==null&&delete o[a]},dt=km;function cm(t){return dm(t)}function dm(t,e){const s=Gr();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:p=qt,insertStaticContent:y}=t,_=(k,C,N,$=null,B=null,V=null,oe=void 0,P=null,D=!!C.dynamicChildren)=>{if(k===C)return;k&&!Bs(k,C)&&($=T(k),le(k,B,V,!0),k=null),C.patchFlag===-2&&(D=!1,C.dynamicChildren=null);const{type:O,ref:me,shapeFlag:ie}=C;switch(O){case Wr:w(k,C,N,$);break;case ot:b(k,C,N,$);break;case mi:k==null&&x(C,N,$,oe);break;case Ve:R(k,C,N,$,B,V,oe,P,D);break;default:ie&1?L(k,C,N,$,B,V,oe,P,D):ie&6?G(k,C,N,$,B,V,oe,P,D):(ie&64||ie&128)&&O.process(k,C,N,$,B,V,oe,P,D,fe)}me!=null&&B?Xn(me,k&&k.ref,V,C||k,!C):me==null&&k&&k.ref!=null&&Xn(k.ref,null,V,k,!0)},w=(k,C,N,$)=>{if(k==null)n(C.el=a(C.children),N,$);else{const B=C.el=k.el;C.children!==k.children&&c(B,C.children)}},b=(k,C,N,$)=>{k==null?n(C.el=l(C.children||""),N,$):C.el=k.el},x=(k,C,N,$)=>{[k.el,k.anchor]=y(k.children,C,N,$,k.el,k.anchor)},E=({el:k,anchor:C},N,$)=>{let B;for(;k&&k!==C;)B=f(k),n(k,N,$),k=B;n(C,N,$)},A=({el:k,anchor:C})=>{let N;for(;k&&k!==C;)N=f(k),o(k),k=N;o(C)},L=(k,C,N,$,B,V,oe,P,D)=>{C.type==="svg"?oe="svg":C.type==="math"&&(oe="mathml"),k==null?z(C,N,$,B,V,oe,P,D):W(k,C,B,V,oe,P,D)},z=(k,C,N,$,B,V,oe,P)=>{let D,O;const{props:me,shapeFlag:ie,transition:pe,dirs:ve}=k;if(D=k.el=i(k.type,V,me&&me.is,me),ie&8?d(D,k.children):ie&16&&ee(k.children,D,null,$,B,pi(k,V),oe,P),ve&&Ds(k,null,$,"created"),j(D,k,k.scopeId,oe,$),me){for(const Q in me)Q!=="value"&&!jn(Q)&&r(D,Q,null,me[Q],V,$);"value"in me&&r(D,"value",null,me.value,V),(O=me.onVnodeBeforeMount)&&zt(O,$,k)}ve&&Ds(k,null,$,"beforeMount");const Y=um(B,pe);Y&&pe.beforeEnter(D),n(D,C,N),((O=me&&me.onVnodeMounted)||Y||ve)&&dt(()=>{O&&zt(O,$,k),Y&&pe.enter(D),ve&&Ds(k,null,$,"mounted")},B)},j=(k,C,N,$,B)=>{if(N&&p(k,N),$)for(let V=0;V<$.length;V++)p(k,$[V]);if(B){let V=B.subTree;if(C===V||zu(V.type)&&(V.ssContent===C||V.ssFallback===C)){const oe=B.vnode;j(k,oe,oe.scopeId,oe.slotScopeIds,B.parent)}}},ee=(k,C,N,$,B,V,oe,P,D=0)=>{for(let O=D;O<k.length;O++){const me=k[O]=P?ws(k[O]):Wt(k[O]);_(null,me,C,N,$,B,V,oe,P)}},W=(k,C,N,$,B,V,oe)=>{const P=C.el=k.el;let{patchFlag:D,dynamicChildren:O,dirs:me}=C;D|=k.patchFlag&16;const ie=k.props||Pe,pe=C.props||Pe;let ve;if(N&&Ms(N,!1),(ve=pe.onVnodeBeforeUpdate)&&zt(ve,N,C,k),me&&Ds(C,k,N,"beforeUpdate"),N&&Ms(N,!0),(ie.innerHTML&&pe.innerHTML==null||ie.textContent&&pe.textContent==null)&&d(P,""),O?Z(k.dynamicChildren,O,P,N,$,pi(C,B),V):oe||X(k,C,P,null,N,$,pi(C,B),V,!1),D>0){if(D&16)U(P,ie,pe,N,B);else if(D&2&&ie.class!==pe.class&&r(P,"class",null,pe.class,B),D&4&&r(P,"style",ie.style,pe.style,B),D&8){const Y=C.dynamicProps;for(let Q=0;Q<Y.length;Q++){const de=Y[Q],Oe=ie[de],Ze=pe[de];(Ze!==Oe||de==="value")&&r(P,de,Oe,Ze,B,N)}}D&1&&k.children!==C.children&&d(P,C.children)}else!oe&&O==null&&U(P,ie,pe,N,B);((ve=pe.onVnodeUpdated)||me)&&dt(()=>{ve&&zt(ve,N,C,k),me&&Ds(C,k,N,"updated")},$)},Z=(k,C,N,$,B,V,oe)=>{for(let P=0;P<C.length;P++){const D=k[P],O=C[P],me=D.el&&(D.type===Ve||!Bs(D,O)||D.shapeFlag&198)?u(D.el):N;_(D,O,me,null,$,B,V,oe,!0)}},U=(k,C,N,$,B)=>{if(C!==N){if(C!==Pe)for(const V in C)!jn(V)&&!(V in N)&&r(k,V,C[V],null,B,$);for(const V in N){if(jn(V))continue;const oe=N[V],P=C[V];oe!==P&&V!=="value"&&r(k,V,P,oe,B,$)}"value"in N&&r(k,"value",C.value,N.value,B)}},R=(k,C,N,$,B,V,oe,P,D)=>{const O=C.el=k?k.el:a(""),me=C.anchor=k?k.anchor:a("");let{patchFlag:ie,dynamicChildren:pe,slotScopeIds:ve}=C;ve&&(P=P?P.concat(ve):ve),k==null?(n(O,N,$),n(me,N,$),ee(C.children||[],N,me,B,V,oe,P,D)):ie>0&&ie&64&&pe&&k.dynamicChildren?(Z(k.dynamicChildren,pe,N,B,V,oe,P),(C.key!=null||B&&C===B.subTree)&&Ba(k,C,!0)):X(k,C,N,me,B,V,oe,P,D)},G=(k,C,N,$,B,V,oe,P,D)=>{C.slotScopeIds=P,k==null?C.shapeFlag&512?B.ctx.activate(C,N,$,oe,D):S(C,N,$,B,V,oe,D):M(k,C,D)},S=(k,C,N,$,B,V,oe)=>{const P=k.component=Im(k,$,B);if(zr(k)&&(P.ctx.renderer=fe),Lm(P,!1,oe),P.asyncDep){if(B&&B.registerDep(P,I,oe),!k.el){const D=P.subTree=_e(ot);b(null,D,C,N),k.placeholder=D.el}}else I(P,k,C,N,B,V,oe)},M=(k,C,N)=>{const $=C.component=k.component;if(wm(k,C,N))if($.asyncDep&&!$.asyncResolved){F($,C,N);return}else $.next=C,$.update();else C.el=k.el,$.vnode=C},I=(k,C,N,$,B,V,oe)=>{const P=()=>{if(k.isMounted){let{next:ie,bu:pe,u:ve,parent:Y,vnode:Q}=k;{const $t=Fu(k);if($t){ie&&(ie.el=Q.el,F(k,ie,oe)),$t.asyncDep.then(()=>{k.isUnmounted||P()});return}}let de=ie,Oe;Ms(k,!1),ie?(ie.el=Q.el,F(k,ie,oe)):ie=Q,pe&&Uo(pe),(Oe=ie.props&&ie.props.onVnodeBeforeUpdate)&&zt(Oe,Y,ie,Q),Ms(k,!0);const Ze=zl(k),Vt=k.subTree;k.subTree=Ze,_(Vt,Ze,u(Vt.el),T(Vt),k,B,V),ie.el=Ze.el,de===null&&xm(k,Ze.el),ve&&dt(ve,B),(Oe=ie.props&&ie.props.onVnodeUpdated)&&dt(()=>zt(Oe,Y,ie,Q),B)}else{let ie;const{el:pe,props:ve}=C,{bm:Y,m:Q,parent:de,root:Oe,type:Ze}=k,Vt=cn(C);Ms(k,!1),Y&&Uo(Y),!Vt&&(ie=ve&&ve.onVnodeBeforeMount)&&zt(ie,de,C),Ms(k,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ze);const $t=k.subTree=zl(k);_(null,$t,N,$,k,B,V),C.el=$t.el}if(Q&&dt(Q,B),!Vt&&(ie=ve&&ve.onVnodeMounted)){const $t=C;dt(()=>zt(ie,de,$t),B)}(C.shapeFlag&256||de&&cn(de.vnode)&&de.vnode.shapeFlag&256)&&k.a&&dt(k.a,B),k.isMounted=!0,C=N=$=null}};k.scope.on();const D=k.effect=new zd(P);k.scope.off();const O=k.update=D.run.bind(D),me=k.job=D.runIfDirty.bind(D);me.i=k,me.id=k.uid,D.scheduler=()=>Fa(me),Ms(k,!0),O()},F=(k,C,N)=>{C.component=k;const $=k.vnode.props;k.vnode=C,k.next=null,om(k,C.props,$,N),lm(k,C.children,N),fs(),Tl(k),ps()},X=(k,C,N,$,B,V,oe,P,D=!1)=>{const O=k&&k.children,me=k?k.shapeFlag:0,ie=C.children,{patchFlag:pe,shapeFlag:ve}=C;if(pe>0){if(pe&128){ue(O,ie,N,$,B,V,oe,P,D);return}else if(pe&256){re(O,ie,N,$,B,V,oe,P,D);return}}ve&8?(me&16&&ge(O,B,V),ie!==O&&d(N,ie)):me&16?ve&16?ue(O,ie,N,$,B,V,oe,P,D):ge(O,B,V,!0):(me&8&&d(N,""),ve&16&&ee(ie,N,$,B,V,oe,P,D))},re=(k,C,N,$,B,V,oe,P,D)=>{k=k||on,C=C||on;const O=k.length,me=C.length,ie=Math.min(O,me);let pe;for(pe=0;pe<ie;pe++){const ve=C[pe]=D?ws(C[pe]):Wt(C[pe]);_(k[pe],ve,N,null,B,V,oe,P,D)}O>me?ge(k,B,V,!0,!1,ie):ee(C,N,$,B,V,oe,P,D,ie)},ue=(k,C,N,$,B,V,oe,P,D)=>{let O=0;const me=C.length;let ie=k.length-1,pe=me-1;for(;O<=ie&&O<=pe;){const ve=k[O],Y=C[O]=D?ws(C[O]):Wt(C[O]);if(Bs(ve,Y))_(ve,Y,N,null,B,V,oe,P,D);else break;O++}for(;O<=ie&&O<=pe;){const ve=k[ie],Y=C[pe]=D?ws(C[pe]):Wt(C[pe]);if(Bs(ve,Y))_(ve,Y,N,null,B,V,oe,P,D);else break;ie--,pe--}if(O>ie){if(O<=pe){const ve=pe+1,Y=ve<me?C[ve].el:$;for(;O<=pe;)_(null,C[O]=D?ws(C[O]):Wt(C[O]),N,Y,B,V,oe,P,D),O++}}else if(O>pe)for(;O<=ie;)le(k[O],B,V,!0),O++;else{const ve=O,Y=O,Q=new Map;for(O=Y;O<=pe;O++){const kt=C[O]=D?ws(C[O]):Wt(C[O]);kt.key!=null&&Q.set(kt.key,O)}let de,Oe=0;const Ze=pe-Y+1;let Vt=!1,$t=0;const Tn=new Array(Ze);for(O=0;O<Ze;O++)Tn[O]=0;for(O=ve;O<=ie;O++){const kt=k[O];if(Oe>=Ze){le(kt,B,V,!0);continue}let Bt;if(kt.key!=null)Bt=Q.get(kt.key);else for(de=Y;de<=pe;de++)if(Tn[de-Y]===0&&Bs(kt,C[de])){Bt=de;break}Bt===void 0?le(kt,B,V,!0):(Tn[Bt-Y]=O+1,Bt>=$t?$t=Bt:Vt=!0,_(kt,C[Bt],N,null,B,V,oe,P,D),Oe++)}const xl=Vt?hm(Tn):on;for(de=xl.length-1,O=Ze-1;O>=0;O--){const kt=Y+O,Bt=C[kt],kl=C[kt+1],Al=kt+1<me?kl.el||kl.placeholder:$;Tn[O]===0?_(null,Bt,N,Al,B,V,oe,P,D):Vt&&(de<0||O!==xl[de]?K(Bt,N,Al,2):de--)}}},K=(k,C,N,$,B=null)=>{const{el:V,type:oe,transition:P,children:D,shapeFlag:O}=k;if(O&6){K(k.component.subTree,C,N,$);return}if(O&128){k.suspense.move(C,N,$);return}if(O&64){oe.move(k,C,N,fe);return}if(oe===Ve){n(V,C,N);for(let ie=0;ie<D.length;ie++)K(D[ie],C,N,$);n(k.anchor,C,N);return}if(oe===mi){E(k,C,N);return}if($!==2&&O&1&&P)if($===0)P.beforeEnter(V),n(V,C,N),dt(()=>P.enter(V),B);else{const{leave:ie,delayLeave:pe,afterLeave:ve}=P,Y=()=>{k.ctx.isUnmounted?o(V):n(V,C,N)},Q=()=>{V._isLeaving&&V[as](!0),ie(V,()=>{Y(),ve&&ve()})};pe?pe(V,Y,Q):Q()}else n(V,C,N)},le=(k,C,N,$=!1,B=!1)=>{const{type:V,props:oe,ref:P,children:D,dynamicChildren:O,shapeFlag:me,patchFlag:ie,dirs:pe,cacheIndex:ve}=k;if(ie===-2&&(B=!1),P!=null&&(fs(),Xn(P,null,N,k,!0),ps()),ve!=null&&(C.renderCache[ve]=void 0),me&256){C.ctx.deactivate(k);return}const Y=me&1&&pe,Q=!cn(k);let de;if(Q&&(de=oe&&oe.onVnodeBeforeUnmount)&&zt(de,C,k),me&6)ce(k.component,N,$);else{if(me&128){k.suspense.unmount(N,$);return}Y&&Ds(k,null,C,"beforeUnmount"),me&64?k.type.remove(k,C,N,fe,$):O&&!O.hasOnce&&(V!==Ve||ie>0&&ie&64)?ge(O,C,N,!1,!0):(V===Ve&&ie&384||!B&&me&16)&&ge(D,C,N),$&&Ie(k)}(Q&&(de=oe&&oe.onVnodeUnmounted)||Y)&&dt(()=>{de&&zt(de,C,k),Y&&Ds(k,null,C,"unmounted")},N)},Ie=k=>{const{type:C,el:N,anchor:$,transition:B}=k;if(C===Ve){Ae(N,$);return}if(C===mi){A(k);return}const V=()=>{o(N),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(k.shapeFlag&1&&B&&!B.persisted){const{leave:oe,delayLeave:P}=B,D=()=>oe(N,V);P?P(k.el,V,D):D()}else V()},Ae=(k,C)=>{let N;for(;k!==C;)N=f(k),o(k),k=N;o(C)},ce=(k,C,N)=>{const{bum:$,scope:B,job:V,subTree:oe,um:P,m:D,a:O}=k;Bl(D),Bl(O),$&&Uo($),B.stop(),V&&(V.flags|=8,le(oe,k,C,N)),P&&dt(P,C),dt(()=>{k.isUnmounted=!0},C)},ge=(k,C,N,$=!1,B=!1,V=0)=>{for(let oe=V;oe<k.length;oe++)le(k[oe],C,N,$,B)},T=k=>{if(k.shapeFlag&6)return T(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const C=f(k.anchor||k.el),N=C&&C[du];return N?f(N):C};let te=!1;const se=(k,C,N)=>{k==null?C._vnode&&le(C._vnode,null,null,!0):_(C._vnode||null,k,C,null,null,null,N),C._vnode=k,te||(te=!0,Tl(),au(),te=!1)},fe={p:_,um:le,m:K,r:Ie,mt:S,mc:ee,pc:X,pbc:Z,n:T,o:t};return{render:se,hydrate:void 0,createApp:sm(se)}}function pi({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ms({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function um(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ba(t,e,s=!1){const n=t.children,o=e.children;if(ye(n)&&ye(o))for(let r=0;r<n.length;r++){const i=n[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=ws(o[r]),a.el=i.el),!s&&a.patchFlag!==-2&&Ba(i,a)),a.type===Wr&&a.patchFlag!==-1&&(a.el=i.el),a.type===ot&&!a.el&&(a.el=i.el)}}function hm(t){const e=t.slice(),s=[0];let n,o,r,i,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(o=s[s.length-1],t[o]<c){e[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)a=r+i>>1,t[s[a]]<c?r=a+1:i=a;c<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=e[i];return s}function Fu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Fu(e)}function Bl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const fm=Symbol.for("v-scx"),pm=()=>Zt(fm);function St(t,e,s){return Vu(t,e,s)}function Vu(t,e,s=Pe){const{immediate:n,deep:o,flush:r,once:i}=s,a=Ye({},s),l=e&&n||!e&&r!=="post";let c;if(oo){if(r==="sync"){const p=pm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=qt,p.resume=qt,p.pause=qt,p}}const d=rt;a.call=(p,y,_)=>Ot(p,d,y,_);let u=!1;r==="post"?a.scheduler=p=>{dt(p,d&&d.suspense)}:r!=="sync"&&(u=!0,a.scheduler=(p,y)=>{y?p():Fa(p)}),a.augmentJob=p=>{e&&(p.flags|=4),u&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Tp(t,e,a);return oo&&(c?c.push(f):l&&f()),f}function mm(t,e,s){const n=this.proxy,o=Ge(t)?t.includes(".")?$u(n,t):()=>n[t]:t.bind(n,n);let r;be(e)?r=e:(r=e.handler,s=e);const i=bo(this),a=Vu(o,r.bind(n),s);return i(),a}function $u(t,e){const s=e.split(".");return()=>{let n=t;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const gm=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Lt(e)}Modifiers`]||t[`${Rs(e)}Modifiers`];function ym(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Pe;let o=s;const r=e.startsWith("update:"),i=r&&gm(n,e.slice(7));i&&(i.trim&&(o=s.map(d=>Ge(d)?d.trim():d)),i.number&&(o=s.map(sr)));let a,l=n[a=ai(e)]||n[a=ai(Lt(e))];!l&&r&&(l=n[a=ai(Rs(e))]),l&&Ot(l,t,6,o);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(c,t,6,o)}}const _m=new WeakMap;function Bu(t,e,s=!1){const n=s?_m:e.emitsCache,o=n.get(t);if(o!==void 0)return o;const r=t.emits;let i={},a=!1;if(!be(t)){const l=c=>{const d=Bu(c,e,!0);d&&(a=!0,Ye(i,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Le(t)&&n.set(t,null),null):(ye(r)?r.forEach(l=>i[l]=null):Ye(i,r),Le(t)&&n.set(t,i),i)}function Hr(t,e){return!t||!Pr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Rs(e))||Te(t,e))}function zl(t){const{type:e,vnode:s,proxy:n,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:l,render:c,renderCache:d,props:u,data:f,setupState:p,ctx:y,inheritAttrs:_}=t,w=ir(t);let b,x;try{if(s.shapeFlag&4){const A=o||n,L=A;b=Wt(c.call(L,A,d,u,p,f,y)),x=a}else{const A=e;b=Wt(A.length>1?A(u,{attrs:a,slots:i,emit:l}):A(u,null)),x=e.props?a:vm(a)}}catch(A){Zn.length=0,Br(A,t,1),b=_e(ot)}let E=b;if(x&&_!==!1){const A=Object.keys(x),{shapeFlag:L}=E;A.length&&L&7&&(r&&A.some(Na)&&(x=bm(x,r)),E=Is(E,x,!1,!0))}return s.dirs&&(E=Is(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&to(E,s.transition),b=E,ir(w),b}const vm=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pr(s))&&((e||(e={}))[s]=t[s]);return e},bm=(t,e)=>{const s={};for(const n in t)(!Na(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function wm(t,e,s){const{props:n,children:o,component:r}=t,{props:i,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?jl(n,i,c):!!i;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(i[f]!==n[f]&&!Hr(c,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?jl(n,i,c):!0:!!i;return!1}function jl(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(e[r]!==t[r]&&!Hr(s,r))return!0}return!1}function xm({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const zu=t=>t.__isSuspense;function km(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):Rp(t)}const Ve=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),ot=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),Zn=[];let Ct=null;function H(t=!1){Zn.push(Ct=t?null:[])}function Am(){Zn.pop(),Ct=Zn[Zn.length-1]||null}let so=1;function cr(t,e=!1){so+=t,t<0&&Ct&&e&&(Ct.hasOnce=!0)}function ju(t){return t.dynamicChildren=so>0?Ct||on:null,Am(),so>0&&Ct&&Ct.push(t),t}function q(t,e,s,n,o,r){return ju(h(t,e,s,n,o,r,!0))}function Ts(t,e,s,n,o){return ju(_e(t,e,s,n,o,!0))}function no(t){return t?t.__v_isVNode===!0:!1}function Bs(t,e){return t.type===e.type&&t.key===e.key}const Uu=({key:t})=>t??null,Xo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||Je(t)||be(t)?{i:et,r:t,k:e,f:!!s}:t:null);function h(t,e=null,s=null,n=0,o=null,r=t===Ve?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Uu(e),ref:e&&Xo(e),scopeId:cu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:et};return a?(za(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=Ge(s)?8:16),so>0&&!i&&Ct&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ct.push(l),l}const _e=Cm;function Cm(t,e=null,s=null,n=0,o=null,r=!1){if((!t||t===Au)&&(t=ot),no(t)){const a=Is(t,e,!0);return s&&za(a,s),so>0&&!r&&Ct&&(a.shapeFlag&6?Ct[Ct.indexOf(t)]=a:Ct.push(a)),a.patchFlag=-2,a}if(Om(t)&&(t=t.__vccOpts),e){e=Sm(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=bt(a)),Le(l)&&(Ga(l)&&!ye(l)&&(l=Ye({},l)),e.style=Fr(l))}const i=Ge(t)?1:zu(t)?128:uu(t)?64:Le(t)?4:be(t)?2:0;return h(t,e,s,n,o,i,r,!0)}function Sm(t){return t?Ga(t)||Ru(t)?Ye({},t):t:null}function Is(t,e,s=!1,n=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:l}=t,c=e?Em(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Uu(c),ref:e&&e.ref?s&&r?ye(r)?r.concat(Xo(e)):[r,Xo(e)]:Xo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&to(d,l.clone(d)),d}function we(t=" ",e=0){return _e(Wr,null,t,e)}function Re(t="",e=!1){return e?(H(),Ts(ot,null,t)):_e(ot,null,t)}function Wt(t){return t==null||typeof t=="boolean"?_e(ot):ye(t)?_e(Ve,null,t.slice()):no(t)?ws(t):_e(Wr,null,String(t))}function ws(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function za(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ye(e))s=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),za(t,o()),o._c&&(o._d=!0));return}else{s=32;const o=e._;!o&&!Ru(e)?e._ctx=et:o===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:et},s=32):(e=String(e),n&64?(s=16,e=[we(e)]):s=8);t.children=e,t.shapeFlag|=s}function Em(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=bt([e.class,n.class]));else if(o==="style")e.style=Fr([e.style,n.style]);else if(Pr(o)){const r=e[o],i=n[o];i&&r!==i&&!(ye(r)&&r.includes(i))&&(e[o]=r?[].concat(r,i):i)}else o!==""&&(e[o]=n[o])}return e}function zt(t,e,s,n=null){Ot(t,e,7,[s,n])}const Nm=Tu();let Tm=0;function Im(t,e,s){const n=t.type,o=(e?e.appContext:t.appContext)||Nm,r={uid:Tm++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Du(n,o),emitsOptions:Bu(n,o),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:n.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ym.bind(null,r),t.ce&&t.ce(r),r}let rt=null;const Hu=()=>rt||et;let dr,Ji;{const t=Gr(),e=(s,n)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(n),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};dr=e("__VUE_INSTANCE_SETTERS__",s=>rt=s),Ji=e("__VUE_SSR_SETTERS__",s=>oo=s)}const bo=t=>{const e=rt;return dr(t),t.scope.on(),()=>{t.scope.off(),dr(e)}},Ul=()=>{rt&&rt.scope.off(),dr(null)};function Wu(t){return t.vnode.shapeFlag&4}let oo=!1;function Lm(t,e=!1,s=!1){e&&Ji(e);const{props:n,children:o}=t.vnode,r=Wu(t);nm(t,n,r,e),am(t,o,s||e);const i=r?Rm(t,e):void 0;return e&&Ji(!1),i}function Rm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zp);const{setup:n}=s;if(n){fs();const o=t.setupContext=n.length>1?Dm(t):null,r=bo(t),i=vo(n,t,0,[t.props,o]),a=Md(i);if(ps(),r(),(a||t.sp)&&!cn(t)&&bu(t),a){if(i.then(Ul,Ul),e)return i.then(l=>{Hl(t,l)}).catch(l=>{Br(l,t,0)});t.asyncDep=i}else Hl(t,i)}else Xu(t)}function Hl(t,e,s){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=ou(e)),Xu(t)}function Xu(t,e,s){const n=t.type;t.render||(t.render=n.render||qt);{const o=bo(t);fs();try{Kp(t)}finally{ps(),o()}}}const Pm={get(t,e){return st(t,"get",""),t[e]}};function Dm(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Pm),slots:t.slots,emit:t.emit,expose:e}}function Xr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ou(xp(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in qn)return qn[s](t)},has(e,s){return s in e||s in qn}})):t.proxy}function Mm(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function Om(t){return be(t)&&"__vccOpts"in t}const it=(t,e)=>Ep(t,e,oo);function ja(t,e,s){try{cr(-1);const n=arguments.length;return n===2?Le(e)&&!ye(e)?no(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&no(s)&&(s=[s]),_e(t,e,s))}finally{cr(1)}}const Gm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yi;const Wl=typeof window<"u"&&window.trustedTypes;if(Wl)try{Yi=Wl.createPolicy("vue",{createHTML:t=>t})}catch{}const qu=Yi?t=>Yi.createHTML(t):t=>t,Fm="http://www.w3.org/2000/svg",Vm="http://www.w3.org/1998/Math/MathML",rs=typeof document<"u"?document:null,Xl=rs&&rs.createElement("template"),$m={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const o=e==="svg"?rs.createElementNS(Fm,t):e==="mathml"?rs.createElementNS(Vm,t):s?rs.createElement(t,{is:s}):rs.createElement(t);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>rs.createTextNode(t),createComment:t=>rs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>rs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,o,r){const i=s?s.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{Xl.innerHTML=qu(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Xl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ys="transition",Ln="animation",ro=Symbol("_vtc"),Zu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Bm=Ye({},pu,Zu),zm=t=>(t.displayName="Transition",t.props=Bm,t),ql=zm((t,{slots:e})=>ja(Gp,jm(t),e)),Os=(t,e=[])=>{ye(t)?t.forEach(s=>s(...e)):t&&t(...e)},Zl=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function jm(t){const e={};for(const R in t)R in Zu||(e[R]=t[R]);if(t.css===!1)return e;const{name:s="v",type:n,duration:o,enterFromClass:r=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:c=i,appearToClass:d=a,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,y=Um(o),_=y&&y[0],w=y&&y[1],{onBeforeEnter:b,onEnter:x,onEnterCancelled:E,onLeave:A,onLeaveCancelled:L,onBeforeAppear:z=b,onAppear:j=x,onAppearCancelled:ee=E}=e,W=(R,G,S,M)=>{R._enterCancelled=M,Gs(R,G?d:a),Gs(R,G?c:i),S&&S()},Z=(R,G)=>{R._isLeaving=!1,Gs(R,u),Gs(R,p),Gs(R,f),G&&G()},U=R=>(G,S)=>{const M=R?j:x,I=()=>W(G,R,S);Os(M,[G,I]),Kl(()=>{Gs(G,R?l:r),ts(G,R?d:a),Zl(M)||Jl(G,n,_,I)})};return Ye(e,{onBeforeEnter(R){Os(b,[R]),ts(R,r),ts(R,i)},onBeforeAppear(R){Os(z,[R]),ts(R,l),ts(R,c)},onEnter:U(!1),onAppear:U(!0),onLeave(R,G){R._isLeaving=!0;const S=()=>Z(R,G);ts(R,u),R._enterCancelled?(ts(R,f),ec(R)):(ec(R),ts(R,f)),Kl(()=>{R._isLeaving&&(Gs(R,u),ts(R,p),Zl(A)||Jl(R,n,w,S))}),Os(A,[R,S])},onEnterCancelled(R){W(R,!1,void 0,!0),Os(E,[R])},onAppearCancelled(R){W(R,!0,void 0,!0),Os(ee,[R])},onLeaveCancelled(R){Z(R),Os(L,[R])}})}function Um(t){if(t==null)return null;if(Le(t))return[gi(t.enter),gi(t.leave)];{const e=gi(t);return[e,e]}}function gi(t){return Xf(t)}function ts(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[ro]||(t[ro]=new Set)).add(e)}function Gs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[ro];s&&(s.delete(e),s.size||(t[ro]=void 0))}function Kl(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Hm=0;function Jl(t,e,s,n){const o=t._endId=++Hm,r=()=>{o===t._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:i,timeout:a,propCount:l}=Wm(t,e);if(!i)return n();const c=i+"end";let d=0;const u=()=>{t.removeEventListener(c,f),r()},f=p=>{p.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,f)}function Wm(t,e){const s=window.getComputedStyle(t),n=y=>(s[y]||"").split(", "),o=n(`${ys}Delay`),r=n(`${ys}Duration`),i=Yl(o,r),a=n(`${Ln}Delay`),l=n(`${Ln}Duration`),c=Yl(a,l);let d=null,u=0,f=0;e===ys?i>0&&(d=ys,u=i,f=r.length):e===Ln?c>0&&(d=Ln,u=c,f=l.length):(u=Math.max(i,c),d=u>0?i>c?ys:Ln:null,f=d?d===ys?r.length:l.length:0);const p=d===ys&&/\b(?:transform|all)(?:,|$)/.test(n(`${ys}Property`).toString());return{type:d,timeout:u,propCount:f,hasTransform:p}}function Yl(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Ql(s)+Ql(t[n])))}function Ql(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ec(t){return(t?t.ownerDocument:document).body.offsetHeight}function Xm(t,e,s){const n=t[ro];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ur=Symbol("_vod"),Ku=Symbol("_vsh"),Ro={name:"show",beforeMount(t,{value:e},{transition:s}){t[ur]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Rn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Rn(t,!0),n.enter(t)):n.leave(t,()=>{Rn(t,!1)}):Rn(t,e))},beforeUnmount(t,{value:e}){Rn(t,e)}};function Rn(t,e){t.style.display=e?t[ur]:"none",t[Ku]=!e}const qm=Symbol(""),Zm=/(?:^|;)\s*display\s*:/;function Km(t,e,s){const n=t.style,o=Ge(s);let r=!1;if(s&&!o){if(e)if(Ge(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&qo(n,a,"")}else for(const i in e)s[i]==null&&qo(n,i,"");for(const i in s)i==="display"&&(r=!0),qo(n,i,s[i])}else if(o){if(e!==s){const i=n[qm];i&&(s+=";"+i),n.cssText=s,r=Zm.test(s)}}else e&&t.removeAttribute("style");ur in t&&(t[ur]=r?n.display:"",t[Ku]&&(n.display="none"))}const tc=/\s*!important$/;function qo(t,e,s){if(ye(s))s.forEach(n=>qo(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Jm(t,e);tc.test(s)?t.setProperty(Rs(n),s.replace(tc,""),"important"):t[n]=s}}const sc=["Webkit","Moz","ms"],yi={};function Jm(t,e){const s=yi[e];if(s)return s;let n=Lt(e);if(n!=="filter"&&n in t)return yi[e]=n;n=Or(n);for(let o=0;o<sc.length;o++){const r=sc[o]+n;if(r in t)return yi[e]=r}return e}const nc="http://www.w3.org/1999/xlink";function oc(t,e,s,n,o,r=Qf(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(nc,e.slice(6,e.length)):t.setAttributeNS(nc,e,s):s==null||r&&!Vd(s)?t.removeAttribute(e):t.setAttribute(e,r?"":Mt(s)?String(s):s)}function rc(t,e,s,n,o){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?qu(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Vd(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(o||e)}function ks(t,e,s,n){t.addEventListener(e,s,n)}function Ym(t,e,s,n){t.removeEventListener(e,s,n)}const ic=Symbol("_vei");function Qm(t,e,s,n,o=null){const r=t[ic]||(t[ic]={}),i=r[e];if(n&&i)i.value=n;else{const[a,l]=eg(e);if(n){const c=r[e]=ng(n,o);ks(t,a,c,l)}else i&&(Ym(t,a,i,l),r[e]=void 0)}}const ac=/(?:Once|Passive|Capture)$/;function eg(t){let e;if(ac.test(t)){e={};let n;for(;n=t.match(ac);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rs(t.slice(2)),e]}let _i=0;const tg=Promise.resolve(),sg=()=>_i||(tg.then(()=>_i=0),_i=Date.now());function ng(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ot(og(n,s.value),e,5,[n])};return s.value=t,s.attached=sg(),s}function og(t,e){if(ye(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const lc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rg=(t,e,s,n,o,r)=>{const i=o==="svg";e==="class"?Xm(t,n,i):e==="style"?Km(t,s,n):Pr(e)?Na(e)||Qm(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ig(t,e,n,i))?(rc(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&oc(t,e,n,i,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(n))?rc(t,Lt(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),oc(t,e,n,i))};function ig(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&lc(e)&&be(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return lc(e)&&Ge(s)?!1:e in t}const yn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?s=>Uo(e,s):e};function ag(t){t.target.composing=!0}function cc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hs=Symbol("_assign"),dc={created(t,{modifiers:{lazy:e,trim:s,number:n}},o){t[hs]=yn(o);const r=n||o.props&&o.props.type==="number";ks(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),r&&(a=sr(a)),t[hs](a)}),s&&ks(t,"change",()=>{t.value=t.value.trim()}),e||(ks(t,"compositionstart",ag),ks(t,"compositionend",cc),ks(t,"change",cc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:o,number:r}},i){if(t[hs]=yn(i),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?sr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||o&&t.value.trim()===l)||(t.value=l))}},Qi={created(t,{value:e},s){t.checked=gn(e,s.props.value),t[hs]=yn(s),ks(t,"change",()=>{t[hs](io(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[hs]=yn(n),e!==s&&(t.checked=gn(e,n.props.value))}},_n={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const o=Dr(e);ks(t,"change",()=>{const r=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?sr(io(i)):io(i));t[hs](t.multiple?o?new Set(r):r:r[0]),t._assigning=!0,Cn(()=>{t._assigning=!1})}),t[hs]=yn(n)},mounted(t,{value:e}){uc(t,e)},beforeUpdate(t,e,s){t[hs]=yn(s)},updated(t,{value:e}){t._assigning||uc(t,e)}};function uc(t,e){const s=t.multiple,n=ye(e);if(!(s&&!n&&!Dr(e))){for(let o=0,r=t.options.length;o<r;o++){const i=t.options[o],a=io(i);if(s)if(n){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=tp(e,a)>-1}else i.selected=e.has(a);else if(gn(io(i),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function io(t){return"_value"in t?t._value:t.value}const lg=["ctrl","shift","alt","meta"],cg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lg.some(s=>t[`${s}Key`]&&!e.includes(s))},Ju=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((o,...r)=>{for(let i=0;i<e.length;i++){const a=cg[e[i]];if(a&&a(o,e))return}return t(o,...r)}))},dg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pn=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(o=>{if(!("key"in o))return;const r=Rs(o.key);if(e.some(i=>i===r||dg[i]===r))return t(o)}))},ug=Ye({patchProp:rg},$m);let hc;function hg(){return hc||(hc=cm(ug))}const fg=((...t)=>{const e=hg().createApp(...t),{mount:s}=e;return e.mount=n=>{const o=mg(n);if(!o)return;const r=e._component;!be(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,pg(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},e});function pg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mg(t){return Ge(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const tn=typeof document<"u";function Yu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Yu(t.default)}const Ne=Object.assign;function vi(t,e){const s={};for(const n in e){const o=e[n];s[n]=Gt(o)?o.map(t):t(o)}return s}const Kn=()=>{},Gt=Array.isArray;function fc(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const Qu=/#/g,yg=/&/g,_g=/\//g,vg=/=/g,bg=/\?/g,eh=/\+/g,wg=/%5B/g,xg=/%5D/g,th=/%5E/g,kg=/%60/g,sh=/%7B/g,Ag=/%7C/g,nh=/%7D/g,Cg=/%20/g;function Ua(t){return t==null?"":encodeURI(""+t).replace(Ag,"|").replace(wg,"[").replace(xg,"]")}function Sg(t){return Ua(t).replace(sh,"{").replace(nh,"}").replace(th,"^")}function ea(t){return Ua(t).replace(eh,"%2B").replace(Cg,"+").replace(Qu,"%23").replace(yg,"%26").replace(kg,"`").replace(sh,"{").replace(nh,"}").replace(th,"^")}function Eg(t){return ea(t).replace(vg,"%3D")}function Ng(t){return Ua(t).replace(Qu,"%23").replace(bg,"%3F")}function Tg(t){return Ng(t).replace(_g,"%2F")}function ao(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Ig=/\/$/,Lg=t=>t.replace(Ig,"");function bi(t,e,s="/"){let n,o={},r="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),r=e.slice(l,a>0?a:e.length),o=t(r.slice(1))),a>=0&&(n=n||e.slice(0,a),i=e.slice(a,e.length)),n=Mg(n??e,s),{fullPath:n+r+i,path:n,query:o,hash:ao(i)}}function Rg(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function pc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Pg(t,e,s){const n=e.matched.length-1,o=s.matched.length-1;return n>-1&&n===o&&vn(e.matched[n],s.matched[o])&&oh(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function vn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function oh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Dg(t[s],e[s]))return!1;return!0}function Dg(t,e){return Gt(t)?mc(t,e):Gt(e)?mc(e,t):t===e}function mc(t,e){return Gt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Mg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let r=s.length-1,i,a;for(i=0;i<n.length;i++)if(a=n[i],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(i).join("/")}const _s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ta=(function(t){return t.pop="pop",t.push="push",t})({}),wi=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Og(t){if(!t)if(tn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Lg(t)}const Gg=/^[^#]+#/;function Fg(t,e){return t.replace(Gg,"#")+e}function Vg(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const qr=()=>({left:window.scrollX,top:window.scrollY});function $g(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;e=Vg(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gc(t,e){return(history.state?history.state.position-e:-1)+t}const sa=new Map;function Bg(t,e){sa.set(t,e)}function zg(t){const e=sa.get(t);return sa.delete(t),e}function jg(t){return typeof t=="string"||t&&typeof t=="object"}function rh(t){return typeof t=="string"||typeof t=="symbol"}let Fe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ih=Symbol("");Fe.MATCHER_NOT_FOUND+"",Fe.NAVIGATION_GUARD_REDIRECT+"",Fe.NAVIGATION_ABORTED+"",Fe.NAVIGATION_CANCELLED+"",Fe.NAVIGATION_DUPLICATED+"";function bn(t,e){return Ne(new Error,{type:t,[ih]:!0},e)}function ss(t,e){return t instanceof Error&&ih in t&&(e==null||!!(t.type&e))}const Ug=["params","query","hash"];function Hg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of Ug)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Wg(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const o=s[n].replace(eh," "),r=o.indexOf("="),i=ao(r<0?o:o.slice(0,r)),a=r<0?null:ao(o.slice(r+1));if(i in e){let l=e[i];Gt(l)||(l=e[i]=[l]),l.push(a)}else e[i]=a}return e}function yc(t){let e="";for(let s in t){const n=t[s];if(s=Eg(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Gt(n)?n.map(o=>o&&ea(o)):[n&&ea(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function Xg(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Gt(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const qg=Symbol(""),_c=Symbol(""),Ha=Symbol(""),Wa=Symbol(""),na=Symbol("");function Dn(){let t=[];function e(n){return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function xs(t,e,s,n,o,r=i=>i()){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(bn(Fe.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):jg(f)?l(bn(Fe.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(i&&n.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),a())},d=r(()=>t.call(n&&n.instances[o],e,s,c));let u=Promise.resolve(d);t.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function xi(t,e,s,n,o=r=>r()){const r=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Yu(l)){const c=(l.__vccOpts||l)[e];c&&r.push(xs(c,s,n,i,a,o))}else{let c=l();r.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const u=gg(d)?d.default:d;i.mods[a]=d,i.components[a]=u;const f=(u.__vccOpts||u)[e];return f&&xs(f,s,n,i,a,o)()}))}}return r}function Zg(t,e){const s=[],n=[],o=[],r=Math.max(e.matched.length,t.matched.length);for(let i=0;i<r;i++){const a=e.matched[i];a&&(t.matched.find(c=>vn(c,a))?n.push(a):s.push(a));const l=t.matched[i];l&&(e.matched.find(c=>vn(c,l))||o.push(l))}return[s,n,o]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Kg=()=>location.protocol+"//"+location.host;function ah(t,e){const{pathname:s,search:n,hash:o}=e,r=t.indexOf("#");if(r>-1){let i=o.includes(t.slice(r))?t.slice(r).length:1,a=o.slice(i);return a[0]!=="/"&&(a="/"+a),pc(a,"")}return pc(s,t)+n+o}function Jg(t,e,s,n){let o=[],r=[],i=null;const a=({state:f})=>{const p=ah(t,location),y=s.value,_=e.value;let w=0;if(f){if(s.value=p,e.value=f,i&&i===y){i=null;return}w=_?f.position-_.position:0}else n(p);o.forEach(b=>{b(s.value,y,{delta:w,type:ta.pop,direction:w?w>0?wi.forward:wi.back:wi.unknown})})};function l(){i=s.value}function c(f){o.push(f);const p=()=>{const y=o.indexOf(f);y>-1&&o.splice(y,1)};return r.push(p),p}function d(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Ne({},f.state,{scroll:qr()}),"")}}function u(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:c,destroy:u}}function vc(t,e,s,n=!1,o=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:o?qr():null}}function Yg(t){const{history:e,location:s}=window,n={value:ah(t,s)},o={value:e.state};o.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,d){const u=t.indexOf("#"),f=u>-1?(s.host&&document.querySelector("base")?t:t.slice(u))+l:Kg()+t+l;try{e[d?"replaceState":"pushState"](c,"",f),o.value=c}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function i(l,c){r(l,Ne({},e.state,vc(o.value.back,l,o.value.forward,!0),c,{position:o.value.position}),!0),n.value=l}function a(l,c){const d=Ne({},o.value,e.state,{forward:l,scroll:qr()});r(d.current,d,!0),r(l,Ne({},vc(n.value,l,null),{position:d.position+1},c),!1),n.value=l}return{location:n,state:o,push:a,replace:i}}function Qg(t){t=Og(t);const e=Yg(t),s=Jg(t,e.state,e.location,e.replace);function n(r,i=!0){i||s.pauseListeners(),history.go(r)}const o=Ne({location:"",base:t,go:n,createHref:Fg.bind(null,t)},e,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}let zs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var He=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(He||{});const ey={type:zs.Static,value:""},ty=/[a-zA-Z0-9_]/;function sy(t){if(!t)return[[]];if(t==="/")return[[ey]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=He.Static,n=s;const o=[];let r;function i(){r&&o.push(r),r=[]}let a=0,l,c="",d="";function u(){c&&(s===He.Static?r.push({type:zs.Static,value:c}):s===He.Param||s===He.ParamRegExp||s===He.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:zs.Param,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==He.ParamRegExp){n=s,s=He.EscapeNext;continue}switch(s){case He.Static:l==="/"?(c&&u(),i()):l===":"?(u(),s=He.Param):f();break;case He.EscapeNext:f(),s=n;break;case He.Param:l==="("?s=He.ParamRegExp:ty.test(l)?f():(u(),s=He.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case He.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=He.ParamRegExpEnd:d+=l;break;case He.ParamRegExpEnd:u(),s=He.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===He.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),u(),i(),o}const bc="[^/]+?",ny={sensitive:!1,strict:!1,start:!0,end:!0};var ut=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(ut||{});const oy=/[.+*?^${}()[\]/\\]/g;function ry(t,e){const s=Ne({},ny,e),n=[];let o=s.start?"^":"";const r=[];for(const c of t){const d=c.length?[]:[ut.Root];s.strict&&!c.length&&(o+="/");for(let u=0;u<c.length;u++){const f=c[u];let p=ut.Segment+(s.sensitive?ut.BonusCaseSensitive:0);if(f.type===zs.Static)u||(o+="/"),o+=f.value.replace(oy,"\\$&"),p+=ut.Static;else if(f.type===zs.Param){const{value:y,repeatable:_,optional:w,regexp:b}=f;r.push({name:y,repeatable:_,optional:w});const x=b||bc;if(x!==bc){p+=ut.BonusCustomRegExp;try{`${x}`}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${x}): `+A.message)}}let E=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;u||(E=w&&c.length<2?`(?:/${E})`:"/"+E),w&&(E+="?"),o+=E,p+=ut.Dynamic,w&&(p+=ut.BonusOptional),_&&(p+=ut.BonusRepeatable),x===".*"&&(p+=ut.BonusWildcard)}d.push(p)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=ut.BonusStrict}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function a(c){const d=c.match(i),u={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",y=r[f-1];u[y.name]=p&&y.repeatable?p.split("/"):p}return u}function l(c){let d="",u=!1;for(const f of t){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const p of f)if(p.type===zs.Static)d+=p.value;else if(p.type===zs.Param){const{value:y,repeatable:_,optional:w}=p,b=y in c?c[y]:"";if(Gt(b)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const x=Gt(b)?b.join("/"):b;if(!x)if(w)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);d+=x}}return d||"/"}return{re:i,score:n,keys:r,parse:a,stringify:l}}function iy(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===ut.Static+ut.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ut.Static+ut.Segment?1:-1:0}function lh(t,e){let s=0;const n=t.score,o=e.score;for(;s<n.length&&s<o.length;){const r=iy(n[s],o[s]);if(r)return r;s++}if(Math.abs(o.length-n.length)===1){if(wc(n))return 1;if(wc(o))return-1}return o.length-n.length}function wc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ay={strict:!1,end:!0,sensitive:!1};function ly(t,e,s){const n=ry(sy(t.path),s),o=Ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function cy(t,e){const s=[],n=new Map;e=fc(ay,e);function o(u){return n.get(u)}function r(u,f,p){const y=!p,_=kc(u);_.aliasOf=p&&p.record;const w=fc(e,u),b=[_];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of A)b.push(kc(Ne({},_,{components:p?p.record.components:_.components,path:L,aliasOf:p?p.record:_})))}let x,E;for(const A of b){const{path:L}=A;if(f&&L[0]!=="/"){const z=f.record.path,j=z[z.length-1]==="/"?"":"/";A.path=f.record.path+(L&&j+L)}if(x=ly(A,f,w),p?p.alias.push(x):(E=E||x,E!==x&&E.alias.push(x),y&&u.name&&!Ac(x)&&i(u.name)),ch(x)&&l(x),_.children){const z=_.children;for(let j=0;j<z.length;j++)r(z[j],x,p&&p.children[j])}p=p||x}return E?()=>{i(E)}:Kn}function i(u){if(rh(u)){const f=n.get(u);f&&(n.delete(u),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(u);f>-1&&(s.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return s}function l(u){const f=hy(u,s);s.splice(f,0,u),u.record.name&&!Ac(u)&&n.set(u.record.name,u)}function c(u,f){let p,y={},_,w;if("name"in u&&u.name){if(p=n.get(u.name),!p)throw bn(Fe.MATCHER_NOT_FOUND,{location:u});w=p.record.name,y=Ne(xc(f.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),u.params&&xc(u.params,p.keys.map(E=>E.name))),_=p.stringify(y)}else if(u.path!=null)_=u.path,p=s.find(E=>E.re.test(_)),p&&(y=p.parse(_),w=p.record.name);else{if(p=f.name?n.get(f.name):s.find(E=>E.re.test(f.path)),!p)throw bn(Fe.MATCHER_NOT_FOUND,{location:u,currentLocation:f});w=p.record.name,y=Ne({},f.params,u.params),_=p.stringify(y)}const b=[];let x=p;for(;x;)b.unshift(x.record),x=x.parent;return{name:w,path:_,params:y,matched:b,meta:uy(b)}}t.forEach(u=>r(u));function d(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:i,clearRoutes:d,getRoutes:a,getRecordMatcher:o}}function xc(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function kc(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:dy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function dy(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Ac(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function uy(t){return t.reduce((e,s)=>Ne(e,s.meta),{})}function hy(t,e){let s=0,n=e.length;for(;s!==n;){const r=s+n>>1;lh(t,e[r])<0?n=r:s=r+1}const o=fy(t);return o&&(n=e.lastIndexOf(o,n-1)),n}function fy(t){let e=t;for(;e=e.parent;)if(ch(e)&&lh(t,e)===0)return e}function ch({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cc(t){const e=Zt(Ha),s=Zt(Wa),n=it(()=>{const l=m(t.to);return e.resolve(l)}),o=it(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],u=s.matched;if(!d||!u.length)return-1;const f=u.findIndex(vn.bind(null,d));if(f>-1)return f;const p=Sc(l[c-2]);return c>1&&Sc(d)===p&&u[u.length-1].path!==p?u.findIndex(vn.bind(null,l[c-2])):f}),r=it(()=>o.value>-1&&_y(s.params,n.value.params)),i=it(()=>o.value>-1&&o.value===s.matched.length-1&&oh(s.params,n.value.params));function a(l={}){if(yy(l)){const c=e[m(t.replace)?"replace":"push"](m(t.to)).catch(Kn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:it(()=>n.value.href),isActive:r,isExactActive:i,navigate:a}}function py(t){return t.length===1?t[0]:t}const my=vu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cc,setup(t,{slots:e}){const s=$r(Cc(t)),{options:n}=Zt(Ha),o=it(()=>({[Ec(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ec(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&py(e.default(s));return t.custom?r:ja("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},r)}}}),gy=my;function yy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _y(t,e){for(const s in e){const n=e[s],o=t[s];if(typeof n=="string"){if(n!==o)return!1}else if(!Gt(o)||o.length!==n.length||n.some((r,i)=>r!==o[i]))return!1}return!0}function Sc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ec=(t,e,s)=>t??e??s,vy=vu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Zt(na),o=it(()=>t.route||n.value),r=Zt(_c,0),i=it(()=>{let c=m(r);const{matched:d}=o.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),a=it(()=>o.value.matched[i.value]);Wo(_c,it(()=>i.value+1)),Wo(qg,a),Wo(na,o);const l=ae();return St(()=>[l.value,a.value,t.name],([c,d,u],[f,p,y])=>{d&&(d.instances[u]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!vn(d,p)||!f)&&(d.enterCallbacks[u]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=o.value,d=t.name,u=a.value,f=u&&u.components[d];if(!f)return Nc(s.default,{Component:f,route:c});const p=u.props[d],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,w=ja(f,Ne({},y,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Nc(s.default,{Component:w,route:c})||w}}});function Nc(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const by=vy;function wy(t){const e=cy(t.routes,t),s=t.parseQuery||Wg,n=t.stringifyQuery||yc,o=t.history,r=Dn(),i=Dn(),a=Dn(),l=kp(_s);let c=_s;tn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=vi.bind(null,T=>""+T),u=vi.bind(null,Tg),f=vi.bind(null,ao);function p(T,te){let se,fe;return rh(T)?(se=e.getRecordMatcher(T),fe=te):fe=T,e.addRoute(fe,se)}function y(T){const te=e.getRecordMatcher(T);te&&e.removeRoute(te)}function _(){return e.getRoutes().map(T=>T.record)}function w(T){return!!e.getRecordMatcher(T)}function b(T,te){if(te=Ne({},te||l.value),typeof T=="string"){const N=bi(s,T,te.path),$=e.resolve({path:N.path},te),B=o.createHref(N.fullPath);return Ne(N,$,{params:f($.params),hash:ao(N.hash),redirectedFrom:void 0,href:B})}let se;if(T.path!=null)se=Ne({},T,{path:bi(s,T.path,te.path).path});else{const N=Ne({},T.params);for(const $ in N)N[$]==null&&delete N[$];se=Ne({},T,{params:u(N)}),te.params=u(te.params)}const fe=e.resolve(se,te),he=T.hash||"";fe.params=d(f(fe.params));const k=Rg(n,Ne({},T,{hash:Sg(he),path:fe.path})),C=o.createHref(k);return Ne({fullPath:k,hash:he,query:n===yc?Xg(T.query):T.query||{}},fe,{redirectedFrom:void 0,href:C})}function x(T){return typeof T=="string"?bi(s,T,l.value.path):Ne({},T)}function E(T,te){if(c!==T)return bn(Fe.NAVIGATION_CANCELLED,{from:te,to:T})}function A(T){return j(T)}function L(T){return A(Ne(x(T),{replace:!0}))}function z(T,te){const se=T.matched[T.matched.length-1];if(se&&se.redirect){const{redirect:fe}=se;let he=typeof fe=="function"?fe(T,te):fe;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=x(he):{path:he},he.params={}),Ne({query:T.query,hash:T.hash,params:he.path!=null?{}:T.params},he)}}function j(T,te){const se=c=b(T),fe=l.value,he=T.state,k=T.force,C=T.replace===!0,N=z(se,fe);if(N)return j(Ne(x(N),{state:typeof N=="object"?Ne({},he,N.state):he,force:k,replace:C}),te||se);const $=se;$.redirectedFrom=te;let B;return!k&&Pg(n,fe,se)&&(B=bn(Fe.NAVIGATION_DUPLICATED,{to:$,from:fe}),K(fe,fe,!0,!1)),(B?Promise.resolve(B):Z($,fe)).catch(V=>ss(V)?ss(V,Fe.NAVIGATION_GUARD_REDIRECT)?V:ue(V):X(V,$,fe)).then(V=>{if(V){if(ss(V,Fe.NAVIGATION_GUARD_REDIRECT))return j(Ne({replace:C},x(V.to),{state:typeof V.to=="object"?Ne({},he,V.to.state):he,force:k}),te||$)}else V=R($,fe,!0,C,he);return U($,fe,V),V})}function ee(T,te){const se=E(T,te);return se?Promise.reject(se):Promise.resolve()}function W(T){const te=Ae.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(T):T()}function Z(T,te){let se;const[fe,he,k]=Zg(T,te);se=xi(fe.reverse(),"beforeRouteLeave",T,te);for(const N of fe)N.leaveGuards.forEach($=>{se.push(xs($,T,te))});const C=ee.bind(null,T,te);return se.push(C),ge(se).then(()=>{se=[];for(const N of r.list())se.push(xs(N,T,te));return se.push(C),ge(se)}).then(()=>{se=xi(he,"beforeRouteUpdate",T,te);for(const N of he)N.updateGuards.forEach($=>{se.push(xs($,T,te))});return se.push(C),ge(se)}).then(()=>{se=[];for(const N of k)if(N.beforeEnter)if(Gt(N.beforeEnter))for(const $ of N.beforeEnter)se.push(xs($,T,te));else se.push(xs(N.beforeEnter,T,te));return se.push(C),ge(se)}).then(()=>(T.matched.forEach(N=>N.enterCallbacks={}),se=xi(k,"beforeRouteEnter",T,te,W),se.push(C),ge(se))).then(()=>{se=[];for(const N of i.list())se.push(xs(N,T,te));return se.push(C),ge(se)}).catch(N=>ss(N,Fe.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function U(T,te,se){a.list().forEach(fe=>W(()=>fe(T,te,se)))}function R(T,te,se,fe,he){const k=E(T,te);if(k)return k;const C=te===_s,N=tn?history.state:{};se&&(fe||C?o.replace(T.fullPath,Ne({scroll:C&&N&&N.scroll},he)):o.push(T.fullPath,he)),l.value=T,K(T,te,se,C),ue()}let G;function S(){G||(G=o.listen((T,te,se)=>{if(!ce.listening)return;const fe=b(T),he=z(fe,ce.currentRoute.value);if(he){j(Ne(he,{replace:!0,force:!0}),fe).catch(Kn);return}c=fe;const k=l.value;tn&&Bg(gc(k.fullPath,se.delta),qr()),Z(fe,k).catch(C=>ss(C,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_CANCELLED)?C:ss(C,Fe.NAVIGATION_GUARD_REDIRECT)?(j(Ne(x(C.to),{force:!0}),fe).then(N=>{ss(N,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&!se.delta&&se.type===ta.pop&&o.go(-1,!1)}).catch(Kn),Promise.reject()):(se.delta&&o.go(-se.delta,!1),X(C,fe,k))).then(C=>{C=C||R(fe,k,!1),C&&(se.delta&&!ss(C,Fe.NAVIGATION_CANCELLED)?o.go(-se.delta,!1):se.type===ta.pop&&ss(C,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),U(fe,k,C)}).catch(Kn)}))}let M=Dn(),I=Dn(),F;function X(T,te,se){ue(T);const fe=I.list();return fe.length?fe.forEach(he=>he(T,te,se)):console.error(T),Promise.reject(T)}function re(){return F&&l.value!==_s?Promise.resolve():new Promise((T,te)=>{M.add([T,te])})}function ue(T){return F||(F=!T,S(),M.list().forEach(([te,se])=>T?se(T):te()),M.reset()),T}function K(T,te,se,fe){const{scrollBehavior:he}=t;if(!tn||!he)return Promise.resolve();const k=!se&&zg(gc(T.fullPath,0))||(fe||!se)&&history.state&&history.state.scroll||null;return Cn().then(()=>he(T,te,k)).then(C=>C&&$g(C)).catch(C=>X(C,T,te))}const le=T=>o.go(T);let Ie;const Ae=new Set,ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:_,resolve:b,options:t,push:A,replace:L,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:r.add,beforeResolve:i.add,afterEach:a.add,onError:I.add,isReady:re,install(T){T.component("RouterLink",gy),T.component("RouterView",by),T.config.globalProperties.$router=ce,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>m(l)}),tn&&!Ie&&l.value===_s&&(Ie=!0,A(o.location).catch(fe=>{}));const te={};for(const fe in _s)Object.defineProperty(te,fe,{get:()=>l.value[fe],enumerable:!0});T.provide(Ha,ce),T.provide(Wa,su(te)),T.provide(na,l);const se=T.unmount;Ae.add(T),T.unmount=function(){Ae.delete(T),Ae.size<1&&(c=_s,G&&G(),G=null,l.value=_s,Ie=!1,F=!1),se()}}};function ge(T){return T.reduce((te,se)=>te.then(()=>W(se)),Promise.resolve())}return ce}function xy(t){return Zt(Wa)}const Ys={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},ky="info",Tc="sandbox_logging_filters",Ic=["themeswitcher","codemirroreditor","editoradapter"];let Ay=class{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||ky,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=Ys[this.level.toUpperCase()]??Ys.INFO,this.loggingManager=e.loggingManager,this.console=e.console||console,this.component&&this.loggingManager&&this.loggingManager.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&Ys[e.toUpperCase()]<=this.currentLevel;const s=!this.component||!this.loggingManager||this.loggingManager.isComponentEnabled(this.component);return this.enabled&&s&&Ys[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>this.redactValue(s)):e}redactValue(e){if(typeof e=="string")return e.replace(/\b[a-zA-Z0-9_-]{20,}\b/g,"[REDACTED]");if(Array.isArray(e))return e.map(s=>this.redactValue(s));if(e&&typeof e=="object"&&e.constructor===Object){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=this.redactValue(e[n]));return s}return e}formatMessage(e,...s){const n=this.prefix?`[${this.prefix}] `:"",o=this.redactArgs(s);return[n+e,...o]}error(e,...s){this.shouldLog("error")&&this.console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&this.console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&this.console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&this.console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&this.console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0;const o=this.formatMessage(e,...s);this.redactSecrets=n,this.console.trace(...o)}}table(e,s){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&this.console.log(n),this.console.table(e,s)}}group(e){this.shouldLog("info")&&this.console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&this.console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&this.console.groupEnd()}time(e){this.shouldLog("debug")&&this.console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&this.console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=Ys[e.toUpperCase()]??Ys.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}},Cy=class{constructor(e={}){this.storage=e.storage,this.console=e.console||console,this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.registeredComponents=new Set,this.storage&&this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),this.console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),this.console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),this.console.log(" Logging disabled for ALL components (errors still show)")}status(){this.console.log(" Logging Status:"),this.console.log("  Global enabled:",this.globalEnabled),this.console.log("  Allow all:",this.allowAll),this.console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){this.console.log(" Available components to filter:"),Array.from(this.registeredComponents).sort().forEach(e=>{const s=this.isComponentEnabled(e);this.console.log(`  ${s?"":""} ${e}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents.add(e)}saveToStorage(){if(this.storage)try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};this.storage.setItem(Tc,JSON.stringify(e))}catch{}}loadFromStorage(){if(this.storage)try{const e=this.storage.getItem(Tc),s=JSON.parse(e||"{}");this.allowedComponents=new Set(s.allowedComponents||[]),this.allowAll=s.allowAll||!1,this.globalEnabled=s.globalEnabled!==!1,e||(this.allowedComponents=new Set(Ic))}catch{this.allowedComponents=new Set(Ic)}}};class dh{getItem(e){throw new Error("StorageAdapter.getItem must be implemented")}setItem(e,s){throw new Error("StorageAdapter.setItem must be implemented")}removeItem(e){throw new Error("StorageAdapter.removeItem must be implemented")}}let Sy=class extends dh{constructor(){super(),this.storage=new Map}getItem(e){return this.storage.get(e)??null}setItem(e,s){this.storage.set(e,s)}removeItem(e){this.storage.delete(e)}},Ey=class extends dh{getItem(e){try{return localStorage.getItem(e)}catch{return null}}setItem(e,s){try{localStorage.setItem(e,s)}catch{}}removeItem(e){try{localStorage.removeItem(e)}catch{}}};function Ny(){return typeof localStorage<"u"?new Ey:new Sy}let uh=class{getGlobal(){throw new Error("GlobalAdapter.getGlobal must be implemented")}setGlobalProperty(e,s){throw new Error("GlobalAdapter.setGlobalProperty must be implemented")}hasGlobalProperty(e){throw new Error("GlobalAdapter.hasGlobalProperty must be implemented")}};class Ty extends uh{getGlobal(){return window}setGlobalProperty(e,s){window[e]=s}hasGlobalProperty(e){return e in window}}let Iy=class extends uh{getGlobal(){return globalThis}setGlobalProperty(e,s){globalThis[e]=s}hasGlobalProperty(e){return e in globalThis}};function Ly(){return typeof window<"u"?new Ty:new Iy}const Ry=Ny(),Py=Ly(),Vs=new Cy({storage:Ry,console});typeof window<"u"&&Py.setGlobalProperty("logFilter",{enable:(...t)=>Vs.enable(...t),disable:(...t)=>Vs.disable(...t),enableAll:()=>Vs.enableAll(),disableAll:()=>Vs.disableAll(),status:()=>Vs.status(),list:()=>Vs.listComponents()});function Xe(t={}){return new Ay({...t,loggingManager:Vs})}const Dy=Xe({prefix:"i18n",level:"info"}),oa={en:{nav:{home:"Home",showcase:"Features Showcase",explorer:"Network Explorer",family:"Family Tree",docs:"Documentation"},common:{loading:"Loading...",error:"Error",success:"Success",darkMode:"Toggle dark mode",language:"Language"},footer:{madeBy:"Made with",by:"by",license:"MIT License"},home:{hero:{title:"Modern Network Analysis for JavaScript",subtitle:"Powerful graph theory and network analysis with worker-first architecture",description:"Analyze social networks, family trees, and complex graphs with ease. Fast parallel computation, comprehensive metrics, and beautiful visualizations - all in pure JavaScript.",cta:"Get Started",github:"View on GitHub"},features:[{icon:"",title:"Network Analytics",description:"Compute centrality metrics, clustering coefficients, and graph-level statistics with comprehensive analysis tools"},{icon:"",title:"Interactive Explorer",description:"Explore networks with drag-and-drop, zoom, pan, and real-time analysis of nodes and communities"},{icon:"",title:"Multiple Layouts",description:"11 layout algorithms including force-directed, Kamada-Kawai, spectral, and hierarchical layouts"},{icon:"",title:"Worker Performance",description:"Non-blocking UI with web workers for parallel computation on large graphs with thousands of nodes"},{icon:"",title:"Community Detection",description:"Find clusters and groups in networks using Louvain algorithm with modularity optimization"},{icon:"",title:"Rich Metrics",description:"Degree, betweenness, eigenvector, clustering, closeness, and more statistical features"}],code:{title:"Quick Start Example",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`}},docs:{title:"Documentation",subtitle:"Complete API reference for @guinetik/graph-js",sections:{quickStart:"Quick Start",coreClasses:"Core Classes",adapters:"Data Adapters",layouts:"Graph Layouts",community:"Community Detection",examples:"Usage Examples"},quickStart:{title:"Quick Start",install:"Installation",installCmd:"npm install @guinetik/graph-js",basicUsage:"Basic Usage",description:"Get started with network analysis in just a few lines of code."},graph:{title:"Graph",description:"Core graph data structure using adjacency maps for efficient operations.",methods:"Methods",methodsList:{addNode:{name:"addNode(nodeId)",description:"Add a single node to the graph"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Add multiple nodes from an array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Add an edge between two nodes"},removeNode:{name:"removeNode(nodeId)",description:"Remove a node and all its edges"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Get array of neighbor node IDs"},hasEdge:{name:"hasEdge(source, target)",description:"Check if edge exists"},numberOfNodes:{name:"numberOfNodes()",description:"Get total number of nodes"}}},networkStats:{title:"NetworkStats",description:"Main class for analyzing networks and calculating statistical metrics. All computation happens in web workers for optimal performance.",constructor:"Constructor",constructorParams:{verbose:"Enable detailed logging (default: true)",maxWorkers:"Maximum number of workers (default: auto-detect CPU cores)",taskTimeout:"Task timeout in milliseconds (default: 60000)",workerScript:"Custom worker script path for bundlers like Vite"},analyze:{title:"analyze() Method",description:"Compute network statistics for all nodes"},features:{title:"Available Features",degree:"Number of connections per node",eigenvector:"Influence based on connection quality (like PageRank)",eigenvectorLaplacian:"Laplacian eigenvector centrality (for spectral layouts)",betweenness:"Bridge importance between groups",clustering:"How densely connected neighbors are",closeness:"Average distance to all other nodes in the network",cliques:"Number of complete subgraphs containing the node",egoDensity:"Density of the node's immediate neighborhood",modularity:"Community assignment (Louvain algorithm)"}},adapters:{title:"Data Adapters",description:"Convert between various graph formats and the standard GraphData format. All adapters use static methods.",csv:{title:"CSVAdapter",description:"Load and convert CSV files to graph format. Supports edge lists and node property files.",methods:"Methods",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Parse CSV edge list. Options: header (default: true), delimiter (default: ","), weighted (default: true)',returns:"Returns GraphData with nodes and edges"},fromNodes:{name:"fromNodes(csvText, options)",description:"Parse CSV node properties",returns:"Returns array of NodeData objects"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Async method to fetch and parse CSV from URLs",returns:"Returns Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Export edges to CSV string",returns:"Returns CSV string"},toNodes:{name:"toNodes(graphData, options)",description:"Export nodes to CSV string",returns:"Returns CSV string"}}},json:{title:"JSONAdapter",description:"Support for D3.js, Cytoscape, and other JSON formats. Auto-detects format.",methods:"Methods",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Convert D3.js force-directed format (with "links") to GraphData',returns:"Returns GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Convert Cytoscape.js format to GraphData",returns:"Returns GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Auto-detect format (GraphData, D3, Cytoscape, NetworkX)",returns:"Returns GraphData"},toD3:{name:"toD3(graphData)",description:'Convert to D3.js format with "links" property',returns:"Returns D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Convert to Cytoscape.js format",returns:"Returns CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Async method to fetch and parse JSON",returns:"Returns Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Python NetworkX interoperability. Supports node-link and adjacency formats.",methods:"Methods",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Convert NetworkX node-link format (most common)",returns:"Returns GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Convert NetworkX adjacency format",returns:"Returns GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Convert to node-link format. Options: directed (default: false), multigraph (default: false)",returns:"Returns NetworkX node-link data"},toAdjacency:{name:"toAdjacency(graphData)",description:"Convert to adjacency format",returns:"Returns array of node objects with adjacency lists"}}}},layouts:{title:"Graph Layouts",description:"Position nodes in 2D space using various algorithms. All layouts use async computation in Web Workers for optimal performance.",note:"All layout methods are async and return Promise<Object> with node positions {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Spring-electrical model using Fruchterman-Reingold algorithm. Good for general-purpose network visualization.",complexity:"Time Complexity: O(iterations  V)",bestFor:"Best for: General networks, social graphs",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Number of simulation steps (default: 50)",k:"Optimal distance between nodes (default: auto-calculated)",scale:"Scale factor for positions (default: 1)",center:"Center point {x, y} (default: {x:0, y:0})",initialPositions:"Starting positions (default: random)",threshold:"Convergence threshold (default: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Energy minimization based on all-pairs shortest paths. Produces aesthetically pleasing layouts.",complexity:"Time Complexity: O(V + iterations  V)",bestFor:"Best for: Small-medium graphs (<1000 nodes), trees, planar graphs",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Maximum iterations (default: 1000)",scale:"Scale factor (default: 1)",center:"Center point (default: {x:0, y:0})",initialPositions:"Starting positions (default: circular)",threshold:"Convergence threshold (default: 1e-4)",K:"Spring constant scaling (default: auto)"}},spectral:{title:"SpectralLayout",description:"Uses Laplacian eigenvectors as coordinates. Excellent for visualizing community structure.",complexity:"Time Complexity: O(V) using pre-computed eigenvectors",bestFor:"Best for: Community visualization, graph topology",requires:'Requires: "eigenvector-laplacian" statistic must be pre-computed',constructor:"new SpectralLayout(graph, options)",options:{scale:"Scale factor (default: 100)",center:"Center point (default: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Positions nodes in a circle. Simple and clean for small networks.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Small networks, cycle graphs",constructor:"new CircularLayout(graph, options)",options:{scale:"Circle radius (default: 100)",center:"Center point (default: {x:0, y:0})",sortBy:"Optional sort function for node order"}},shell:{title:"ShellLayout",description:"Concentric circles based on node degree. High-degree nodes in center.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Hub-and-spoke networks, star graphs",requires:'Requires: "degree" statistic must be pre-computed',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Archimedean spiral pattern. Aesthetically pleasing for ordered data.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Sequential or temporal networks",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Breadth-first search layers. Shows distance from root node.",complexity:"Time Complexity: O(V + E)",bestFor:"Best for: Trees, hierarchies, showing propagation",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Two-layer layout for bipartite graphs.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Two-mode networks, actor-event data",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Random positions. Useful as starting point for other layouts.",complexity:"Time Complexity: O(V)",bestFor:"Best for: Initial positions, testing",constructor:"new RandomLayout(graph, options)"},usage:"Usage Pattern",usageDescription:"All layouts follow the same async pattern"},community:{title:"Community Detection",description:"Detect communities (clusters) in networks using various algorithms. All computation runs in Web Workers.",mainClass:{title:"CommunityDetection",description:"Main class for detecting communities in graphs",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detect communities using specified algorithm. Algorithm can be instance or string ("louvain")',returns:"Returns Promise<CommunityResult> with communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calculate modularity score for a partition",returns:"Returns number (-1 to 1, higher is better)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Convenience method for direct detection from GraphData",returns:"Returns Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Get array of node IDs in a specific community"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Get object mapping communityId to array of node IDs"}}},louvain:{title:"LouvainAlgorithm",description:"Fast modularity optimization using the Louvain method. The most popular community detection algorithm.",complexity:"Time Complexity: O(V log V)",bestFor:"Best for: Large networks, general-purpose community detection",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Resolution parameter for modularity (default: 1.0). Higher values find smaller communities.",maxIterations:"Maximum iterations (default: 100)"}},result:{title:"CommunityResult",description:"Result object returned by community detection",properties:{communities:"Object mapping nodeId to communityId (number)",modularity:"Modularity score (-1 to 1, typically 0.3-0.7 for good partitions)",numCommunities:"Number of communities found",algorithm:"Algorithm name used",metadata:"Optional additional information"}},customAlgorithm:{title:"Custom Algorithms",description:"Extend CommunityAlgorithm base class to create your own algorithms",note:"Implement the detect() method and configure worker module path"}},examples:{title:"Usage Examples",description:"Complete code examples for common use cases",basic:{title:"Basic Network Analysis",description:"Analyze a simple network and compute centrality metrics"},csv:{title:"Loading CSV Data",description:"Import network data from CSV files and analyze"},json:{title:"Working with JSON",description:"Convert between JSON formats (D3, Cytoscape, NetworkX)"},layout:{title:"Applying Layouts",description:"Position nodes using layout algorithms"},community:{title:"Community Detection",description:"Find communities using Louvain algorithm"},complete:{title:"Complete Workflow",description:"End-to-end example: load data, analyze, layout, detect communities"}}},showcase:{title:"Features Showcase",description:"Explore all the features of @guinetik/graph-js",header:{title:" Interactive Network Graph",subtitle:"Explore network analysis in real-time. Add nodes, remove them, and watch the graph update dynamically."},whatIs:{title:"What is this?",description:"This interactive visualization demonstrates <strong>network analysis</strong>. Node size represents centrality: larger nodes are more influential in the network."},status:{title:"Status",ready:"Ready for operations",hover:"Hover over nodes to see details"},controls:{title:"Controls",addRandom:"Add a random node connected to a random existing node",addToSelected:"Add a node connected to {name}",selectNodeFirst:"Select a node first",removeRandom:"Remove a random node"},dataLoading:{title:"Load Dataset",choose:"Choose Dataset:",default:"Default Inline (15 nodes)",karate:"Karate Club JSON (34 nodes)",miserables:"Les Misrables CSV (77 nodes)",loadButton:" Load Dataset",loading:" Loading..."},networkAnalysis:{title:" Network Analysis (Node Sizes)",description:"<strong>Uses @guinetik/graph-js:</strong> Computes centrality metrics in web workers for optimal performance.",metricsTitle:"Metrics to Calculate",degreeCentrality:"Degree Centrality",betweennessCentrality:"Betweenness Centrality",clusteringCoefficient:"Clustering Coefficient",eigenvectorCentrality:"Eigenvector Centrality",eigenvectorLaplacian:"Eigenvector (Laplacian) - for Spectral layout",nodeSizeLabel:"Node Size Based On:",selectMetric:"-- Select a metric --",analyzeButton:" Analyze Network",analyzingButton:" Analyzing...",degreeName:"Degree",betweennessName:"Betweenness",clusteringName:"Clustering",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Layout Algorithm"},communityDetection:{title:" Community Detection",communitiesFound:"Communities Found:",modularity:"Modularity:",nodeColorsAssignments:"Node colors represent community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = centrality",color:" <strong>Color</strong> = group/community"},buttons:{add:"Add",toSelected:"To Selected",remove:"Remove"},messages:{loadingGraph:"Loading graph...",loadingDataset:"Loading {dataset} dataset...",loadingDatasetName:"Loading {name} dataset...",analyzing:"Analyzing network using workers...",applyingLayout:"Applying {layout} layout...",detectingCommunities:"Detecting communities using {algorithm}...",loadedDataset:" Loaded {name} dataset ({nodes} nodes, {edges} edges)",failedToLoadDataset:" Failed to load dataset: {error}",addedNode:' Added node "{nodeId}" connected to "{connectedTo}"',noNodeSelected:" No node selected. Click on a node to select it first.",noNodesToRemove:" No nodes to remove",removedNode:' Removed node "{nodeId}"',analysisComplete:" Analysis complete! Computed {count} node metrics using web workers",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty"},layoutPicker:{chooseLayout:"Choose Layout:",applyButton:" Apply Layout",applyingButton:" Applying..."},communityPicker:{chooseAlgorithm:"Choose Algorithm:",detectButton:" Detect Communities",detectingButton:" Detecting..."}},explorer:{title:"Network Explorer",description:"Interactive network analysis and visualization",header:{title:" Network Explorer",subtitle:"Explore sample networks and upload your own files. Supports CSV, JSON, and NetworkX formats."},parallelComputation:{title:" Parallel Computation Demo",description:"This demo showcases <strong>Web Workers</strong> for parallel network analysis. Large networks are processed across multiple CPU cores for faster computation.",workersSupported:" Workers Supported",workersNotSupported:" Workers Not Supported",cores:"cores"},status:{title:"Status",ready:"Ready for operations",loadNetwork:"Load a network to begin"},dataLoading:{title:"Data Loading",sampleNetworks:" Sample Networks",uploadFile:" Upload File",chooseNetwork:"Choose Network:",chooseCity:"-- Choose a city --",caruaru:"Caruaru (~130 edges, small)",rj:"Rio de Janeiro (~1,900 edges, medium)",niteroi:"Niteri (~18,500 edges, large)",loadNetwork:" Load Network",loading:" Loading...",fileFormat:"File Format:",edgesCSV:"Edges CSV (Required):",nodesCSV:"Nodes CSV (Optional):",edgeCSVFormat:"<strong>Edge CSV format:</strong> source,target,weight<br><strong>Node CSV format:</strong> id,group,label,...",jsonFile:"JSON File:",networkxFile:"NetworkX JSON File:",jsonSupports:"Supports: Standard (nodes/edges), D3 (nodes/links), Cytoscape, or raw edge list array",networkxSupports:"Supports: node-link format, adjacency format",loadUploadedFile:" Load Uploaded File",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (edge list)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Network Statistics",nodes:"Nodes",edges:"Edges",avgDegree:"Avg Degree",analysisTime:"Analysis Time",communities:"Communities",modularity:"Modularity",usingParallel:" Using parallel computation",workersActive:"workers active",singleThreaded:" Single-threaded mode",networkTooSmall:"Network too small for workers"},networkAnalysis:{title:" Network Analysis (Node Sizes)"},layoutAlgorithm:{title:" Layout Algorithm",requiresAnalysis:"requires analysis"},graphStats:{title:" Graph Statistics",density:"Density:",diameter:"Diameter:",avgClustering:"Avg Clustering:",avgPathLength:"Avg Path Length:",components:"Components:",avgDegree:"Avg Degree:",calculated:"Calculated alongside node metrics"},communityDetection:{title:" Community Detection (Node Colors)",algorithm:"Algorithm:"},communityResults:{title:" Community Detection Results",communitiesFound:"Communities Found:",modularityScore:"Modularity Score:",computationTime:"Computation Time:",algorithm:"Algorithm:",nodeColorsRepresent:"Node colors represent their community assignments"},instructions:{title:" How to interact",dragNodes:" <strong>Drag nodes</strong> to reposition them",scroll:" <strong>Scroll</strong> to zoom in/out",dragBackground:" <strong>Drag background</strong> to pan",hoverNodes:" <strong>Hover nodes</strong> to see detailed information",nodeSize:" <strong>Node size</strong> = selected metric",color:" <strong>Color</strong> = community"},messages:{loadingNetworkData:"Loading network data...",loadedNetwork:" Loaded {name} ({nodes} nodes, {edges} edges)",failedToLoadNetwork:" Failed to load network: {error}",loadingUploadedFile:"Loading uploaded file...",loadedFile:" Loaded {fileName} ({nodes} nodes, {edges} edges)",failedToLoadFile:" Failed to load file: {error}",analyzingNetwork:"Analyzing network using workers...",analysisComplete:" Analysis complete! Computed {count} node metrics",analysisFailed:" Analysis failed: {error}",usingD3Physics:" Using D3 physics simulation (no layout algorithm)",applyingLayout:"Applying {layout} layout...",appliedLayout:" Applied {layout} layout algorithm",layoutFailed:" Layout failed: {error}",graphNotInitialized:"Graph not initialized",graphIsEmpty:"Graph is empty",detectingCommunities:"Detecting communities using {algorithm}...",foundCommunities:"Found {count} communities (modularity: {modularity})",communityDetectionFailed:"Community detection failed"}},family:{title:"Family Tree",subtitle:"Build and visualize your family tree interactively",description:"Visualize family relationships",header:{title:" Family Tree Builder",subtitle:"Build and visualize your family tree interactively. Start with yourself and add relatives to see the network grow."},whatIs:{title:"What is this?",description:"A network visualization of family relationships. Each color represents a different relationship type. The tree auto-saves to your browser's storage every 30 seconds."},status:{title:"Status",ready:"Ready for operations",clickToAdd:"Click buttons to add relatives"},addRelatives:{title:"Add Relatives",parents:" Parents",grandparents:" Grandparents",sibling:" Sibling",nieceNephew:" Niece/Nephew",uncleAunt:" Uncle/Aunt",cousin:" Cousin",partner:" Partner",child:" Child"},actions:{title:"Actions",saveFamily:" Save Family",saveImage:" Save as Image",lockGraph:" Lock Graph",unlockGraph:" Unlock Graph",undo:" Undo",redo:" Redo",resetTree:" Reset Tree"},renderNodes:{title:" Render Nodes",colors:" Colors",avatars:" Avatars",colorsDesc:"Nodes colored by relationship type.",avatarsDesc:"Nodes shown as emoji avatars (if set)."},networkAnalysis:{title:" Network Analysis (Node Sizes)"},relationshipColors:{title:"Relationship Colors",you:"You",parents:"Parents",siblings:"Siblings",unclesAunts:"Uncles/Aunts",cousins:"Cousins",grandparents:"Grandparents",nieces:"Nieces/Nephews",partners:"Partners/Spouses",children:"Children"},layoutAlgorithm:{title:" Layout Algorithm"},instructions:{title:" How to use",dragNodes:" <strong>Drag nodes</strong> to arrange your tree",autoSaves:" <strong>Auto-saves</strong> every 30 seconds",lock:" <strong>Lock</strong> to freeze positions",download:" <strong>Download</strong> as PNG image",analyze:" <strong>Analyze</strong> to size nodes by centrality metrics",layouts:" <strong>Apply layouts</strong> to visualize your tree differently",undoRedo:" <strong>Undo/Redo</strong> with buttons or Ctrl+Z / Ctrl+Y (up to 10 actions)"},dialogs:{selectOption:"Select an option",addParents:"Add Parents",addSibling:"Add Sibling",addGrandparents:"Add Grandparents",addUncleAunt:"Add Uncle/Aunt",addCousin:"Add Cousin",addChild:"Add Child",addNieceNephew:"Add Niece/Nephew",addPartner:"Add Partner/Spouse",fields:{motherName:"Mother Name",motherAvatar:"Mother Avatar (optional)",fatherName:"Father Name",fatherAvatar:"Father Avatar (optional)",siblingName:"Sibling Name",gender:"Gender",avatar:"Avatar (optional)",parentsSide:"Parent's Side",grandmotherName:"Grandmother Name",grandmotherAvatar:"Grandmother Avatar (optional)",grandfatherName:"Grandfather Name",grandfatherAvatar:"Grandfather Avatar (optional)",name:"Name",uncleAuntField:"Uncle/Aunt",sibling:"Sibling",parent:"Parent",partnerOf:"Partner Of"},genderOptions:{male:"Male",female:"Female",other:"Other"},placeholders:{mother:" Type an emoji",father:" Type an emoji",avatar:" Type an emoji",grandmother:" Type an emoji",grandfather:" Type an emoji"}},operations:{errors:{atLeastOneParent:"At least one parent name is required",onlyOneParentSlot:"Only one parent slot available. Added only the mother.",siblingNameRequired:"Sibling name is required",genderRequired:"Gender is required",graphNotInitialized:"Graph not initialized",failedToAddSibling:"Failed to add sibling",parentNotFound:"Parent not found",atLeastOneGrandparent:"At least one grandparent name is required",onlyOneGrandparentSlot:"Only one grandparent slot available for this parent. Added only the grandmother.",failedToAddGrandparents:"Failed to add grandparents",uncleAuntNameRequired:"Uncle/aunt name is required",failedToAddUncleAunt:"Failed to add uncle/aunt",cousinNameRequired:"Cousin name is required",failedToAddCousin:"Failed to add cousin",childNameRequired:"Child name is required",failedToAddChild:"Failed to add child",nieceNephewNameRequired:"Niece/nephew name is required",failedToAddNieceNephew:"Failed to add niece/nephew",partnerNameRequired:"Partner name is required",personNotFound:"Person not found",alreadyHasPartner:"already has a partner!"},success:{parentAdded:"Parent(s) added successfully",siblingAdded:"Sibling added successfully",grandparentsAdded:"Grandparent(s) added successfully",uncleAuntAdded:"Uncle/Aunt added successfully",cousinAdded:"Cousin added successfully",childAdded:"Child added successfully",nieceNephewAdded:"Niece/Nephew added successfully",partnerAdded:"Partner added successfully"},validation:{noParents:"You must add parents first before adding grandparents",noUnclesAunts:"You must add uncles/aunts first before adding cousins",noSiblings:"You must add siblings first before adding nieces/nephews",maxParents:"You already have 2 parents added. You cannot add more than 2 parents.",notEligibleForPartner:"No eligible people available for partners"}},storage:{saved:"Family tree saved!",loaded:"Family tree loaded",reset:"Family tree reset",error:"Error saving family tree"},history:{undone:"Action undone",redone:"Action redone",nothingToUndo:"Nothing to undo",nothingToRedo:"Nothing to redo"},relationships:{yourPartner:"Your Partner/Spouse",partnerOf:"'s Partner",yourChild:"Your child",siblingChild:"'s child (your niece/nephew)",cousinChild:"'s child (your cousin's child)",grandchild:"'s child (your grandchild)",siblingInLaw:"'s partner (your sibling-in-law)",childInLaw:"'s partner (your child-in-law)"},dropdownOptions:{yourChild:"Your child",childTemplate:"{name}'s child",nieceNephewTemplate:"{name}'s child (your niece/nephew)",cousinChildTemplate:"{name}'s child (your cousin's child)",grandchildTemplate:"{name}'s child (your grandchild)",partnerTemplate:"{name}'s partner",siblingPartnerTemplate:"{name}'s partner (your sibling-in-law)",childPartnerTemplate:"{name}'s partner (your child-in-law)",parentSideTemplate:"{name}'s sibling",uncleAuntChildTemplate:"{name}'s child",siblingChildTemplate:"{name}'s child"}}},pt:{nav:{home:"Incio",showcase:"Demonstrao",explorer:"Explorador de Redes",family:"rvore Genealgica",docs:"Documentao"},common:{loading:"Carregando...",error:"Erro",success:"Sucesso",darkMode:"Alternar modo escuro",language:"Idioma"},footer:{madeBy:"Feito com",by:"por",license:"Licena MIT"},showcase:{title:"Demonstrao",description:"Explore todos os recursos de @guinetik/graph-js",header:{title:" Grafo de Rede Interativo",subtitle:"Explore anlise de redes em tempo real. Adicione ns, remova-os e veja o grafo se atualizar dinamicamente."},whatIs:{title:"O que  isto?",description:"Esta visualizao interativa demonstra <strong>anlise de redes</strong>. O tamanho do n representa centralidade: ns maiores so mais influentes na rede."},status:{title:"Status",ready:"Pronto para operaes",hover:"Passe o mouse sobre ns para ver detalhes"},controls:{title:"Controles",addRandom:"Adicionar um n aleatrio conectado a um n existente aleatrio",addToSelected:"Adicionar um n conectado a {name}",selectNodeFirst:"Selecione um n primeiro",removeRandom:"Remover um n aleatrio"},dataLoading:{title:"Carregar Conjunto de Dados",choose:"Escolha um Conjunto de Dados:",default:"Padro Embutido (15 ns)",karate:"Karate Club JSON (34 ns)",miserables:"Os Miserveis CSV (77 ns)",loadButton:" Carregar Conjunto de Dados",loading:" Carregando..."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)",description:"<strong>Usa @guinetik/graph-js:</strong> Calcula mtricas de centralidade em web workers para desempenho ideal.",metricsTitle:"Mtricas para Calcular",degreeCentrality:"Centralidade de Grau",betweennessCentrality:"Centralidade de Intermediao",clusteringCoefficient:"Coeficiente de Agrupamento",eigenvectorCentrality:"Centralidade de Eigenvector",eigenvectorLaplacian:"Eigenvector (Laplaciano) - para layout Espectral",nodeSizeLabel:"Tamanho do N Baseado Em:",selectMetric:"-- Selecione uma mtrica --",analyzeButton:" Analisar Rede",analyzingButton:" Analisando...",degreeName:"Grau",betweennessName:"Intermediao",clusteringName:"Agrupamento",eigenvectorName:"Eigenvector"},layoutAlgorithm:{title:"Algoritmo de Layout"},communityDetection:{title:" Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularity:"Modularidade:",nodeColorsAssignments:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = centralidade",color:" <strong>Cor</strong> = grupo/comunidade"},buttons:{add:"Adicionar",toSelected:"Para Selecionado",remove:"Remover"},messages:{loadingGraph:"Carregando grafo...",loadingDataset:"Carregando conjunto de dados {dataset}...",loadingDatasetName:"Carregando conjunto de dados {name}...",analyzing:"Analisando rede usando workers...",applyingLayout:"Aplicando layout {layout}...",detectingCommunities:"Detectando comunidades usando {algorithm}...",loadedDataset:" Conjunto de dados {name} carregado ({nodes} ns, {edges} arestas)",failedToLoadDataset:" Falha ao carregar conjunto de dados: {error}",addedNode:' N "{nodeId}" adicionado conectado a "{connectedTo}"',noNodeSelected:" Nenhum n selecionado. Clique em um n para selecion-lo primeiro.",noNodesToRemove:" Nenhum n para remover",removedNode:' N "{nodeId}" removido',analysisComplete:" Anlise completa! Computadas {count} mtricas de ns usando web workers",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio"},layoutPicker:{chooseLayout:"Escolha o Layout:",applyButton:" Aplicar Layout",applyingButton:" Aplicando..."},communityPicker:{chooseAlgorithm:"Escolha o Algoritmo:",detectButton:" Detectar Comunidades",detectingButton:" Detectando..."}},home:{hero:{title:"Anlise de Redes Moderna para JavaScript",subtitle:"Teoria de grafos e anlise de redes poderosa com arquitetura worker-first",description:"Analise redes sociais, rvores genealgicas e grafos complexos com facilidade. Computao paralela rpida, mtricas abrangentes e visualizaes bonitas - tudo em JavaScript puro.",cta:"Comear",github:"Ver no GitHub"},features:[{icon:"",title:"Anlise de Redes",description:"Calcule mtricas de centralidade, coeficientes de agrupamento e estatsticas de grafo com ferramentas de anlise abrangentes"},{icon:"",title:"Explorador Interativo",description:"Explore redes com arrastar e soltar, zoom, pan e anlise em tempo real de ns e comunidades"},{icon:"",title:"Mltiplos Layouts",description:"11 algoritmos de layout incluindo force-directed, Kamada-Kawai, spectral e layouts hierrquicos"},{icon:"",title:"Performance com Workers",description:"UI no bloqueante com web workers para computao paralela em grafos grandes com milhares de ns"},{icon:"",title:"Deteco de Comunidades",description:"Encontre clusters e grupos em redes usando algoritmo Louvain com otimizao de modularidade"},{icon:"",title:"Mtricas Ricas",description:"Grau, intermediao, eigenvector, agrupamento, proximidade e mais recursos estatsticos"}],code:{title:"Exemplo de Incio Rpido",snippet:`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Anlise executada em workers para desempenho ideal!`}},docs:{title:"Documentao",subtitle:"Referncia completa da API para @guinetik/graph-js",sections:{quickStart:"Incio Rpido",coreClasses:"Classes Principais",adapters:"Adaptadores de Dados",layouts:"Layouts de Grafos",community:"Deteco de Comunidades",examples:"Exemplos de Uso"},quickStart:{title:"Incio Rpido",install:"Instalao",installCmd:"npm install @guinetik/graph-js",basicUsage:"Uso Bsico",description:"Comece com anlise de redes em apenas algumas linhas de cdigo."},graph:{title:"Graph",description:"Estrutura de dados de grafo principal usando mapas de adjacncia.",methods:"Mtodos",methodsList:{addNode:{name:"addNode(nodeId)",description:"Adicionar um n ao grafo"},addNodesFrom:{name:"addNodesFrom(nodeIds)",description:"Adicionar mltiplos ns de um array"},addEdge:{name:"addEdge(source, target, weight?)",description:"Adicionar uma aresta entre dois ns"},removeNode:{name:"removeNode(nodeId)",description:"Remover um n e todas as suas arestas"},getNeighbors:{name:"getNeighbors(nodeId)",description:"Obter array de IDs de ns vizinhos"},hasEdge:{name:"hasEdge(source, target)",description:"Verificar se aresta existe"},numberOfNodes:{name:"numberOfNodes()",description:"Obter nmero total de ns"}}},networkStats:{title:"NetworkStats",description:"Classe principal para analisar redes e calcular mtricas estatsticas. Toda computao acontece em web workers para desempenho ideal.",constructor:"Construtor",constructorParams:{verbose:"Ativar logging detalhado (padro: true)",maxWorkers:"Nmero mximo de workers (padro: detecta ncleos da CPU automaticamente)",taskTimeout:"Timeout de tarefa em milissegundos (padro: 60000)",workerScript:"Caminho personalizado do script worker para bundlers como Vite"},analyze:{title:"Mtodo analyze()",description:"Computar estatsticas de rede para todos os ns"},features:{title:"Recursos Disponveis",degree:"Nmero de conexes por n",eigenvector:"Influncia baseada na qualidade das conexes (como PageRank)",eigenvectorLaplacian:"Centralidade eigenvector Laplaciano (para layouts espectrais)",betweenness:"Importncia de ponte entre grupos",clustering:"Quo densamente conectados esto os vizinhos",closeness:"Distncia mdia para todos os outros ns na rede",cliques:"Nmero de subgrafos completos contendo o n",egoDensity:"Densidade da vizinhana imediata do n",modularity:"Atribuio de comunidade (algoritmo Louvain)"}},adapters:{title:"Adaptadores de Dados",description:"Converter entre vrios formatos de grafo e o formato padro GraphData. Todos os adaptadores usam mtodos estticos.",csv:{title:"CSVAdapter",description:"Carregar e converter arquivos CSV para formato de grafo. Suporta listas de arestas e arquivos de propriedades de ns.",methods:"Mtodos",methodsList:{fromEdgeList:{name:"fromEdgeList(csvText, options)",description:'Analisar lista de arestas CSV. Opes: header (padro: true), delimiter (padro: ","), weighted (padro: true)',returns:"Retorna GraphData com ns e arestas"},fromNodes:{name:"fromNodes(csvText, options)",description:"Analisar propriedades de ns CSV",returns:"Retorna array de objetos NodeData"},loadFromURL:{name:"loadFromURL(edgeURL, nodeURL, options)",description:"Mtodo assncrono para buscar e analisar CSV de URLs",returns:"Retorna Promise<GraphData>"},toEdgeList:{name:"toEdgeList(graphData, options)",description:"Exportar arestas para string CSV",returns:"Retorna string CSV"},toNodes:{name:"toNodes(graphData, options)",description:"Exportar ns para string CSV",returns:"Retorna string CSV"}}},json:{title:"JSONAdapter",description:"Suporte para D3.js, Cytoscape e outros formatos JSON. Detecta formato automaticamente.",methods:"Mtodos",methodsList:{fromD3:{name:"fromD3(d3Data)",description:'Converter formato D3.js force-directed (com "links") para GraphData',returns:"Retorna GraphData"},fromCytoscape:{name:"fromCytoscape(cytoData)",description:"Converter formato Cytoscape.js para GraphData",returns:"Retorna GraphData"},fromFormat:{name:"fromFormat(jsonData)",description:"Detectar formato automaticamente (GraphData, D3, Cytoscape, NetworkX)",returns:"Retorna GraphData"},toD3:{name:"toD3(graphData)",description:'Converter para formato D3.js com propriedade "links"',returns:"Retorna D3GraphData"},toCytoscape:{name:"toCytoscape(graphData)",description:"Converter para formato Cytoscape.js",returns:"Retorna CytoscapeData"},loadFromURL:{name:"loadFromURL(url)",description:"Mtodo assncrono para buscar e analisar JSON",returns:"Retorna Promise<GraphData>"}}},networkx:{title:"NetworkXAdapter",description:"Interoperabilidade com Python NetworkX. Suporta formatos node-link e adjacncia.",methods:"Mtodos",methodsList:{fromNodeLink:{name:"fromNodeLink(nxData)",description:"Converter formato NetworkX node-link (mais comum)",returns:"Retorna GraphData"},fromAdjacency:{name:"fromAdjacency(nxData)",description:"Converter formato de adjacncia NetworkX",returns:"Retorna GraphData"},toNodeLink:{name:"toNodeLink(graphData, options)",description:"Converter para formato node-link. Opes: directed (padro: false), multigraph (padro: false)",returns:"Retorna dados node-link NetworkX"},toAdjacency:{name:"toAdjacency(graphData)",description:"Converter para formato de adjacncia",returns:"Retorna array de objetos de ns com listas de adjacncia"}}}},layouts:{title:"Layouts de Grafos",description:"Posicionar ns no espao 2D usando vrios algoritmos. Todos os layouts usam computao assncrona em Web Workers para desempenho ideal.",note:"Todos os mtodos de layout so assncronos e retornam Promise<Object> com posies de ns {nodeId: {x, y}}",forceDirected:{title:"ForceDirectedLayout",description:"Modelo spring-eltrico usando algoritmo Fruchterman-Reingold. Bom para visualizao geral de redes.",complexity:"Complexidade de Tempo: O(iterations  V)",bestFor:"Melhor para: Redes gerais, grafos sociais",constructor:"new ForceDirectedLayout(graph, options)",options:{iterations:"Nmero de passos de simulao (padro: 50)",k:"Distncia tima entre ns (padro: auto-calculado)",scale:"Fator de escala para posies (padro: 1)",center:"Ponto central {x, y} (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: aleatrio)",threshold:"Limiar de convergncia (padro: 1e-4)"}},kamadaKawai:{title:"KamadaKawaiLayout",description:"Minimizao de energia baseada em caminhos mais curtos. Produz layouts esteticamente agradveis.",complexity:"Complexidade de Tempo: O(V + iterations  V)",bestFor:"Melhor para: Grafos pequenos-mdios (<1000 ns), rvores, grafos planares",constructor:"new KamadaKawaiLayout(graph, options)",options:{iterations:"Mximo de iteraes (padro: 1000)",scale:"Fator de escala (padro: 1)",center:"Ponto central (padro: {x:0, y:0})",initialPositions:"Posies iniciais (padro: circular)",threshold:"Limiar de convergncia (padro: 1e-4)",K:"Escala de constante de mola (padro: auto)"}},spectral:{title:"SpectralLayout",description:"Usa autovetores Laplacianos como coordenadas. Excelente para visualizar estrutura de comunidades.",complexity:"Complexidade de Tempo: O(V) usando autovetores pr-computados",bestFor:"Melhor para: Visualizao de comunidades, topologia de grafo",requires:'Requer: estatstica "eigenvector-laplacian" deve ser pr-computada',constructor:"new SpectralLayout(graph, options)",options:{scale:"Fator de escala (padro: 100)",center:"Ponto central (padro: {x:0, y:0})"}},circular:{title:"CircularLayout",description:"Posiciona ns em crculo. Simples e limpo para redes pequenas.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes pequenas, grafos cclicos",constructor:"new CircularLayout(graph, options)",options:{scale:"Raio do crculo (padro: 100)",center:"Ponto central (padro: {x:0, y:0})",sortBy:"Funo de ordenao opcional para ordem dos ns"}},shell:{title:"ShellLayout",description:"Crculos concntricos baseados no grau do n. Ns de alto grau no centro.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes hub-and-spoke, grafos estrela",requires:'Requer: estatstica "degree" deve ser pr-computada',constructor:"new ShellLayout(graph, options)"},spiral:{title:"SpiralLayout",description:"Padro de espiral arquimediana. Esteticamente agradvel para dados ordenados.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes sequenciais ou temporais",constructor:"new SpiralLayout(graph, options)"},bfs:{title:"BFSLayout",description:"Camadas de busca em largura. Mostra distncia do n raiz.",complexity:"Complexidade de Tempo: O(V + E)",bestFor:"Melhor para: rvores, hierarquias, mostrando propagao",constructor:"new BFSLayout(graph, options)"},bipartite:{title:"BipartiteLayout",description:"Layout de duas camadas para grafos bipartidos.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Redes de dois modos, dados ator-evento",constructor:"new BipartiteLayout(graph, options)"},random:{title:"RandomLayout",description:"Posies aleatrias. til como ponto de partida para outros layouts.",complexity:"Complexidade de Tempo: O(V)",bestFor:"Melhor para: Posies iniciais, testes",constructor:"new RandomLayout(graph, options)"},usage:"Padro de Uso",usageDescription:"Todos os layouts seguem o mesmo padro assncrono"},community:{title:"Deteco de Comunidades",description:"Detectar comunidades (clusters) em redes usando vrios algoritmos. Toda computao  executada em Web Workers.",mainClass:{title:"CommunityDetection",description:"Classe principal para detectar comunidades em grafos",constructor:"new CommunityDetection(graph)",methods:{detectCommunities:{name:"detectCommunities(algorithm, options)",description:'Detectar comunidades usando algoritmo especificado. Algoritmo pode ser instncia ou string ("louvain")',returns:"Retorna Promise<CommunityResult> com communities, modularity, numCommunities"},calculateModularity:{name:"calculateModularity(communities)",description:"Calcular pontuao de modularidade para uma partio",returns:"Retorna number (-1 a 1, maior  melhor)"}},staticMethods:{detect:{name:"CommunityDetection.detect(graphData, algorithm, options)",description:"Mtodo de convenincia para deteco direta de GraphData",returns:"Retorna Promise<CommunityResult>"},getNodesInCommunity:{name:"CommunityDetection.getNodesInCommunity(communities, communityId)",description:"Obter array de IDs de ns em uma comunidade especfica"},getCommunityGroups:{name:"CommunityDetection.getCommunityGroups(communities)",description:"Obter objeto mapeando communityId para array de IDs de ns"}}},louvain:{title:"LouvainAlgorithm",description:"Otimizao rpida de modularidade usando o mtodo Louvain. O algoritmo de deteco de comunidades mais popular.",complexity:"Complexidade de Tempo: O(V log V)",bestFor:"Melhor para: Redes grandes, deteco de comunidades de uso geral",constructor:"new LouvainAlgorithm(options)",options:{resolution:"Parmetro de resoluo para modularidade (padro: 1.0). Valores maiores encontram comunidades menores.",maxIterations:"Mximo de iteraes (padro: 100)"}},result:{title:"CommunityResult",description:"Objeto de resultado retornado pela deteco de comunidades",properties:{communities:"Objeto mapeando nodeId para communityId (nmero)",modularity:"Pontuao de modularidade (-1 a 1, tipicamente 0.3-0.7 para boas parties)",numCommunities:"Nmero de comunidades encontradas",algorithm:"Nome do algoritmo usado",metadata:"Informaes adicionais opcionais"}},customAlgorithm:{title:"Algoritmos Personalizados",description:"Estender classe base CommunityAlgorithm para criar seus prprios algoritmos",note:"Implementar o mtodo detect() e configurar caminho do mdulo worker"}},examples:{title:"Exemplos de Uso",description:"Exemplos de cdigo completos para casos de uso comuns",basic:{title:"Anlise Bsica de Redes",description:"Analisar uma rede simples e computar mtricas de centralidade"},csv:{title:"Carregando Dados CSV",description:"Importar dados de rede de arquivos CSV e analisar"},json:{title:"Trabalhando com JSON",description:"Converter entre formatos JSON (D3, Cytoscape, NetworkX)"},layout:{title:"Aplicando Layouts",description:"Posicionar ns usando algoritmos de layout"},community:{title:"Deteco de Comunidades",description:"Encontrar comunidades usando algoritmo Louvain"},complete:{title:"Fluxo Completo",description:"Exemplo ponta a ponta: carregar dados, analisar, aplicar layout, detectar comunidades"}}},explorer:{title:"Explorador de Redes",description:"Anlise e visualizao interativa de redes",header:{title:" Explorador de Redes",subtitle:"Explore redes de exemplo e carregue seus prprios arquivos. Suporta formatos CSV, JSON e NetworkX."},parallelComputation:{title:" Demonstrao de Computao Paralela",description:"Esta demonstrao apresenta <strong>Web Workers</strong> para anlise de redes paralela. Redes grandes so processadas em mltiplos ncleos de CPU para computao mais rpida.",workersSupported:" Workers Suportados",workersNotSupported:" Workers No Suportados",cores:"ncleos"},status:{title:"Status",ready:"Pronto para operaes",loadNetwork:"Carregue uma rede para comear"},dataLoading:{title:"Carregamento de Dados",sampleNetworks:" Redes de Exemplo",uploadFile:" Carregar Arquivo",chooseNetwork:"Escolha uma Rede:",chooseCity:"-- Escolha uma cidade --",caruaru:"Caruaru (~130 arestas, pequena)",rj:"Rio de Janeiro (~1.900 arestas, mdia)",niteroi:"Niteri (~18.500 arestas, grande)",loadNetwork:" Carregar Rede",loading:" Carregando...",fileFormat:"Formato do Arquivo:",edgesCSV:"CSV de Arestas (Obrigatrio):",nodesCSV:"CSV de Ns (Opcional):",edgeCSVFormat:"<strong>Formato CSV de arestas:</strong> source,target,weight<br><strong>Formato CSV de ns:</strong> id,group,label,...",jsonFile:"Arquivo JSON:",networkxFile:"Arquivo JSON NetworkX:",jsonSupports:"Suporta: Padro (nodes/edges), D3 (nodes/links), Cytoscape, ou array de lista de arestas",networkxSupports:"Suporta: formato node-link, formato adjacency",loadUploadedFile:" Carregar Arquivo Enviado",formatJSON:"JSON (nodes/edges, D3, Cytoscape)",formatCSV:"CSV (lista de arestas)",formatNetworkX:"NetworkX (node-link, adjacency)"},networkStats:{title:"Estatsticas da Rede",nodes:"Ns",edges:"Arestas",avgDegree:"Grau Mdio",analysisTime:"Tempo de Anlise",communities:"Comunidades",modularity:"Modularidade",usingParallel:" Usando computao paralela",workersActive:"workers ativos",singleThreaded:" Modo single-thread",networkTooSmall:"Rede muito pequena para workers"},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},layoutAlgorithm:{title:" Algoritmo de Layout",requiresAnalysis:"requer anlise"},graphStats:{title:" Estatsticas do Grafo",density:"Densidade:",diameter:"Dimetro:",avgClustering:"Agrupamento Mdio:",avgPathLength:"Comprimento Mdio do Caminho:",components:"Componentes:",avgDegree:"Grau Mdio:",calculated:"Calculado junto com mtricas de ns"},communityDetection:{title:" Deteco de Comunidades (Cores dos Ns)",algorithm:"Algoritmo:"},communityResults:{title:" Resultados da Deteco de Comunidades",communitiesFound:"Comunidades Encontradas:",modularityScore:"Pontuao de Modularidade:",computationTime:"Tempo de Computao:",algorithm:"Algoritmo:",nodeColorsRepresent:"As cores dos ns representam as atribuies de comunidades"},instructions:{title:" Como interagir",dragNodes:" <strong>Arraste ns</strong> para reposicion-los",scroll:" <strong>Role</strong> para ampliar/reduzir",dragBackground:" <strong>Arraste o fundo</strong> para mover",hoverNodes:" <strong>Passe o mouse sobre ns</strong> para ver informaes detalhadas",nodeSize:" <strong>Tamanho do n</strong> = mtrica selecionada",color:" <strong>Cor</strong> = comunidade"},messages:{loadingNetworkData:"Carregando dados da rede...",loadedNetwork:" {name} carregada ({nodes} ns, {edges} arestas)",failedToLoadNetwork:" Falha ao carregar rede: {error}",loadingUploadedFile:"Carregando arquivo enviado...",loadedFile:" {fileName} carregado ({nodes} ns, {edges} arestas)",failedToLoadFile:" Falha ao carregar arquivo: {error}",analyzingNetwork:"Analisando rede usando workers...",analysisComplete:" Anlise completa! Computadas {count} mtricas de ns",analysisFailed:" Anlise falhou: {error}",usingD3Physics:" Usando simulao de fsica D3 (sem algoritmo de layout)",applyingLayout:"Aplicando layout {layout}...",appliedLayout:" Layout {layout} aplicado",layoutFailed:" Layout falhou: {error}",graphNotInitialized:"Grafo no inicializado",graphIsEmpty:"Grafo est vazio",detectingCommunities:"Detectando comunidades usando {algorithm}...",foundCommunities:"Encontradas {count} comunidades (modularidade: {modularity})",communityDetectionFailed:"Deteco de comunidades falhou"}},family:{title:"rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente",description:"Visualize relaes familiares",header:{title:" Construtor de rvore Genealgica",subtitle:"Construa e visualize sua rvore genealgica interativamente. Comece com voc mesmo e adicione parentes para ver a rede crescer."},whatIs:{title:"O que  isso?",description:"Uma visualizao de rede de relaes familiares. Cada cor representa um tipo de relao diferente. A rvore  salva automaticamente no armazenamento do seu navegador a cada 30 segundos."},status:{title:"Status",ready:"Pronto para operaes",clickToAdd:"Clique nos botes para adicionar parentes"},addRelatives:{title:"Adicionar Parentes",parents:" Pais",grandparents:" Avs",sibling:" Irm/Irmo",nieceNephew:" Sobrinha/Sobrinho",uncleAunt:" Tio/Tia",cousin:" Primo/Prima",partner:" Parceiro/Parceira",child:" Filho/Filha"},actions:{title:"Aes",saveFamily:" Salvar Famlia",saveImage:" Salvar como Imagem",lockGraph:" Bloquear Grafo",unlockGraph:" Desbloquear Grafo",undo:" Desfazer",redo:" Refazer",resetTree:" Redefinir rvore"},renderNodes:{title:" Renderizar Ns",colors:" Cores",avatars:" Avatares",colorsDesc:"Ns coloridos por tipo de relao.",avatarsDesc:"Ns mostrados como avatares emoji (se definido)."},networkAnalysis:{title:" Anlise de Rede (Tamanhos de N)"},relationshipColors:{title:"Cores de Relao",you:"Voc",parents:"Pais",siblings:"Irmos",unclesAunts:"Tios/Tias",cousins:"Primos/Primas",grandparents:"Avs",nieces:"Sobrinhas/Sobrinhos",partners:"Parceiros/Parceiras",children:"Filhos/Filhas"},layoutAlgorithm:{title:" Algoritmo de Layout"},instructions:{title:" Como usar",dragNodes:" <strong>Arraste ns</strong> para organizar sua rvore",autoSaves:" <strong>Salva automaticamente</strong> a cada 30 segundos",lock:" <strong>Bloqueie</strong> para congelar posies",download:" <strong>Baixe</strong> como imagem PNG",analyze:" <strong>Analise</strong> para dimensionar ns por mtricas de centralidade",layouts:" <strong>Aplique layouts</strong> para visualizar sua rvore de forma diferente",undoRedo:" <strong>Desfazer/Refazer</strong> com botes ou Ctrl+Z / Ctrl+Y (at 10 aes)"},dialogs:{selectOption:"Selecione uma opo",addParents:"Adicionar Pais",addSibling:"Adicionar Irm/Irmo",addGrandparents:"Adicionar Avs",addUncleAunt:"Adicionar Tio/Tia",addCousin:"Adicionar Primo/Prima",addChild:"Adicionar Filho/Filha",addNieceNephew:"Adicionar Sobrinha/Sobrinho",addPartner:"Adicionar Parceiro/Parceira",fields:{motherName:"Nome da Me",motherAvatar:"Avatar da Me (opcional)",fatherName:"Nome do Pai",fatherAvatar:"Avatar do Pai (opcional)",siblingName:"Nome do Irm/Irmo",gender:"Gnero",avatar:"Avatar (opcional)",parentsSide:"Lado do Pai/Me",grandmotherName:"Nome da Av",grandmotherAvatar:"Avatar da Av (opcional)",grandfatherName:"Nome do Av",grandfatherAvatar:"Avatar do Av (opcional)",name:"Nome",uncleAuntField:"Tio/Tia",sibling:"Irm/Irmo",parent:"Pai/Me",partnerOf:"Parceiro/Parceira De"},genderOptions:{male:"Masculino",female:"Feminino",other:"Outro"},placeholders:{mother:" Digite um emoji",father:" Digite um emoji",avatar:" Digite um emoji",grandmother:" Digite um emoji",grandfather:" Digite um emoji"}},operations:{errors:{atLeastOneParent:"Pelo menos um nome de pai  necessrio",onlyOneParentSlot:"Apenas um slot de pai disponvel. Adicionada apenas a me.",siblingNameRequired:"Nome do irm/irmo  obrigatrio",genderRequired:"Gnero  obrigatrio",graphNotInitialized:"Grafo no inicializado",failedToAddSibling:"Falha ao adicionar irm/irmo",parentNotFound:"Pai/Me no encontrado",atLeastOneGrandparent:"Pelo menos um nome de av  necessrio",onlyOneGrandparentSlot:"Apenas um slot de av disponvel para este pai. Adicionada apenas a av.",failedToAddGrandparents:"Falha ao adicionar avs",uncleAuntNameRequired:"Nome do tio/tia  obrigatrio",failedToAddUncleAunt:"Falha ao adicionar tio/tia",cousinNameRequired:"Nome do primo/prima  obrigatrio",failedToAddCousin:"Falha ao adicionar primo/prima",childNameRequired:"Nome do filho/filha  obrigatrio",failedToAddChild:"Falha ao adicionar filho/filha",nieceNephewNameRequired:"Nome do sobrinha/sobrinho  obrigatrio",failedToAddNieceNephew:"Falha ao adicionar sobrinha/sobrinho",partnerNameRequired:"Nome do parceiro/parceira  obrigatrio",personNotFound:"Pessoa no encontrada",alreadyHasPartner:"j tem um parceiro/parceira!"},success:{parentAdded:"Pais adicionados com sucesso",siblingAdded:"Irm(o) adicionado(a) com sucesso",grandparentsAdded:"Avs adicionados com sucesso",uncleAuntAdded:"Tio(a) adicionado(a) com sucesso",cousinAdded:"Primo(a) adicionado(a) com sucesso",childAdded:"Filho(a) adicionado(a) com sucesso",nieceNephewAdded:"Sobrinho(a) adicionado(a) com sucesso",partnerAdded:"Parceiro(a) adicionado(a) com sucesso"},validation:{noParents:"Voc deve adicionar pais primeiro antes de adicionar avs",noUnclesAunts:"Voc deve adicionar tios/tias primeiro antes de adicionar primos",noSiblings:"Voc deve adicionar irmos primeiro antes de adicionar sobrinhos",maxParents:"Voc j tem 2 pais adicionados. Voc no pode adicionar mais de 2 pais.",notEligibleForPartner:"Nenhuma pessoa disponvel para parceiros"}},storage:{saved:"rvore genealgica salva!",loaded:"rvore genealgica carregada",reset:"rvore genealgica redefinida",error:"Erro ao salvar rvore genealgica"},history:{undone:"Ao desfeita",redone:"Ao refeita",nothingToUndo:"Nada para desfazer",nothingToRedo:"Nada para refazer"},relationships:{yourPartner:"Seu Parceiro/Parceira",partnerOf:"'s Parceiro/Parceira",yourChild:"Seu filho/filha",siblingChild:"'s filho/filha (seu sobrinha/sobrinho)",cousinChild:"'s filho/filha (filho/filha do seu primo/prima)",grandchild:"'s filho/filha (seu neto/neta)",siblingInLaw:"'s parceiro/parceira (seu cunhado/cunhada)",childInLaw:"'s parceiro/parceira (seu genro/nora)"},dropdownOptions:{yourChild:"Seu filho/filha",childTemplate:"Filho(a) de {name}",nieceNephewTemplate:"Filho(a) de {name} (seu sobrinho(a))",cousinChildTemplate:"Filho(a) de {name} (filho(a) do seu primo(a))",grandchildTemplate:"Filho(a) de {name} (seu neto(a))",partnerTemplate:"Parceiro(a) de {name}",siblingPartnerTemplate:"Parceiro(a) de {name} (seu cunhado(a))",childPartnerTemplate:"Parceiro(a) de {name} (seu genro/nora)",parentSideTemplate:"Irm(o) de {name}",uncleAuntChildTemplate:"Filho(a) de {name}",siblingChildTemplate:"Filho(a) de {name}"}}}};function hh(t,e,s={}){const n=e.split(".");let o=oa[t];for(const r of n)if(o=o?.[r],o===void 0)return Dy.warn("Translation not found",{key:e,lang:t}),e;return typeof o=="string"&&Object.keys(s).length>0?o.replace(/\{(\w+)\}/g,(r,i)=>s[i]!==void 0?s[i]:r):o}const My=Xe({prefix:"useI18n",level:"info"}),Mn=ae(localStorage.getItem("lang")||"en");function Jt(){return{lang:Mn,t:(s,n={})=>{const o=s.split(".");let r=oa[Mn.value];for(const i of o)if(r=r?.[i],r===void 0)return My.warn("Translation not found",{key:s,lang:Mn.value}),s;return typeof r=="string"&&Object.keys(n).length>0?r.replace(/\{(\w+)\}/g,(i,a)=>n[a]!==void 0?n[a]:i):r},changeLanguage:s=>{Mn.value=s,localStorage.setItem("lang",s)},translations:it(()=>oa[Mn.value])}}const un=ae(localStorage.getItem("darkMode")==="true"),Oy=()=>{un.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};St(un,()=>{localStorage.setItem("darkMode",un.value),Oy()},{immediate:!0});function fh(){return{darkMode:un,toggleDarkMode:()=>{un.value=!un.value}}}function Gy(){const t=document.getElementById("particles");if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const s=[],n=100,o=150;class r{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t.width)&&(this.vx*=-1),(this.y<0||this.y>t.height)&&(this.vy*=-1)}draw(){const l=document.documentElement.classList.contains("dark");e.fillStyle=l?"rgba(167, 139, 250, 0.6)":"rgba(139, 92, 246, 0.5)",e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill()}}for(let a=0;a<n;a++)s.push(new r);function i(){e.clearRect(0,0,t.width,t.height),s.forEach(l=>{l.update(),l.draw()});const a=document.documentElement.classList.contains("dark");s.forEach((l,c)=>{s.slice(c+1).forEach(d=>{const u=l.x-d.x,f=l.y-d.y,p=Math.sqrt(u*u+f*f);if(p<o){const y=(1-p/o)*.4;e.strokeStyle=a?`rgba(167, 139, 250, ${y})`:`rgba(139, 92, 246, ${y})`,e.lineWidth=1.5,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(d.x,d.y),e.stroke()}})}),requestAnimationFrame(i)}i(),window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight})}const Fy={class:"content-wrapper"},Vy={class:"header"},$y={class:"container-main header-content"},By={class:"flex items-center gap-4"},zy={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jy={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Uy={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Hy={class:"nav hidden md:flex"},Wy={class:"hidden md:flex items-center space-x-4"},Xy=["title"],qy={key:0,class:"text-xl"},Zy={key:1,class:"text-xl"},Ky={class:"flex flex-col h-full p-6"},Jy={class:"flex flex-col space-y-2 mb-8"},Yy={class:"border-t border-[var(--color-border)] pt-6 space-y-4"},Qy={class:"block text-sm font-medium mb-2"},e_={class:"text-2xl"},t_={class:"page"},s_={key:0,class:"footer"},n_={class:"container-main footer-content"},o_={class:"mb-2"},r_={class:"text-sm"},i_={__name:"App",setup(t){const e=xy(),{lang:s,t:n,changeLanguage:o}=Jt(),{darkMode:r,toggleDarkMode:i}=fh(),a=ae(!1),l=()=>{a.value=!a.value},c=()=>{a.value=!1},d=it(()=>["showcase","explorer","family"].includes(e.name));return St(d,u=>{u?document.body.classList.add("demo-page"):document.body.classList.remove("demo-page")},{immediate:!0}),Ps(()=>{Gy()}),(u,f)=>{const p=Hi("router-link"),y=Hi("router-view");return H(),q(Ve,null,[f[16]||(f[16]=h("canvas",{id:"particles"},null,-1)),h("div",Fy,[h("header",Vy,[h("div",$y,[h("div",By,[_e(p,{to:"/",class:"logo"},{default:Be(()=>[...f[7]||(f[7]=[we(" @guinetik/graph-js ",-1)])]),_:1})]),h("button",{onClick:l,class:"md:hidden btn-icon","aria-label":"Toggle menu"},[(H(),q("svg",zy,[a.value?(H(),q("path",Uy)):(H(),q("path",jy))]))]),h("nav",Hy,[_e(p,{to:"/showcase",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[we(g(m(n)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[we(g(m(n)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[we(g(m(n)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link","active-class":"nav-link-active"},{default:Be(()=>[we(g(m(n)("nav.docs")),1)]),_:1})]),h("div",Wy,[ft(h("select",{"onUpdate:modelValue":f[0]||(f[0]=_=>Je(s)?s.value=_:null),onChange:f[1]||(f[1]=_=>m(o)(m(s))),class:"px-3 py-1 rounded-md bg-secondary text-primary border border-color text-sm"},[...f[8]||(f[8]=[h("option",{value:"en"},"EN",-1),h("option",{value:"pt"},"PT",-1)])],544),[[_n,m(s)]]),h("button",{onClick:f[2]||(f[2]=(..._)=>m(i)&&m(i)(..._)),class:"btn-icon",title:m(n)("common.darkMode")},[m(r)?(H(),q("span",Zy,"")):(H(),q("span",qy,""))],8,Xy),f[9]||(f[9]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-icon",title:"View on GitHub"},[h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])]),_e(ql,{name:"mobile-menu"},{default:Be(()=>[a.value?(H(),q("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:c},[f[14]||(f[14]=h("div",{class:"absolute inset-0 bg-black/50"},null,-1)),h("div",{class:"absolute top-0 right-0 bottom-0 w-72 bg-[var(--color-bg-primary)] shadow-xl",onClick:f[6]||(f[6]=Ju(()=>{},["stop"]))},[h("div",Ky,[h("div",{class:"flex justify-between items-center mb-8"},[f[11]||(f[11]=h("h2",{class:"text-xl font-bold"},"Menu",-1)),h("button",{onClick:c,class:"btn-icon"},[...f[10]||(f[10]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),h("nav",Jy,[_e(p,{to:"/showcase",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[we(g(m(n)("nav.showcase")),1)]),_:1}),_e(p,{to:"/explorer",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[we(g(m(n)("nav.explorer")),1)]),_:1}),_e(p,{to:"/family",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[we(g(m(n)("nav.family")),1)]),_:1}),_e(p,{to:"/docs",class:"nav-link text-lg py-3 px-4 rounded-md hover:bg-[var(--color-bg-secondary)] transition-colors","active-class":"bg-[var(--color-bg-secondary)] text-accent",onClick:c},{default:Be(()=>[we(g(m(n)("nav.docs")),1)]),_:1})]),h("div",Yy,[h("div",null,[h("label",Qy,g(m(n)("common.language")),1),ft(h("select",{"onUpdate:modelValue":f[3]||(f[3]=_=>Je(s)?s.value=_:null),onChange:f[4]||(f[4]=_=>m(o)(m(s))),class:"w-full px-3 py-2 rounded-md bg-secondary text-primary border border-color"},[...f[12]||(f[12]=[h("option",{value:"en"},"English",-1),h("option",{value:"pt"},"Portugus",-1)])],544),[[_n,m(s)]])]),h("button",{onClick:f[5]||(f[5]=(..._)=>m(i)&&m(i)(..._)),class:"w-full flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,g(m(n)("common.darkMode")),1),h("span",e_,g(m(r)?"":""),1)]),f[13]||(f[13]=h("a",{href:"https://github.com/guinetik/graph-js",target:"_blank",class:"flex items-center justify-between px-4 py-3 rounded-md bg-secondary hover:bg-[var(--color-bg-tertiary)] transition-colors"},[h("span",null,"View on GitHub"),h("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})])],-1))])])])])):Re("",!0)]),_:1}),h("main",t_,[_e(y,null,{default:Be(({Component:_})=>[_e(ql,{name:"page-transition",mode:"out-in"},{default:Be(()=>[(H(),Ts(qp(_)))]),_:2},1024)]),_:1})]),d.value?Re("",!0):(H(),q("footer",s_,[h("div",n_,[h("p",o_,[we(g(m(n)("footer.madeBy"))+"  "+g(m(n)("footer.by"))+" ",1),f[15]||(f[15]=h("a",{href:"https://github.com/guinetik",target:"_blank",class:"text-accent"},"@guinetik",-1))]),h("p",r_,g(m(n)("footer.license")),1)])]))])],64)}}},a_="modulepreload",l_=function(t){return"/"+t},Lc={},v=function(e,s,n){let o=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=l(s.map(c=>{if(c=l_(c),c in Lc)return;Lc[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":a_,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};let Ue=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function c_(t){return Xa(t)}function Xa(t){return Array.isArray(t)?d_(t):t instanceof RegExp?t:typeof t=="object"?u_(t):t}function d_(t){let e=[];for(let s=0,n=t.length;s<n;s++)e[s]=Xa(t[s]);return e}function u_(t){let e={};for(let s in t)e[s]=Xa(t[s]);return e}function ph(t,...e){return e.forEach(s=>{for(let n in s)t[n]=s[n]}),t}function mh(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?mh(t.substring(0,t.length-1)):t.substr(~e+1)}var ki=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Po=class{static hasCaptures(t){return t===null?!1:(ki.lastIndex=0,ki.test(t))}static replaceCaptures(t,e,s){return t.replace(ki,(n,o,r,i)=>{let a=s[parseInt(o||r,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(i){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return n})}};function gh(t,e){return t<e?-1:t>e?1:0}function yh(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let s=t.length,n=e.length;if(s===n){for(let o=0;o<s;o++){let r=gh(t[o],e[o]);if(r!==0)return r}return 0}return s-n}function Rc(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function _h(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var vh=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},hr=class{constructor(t,e,s){this._colorMap=t,this._defaults=e,this._root=s}static createFromRawTheme(t,e){return this.createFromParsedTheme(p_(t),e)}static createFromParsedTheme(t,e){return g_(t,e)}_cachedMatchRoot=new vh(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,n=this._cachedMatchRoot.get(e).find(o=>h_(t.parent,o.parentScopes));return n?new bh(n.fontStyle,n.foreground,n.background):null}},Ai=class Zo{constructor(e,s){this.parent=e,this.scopeName=s}static push(e,s){for(const n of s)e=new Zo(e,n);return e}static from(...e){let s=null;for(let n=0;n<e.length;n++)s=new Zo(s,e[n]);return s}push(e){return new Zo(this,e)}getSegments(){let e=this;const s=[];for(;e;)s.push(e.scopeName),e=e.parent;return s.reverse(),s}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const s=[];let n=this;for(;n&&n!==e;)s.push(n.scopeName),n=n.parent;return n===e?s.reverse():void 0}};function h_(t,e){if(e.length===0)return!0;for(let s=0;s<e.length;s++){let n=e[s],o=!1;if(n===">"){if(s===e.length-1)return!1;n=e[++s],o=!0}for(;t&&!f_(t.scopeName,n);){if(o)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function f_(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var bh=class{constructor(t,e,s){this.fontStyle=t,this.foregroundId=e,this.backgroundId=s}};function p_(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,s=[],n=0;for(let o=0,r=e.length;o<r;o++){let i=e[o];if(!i.settings)continue;let a;if(typeof i.scope=="string"){let u=i.scope;u=u.replace(/^[,]+/,""),u=u.replace(/[,]+$/,""),a=u.split(",")}else Array.isArray(i.scope)?a=i.scope:a=[""];let l=-1;if(typeof i.settings.fontStyle=="string"){l=0;let u=i.settings.fontStyle.split(" ");for(let f=0,p=u.length;f<p;f++)switch(u[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof i.settings.foreground=="string"&&Rc(i.settings.foreground)&&(c=i.settings.foreground);let d=null;typeof i.settings.background=="string"&&Rc(i.settings.background)&&(d=i.settings.background);for(let u=0,f=a.length;u<f;u++){let y=a[u].trim().split(" "),_=y[y.length-1],w=null;y.length>1&&(w=y.slice(0,y.length-1),w.reverse()),s[n++]=new m_(_,w,o,l,c,d)}}return s}var m_=class{constructor(t,e,s,n,o,r){this.scope=t,this.parentScopes=e,this.index=s,this.fontStyle=n,this.foreground=o,this.background=r}},at=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(at||{});function g_(t,e){t.sort((l,c)=>{let d=gh(l.scope,c.scope);return d!==0||(d=yh(l.parentScopes,c.parentScopes),d!==0)?d:l.index-c.index});let s=0,n="#000000",o="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(s=l.fontStyle),l.foreground!==null&&(n=l.foreground),l.background!==null&&(o=l.background)}let r=new y_(e),i=new bh(s,r.getId(n),r.getId(o)),a=new v_(new ra(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let d=t[l];a.insert(0,d.scope,d.parentScopes,d.fontStyle,r.getId(d.foreground),r.getId(d.background))}return new hr(r,i,a)}var y_=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,s=t.length;e<s;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},__=Object.freeze([]),ra=class wh{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,s,n,o,r){this.scopeDepth=e,this.parentScopes=s||__,this.fontStyle=n,this.foreground=o,this.background=r}clone(){return new wh(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let s=[];for(let n=0,o=e.length;n<o;n++)s[n]=e[n].clone();return s}acceptOverwrite(e,s,n,o){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,s!==-1&&(this.fontStyle=s),n!==0&&(this.foreground=n),o!==0&&(this.background=o)}},v_=class ia{constructor(e,s=[],n={}){this._mainRule=e,this._children=n,this._rulesWithParentScopes=s}_rulesWithParentScopes;static _cmpBySpecificity(e,s){if(e.scopeDepth!==s.scopeDepth)return s.scopeDepth-e.scopeDepth;let n=0,o=0;for(;e.parentScopes[n]===">"&&n++,s.parentScopes[o]===">"&&o++,!(n>=e.parentScopes.length||o>=s.parentScopes.length);){const r=s.parentScopes[o].length-e.parentScopes[n].length;if(r!==0)return r;n++,o++}return s.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let n=e.indexOf("."),o,r;if(n===-1?(o=e,r=""):(o=e.substring(0,n),r=e.substring(n+1)),this._children.hasOwnProperty(o))return this._children[o].match(r)}const s=this._rulesWithParentScopes.concat(this._mainRule);return s.sort(ia._cmpBySpecificity),s}insert(e,s,n,o,r,i){if(s===""){this._doInsertHere(e,n,o,r,i);return}let a=s.indexOf("."),l,c;a===-1?(l=s,c=""):(l=s.substring(0,a),c=s.substring(a+1));let d;this._children.hasOwnProperty(l)?d=this._children[l]:(d=new ia(this._mainRule.clone(),ra.cloneArr(this._rulesWithParentScopes)),this._children[l]=d),d.insert(e+1,c,n,o,r,i)}_doInsertHere(e,s,n,o,r){if(s===null){this._mainRule.acceptOverwrite(e,n,o,r);return}for(let i=0,a=this._rulesWithParentScopes.length;i<a;i++){let l=this._rulesWithParentScopes[i];if(yh(l.parentScopes,s)===0){l.acceptOverwrite(e,n,o,r);return}}n===-1&&(n=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),r===0&&(r=this._mainRule.background),this._rulesWithParentScopes.push(new ra(e,s,n,o,r))}},wn=class Tt{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const s=Tt.getLanguageId(e),n=Tt.getTokenType(e),o=Tt.getFontStyle(e),r=Tt.getForeground(e),i=Tt.getBackground(e);console.log({languageId:s,tokenType:n,fontStyle:o,foreground:r,background:i})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,s,n,o,r,i,a){let l=Tt.getLanguageId(e),c=Tt.getTokenType(e),d=Tt.containsBalancedBrackets(e)?1:0,u=Tt.getFontStyle(e),f=Tt.getForeground(e),p=Tt.getBackground(e);return s!==0&&(l=s),n!==8&&(c=n),o!==null&&(d=o?1:0),r!==-1&&(u=r),i!==0&&(f=i),a!==0&&(p=a),(l<<0|c<<8|d<<10|u<<11|f<<15|p<<24)>>>0}};function fr(t,e){const s=[],n=b_(t);let o=n.next();for(;o!==null;){let l=0;if(o.length===2&&o.charAt(1)===":"){switch(o.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${o} in scope selector`)}o=n.next()}let c=i();if(s.push({matcher:c,priority:l}),o!==",")break;o=n.next()}return s;function r(){if(o==="-"){o=n.next();const l=r();return c=>!!l&&!l(c)}if(o==="("){o=n.next();const l=a();return o===")"&&(o=n.next()),l}if(Pc(o)){const l=[];do l.push(o),o=n.next();while(Pc(o));return c=>e(l,c)}return null}function i(){const l=[];let c=r();for(;c;)l.push(c),c=r();return d=>l.every(u=>u(d))}function a(){const l=[];let c=i();for(;c&&(l.push(c),o==="|"||o===",");){do o=n.next();while(o==="|"||o===",");c=i()}return d=>l.some(u=>u(d))}}function Pc(t){return!!t&&!!t.match(/[\w\.:]+/)}function b_(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,s=e.exec(t);return{next:()=>{if(!s)return null;const n=s[0];return s=e.exec(t),n}}}function xh(t){typeof t.dispose=="function"&&t.dispose()}var lo=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},w_=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},x_=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},k_=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new lo(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new x_;for(const s of t)A_(s,this.initialScopeName,this.repo,e);for(const s of e.references)if(s instanceof lo){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};function A_(t,e,s,n){const o=s.lookup(t.scopeName);if(!o){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const r=s.lookup(e);t instanceof lo?Ko({baseGrammar:r,selfGrammar:o},n):aa(t.ruleName,{baseGrammar:r,selfGrammar:o,repository:o.repository},n);const i=s.injections(t.scopeName);if(i)for(const a of i)n.add(new lo(a))}function aa(t,e,s){if(e.repository&&e.repository[t]){const n=e.repository[t];pr([n],e,s)}}function Ko(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&pr(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&pr(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function pr(t,e,s){for(const n of t){if(s.visitedRule.has(n))continue;s.visitedRule.add(n);const o=n.repository?ph({},e.repository,n.repository):e.repository;Array.isArray(n.patterns)&&pr(n.patterns,{...e,repository:o},s);const r=n.include;if(!r)continue;const i=kh(r);switch(i.kind){case 0:Ko({...e,selfGrammar:e.baseGrammar},s);break;case 1:Ko(e,s);break;case 2:aa(i.ruleName,{...e,repository:o},s);break;case 3:case 4:const a=i.scopeName===e.selfGrammar.scopeName?e.selfGrammar:i.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:o};i.kind===4?aa(i.ruleName,l,s):Ko(l,s)}else i.kind===4?s.add(new w_(i.scopeName,i.ruleName)):s.add(new lo(i.scopeName));break}}}var C_=class{kind=0},S_=class{kind=1},E_=class{constructor(t){this.ruleName=t}kind=2},N_=class{constructor(t){this.scopeName=t}kind=3},T_=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function kh(t){if(t==="$base")return new C_;if(t==="$self")return new S_;const e=t.indexOf("#");if(e===-1)return new N_(t);if(e===0)return new E_(t.substring(1));{const s=t.substring(0,e),n=t.substring(e+1);return new T_(s,n)}}var I_=/\\(\d+)/,Dc=/\\(\d+)/g,L_=-1,Ah=-2;var wo=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,s,n){this.$location=t,this.id=e,this._name=s||null,this._nameIsCapturing=Po.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=Po.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${mh(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Po.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Po.replaceCaptures(this._contentName,t,e)}},R_=class extends wo{retokenizeCapturedWithRuleId;constructor(t,e,s,n,o){super(t,e,s,n),this.retokenizeCapturedWithRuleId=o}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,s,n){throw new Error("Not supported!")}},P_=class extends wo{_match;captures;_cachedCompiledPatterns;constructor(t,e,s,n,o){super(t,e,s,null),this._match=new co(n,this.id),this.captures=o,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uo,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Mc=class extends wo{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,s,n,o){super(t,e,s,n),this.patterns=o.patterns,this.hasMissingPatterns=o.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const s of this.patterns)t.getRule(s).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uo,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},la=class extends wo{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,s,n,o,r,i,a,l,c){super(t,e,s,n),this._begin=new co(o,this.id),this.beginCaptures=r,this._end=new co(i||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t,e).compileAG(t,s,n)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uo;for(const s of this.patterns)t.getRule(s).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},mr=class extends wo{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,s,n,o,r,i,a,l){super(t,e,s,n),this._begin=new co(o,this.id),this.beginCaptures=r,this.whileCaptures=a,this._while=new co(i,Ah),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,s,n){return this._getCachedCompiledPatterns(t).compileAG(t,s,n)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uo;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,s,n){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,s,n)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new uo,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},Ch=class tt{static createCaptureRule(e,s,n,o,r){return e.registerRule(i=>new R_(s,i,n,o,r))}static getCompiledRuleId(e,s,n){return e.id||s.registerRule(o=>{if(e.id=o,e.match)return new P_(e.$vscodeTextmateLocation,e.id,e.name,e.match,tt._compileCaptures(e.captures,s,n));if(typeof e.begin>"u"){e.repository&&(n=ph({},n,e.repository));let r=e.patterns;return typeof r>"u"&&e.include&&(r=[{include:e.include}]),new Mc(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,tt._compilePatterns(r,s,n))}return e.while?new mr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,tt._compileCaptures(e.beginCaptures||e.captures,s,n),e.while,tt._compileCaptures(e.whileCaptures||e.captures,s,n),tt._compilePatterns(e.patterns,s,n)):new la(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,tt._compileCaptures(e.beginCaptures||e.captures,s,n),e.end,tt._compileCaptures(e.endCaptures||e.captures,s,n),e.applyEndPatternLast,tt._compilePatterns(e.patterns,s,n))}),e.id}static _compileCaptures(e,s,n){let o=[];if(e){let r=0;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);a>r&&(r=a)}for(let i=0;i<=r;i++)o[i]=null;for(const i in e){if(i==="$vscodeTextmateLocation")continue;const a=parseInt(i,10);let l=0;e[i].patterns&&(l=tt.getCompiledRuleId(e[i],s,n)),o[a]=tt.createCaptureRule(s,e[i].$vscodeTextmateLocation,e[i].name,e[i].contentName,l)}}return o}static _compilePatterns(e,s,n){let o=[];if(e)for(let r=0,i=e.length;r<i;r++){const a=e[r];let l=-1;if(a.include){const c=kh(a.include);switch(c.kind){case 0:case 1:l=tt.getCompiledRuleId(n[a.include],s,n);break;case 2:let d=n[c.ruleName];d&&(l=tt.getCompiledRuleId(d,s,n));break;case 3:case 4:const u=c.scopeName,f=c.kind===4?c.ruleName:null,p=s.getExternalGrammar(u,n);if(p)if(f){let y=p.repository[f];y&&(l=tt.getCompiledRuleId(y,s,p.repository))}else l=tt.getCompiledRuleId(p.repository.$self,s,p.repository);break}}else l=tt.getCompiledRuleId(a,s,n);if(l!==-1){const c=s.getRule(l);let d=!1;if((c instanceof Mc||c instanceof la||c instanceof mr)&&c.hasMissingPatterns&&c.patterns.length===0&&(d=!0),d)continue;o.push(l)}}return{patterns:o,hasMissingPatterns:(e?e.length:0)!==o.length}}},co=class Sh{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,s){if(e&&typeof e=="string"){const n=e.length;let o=0,r=[],i=!1;for(let a=0;a<n;a++)if(e.charAt(a)==="\\"&&a+1<n){const c=e.charAt(a+1);c==="z"?(r.push(e.substring(o,a)),r.push("$(?!\\n)(?<!\\n)"),o=a+2):(c==="A"||c==="G")&&(i=!0),a++}this.hasAnchor=i,o===0?this.source=e:(r.push(e.substring(o,n)),this.source=r.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,typeof this.source=="string"?this.hasBackReferences=I_.test(this.source):this.hasBackReferences=!1}clone(){return new Sh(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,s){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let n=s.map(o=>e.substring(o.start,o.end));return Dc.lastIndex=0,this.source.replace(Dc,(o,r)=>_h(n[parseInt(r,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],s=[],n=[],o=[],r,i,a,l;for(r=0,i=this.source.length;r<i;r++)a=this.source.charAt(r),e[r]=a,s[r]=a,n[r]=a,o[r]=a,a==="\\"&&r+1<i&&(l=this.source.charAt(r+1),l==="A"?(e[r+1]="",s[r+1]="",n[r+1]="A",o[r+1]="A"):l==="G"?(e[r+1]="",s[r+1]="G",n[r+1]="",o[r+1]="G"):(e[r+1]=l,s[r+1]=l,n[r+1]=l,o[r+1]=l),r++);return{A0_G0:e.join(""),A0_G1:s.join(""),A1_G0:n.join(""),A1_G1:o.join("")}}resolveAnchors(e,s){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},uo=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(s=>s.source);this._cached=new Oc(t,e,this._items.map(s=>s.ruleId))}return this._cached}compileAG(t,e,s){return this._hasAnchors?e?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,s)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,s){let n=this._items.map(o=>o.resolveAnchors(e,s));return new Oc(t,n,this._items.map(o=>o.ruleId))}},Oc=class{constructor(t,e,s){this.regExps=e,this.rules=s,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,s=this.rules.length;e<s;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,s){const n=this.scanner.findNextMatchSync(t,e,s);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},Ci=class{constructor(t,e){this.languageId=t,this.tokenType=e}},D_=class ca{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,s){this._defaultAttributes=new Ci(e,8),this._embeddedLanguagesMatcher=new M_(Object.entries(s||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?ca._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new Ci(0,0);_getBasicScopeAttributes=new vh(e=>{const s=this._scopeToLanguage(e),n=this._toStandardTokenType(e);return new Ci(s,n)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const s=e.match(ca.STANDARD_TOKEN_TYPE_REGEXP);if(!s)return 8;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},M_=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([s,n])=>_h(s));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},Gc=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function Eh(t,e,s,n,o,r,i,a){const l=e.content.length;let c=!1,d=-1;if(i){const p=O_(t,e,s,n,o,r);o=p.stack,n=p.linePos,s=p.isFirstLine,d=p.anchorPosition}const u=Date.now();for(;!c;){if(a!==0&&Date.now()-u>a)return new Gc(o,!0);f()}return new Gc(o,!1);function f(){const p=G_(t,e,s,n,o,d);if(!p){r.produce(o,l),c=!0;return}const y=p.captureIndices,_=p.matchedRuleId,w=y&&y.length>0?y[0].end>n:!1;if(_===L_){const b=o.getRule(t);r.produce(o,y[0].start),o=o.withContentNameScopesList(o.nameScopesList),$n(t,e,s,o,r,b.endCaptures,y),r.produce(o,y[0].end);const x=o;if(o=o.parent,d=x.getAnchorPos(),!w&&x.getEnterPos()===n){o=x,r.produce(o,l),c=!0;return}}else{const b=t.getRule(_);r.produce(o,y[0].start);const x=o,E=b.getName(e.content,y),A=o.contentNameScopesList.pushAttributed(E,t);if(o=o.push(_,n,d,y[0].end===l,null,A,A),b instanceof la){const L=b;$n(t,e,s,o,r,L.beginCaptures,y),r.produce(o,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),j=A.pushAttributed(z,t);if(o=o.withContentNameScopesList(j),L.endHasBackReferences&&(o=o.withEndRule(L.getEndWithResolvedBackReferences(e.content,y))),!w&&x.hasSameRuleAs(o)){o=o.pop(),r.produce(o,l),c=!0;return}}else if(b instanceof mr){const L=b;$n(t,e,s,o,r,L.beginCaptures,y),r.produce(o,y[0].end),d=y[0].end;const z=L.getContentName(e.content,y),j=A.pushAttributed(z,t);if(o=o.withContentNameScopesList(j),L.whileHasBackReferences&&(o=o.withEndRule(L.getWhileWithResolvedBackReferences(e.content,y))),!w&&x.hasSameRuleAs(o)){o=o.pop(),r.produce(o,l),c=!0;return}}else if($n(t,e,s,o,r,b.captures,y),r.produce(o,y[0].end),o=o.pop(),!w){o=o.safePop(),r.produce(o,l),c=!0;return}}y[0].end>n&&(n=y[0].end,s=!1)}}function O_(t,e,s,n,o,r){let i=o.beginRuleCapturedEOL?0:-1;const a=[];for(let l=o;l;l=l.pop()){const c=l.getRule(t);c instanceof mr&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:d}=$_(l.rule,t,l.stack.endRule,s,n===i),u=c.findNextMatchSync(e,n,d);if(u){if(u.ruleId!==Ah){o=l.stack.pop();break}u.captureIndices&&u.captureIndices.length&&(r.produce(l.stack,u.captureIndices[0].start),$n(t,e,s,l.stack,r,l.rule.whileCaptures,u.captureIndices),r.produce(l.stack,u.captureIndices[0].end),i=u.captureIndices[0].end,u.captureIndices[0].end>n&&(n=u.captureIndices[0].end,s=!1))}else{o=l.stack.pop();break}}return{stack:o,linePos:n,anchorPosition:i,isFirstLine:s}}function G_(t,e,s,n,o,r){const i=F_(t,e,s,n,o,r),a=t.getInjections();if(a.length===0)return i;const l=V_(a,t,e,s,n,o,r);if(!l)return i;if(!i)return l;const c=i.captureIndices[0].start,d=l.captureIndices[0].start;return d<c||l.priorityMatch&&d===c?l:i}function F_(t,e,s,n,o,r){const i=o.getRule(t),{ruleScanner:a,findOptions:l}=Nh(i,t,o.endRule,s,n===r),c=a.findNextMatchSync(e,n,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function V_(t,e,s,n,o,r,i){let a=Number.MAX_VALUE,l=null,c,d=0;const u=r.contentNameScopesList.getScopeNames();for(let f=0,p=t.length;f<p;f++){const y=t[f];if(!y.matcher(u))continue;const _=e.getRule(y.ruleId),{ruleScanner:w,findOptions:b}=Nh(_,e,null,n,o===i),x=w.findNextMatchSync(s,o,b);if(!x)continue;const E=x.captureIndices[0].start;if(!(E>=a)&&(a=E,l=x.captureIndices,c=x.ruleId,d=y.priority,a===o))break}return l?{priorityMatch:d===-1,captureIndices:l,matchedRuleId:c}:null}function Nh(t,e,s,n,o){return{ruleScanner:t.compileAG(e,s,n,o),findOptions:0}}function $_(t,e,s,n,o){return{ruleScanner:t.compileWhileAG(e,s,n,o),findOptions:0}}function $n(t,e,s,n,o,r,i){if(r.length===0)return;const a=e.content,l=Math.min(r.length,i.length),c=[],d=i[0].end;for(let u=0;u<l;u++){const f=r[u];if(f===null)continue;const p=i[u];if(p.length===0)continue;if(p.start>d)break;for(;c.length>0&&c[c.length-1].endPos<=p.start;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?o.produceFromScopes(c[c.length-1].scopes,p.start):o.produce(n,p.start),f.retokenizeCapturedWithRuleId){const _=f.getName(a,i),w=n.contentNameScopesList.pushAttributed(_,t),b=f.getContentName(a,i),x=w.pushAttributed(b,t),E=n.push(f.retokenizeCapturedWithRuleId,p.start,-1,!1,null,w,x),A=t.createOnigString(a.substring(0,p.end));Eh(t,A,s&&p.start===0,p.start,E,o,!1,0),xh(A);continue}const y=f.getName(a,i);if(y!==null){const w=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(y,t);c.push(new B_(w,p.end))}}for(;c.length>0;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var B_=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function z_(t,e,s,n,o,r,i,a){return new U_(t,e,s,n,o,r,i,a)}function Fc(t,e,s,n,o){const r=fr(e,gr),i=Ch.getCompiledRuleId(s,n,o.repository);for(const a of r)t.push({debugSelector:e,matcher:a.matcher,ruleId:i,grammar:o,priority:a.priority})}function gr(t,e){if(e.length<t.length)return!1;let s=0;return t.every(n=>{for(let o=s;o<e.length;o++)if(j_(e[o],n))return s=o+1,!0;return!1})}function j_(t,e){if(!t)return!1;if(t===e)return!0;const s=e.length;return t.length>s&&t.substr(0,s)===e&&t[s]==="."}var U_=class{constructor(t,e,s,n,o,r,i,a){if(this._rootScopeName=t,this.balancedBracketSelectors=r,this._onigLib=a,this._basicScopeAttributesProvider=new D_(s,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=Vc(e,null),this._injections=null,this._tokenTypeMatchers=[],o)for(const l of Object.keys(o)){const c=fr(l,gr);for(const d of c)this._tokenTypeMatchers.push({matcher:d.matcher,type:o[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:o=>o===this._rootScopeName?this._grammar:this.getExternalGrammar(o),injections:o=>this._grammarRepository.injections(o)},e=[],s=this._rootScopeName,n=t.lookup(s);if(n){const o=n.injections;if(o)for(let i in o)Fc(e,i,o[i],this,n);const r=this._grammarRepository.injections(s);r&&r.forEach(i=>{const a=this.getExternalGrammar(i);if(a){const l=a.injectionSelector;l&&Fc(e,l,a,this,a)}})}return e.sort((o,r)=>o.priority-r.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,s=t(e);return this._ruleId2desc[e]=s,s}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const s=this._grammarRepository.lookup(t);if(s)return this._includedGrammars[t]=Vc(s,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,s=0){const n=this._tokenize(t,e,!1,s);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(t,e,s=0){const n=this._tokenize(t,e,!0,s);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(t,e,s,n){this._rootId===-1&&(this._rootId=Ch.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let o;if(!e||e===da.NULL){o=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),d=this.themeProvider.getDefaults(),u=wn.set(0,c.languageId,c.tokenType,null,d.fontStyle,d.foregroundId,d.backgroundId),f=this.getRule(this._rootId).getName(null,null);let p;f?p=Jn.createRootAndLookUpScopeName(f,u,this):p=Jn.createRoot("unknown",u),e=new da(null,this._rootId,-1,-1,!1,null,p,p)}else o=!1,e.reset();t=t+`
`;const r=this.createOnigString(t),i=r.content.length,a=new W_(s,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=Eh(this,r,o,0,e,a,!0,n);return xh(r),{lineLength:i,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function Vc(t,e){return t=c_(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Jn=class jt{constructor(e,s,n){this.parent=e,this.scopePath=s,this.tokenAttributes=n}static fromExtension(e,s){let n=e,o=e?.scopePath??null;for(const r of s)o=Ai.push(o,r.scopeNames),n=new jt(n,o,r.encodedTokenAttributes);return n}static createRoot(e,s){return new jt(null,new Ai(null,e),s)}static createRootAndLookUpScopeName(e,s,n){const o=n.getMetadataForScope(e),r=new Ai(null,e),i=n.themeProvider.themeMatch(r),a=jt.mergeAttributes(s,o,i);return new jt(null,r,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return jt.equals(this,e)}static equals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.scopeName!==s.scopeName||e.tokenAttributes!==s.tokenAttributes)return!1;e=e.parent,s=s.parent}while(!0)}static mergeAttributes(e,s,n){let o=-1,r=0,i=0;return n!==null&&(o=n.fontStyle,r=n.foregroundId,i=n.backgroundId),wn.set(e,s.languageId,s.tokenType,null,o,r,i)}pushAttributed(e,s){if(e===null)return this;if(e.indexOf(" ")===-1)return jt._pushAttributed(this,e,s);const n=e.split(/ /g);let o=this;for(const r of n)o=jt._pushAttributed(o,r,s);return o}static _pushAttributed(e,s,n){const o=n.getMetadataForScope(s),r=e.scopePath.push(s),i=n.themeProvider.themeMatch(r),a=jt.mergeAttributes(e.tokenAttributes,o,i);return new jt(e,r,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const s=[];let n=this;for(;n&&n!==e;)s.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===e?s.reverse():void 0}},da=class $s{constructor(e,s,n,o,r,i,a,l){this.parent=e,this.ruleId=s,this.beginRuleCapturedEOL=r,this.endRule=i,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=o}_stackElementBrand=void 0;static NULL=new $s(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:$s._equals(this,e)}static _equals(e,s){return e===s?!0:this._structuralEquals(e,s)?Jn.equals(e.contentNameScopesList,s.contentNameScopesList):!1}static _structuralEquals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.depth!==s.depth||e.ruleId!==s.ruleId||e.endRule!==s.endRule)return!1;e=e.parent,s=s.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){$s._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,s,n,o,r,i,a){return new $s(this,e,s,n,o,r,i,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,s){return this.parent&&(s=this.parent._writeString(e,s)),e[s++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,s}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new $s(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let s=this;for(;s&&s._enterPos===e._enterPos;){if(s.ruleId===e.ruleId)return!0;s=s.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,s){const n=Jn.fromExtension(e?.nameScopesList??null,s.nameScopesList);return new $s(e,s.ruleId,s.enterPos??-1,s.anchorPos??-1,s.beginRuleCapturedEOL,s.endRule,n,Jn.fromExtension(n,s.contentNameScopesList))}},H_=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(s=>s==="*"?(this.allowAny=!0,[]):fr(s,gr).map(n=>n.matcher)),this.unbalancedBracketScopes=e.flatMap(s=>fr(s,gr).map(n=>n.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},W_=class{constructor(t,e,s,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=t,this._tokenTypeOverrides=s,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let n=t?.tokenAttributes??0,o=!1;if(this.balancedBracketSelectors?.matchesAlways&&(o=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const r=t?.getScopeNames()??[];for(const i of this._tokenTypeOverrides)i.matcher(r)&&(n=wn.set(n,0,i.type,null,-1,0,0));this.balancedBracketSelectors&&(o=this.balancedBracketSelectors.match(r))}if(o&&(n=wn.set(n,0,8,o,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=e;return}const s=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:s}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const s=new Uint32Array(this._binaryTokens.length);for(let n=0,o=this._binaryTokens.length;n<o;n++)s[n]=this._binaryTokens[n];return s}},X_=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,s,n,o){if(!this._grammars.has(t)){let r=this._rawGrammars.get(t);if(!r)return null;this._grammars.set(t,z_(t,r,e,s,n,o,this,this._onigLib))}return this._grammars.get(t)}},q_=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new X_(hr.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,s){this._syncRegistry.setTheme(hr.createFromRawTheme(e,s))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,s,n){return this.loadGrammarWithConfiguration(e,s,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,s,n){return this._loadGrammar(e,s,n.embeddedLanguages,n.tokenTypes,new H_(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,s,n,o,r){const i=new k_(this._syncRegistry,e);for(;i.Q.length>0;)i.Q.map(a=>this._loadSingleGrammar(a.scopeName)),i.processQueue();return this._grammarForScopeName(e,s,n,o,r)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const s=this._options.loadGrammar(e);if(s){const n=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(s,n)}}addGrammar(e,s=[],n=0,o=null){return this._syncRegistry.addGrammar(e,s),this._grammarForScopeName(e.scopeName,n,o)}_grammarForScopeName(e,s=0,n=null,o=null,r=null){return this._syncRegistry.grammarForScopeName(e,s,n,o,r)}},ua=da.NULL;const Z_=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class xo{constructor(e,s,n){this.normal=s,this.property=e,n&&(this.space=n)}}xo.prototype.normal={};xo.prototype.property={};xo.prototype.space=void 0;function Th(t,e){const s={},n={};for(const o of t)Object.assign(s,o.property),Object.assign(n,o.normal);return new xo(s,n,e)}function ha(t){return t.toLowerCase()}class xt{constructor(e,s){this.attribute=s,this.property=e}}xt.prototype.attribute="";xt.prototype.booleanish=!1;xt.prototype.boolean=!1;xt.prototype.commaOrSpaceSeparated=!1;xt.prototype.commaSeparated=!1;xt.prototype.defined=!1;xt.prototype.mustUseProperty=!1;xt.prototype.number=!1;xt.prototype.overloadedBoolean=!1;xt.prototype.property="";xt.prototype.spaceSeparated=!1;xt.prototype.space=void 0;let K_=0;const ke=Ks(),je=Ks(),fa=Ks(),J=Ks(),De=Ks(),hn=Ks(),At=Ks();function Ks(){return 2**++K_}const pa=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:je,commaOrSpaceSeparated:At,commaSeparated:hn,number:J,overloadedBoolean:fa,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),Si=Object.keys(pa);class qa extends xt{constructor(e,s,n,o){let r=-1;if(super(e,s),$c(this,"space",o),typeof n=="number")for(;++r<Si.length;){const i=Si[r];$c(this,Si[r],(n&pa[i])===pa[i])}}}qa.prototype.defined=!0;function $c(t,e,s){s&&(t[e]=s)}function Sn(t){const e={},s={};for(const[n,o]of Object.entries(t.properties)){const r=new qa(n,t.transform(t.attributes||{},n),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(r.mustUseProperty=!0),e[n]=r,s[ha(n)]=n,s[ha(r.attribute)]=n}return new xo(e,s,t.space)}const Ih=Sn({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:je,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:De,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:J,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:De,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:je,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Lh(t,e){return e in t?t[e]:e}function Rh(t,e){return Lh(t,e.toLowerCase())}const J_=Sn({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hn,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:De,autoFocus:ke,autoPlay:ke,blocking:De,capture:null,charSet:null,checked:ke,cite:null,className:De,cols:J,colSpan:null,content:null,contentEditable:je,controls:ke,controlsList:De,coords:J|hn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:fa,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:De,height:J,hidden:fa,high:J,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:De,itemRef:De,itemScope:ke,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:J,pattern:null,ping:De,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:De,required:ke,reversed:ke,rows:J,rowSpan:J,sandbox:De,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:je,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:Rh}),Y_=Sn({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:At,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hn,g2:hn,glyphName:hn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:At,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:At,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:At,rev:At,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:At,requiredFeatures:At,requiredFonts:At,requiredFormats:At,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:At,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:At,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:At,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Lh}),Ph=Sn({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Dh=Sn({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rh}),Mh=Sn({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Q_=/[A-Z]/g,Bc=/-[a-z]/g,e0=/^data[-\w.:]+$/i;function t0(t,e){const s=ha(e);let n=e,o=xt;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&e0.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(Bc,n0);n="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!Bc.test(r)){let i=r.replace(Q_,s0);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}o=qa}return new o(n,e)}function s0(t){return"-"+t.toLowerCase()}function n0(t){return t.charAt(1).toUpperCase()}const o0=Th([Ih,J_,Ph,Dh,Mh],"html"),Oh=Th([Ih,Y_,Ph,Dh,Mh],"svg"),zc={}.hasOwnProperty;function r0(t,e){const s=e||{};function n(o,...r){let i=n.invalid;const a=n.handlers;if(o&&zc.call(o,t)){const l=String(o[t]);i=zc.call(a,l)?a[l]:n.unknown}if(i)return i.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const i0=/["&'<>`]/g,a0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l0=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c0=/[|\\{}()[\]^$+*?.]/g,jc=new WeakMap;function d0(t,e){if(t=t.replace(e.subset?u0(e.subset):i0,n),e.subset||e.escapeOnly)return t;return t.replace(a0,s).replace(l0,n);function s(o,r,i){return e.format((o.charCodeAt(0)-55296)*1024+o.charCodeAt(1)-56320+65536,i.charCodeAt(r+2),e)}function n(o,r,i){return e.format(o.charCodeAt(0),i.charCodeAt(r+1),e)}}function u0(t){let e=jc.get(t);return e||(e=h0(t),jc.set(t,e)),e}function h0(t){const e=[];let s=-1;for(;++s<t.length;)e.push(t[s].replace(c0,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const f0=/[\dA-Fa-f]/;function p0(t,e,s){const n="&#x"+t.toString(16).toUpperCase();return s&&e&&!f0.test(String.fromCharCode(e))?n:n+";"}const m0=/\d/;function g0(t,e,s){const n="&#"+String(t);return s&&e&&!m0.test(String.fromCharCode(e))?n:n+";"}const y0=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ei={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},_0=["cent","copy","divide","gt","lt","not","para","times"],Gh={}.hasOwnProperty,ma={};let Do;for(Do in Ei)Gh.call(Ei,Do)&&(ma[Ei[Do]]=Do);const v0=/[^\dA-Za-z]/;function b0(t,e,s,n){const o=String.fromCharCode(t);if(Gh.call(ma,o)){const r=ma[o],i="&"+r;return s&&y0.includes(r)&&!_0.includes(r)&&(!n||e&&e!==61&&v0.test(String.fromCharCode(e)))?i:i+";"}return""}function w0(t,e,s){let n=p0(t,e,s.omitOptionalSemicolons),o;if((s.useNamedReferences||s.useShortestReferences)&&(o=b0(t,e,s.omitOptionalSemicolons,s.attribute)),(s.useShortestReferences||!o)&&s.useShortestReferences){const r=g0(t,e,s.omitOptionalSemicolons);r.length<n.length&&(n=r)}return o&&(!s.useShortestReferences||o.length<n.length)?o:n}function fn(t,e){return d0(t,Object.assign({format:w0},e))}const x0=/^>|^->|<!--|-->|--!>|<!-$/g,k0=[">"],A0=["<",">"];function C0(t,e,s,n){return n.settings.bogusComments?"<?"+fn(t.value,Object.assign({},n.settings.characterReferences,{subset:k0}))+">":"<!--"+t.value.replace(x0,o)+"-->";function o(r){return fn(r,Object.assign({},n.settings.characterReferences,{subset:A0}))}}function S0(t,e,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}function Uc(t,e){const s=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,o=s.indexOf(e);for(;o!==-1;)n++,o=s.indexOf(e,o+e.length);return n}function E0(t,e){const s=e||{};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}function N0(t){return t.join(" ").trim()}const T0=/[ \t\n\f\r]/g;function Za(t){return typeof t=="object"?t.type==="text"?Hc(t.value):!1:Hc(t)}function Hc(t){return t.replace(T0,"")===""}const qe=Vh(1),Fh=Vh(-1),I0=[];function Vh(t){return e;function e(s,n,o){const r=s?s.children:I0;let i=(n||0)+t,a=r[i];if(!o)for(;a&&Za(a);)i+=t,a=r[i];return a}}const L0={}.hasOwnProperty;function $h(t){return e;function e(s,n,o){return L0.call(t,s.tagName)&&t[s.tagName](s,n,o)}}const Ka=$h({body:P0,caption:Ni,colgroup:Ni,dd:G0,dt:O0,head:Ni,html:R0,li:M0,optgroup:F0,option:V0,p:D0,rp:Wc,rt:Wc,tbody:B0,td:Xc,tfoot:z0,th:Xc,thead:$0,tr:j0});function Ni(t,e,s){const n=qe(s,e,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Za(n.value.charAt(0)))}function R0(t,e,s){const n=qe(s,e);return!n||n.type!=="comment"}function P0(t,e,s){const n=qe(s,e);return!n||n.type!=="comment"}function D0(t,e,s){const n=qe(s,e);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function M0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&n.tagName==="li"}function O0(t,e,s){const n=qe(s,e);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function G0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Wc(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function F0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&n.tagName==="optgroup"}function V0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function $0(t,e,s){const n=qe(s,e);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function B0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function z0(t,e,s){return!qe(s,e)}function j0(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&n.tagName==="tr"}function Xc(t,e,s){const n=qe(s,e);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const U0=$h({body:X0,colgroup:q0,head:W0,html:H0,tbody:Z0});function H0(t){const e=qe(t,-1);return!e||e.type!=="comment"}function W0(t){const e=new Set;for(const n of t.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(e.has(n.tagName))return!1;e.add(n.tagName)}const s=t.children[0];return!s||s.type==="element"}function X0(t){const e=qe(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Za(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function q0(t,e,s){const n=Fh(s,e),o=qe(t,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&Ka(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function Z0(t,e,s){const n=Fh(s,e),o=qe(t,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&Ka(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const Mo={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function K0(t,e,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let i=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;o.space==="html"&&t.tagName==="svg"&&(n.schema=Oh);const c=J0(n,t.properties),d=n.all(o.space==="html"&&t.tagName==="template"?t.content:t);return n.schema=o,d&&(i=!1),(c||!r||!U0(t,e,s))&&(a.push("<",t.tagName,c?" "+c:""),i&&(o.space==="svg"||n.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(d),!i&&(!r||!Ka(t,e,s))&&a.push("</"+t.tagName+">"),a.join("")}function J0(t,e){const s=[];let n=-1,o;if(e){for(o in e)if(e[o]!==null&&e[o]!==void 0){const r=Y0(t,o,e[o]);r&&s.push(r)}}for(;++n<s.length;){const r=t.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function Y0(t,e,s){const n=t0(t.schema,e),o=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,r=t.settings.allowDangerousCharacters?0:1;let i=t.quote,a;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean)&&(typeof s!="string"||s===n.attribute||s==="")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const l=fn(n.attribute,Object.assign({},t.settings.characterReferences,{subset:Mo.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?E0:N0)(s,{padLeft:!t.settings.tightCommaSeparatedLists}):String(s),t.settings.collapseEmptyAttributes&&!s)?l:(t.settings.preferUnquoted&&(a=fn(s,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Mo.unquoted[o][r]}))),a!==s&&(t.settings.quoteSmart&&Uc(s,i)>Uc(s,t.alternative)&&(i=t.alternative),a=i+fn(s,Object.assign({},t.settings.characterReferences,{subset:(i==="'"?Mo.single:Mo.double)[o][r],attribute:!0}))+i),l+(a&&"="+a))}const Q0=["<","&"];function Bh(t,e,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?t.value:fn(t.value,Object.assign({},n.settings.characterReferences,{subset:Q0}))}function ev(t,e,s,n){return n.settings.allowDangerousHtml?t.value:Bh(t,e,s,n)}function tv(t,e,s,n){return n.all(t)}const sv=r0("type",{invalid:nv,unknown:ov,handlers:{comment:C0,doctype:S0,element:K0,raw:ev,root:tv,text:Bh}});function nv(t){throw new Error("Expected node, not `"+t+"`")}function ov(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const rv={},iv={},av=[];function lv(t,e){const s=e||rv,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:cv,all:dv,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||Z_,characterReferences:s.characterReferences||iv,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?Oh:o0,quote:n,alternative:o}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function cv(t,e,s){return sv(t,e,s,this)}function dv(t){const e=[],s=t&&t.children||av;let n=-1;for(;++n<s.length;)e[n]=this.one(s[n],n,t);return e.join("")}function yr(t,e){const s=typeof t=="string"?{}:{...t.colorReplacements},n=typeof t=="string"?t:t.name;for(const[o,r]of Object.entries(e?.colorReplacements||{}))typeof r=="string"?s[o]=r:o===n&&Object.assign(s,r);return s}function Es(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function uv(t){return Array.isArray(t)?t:[t]}async function zh(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function Ja(t){return!t||["plaintext","txt","text","plain"].includes(t)}function jh(t){return t==="ansi"||Ja(t)}function Ya(t){return t==="none"}function Uh(t){return Ya(t)}function Hh(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const s=Array.isArray(e)?e:e.split(/\s+/g);for(const n of s)n&&!t.properties.class.includes(n)&&t.properties.class.push(n);return t}function Zr(t,e=!1){const s=t.split(/(\r?\n)/g);let n=0;const o=[];for(let r=0;r<s.length;r+=2){const i=e?s[r]+(s[r+1]||""):s[r];o.push([i,n]),n+=s[r].length,n+=s[r+1]?.length||0}return o}function hv(t){const e=Zr(t,!0).map(([o])=>o);function s(o){if(o===t.length)return{line:e.length-1,character:e[e.length-1].length};let r=o,i=0;for(const a of e){if(r<a.length)break;r-=a.length,i++}return{line:i,character:r}}function n(o,r){let i=0;for(let a=0;a<o;a++)i+=e[a].length;return i+=r,i}return{lines:e,indexToPos:s,posToIndex:n}}const Qa="light-dark()",fv=["color","background-color"];function pv(t,e){let s=0;const n=[];for(const o of e)o>s&&n.push({...t,content:t.content.slice(s,o),offset:t.offset+s}),s=o;return s<t.content.length&&n.push({...t,content:t.content.slice(s),offset:t.offset+s}),n}function mv(t,e){const s=Array.from(e instanceof Set?e:new Set(e)).sort((n,o)=>n-o);return s.length?t.map(n=>n.flatMap(o=>{const r=s.filter(i=>o.offset<i&&i<o.offset+o.content.length).map(i=>i-o.offset).sort((i,a)=>i-a);return r.length?pv(o,r):o})):t}function gv(t,e,s,n,o="css-vars"){const r={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(d=>_r(t.variants[d])),a=new Set(i.flatMap(d=>Object.keys(d))),l={},c=(d,u)=>{const f=u==="color"?"":u==="background-color"?"-bg":`-${u}`;return s+e[d]+(u==="color"?"":f)};return i.forEach((d,u)=>{for(const f of a){const p=d[f]||"inherit";if(u===0&&n&&fv.includes(f))if(n===Qa&&i.length>1){const y=e.findIndex(x=>x==="light"),_=e.findIndex(x=>x==="dark");if(y===-1||_===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const w=i[y][f]||"inherit",b=i[_][f]||"inherit";l[f]=`light-dark(${w}, ${b})`,o==="css-vars"&&(l[c(u,f)]=p)}else l[f]=p;else o==="css-vars"&&(l[c(u,f)]=p)}}),r.htmlStyle=l,r}function _r(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&at.Italic&&(e["font-style"]="italic"),t.fontStyle&at.Bold&&(e["font-weight"]="bold");const s=[];t.fontStyle&at.Underline&&s.push("underline"),t.fontStyle&at.Strikethrough&&s.push("line-through"),s.length&&(e["text-decoration"]=s.join(" "))}return e}function ga(t){return typeof t=="string"?t:Object.entries(t).map(([e,s])=>`${e}:${s}`).join(";")}const Wh=new WeakMap;function Kr(t,e){Wh.set(t,e)}function ho(t){return Wh.get(t)}class En{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,s){return new En(Object.fromEntries(uv(s).map(n=>[n,ua])),e)}constructor(...e){if(e.length===2){const[s,n]=e;this.lang=n,this._stacks=s}else{const[s,n,o]=e;this.lang=n,this._stacks={[o]:s}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return yv(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function yv(t){const e=[],s=new Set;function n(o){if(s.has(o))return;s.add(o);const r=o?.nameScopesList?.scopeName;r&&e.push(r),o.parent&&n(o.parent)}return n(t),e}function _v(t,e){if(!(t instanceof En))throw new Ue("Invalid grammar state");return t.getInternalStack(e)}function vv(){const t=new WeakMap;function e(s){if(!t.has(s.meta)){let n=function(i){if(typeof i=="number"){if(i<0||i>s.source.length)throw new Ue(`Invalid decoration offset: ${i}. Code length: ${s.source.length}`);return{...o.indexToPos(i),offset:i}}else{const a=o.lines[i.line];if(a===void 0)throw new Ue(`Invalid decoration position ${JSON.stringify(i)}. Lines length: ${o.lines.length}`);let l=i.character;if(l<0&&(l=a.length+l),l<0||l>a.length)throw new Ue(`Invalid decoration position ${JSON.stringify(i)}. Line ${i.line} length: ${a.length}`);return{...i,character:l,offset:o.posToIndex(i.line,l)}}};const o=hv(s.source),r=(s.options.decorations||[]).map(i=>({...i,start:n(i.start),end:n(i.end)}));bv(r),t.set(s.meta,{decorations:r,converter:o,source:s.source})}return t.get(s.meta)}return{name:"shiki:decorations",tokens(s){if(!this.options.decorations?.length)return;const o=e(this).decorations.flatMap(i=>[i.start.offset,i.end.offset]);return mv(s,o)},code(s){if(!this.options.decorations?.length)return;const n=e(this),o=Array.from(s.children).filter(d=>d.type==="element"&&d.tagName==="span");if(o.length!==n.converter.lines.length)throw new Ue(`Number of lines in code element (${o.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function r(d,u,f,p){const y=o[d];let _="",w=-1,b=-1;if(u===0&&(w=0),f===0&&(b=0),f===Number.POSITIVE_INFINITY&&(b=y.children.length),w===-1||b===-1)for(let E=0;E<y.children.length;E++)_+=Xh(y.children[E]),w===-1&&_.length===u&&(w=E+1),b===-1&&_.length===f&&(b=E+1);if(w===-1)throw new Ue(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(b===-1)throw new Ue(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const x=y.children.slice(w,b);if(!p.alwaysWrap&&x.length===y.children.length)a(y,p,"line");else if(!p.alwaysWrap&&x.length===1&&x[0].type==="element")a(x[0],p,"token");else{const E={type:"element",tagName:"span",properties:{},children:x};a(E,p,"wrapper"),y.children.splice(w,x.length,E)}}function i(d,u){o[d]=a(o[d],u,"line")}function a(d,u,f){const p=u.properties||{},y=u.transform||(_=>_);return d.tagName=u.tagName||"span",d.properties={...d.properties,...p,class:d.properties.class},u.properties?.class&&Hh(d,u.properties.class),d=y(d,f)||d,d}const l=[],c=n.decorations.sort((d,u)=>u.start.offset-d.start.offset||d.end.offset-u.end.offset);for(const d of c){const{start:u,end:f}=d;if(u.line===f.line)r(u.line,u.character,f.character,d);else if(u.line<f.line){r(u.line,u.character,Number.POSITIVE_INFINITY,d);for(let p=u.line+1;p<f.line;p++)l.unshift(()=>i(p,d));r(f.line,0,f.character,d)}}l.forEach(d=>d())}}}function bv(t){for(let e=0;e<t.length;e++){const s=t[e];if(s.start.offset>s.end.offset)throw new Ue(`Invalid decoration range: ${JSON.stringify(s.start)} - ${JSON.stringify(s.end)}`);for(let n=e+1;n<t.length;n++){const o=t[n],r=s.start.offset<=o.start.offset&&o.start.offset<s.end.offset,i=s.start.offset<o.end.offset&&o.end.offset<=s.end.offset,a=o.start.offset<=s.start.offset&&s.start.offset<o.end.offset,l=o.start.offset<s.end.offset&&s.end.offset<=o.end.offset;if(r||i||a||l){if(r&&i||a&&l||a&&s.start.offset===s.end.offset||i&&o.start.offset===o.end.offset)continue;throw new Ue(`Decorations ${JSON.stringify(s.start)} and ${JSON.stringify(o.start)} intersect.`)}}}}function Xh(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Xh).join(""):""}const wv=[vv()];function vr(t){const e=xv(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...wv]}function xv(t){const e=[],s=[],n=[];for(const o of t)switch(o.enforce){case"pre":e.push(o);break;case"post":s.push(o);break;default:n.push(o)}return{pre:e,post:s,normal:n}}var js=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Ti={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function kv(t,e){const s=t.indexOf("\x1B",e);if(s!==-1&&t[s+1]==="["){const n=t.indexOf("m",s);if(n!==-1)return{sequence:t.substring(s+2,n).split(";"),startPosition:s,position:n+1}}return{position:t.length}}function qc(t){const e=t.shift();if(e==="2"){const s=t.splice(0,3).map(n=>Number.parseInt(n));return s.length!==3||s.some(n=>Number.isNaN(n))?void 0:{type:"rgb",rgb:s}}else if(e==="5"){const s=t.shift();if(s)return{type:"table",index:Number(s)}}}function Av(t){const e=[];for(;t.length>0;){const s=t.shift();if(!s)continue;const n=Number.parseInt(s);if(!Number.isNaN(n))if(n===0)e.push({type:"resetAll"});else if(n<=9)Ti[n]&&e.push({type:"setDecoration",value:Ti[n]});else if(n<=29){const o=Ti[n-20];o&&(e.push({type:"resetDecoration",value:o}),o==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)e.push({type:"setForegroundColor",value:{type:"named",name:js[n-30]}});else if(n===38){const o=qc(t);o&&e.push({type:"setForegroundColor",value:o})}else if(n===39)e.push({type:"resetForegroundColor"});else if(n<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:js[n-40]}});else if(n===48){const o=qc(t);o&&e.push({type:"setBackgroundColor",value:o})}else n===49?e.push({type:"resetBackgroundColor"}):n===53?e.push({type:"setDecoration",value:"overline"}):n===55?e.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?e.push({type:"setForegroundColor",value:{type:"named",name:js[n-90+8]}}):n>=100&&n<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:js[n-100+8]}})}return e}function Cv(){let t=null,e=null,s=new Set;return{parse(n){const o=[];let r=0;do{const i=kv(n,r),a=i.sequence?n.substring(r,i.startPosition):n.substring(r);if(a.length>0&&o.push({value:a,foreground:t,background:e,decorations:new Set(s)}),i.sequence){const l=Av(i.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,s.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&s.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&s.add(c.value)}r=i.position}while(r<n.length);return o}}}var Sv={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Ev(t=Sv){function e(a){return t[a]}function s(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let n;function o(){if(n)return n;n=[];for(let c=0;c<js.length;c++)n.push(e(js[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let d=0;d<6;d++)for(let u=0;u<6;u++)n.push(s([a[c],a[d],a[u]]));let l=8;for(let c=0;c<24;c++,l+=10)n.push(s([l,l,l]));return n}function r(a){return o()[a]}function i(a){switch(a.type){case"named":return e(a.name);case"rgb":return s(a.rgb);case"table":return r(a.index)}}return{value:i}}const Nv={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function Tv(t,e,s){const n=yr(t,s),o=Zr(e),r=Object.fromEntries(js.map(l=>{const c=`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`,d=t.colors?.[c];return[l,d||Nv[l]]})),i=Ev(r),a=Cv();return o.map(l=>a.parse(l[0]).map(c=>{let d,u;c.decorations.has("reverse")?(d=c.background?i.value(c.background):t.bg,u=c.foreground?i.value(c.foreground):t.fg):(d=c.foreground?i.value(c.foreground):t.fg,u=c.background?i.value(c.background):void 0),d=Es(d,n),u=Es(u,n),c.decorations.has("dim")&&(d=Iv(d));let f=at.None;return c.decorations.has("bold")&&(f|=at.Bold),c.decorations.has("italic")&&(f|=at.Italic),c.decorations.has("underline")&&(f|=at.Underline),c.decorations.has("strikethrough")&&(f|=at.Strikethrough),{content:c.value,offset:l[1],color:d,bgColor:u,fontStyle:f}}))}function Iv(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(e)if(e[3]){const n=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${n}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(n=>`${n}${n}`).join("")}80`;const s=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return s?`var(${s[1]}-dim)`:t}function el(t,e,s={}){const{lang:n="text",theme:o=t.getLoadedThemes()[0]}=s;if(Ja(n)||Ya(o))return Zr(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:r,colorMap:i}=t.setTheme(o);if(n==="ansi")return Tv(r,e,s);const a=t.getLanguage(n);if(s.grammarState){if(s.grammarState.lang!==a.name)throw new Ue(`Grammar state language "${s.grammarState.lang}" does not match highlight language "${a.name}"`);if(!s.grammarState.themes.includes(r.name))throw new Ue(`Grammar state themes "${s.grammarState.themes}" do not contain highlight theme "${r.name}"`)}return Rv(e,a,r,i,s)}function Lv(...t){if(t.length===2)return ho(t[1]);const[e,s,n={}]=t,{lang:o="text",theme:r=e.getLoadedThemes()[0]}=n;if(Ja(o)||Ya(r))throw new Ue("Plain language does not have grammar state");if(o==="ansi")throw new Ue("ANSI language does not have grammar state");const{theme:i,colorMap:a}=e.setTheme(r),l=e.getLanguage(o);return new En(br(s,l,i,a,n).stateStack,l.name,i.name)}function Rv(t,e,s,n,o){const r=br(t,e,s,n,o),i=new En(br(t,e,s,n,o).stateStack,e.name,s.name);return Kr(r.tokens,i),r.tokens}function br(t,e,s,n,o){const r=yr(s,o),{tokenizeMaxLineLength:i=0,tokenizeTimeLimit:a=500}=o,l=Zr(t);let c=o.grammarState?_v(o.grammarState,s.name)??ua:o.grammarContextCode!=null?br(o.grammarContextCode,e,s,n,{...o,grammarState:void 0,grammarContextCode:void 0}).stateStack:ua,d=[];const u=[];for(let f=0,p=l.length;f<p;f++){const[y,_]=l[f];if(y===""){d=[],u.push([]);continue}if(i>0&&y.length>=i){d=[],u.push([{content:y,offset:_,color:"",fontStyle:0}]);continue}let w,b,x;o.includeExplanation&&(w=e.tokenizeLine(y,c,a),b=w.tokens,x=0);const E=e.tokenizeLine2(y,c,a),A=E.tokens.length/2;for(let L=0;L<A;L++){const z=E.tokens[2*L],j=L+1<A?E.tokens[2*L+2]:y.length;if(z===j)continue;const ee=E.tokens[2*L+1],W=Es(n[wn.getForeground(ee)],r),Z=wn.getFontStyle(ee),U={content:y.substring(z,j),offset:_+z,color:W,fontStyle:Z};if(o.includeExplanation){const R=[];if(o.includeExplanation!=="scopeName")for(const S of s.settings){let M;switch(typeof S.scope){case"string":M=S.scope.split(/,/).map(I=>I.trim());break;case"object":M=S.scope;break;default:continue}R.push({settings:S,selectors:M.map(I=>I.split(/ /))})}U.explanation=[];let G=0;for(;z+G<j;){const S=b[x],M=y.substring(S.startIndex,S.endIndex);G+=M.length,U.explanation.push({content:M,scopes:o.includeExplanation==="scopeName"?Pv(S.scopes):Dv(R,S.scopes)}),x+=1}}d.push(U)}u.push(d),d=[],c=E.ruleStack}return{tokens:u,stateStack:c}}function Pv(t){return t.map(e=>({scopeName:e}))}function Dv(t,e){const s=[];for(let n=0,o=e.length;n<o;n++){const r=e[n];s[n]={scopeName:r,themeMatches:Ov(t,r,e.slice(0,n))}}return s}function Zc(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Mv(t,e,s){if(!Zc(t[t.length-1],e))return!1;let n=t.length-2,o=s.length-1;for(;n>=0&&o>=0;)Zc(t[n],s[o])&&(n-=1),o-=1;return n===-1}function Ov(t,e,s){const n=[];for(const{selectors:o,settings:r}of t)for(const i of o)if(Mv(i,e,s)){n.push(r);break}return n}function qh(t,e,s){const n=Object.entries(s.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),o=n.map(l=>{const c=el(t,e,{...s,theme:l.theme}),d=ho(c),u=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:d,theme:u}}),r=Gv(...o.map(l=>l.tokens)),i=r[0].map((l,c)=>l.map((d,u)=>{const f={content:d.content,variants:{},offset:d.offset};return"includeExplanation"in s&&s.includeExplanation&&(f.explanation=d.explanation),r.forEach((p,y)=>{const{content:_,explanation:w,offset:b,...x}=p[c][u];f.variants[n[y].color]=x}),f})),a=o[0].state?new En(Object.fromEntries(o.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),o[0].state.lang):void 0;return a&&Kr(i,a),i}function Gv(...t){const e=t.map(()=>[]),s=t.length;for(let n=0;n<t[0].length;n++){const o=t.map(l=>l[n]),r=e.map(()=>[]);e.forEach((l,c)=>l.push(r[c]));const i=o.map(()=>0),a=o.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<s;c++){const d=a[c];d.content.length===l?(r[c].push(d),i[c]+=1,a[c]=o[c][i[c]]):(r[c].push({...d,content:d.content.slice(0,l)}),a[c]={...d,content:d.content.slice(l),offset:d.offset+l})}}}return e}function wr(t,e,s){let n,o,r,i,a,l;if("themes"in s){const{defaultColor:c="light",cssVariablePrefix:d="--shiki-",colorsRendering:u="css-vars"}=s,f=Object.entries(s.themes).filter(b=>b[1]).map(b=>({color:b[0],theme:b[1]})).sort((b,x)=>b.color===c?-1:x.color===c?1:0);if(f.length===0)throw new Ue("`themes` option must not be empty");const p=qh(t,e,s);if(l=ho(p),c&&Qa!==c&&!f.find(b=>b.color===c))throw new Ue(`\`themes\` option must contain the defaultColor key \`${c}\``);const y=f.map(b=>t.getTheme(b.theme)),_=f.map(b=>b.color);r=p.map(b=>b.map(x=>gv(x,_,d,c,u))),l&&Kr(r,l);const w=f.map(b=>yr(b.theme,s));o=Kc(f,y,w,d,c,"fg",u),n=Kc(f,y,w,d,c,"bg",u),i=`shiki-themes ${y.map(b=>b.name).join(" ")}`,a=c?void 0:[o,n].join(";")}else if("theme"in s){const c=yr(s.theme,s);r=el(t,e,s);const d=t.getTheme(s.theme);n=Es(d.bg,c),o=Es(d.fg,c),i=d.name,l=ho(r)}else throw new Ue("Invalid options, either `theme` or `themes` must be provided");return{tokens:r,fg:o,bg:n,themeName:i,rootStyle:a,grammarState:l}}function Kc(t,e,s,n,o,r,i){return t.map((a,l)=>{const c=Es(e[l][r],s[l])||"inherit",d=`${n+a.color}${r==="bg"?"-bg":""}:${c}`;if(l===0&&o){if(o===Qa&&t.length>1){const u=t.findIndex(_=>_.color==="light"),f=t.findIndex(_=>_.color==="dark");if(u===-1||f===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const p=Es(e[u][r],s[u])||"inherit",y=Es(e[f][r],s[f])||"inherit";return`light-dark(${p}, ${y});${d}`}return c}return i==="css-vars"?d:null}).filter(a=>!!a).join(";")}function xr(t,e,s,n={meta:{},options:s,codeToHast:(o,r)=>xr(t,o,r),codeToTokens:(o,r)=>wr(t,o,r)}){let o=e;for(const y of vr(s))o=y.preprocess?.call(n,o,s)||o;let{tokens:r,fg:i,bg:a,themeName:l,rootStyle:c,grammarState:d}=wr(t,o,s);const{mergeWhitespaces:u=!0,mergeSameStyleTokens:f=!1}=s;u===!0?r=Vv(r):u==="never"&&(r=$v(r)),f&&(r=Bv(r));const p={...n,get source(){return o}};for(const y of vr(s))r=y.tokens?.call(p,r)||r;return Fv(r,{...s,fg:i,bg:a,themeName:l,rootStyle:c},p,d)}function Fv(t,e,s,n=ho(t)){const o=vr(e),r=[],i={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([y])=>!y.startsWith("_")))},children:[]},d={type:"element",tagName:"code",properties:{},children:r};const u=[],f={...s,structure:a,addClassToHast:Hh,get source(){return s.source},get tokens(){return t},get options(){return e},get root(){return i},get pre(){return c},get code(){return d},get lines(){return u}};if(t.forEach((y,_)=>{_&&(a==="inline"?i.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&r.push({type:"text",value:`
`}));let w={type:"element",tagName:"span",properties:{class:"line"},children:[]},b=0;for(const x of y){let E={type:"element",tagName:"span",properties:{...x.htmlAttrs},children:[{type:"text",value:x.content}]};const A=ga(x.htmlStyle||_r(x));A&&(E.properties.style=A);for(const L of o)E=L?.span?.call(f,E,_+1,b,w,x)||E;a==="inline"?i.children.push(E):a==="classic"&&w.children.push(E),b+=x.content.length}if(a==="classic"){for(const x of o)w=x?.line?.call(f,w,_+1)||w;u.push(w),r.push(w)}}),a==="classic"){for(const y of o)d=y?.code?.call(f,d)||d;c.children.push(d);for(const y of o)c=y?.pre?.call(f,c)||c;i.children.push(c)}let p=i;for(const y of o)p=y?.root?.call(f,p)||p;return n&&Kr(p,n),p}function Vv(t){return t.map(e=>{const s=[];let n="",o=0;return e.forEach((r,i)=>{const l=!(r.fontStyle&&(r.fontStyle&at.Underline||r.fontStyle&at.Strikethrough));l&&r.content.match(/^\s+$/)&&e[i+1]?(o||(o=r.offset),n+=r.content):n?(l?s.push({...r,offset:o,content:n+r.content}):s.push({content:n,offset:o},r),o=0,n=""):s.push(r)}),s})}function $v(t){return t.map(e=>e.flatMap(s=>{if(s.content.match(/^\s+$/))return s;const n=s.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return s;const[,o,r,i]=n;if(!o&&!i)return s;const a=[{...s,offset:s.offset+o.length,content:r}];return o&&a.unshift({content:o,offset:s.offset}),i&&a.push({content:i,offset:s.offset+o.length+r.length}),a}))}function Bv(t){return t.map(e=>{const s=[];for(const n of e){if(s.length===0){s.push({...n});continue}const o=s[s.length-1],r=ga(o.htmlStyle||_r(o)),i=ga(n.htmlStyle||_r(n)),a=o.fontStyle&&(o.fontStyle&at.Underline||o.fontStyle&at.Strikethrough),l=n.fontStyle&&(n.fontStyle&at.Underline||n.fontStyle&at.Strikethrough);!a&&!l&&r===i?o.content+=n.content:s.push({...n})}return s})}const zv=lv;function jv(t,e,s){const n={meta:{},options:s,codeToHast:(r,i)=>xr(t,r,i),codeToTokens:(r,i)=>wr(t,r,i)};let o=zv(xr(t,e,s,n));for(const r of vr(s))o=r.postprocess?.call(n,o,s)||o;return o}const Jc={light:"#333333",dark:"#bbbbbb"},Yc={light:"#fffffe",dark:"#1e1e1e"},Qc="__shiki_resolved";function tl(t){if(t?.[Qc])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:s,fg:n}=e;if(!s||!n){const a=e.settings?e.settings.find(l=>!l.name&&!l.scope):void 0;a?.settings?.foreground&&(n=a.settings.foreground),a?.settings?.background&&(s=a.settings.background),!n&&e?.colors?.["editor.foreground"]&&(n=e.colors["editor.foreground"]),!s&&e?.colors?.["editor.background"]&&(s=e.colors["editor.background"]),n||(n=e.type==="light"?Jc.light:Jc.dark),s||(s=e.type==="light"?Yc.light:Yc.dark),e.fg=n,e.bg=s}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let o=0;const r=new Map;function i(a){if(r.has(a))return r.get(a);o+=1;const l=`#${o.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${l}`]?i(a):(r.set(a,l),l)}e.settings=e.settings.map(a=>{const l=a.settings?.foreground&&!a.settings.foreground.startsWith("#"),c=a.settings?.background&&!a.settings.background.startsWith("#");if(!l&&!c)return a;const d={...a,settings:{...a.settings}};if(l){const u=i(a.settings.foreground);e.colorReplacements[u]=a.settings.foreground,d.settings.foreground=u}if(c){const u=i(a.settings.background);e.colorReplacements[u]=a.settings.background,d.settings.background=u}return d});for(const a of Object.keys(e.colors||{}))if((a==="editor.foreground"||a==="editor.background"||a.startsWith("terminal.ansi"))&&!e.colors[a]?.startsWith("#")){const l=i(e.colors[a]);e.colorReplacements[l]=e.colors[a],e.colors[a]=l}return Object.defineProperty(e,Qc,{enumerable:!1,writable:!1,value:!0}),e}async function Zh(t){return Array.from(new Set((await Promise.all(t.filter(e=>!jh(e)).map(async e=>await zh(e).then(s=>Array.isArray(s)?s:[s])))).flat()))}async function Kh(t){return(await Promise.all(t.map(async s=>Uh(s)?null:tl(await zh(s))))).filter(s=>!!s)}let Uv=3;function Hv(t,e=3){e>Uv||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let sn=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class Wv extends q_{constructor(e,s,n,o={}){super(e),this._resolver=e,this._themes=s,this._langs=n,this._alias=o,this._themes.map(r=>this.loadTheme(r)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const s=tl(e);return s.name&&(this._resolvedThemes.set(s.name,s),this._loadedThemesCache=null),s}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let s=this._textmateThemeCache.get(e);s||(s=hr.createFromRawTheme(e),this._textmateThemeCache.set(e,s)),this._syncRegistry.setTheme(s)}getGrammar(e){if(this._alias[e]){const s=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],s.has(e))throw new sn(`Circular alias \`${Array.from(s).join(" -> ")} -> ${e}\``);s.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const s=new Set([...this._langMap.values()].filter(r=>r.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const n={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const o=this.loadGrammarWithConfiguration(e.scopeName,1,n);if(o.name=e.name,this._resolvedGrammars.set(e.name,o),e.aliases&&e.aliases.forEach(r=>{this._alias[r]=e.name}),this._loadedLanguagesCache=null,s.size)for(const r of s)this._resolvedGrammars.delete(r.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(r.scopeName),this._syncRegistry?._grammars?.delete(r.scopeName),this.loadLanguage(this._langMap.get(r.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const o of e)this.resolveEmbeddedLanguages(o);const s=Array.from(this._langGraph.entries()),n=s.filter(([o,r])=>!r);if(n.length){const o=s.filter(([r,i])=>i&&i.embeddedLangs?.some(a=>n.map(([l])=>l).includes(a))).filter(r=>!n.includes(r));throw new sn(`Missing languages ${n.map(([r])=>`\`${r}\``).join(", ")}, required by ${o.map(([r])=>`\`${r}\``).join(", ")}`)}for(const[o,r]of s)this._resolver.addLanguage(r);for(const[o,r]of s)this.loadLanguage(r)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const s of e.embeddedLangs)this._langGraph.set(s,this._langMap.get(s))}}class Xv{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,s){this._onigLib={createOnigScanner:n=>e.createScanner(n),createOnigString:n=>e.createString(n)},s.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(s=>{this._langs.set(s,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(s=>{this._injections.get(s)||this._injections.set(s,[]),this._injections.get(s).push(e.scopeName)})}getInjections(e){const s=e.split(".");let n=[];for(let o=1;o<=s.length;o++){const r=s.slice(0,o).join(".");n=[...n,...this._injections.get(r)||[]]}return n}}let On=0;function qv(t){On+=1,t.warnings!==!1&&On>=10&&On%10===0&&console.warn(`[Shiki] ${On} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new sn("`engine` option is required for synchronous mode");const s=(t.langs||[]).flat(1),n=(t.themes||[]).flat(1).map(tl),o=new Xv(t.engine,s),r=new Wv(o,n,s,t.langAlias);let i;function a(x){w();const E=r.getGrammar(typeof x=="string"?x:x.name);if(!E)throw new sn(`Language \`${x}\` not found, you may need to load it first`);return E}function l(x){if(x==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};w();const E=r.getTheme(x);if(!E)throw new sn(`Theme \`${x}\` not found, you may need to load it first`);return E}function c(x){w();const E=l(x);i!==x&&(r.setTheme(E),i=x);const A=r.getColorMap();return{theme:E,colorMap:A}}function d(){return w(),r.getLoadedThemes()}function u(){return w(),r.getLoadedLanguages()}function f(...x){w(),r.loadLanguages(x.flat(1))}async function p(...x){return f(await Zh(x))}function y(...x){w();for(const E of x.flat(1))r.loadTheme(E)}async function _(...x){return w(),y(await Kh(x))}function w(){if(e)throw new sn("Shiki instance has been disposed")}function b(){e||(e=!0,r.dispose(),On-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:d,getLoadedLanguages:u,loadLanguage:p,loadLanguageSync:f,loadTheme:_,loadThemeSync:y,dispose:b,[Symbol.dispose]:b}}async function Zv(t){t.engine||Hv("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,s,n]=await Promise.all([Kh(t.themes||[]),Zh(t.langs||[]),t.engine]);return qv({...t,themes:e,langs:s,engine:n})}async function Kv(t){const e=await Zv(t);return{getLastGrammarState:(...s)=>Lv(e,...s),codeToTokensBase:(s,n)=>el(e,s,n),codeToTokensWithThemes:(s,n)=>qh(e,s,n),codeToTokens:(s,n)=>wr(e,s,n),codeToHast:(s,n)=>xr(e,s,n),codeToHtml:(s,n)=>jv(e,s,n),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function Jv(t){const e=t.langs,s=t.themes,n=t.engine;async function o(r){function i(u){if(typeof u=="string"){if(jh(u))return[];u=r.langAlias?.[u]||u;const f=e[u];if(!f)throw new Ue(`Language \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}function a(u){if(Uh(u))return"none";if(typeof u=="string"){const f=s[u];if(!f)throw new Ue(`Theme \`${u}\` is not included in this bundle. You may want to load it from external source.`);return f}return u}const l=(r.themes??[]).map(u=>a(u)),c=(r.langs??[]).map(u=>i(u)),d=await Kv({engine:r.engine??n(),...r,themes:l,langs:c});return{...d,loadLanguage(...u){return d.loadLanguage(...u.map(i))},loadTheme(...u){return d.loadTheme(...u.map(a))},getBundledLanguages(){return e},getBundledThemes(){return s}}}return o}const Jh=[{id:"abap",name:"ABAP",import:(()=>v(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>v(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>v(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>v(()=>import("./angular-html-CU67Zn6k.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>v(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>v(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>v(()=>import("./apex-DhZLUxFE.js"),[]))},{id:"apl",name:"APL",import:(()=>v(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>v(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>v(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>v(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>v(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>v(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>v(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>v(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>v(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>v(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>v(()=>import("./berry-D08WgyRC.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>v(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>v(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>v(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>v(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>v(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>v(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>v(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>v(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>v(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>v(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>v(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>v(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>v(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>v(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>v(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>v(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>v(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>v(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>v(()=>import("./csharp-CX12Zw3r.js"),[]))},{id:"css",name:"CSS",import:(()=>v(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>v(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>v(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>v(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>v(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>v(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>v(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>v(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>v(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>v(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>v(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>v(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>v(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>v(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>v(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>v(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>v(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>v(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>v(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>v(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>v(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>v(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>v(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>v(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>v(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>v(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>v(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>v(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>v(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>v(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>v(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>v(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>v(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>v(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>v(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>v(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>v(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>v(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>v(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>v(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>v(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>v(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>v(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>v(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>v(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>v(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>v(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>v(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>v(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>v(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>v(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>v(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>v(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>v(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>v(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>v(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>v(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>v(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>v(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>v(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>v(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>v(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>v(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>v(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>v(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>v(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>v(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>v(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>v(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>v(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>v(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>v(()=>import("./lean-DP1Csr6i.js"),[]))},{id:"less",name:"Less",import:(()=>v(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>v(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>v(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>v(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>v(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>v(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>v(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>v(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>v(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>v(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>v(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>v(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>v(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>v(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>v(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>v(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>v(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>v(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>v(()=>import("./nextflow-CUEJCptM.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>v(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>v(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>v(()=>import("./nix-BbRYJGeE.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>v(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>v(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>v(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>v(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>v(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>v(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>v(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>v(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>v(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>v(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>v(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>v(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>v(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>v(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>v(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>v(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>v(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>v(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>v(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>v(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>v(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>v(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>v(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>v(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>v(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>v(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>v(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>v(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>v(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>v(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>v(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>v(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>v(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>v(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>v(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>v(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>v(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>v(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>v(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>v(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>v(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>v(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>v(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>v(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>v(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>v(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>v(()=>import("./solidity-BbcW6ACK.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>v(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>v(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>v(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>v(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>v(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>v(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>v(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>v(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>v(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>v(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>v(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>v(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>v(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>v(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>v(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>v(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>v(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>v(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>v(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>v(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>v(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>v(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>v(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>v(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>v(()=>import("./typespec-Df68jz8_.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>v(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>v(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>v(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>v(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>v(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>v(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>v(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>v(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>v(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>v(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>v(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>v(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>v(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>v(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>v(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>v(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>v(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>v(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>v(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>v(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>v(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>v(()=>import("./zig-VOosw3JB.js"),[]))}],Yv=Object.fromEntries(Jh.map(t=>[t.id,t.import])),Qv=Object.fromEntries(Jh.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),eb={...Yv,...Qv},tb=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>v(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>v(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>v(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>v(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>v(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>v(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>v(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>v(()=>import("./dark-plus-eOWES_5F.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>v(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>v(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>v(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>v(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>v(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>v(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>v(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>v(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>v(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>v(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>v(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>v(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>v(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>v(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>v(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>v(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>v(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>v(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>v(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>v(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>v(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>v(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>v(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>v(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>v(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>v(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>v(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>v(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>v(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>v(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>v(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>v(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>v(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>v(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>v(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>v(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>v(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>v(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>v(()=>import("./rose-pine-BHrmToEH.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>v(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>v(()=>import("./rose-pine-moon-NleAzG8P.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>v(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>v(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>v(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>v(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>v(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>v(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>v(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>v(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>v(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>v(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>v(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],sb=Object.fromEntries(tb.map(t=>[t.id,t.import]));class sl extends Error{constructor(e){super(e),this.name="ShikiError"}}function nb(){return 2147483648}function ob(){return typeof performance<"u"?performance.now():Date.now()}const rb=(t,e)=>t+(e-t%e)%e;async function ib(t){let e,s;const n={};function o(p){s=p,n.HEAPU8=new Uint8Array(p),n.HEAPU32=new Uint32Array(p)}function r(p,y,_){n.HEAPU8.copyWithin(p,y,y+_)}function i(p){try{return e.grow(p-s.byteLength+65535>>>16),o(e.buffer),1}catch{}}function a(p){const y=n.HEAPU8.length;p=p>>>0;const _=nb();if(p>_)return!1;for(let w=1;w<=4;w*=2){let b=y*(1+.2/w);b=Math.min(b,p+100663296);const x=Math.min(_,rb(Math.max(p,b),65536));if(i(x))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(p,y,_=1024){const w=y+_;let b=y;for(;p[b]&&!(b>=w);)++b;if(b-y>16&&p.buffer&&l)return l.decode(p.subarray(y,b));let x="";for(;y<b;){let E=p[y++];if(!(E&128)){x+=String.fromCharCode(E);continue}const A=p[y++]&63;if((E&224)===192){x+=String.fromCharCode((E&31)<<6|A);continue}const L=p[y++]&63;if((E&240)===224?E=(E&15)<<12|A<<6|L:E=(E&7)<<18|A<<12|L<<6|p[y++]&63,E<65536)x+=String.fromCharCode(E);else{const z=E-65536;x+=String.fromCharCode(55296|z>>10,56320|z&1023)}}return x}function d(p,y){return p?c(n.HEAPU8,p,y):""}const u={emscripten_get_now:ob,emscripten_memcpy_big:r,emscripten_resize_heap:a,fd_write:()=>0};async function f(){const y=await t({env:u,wasi_snapshot_preview1:u});e=y.memory,o(e.buffer),Object.assign(n,y),n.UTF8ToString=d}return await f(),n}var ab=Object.defineProperty,lb=(t,e,s)=>e in t?ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,We=(t,e,s)=>lb(t,typeof e!="symbol"?e+"":e,s);let Ke=null;function cb(t){throw new sl(t.UTF8ToString(t.getLastOnigError()))}class Jr{constructor(e){We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16Value"),We(this,"utf8Value"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16");const s=e.length,n=Jr._utf8ByteLength(e),o=n!==s,r=o?new Uint32Array(s+1):null;o&&(r[s]=n);const i=o?new Uint32Array(n+1):null;o&&(i[n]=s);const a=new Uint8Array(n);let l=0;for(let c=0;c<s;c++){const d=e.charCodeAt(c);let u=d,f=!1;if(d>=55296&&d<=56319&&c+1<s){const p=e.charCodeAt(c+1);p>=56320&&p<=57343&&(u=(d-55296<<10)+65536|p-56320,f=!0)}o&&(r[c]=l,f&&(r[c+1]=l),u<=127?i[l+0]=c:u<=2047?(i[l+0]=c,i[l+1]=c):u<=65535?(i[l+0]=c,i[l+1]=c,i[l+2]=c):(i[l+0]=c,i[l+1]=c,i[l+2]=c,i[l+3]=c)),u<=127?a[l++]=u:u<=2047?(a[l++]=192|(u&1984)>>>6,a[l++]=128|(u&63)>>>0):u<=65535?(a[l++]=224|(u&61440)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0):(a[l++]=240|(u&1835008)>>>18,a[l++]=128|(u&258048)>>>12,a[l++]=128|(u&4032)>>>6,a[l++]=128|(u&63)>>>0),f&&c++}this.utf16Length=s,this.utf8Length=n,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=r,this.utf8OffsetToUtf16=i}static _utf8ByteLength(e){let s=0;for(let n=0,o=e.length;n<o;n++){const r=e.charCodeAt(n);let i=r,a=!1;if(r>=55296&&r<=56319&&n+1<o){const l=e.charCodeAt(n+1);l>=56320&&l<=57343&&(i=(r-55296<<10)+65536|l-56320,a=!0)}i<=127?s+=1:i<=2047?s+=2:i<=65535?s+=3:s+=4,a&&n++}return s}createString(e){const s=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,s),s}}const Yr=class Ut{constructor(e){if(We(this,"id",++Ut.LAST_ID),We(this,"_onigBinding"),We(this,"content"),We(this,"utf16Length"),We(this,"utf8Length"),We(this,"utf16OffsetToUtf8"),We(this,"utf8OffsetToUtf16"),We(this,"ptr"),!Ke)throw new sl("Must invoke loadWasm first.");this._onigBinding=Ke,this.content=e;const s=new Jr(e);this.utf16Length=s.utf16Length,this.utf8Length=s.utf8Length,this.utf16OffsetToUtf8=s.utf16OffsetToUtf8,this.utf8OffsetToUtf16=s.utf8OffsetToUtf16,this.utf8Length<1e4&&!Ut._sharedPtrInUse?(Ut._sharedPtr||(Ut._sharedPtr=Ke.omalloc(1e4)),Ut._sharedPtrInUse=!0,Ke.HEAPU8.set(s.utf8Value,Ut._sharedPtr),this.ptr=Ut._sharedPtr):this.ptr=s.createString(Ke)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Ut._sharedPtr?Ut._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};We(Yr,"LAST_ID",0);We(Yr,"_sharedPtr",0);We(Yr,"_sharedPtrInUse",!1);let Yh=Yr;class db{constructor(e){if(We(this,"_onigBinding"),We(this,"_ptr"),!Ke)throw new sl("Must invoke loadWasm first.");const s=[],n=[];for(let a=0,l=e.length;a<l;a++){const c=new Jr(e[a]);s[a]=c.createString(Ke),n[a]=c.utf8Length}const o=Ke.omalloc(4*e.length);Ke.HEAPU32.set(s,o/4);const r=Ke.omalloc(4*e.length);Ke.HEAPU32.set(n,r/4);const i=Ke.createOnigScanner(o,r,e.length);for(let a=0,l=e.length;a<l;a++)Ke.ofree(s[a]);Ke.ofree(r),Ke.ofree(o),i===0&&cb(Ke),this._onigBinding=Ke,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,s,n){let o=0;if(typeof n=="number"&&(o=n),typeof e=="string"){e=new Yh(e);const r=this._findNextMatchSync(e,s,!1,o);return e.dispose(),r}return this._findNextMatchSync(e,s,!1,o)}_findNextMatchSync(e,s,n,o){const r=this._onigBinding,i=r.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(s),o);if(i===0)return null;const a=r.HEAPU32;let l=i/4;const c=a[l++],d=a[l++],u=[];for(let f=0;f<d;f++){const p=e.convertUtf8OffsetToUtf16(a[l++]),y=e.convertUtf8OffsetToUtf16(a[l++]);u[f]={start:p,end:y,length:y-p}}return{index:c,captureIndices:u}}}function ub(t){return typeof t.instantiator=="function"}function hb(t){return typeof t.default=="function"}function fb(t){return typeof t.data<"u"}function pb(t){return typeof Response<"u"&&t instanceof Response}function mb(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Oo;function gb(t){if(Oo)return Oo;async function e(){Ke=await ib(async s=>{let n=t;return n=await n,typeof n=="function"&&(n=await n(s)),typeof n=="function"&&(n=await n(s)),ub(n)?n=await n.instantiator(s):hb(n)?n=await n.default(s):(fb(n)&&(n=n.data),pb(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await yb(n)(s):n=await _b(n)(s):mb(n)?n=await Ii(n)(s):n instanceof WebAssembly.Module?n=await Ii(n)(s):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await Ii(n.default)(s))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return Oo=e(),Oo}function Ii(t){return e=>WebAssembly.instantiate(t,e)}function yb(t){return e=>WebAssembly.instantiateStreaming(t,e)}function _b(t){return async e=>{const s=await t.arrayBuffer();return WebAssembly.instantiate(s,e)}}async function vb(t){return t&&await gb(t),{createScanner(e){return new db(e.map(s=>typeof s=="string"?s:s.source))},createString(e){return new Yh(e)}}}const bb=Jv({langs:eb,themes:sb,engine:()=>vb(v(()=>import("./wasm-CG6Dc4jp.js"),[]))});let Go=null,Li=null;function wb(){const t=ae(!1);async function e(){return Go?(t.value=!0,Go):(Li||(Li=bb({themes:["github-dark","github-light"],langs:["javascript","typescript","python","bash","json","css","html"]})),Go=await Li,t.value=!0,Go)}async function s(n,o="javascript",r="github-dark"){return(await e()).codeToHtml(n,{lang:o,theme:r})}return Ps(()=>{e()}),{isReady:t,highlight:s,initHighlighter:e}}const Nn=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},xb={class:"code-block-wrapper"},kb={key:0,class:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4"},Ab=["innerHTML"],Cb={__name:"CodeBlock",props:{code:{type:String,required:!0},language:{type:String,default:"javascript"},customClass:{type:String,default:""}},setup(t){const e=t,{highlight:s}=wb(),{darkMode:n}=fh(),o=ae(""),r=ae(!0),i=it(()=>n.value?"github-dark":"github-light");async function a(){r.value=!0;try{o.value=await s(e.code,e.language,i.value)}catch(l){console.error("Failed to highlight code:",l),o.value=`<pre class="bg-gray-900 rounded-lg p-4"><code>${e.code}</code></pre>`}finally{r.value=!1}}return St([()=>e.code,()=>e.language,i],a),Ps(a),(l,c)=>(H(),q("div",xb,[r.value?(H(),q("div",kb,[...c[0]||(c[0]=[h("div",{class:"animate-pulse"},[h("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),h("div",{class:"h-4 bg-gray-700 rounded w-1/2"})],-1)])])):(H(),q("div",{key:1,innerHTML:o.value,class:bt(["code-block rounded-lg overflow-x-auto",t.customClass])},null,10,Ab))]))}},gt=Nn(Cb,[["__scopeId","data-v-fdf7ed14"]]),Sb={class:"relative"},Eb={class:"hero-section"},Nb={class:"hero-container"},Tb={class:"hero-title"},Ib={class:"hero-subtitle"},Lb={class:"hero-description"},Rb={class:"hero-cta"},Pb={href:"https://github.com/guinetik/graph-js",target:"_blank",class:"btn-secondary"},Db={class:"features-section"},Mb={class:"features-grid"},Ob={class:"feature-icon"},Gb={class:"feature-title"},Fb={class:"feature-description"},Vb={class:"code-example-section"},$b={class:"code-example-container"},Bb={class:"code-example-card"},zb={class:"code-example-header"},jb={class:"code-example-title"},Ub=`npm install @guinetik/graph-js

import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Alice', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// Analysis runs in workers for optimal performance!`,Hb={__name:"HomePage",setup(t){const{t:e}=Jt();return(s,n)=>{const o=Hi("router-link");return H(),q("div",Sb,[h("div",Eb,[h("div",Nb,[h("h1",Tb,g(m(e)("home.hero.title")),1),h("p",Ib,g(m(e)("home.hero.subtitle")),1),h("p",Lb,g(m(e)("home.hero.description")),1),h("div",Rb,[_e(o,{to:"/showcase",class:"btn-primary"},{default:Be(()=>[we("  "+g(m(e)("home.hero.cta")),1)]),_:1}),h("a",Pb,"  "+g(m(e)("home.hero.github")),1)])])]),h("div",Db,[h("div",Mb,[(H(!0),q(Ve,null,Ss(m(e)("home.features"),(r,i)=>(H(),q("div",{key:i,class:"feature-card"},[h("div",Ob,g(r.icon),1),h("h3",Gb,g(r.title),1),h("p",Fb,g(r.description),1)]))),128))])]),h("div",Vb,[h("div",$b,[h("div",Bb,[h("div",zb,[h("span",jb,g(m(e)("home.code.title")),1),n[0]||(n[0]=h("div",{class:"code-example-dots"},[h("div",{class:"code-dot-red"}),h("div",{class:"code-dot-yellow"}),h("div",{class:"code-dot-green"})],-1))]),_e(gt,{code:Ub,language:"javascript"})])])])])}}},Wb={class:"demo-layout"},Xb={class:"demo-controls-content"},qb={class:"demo-graph"},Zb=["aria-label"],Kb={key:0,class:"text-2xl"},Jb={key:1,class:"text-2xl"},nl={__name:"DemoLayout",setup(t,{expose:e}){const s=ae(!1),n=()=>{s.value=!s.value};return e({toggleControls:n,controlsVisible:s}),(o,r)=>(H(),q("div",Wb,[h("aside",{class:bt(["demo-controls",s.value?"mobile-visible":"mobile-hidden"])},[h("div",Xb,[Wi(o.$slots,"controls")])],2),h("main",qb,[Wi(o.$slots,"graph")]),h("button",{onClick:n,class:"demo-controls-toggle lg:hidden","aria-label":s.value?"Close controls":"Open controls"},[s.value?(H(),q("span",Jb,"")):(H(),q("span",Kb,""))],8,Zb)]))}},Yb={class:"layout-picker"},Qb={class:"space-y-2"},e1={class:"block text-sm font-medium text-secondary"},t1=["value","disabled"],s1=["value"],n1=["disabled"],o1={key:0},r1={key:1},i1={key:0,class:"info-box-yellow mt-3"},a1={class:"text-xs text-yellow-800 dark:text-yellow-200"},l1={__name:"LayoutPicker",props:{modelValue:{type:String,required:!0},availableLayouts:{type:Array,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","apply"],setup(t,{emit:e}){const{t:s}=Jt(),n=t,o=it(()=>n.availableLayouts.find(r=>r.id===n.modelValue));return(r,i)=>(H(),q("div",Yb,[h("div",Qb,[h("label",e1,g(m(s)("showcase.layoutPicker.chooseLayout")),1),h("select",{value:t.modelValue,onInput:i[0]||(i[0]=a=>r.$emit("update:modelValue",a.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(H(!0),q(Ve,null,Ss(t.availableLayouts,a=>(H(),q("option",{key:a.id,value:a.id},g(a.name),9,s1))),128))],40,t1)]),h("button",{onClick:i[1]||(i[1]=a=>r.$emit("apply")),disabled:t.disabled||t.loading,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.loading?(H(),q("span",r1,g(m(s)("showcase.layoutPicker.applyingButton")),1)):(H(),q("span",o1,g(m(s)("showcase.layoutPicker.applyButton")),1))],8,n1),t.modelValue!=="none"&&o.value?(H(),q("div",i1,[h("p",a1,[h("strong",null,g(o.value.name)+":",1),we(" "+g(o.value.description),1)])])):Re("",!0)]))}},ol=Nn(l1,[["__scopeId","data-v-49c14ca8"]]),c1={class:"community-picker"},d1={class:"space-y-2"},u1={class:"block text-sm font-medium text-secondary"},h1=["value","disabled"],f1=["value"],p1=["disabled"],m1={key:0},g1={key:1},y1={__name:"CommunityPicker",props:{modelValue:{type:String,required:!0},availableAlgorithms:{type:Array,required:!0},detecting:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue","detect"],setup(t,{emit:e}){const{t:s}=Jt();return(n,o)=>(H(),q("div",c1,[h("div",d1,[h("label",u1,g(t.label||m(s)("showcase.communityPicker.chooseAlgorithm")),1),h("select",{value:t.modelValue,onInput:o[0]||(o[0]=r=>n.$emit("update:modelValue",r.target.value)),disabled:t.disabled,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[(H(!0),q(Ve,null,Ss(t.availableAlgorithms,r=>(H(),q("option",{key:r.id,value:r.id},g(r.name),9,f1))),128))],40,h1)]),h("button",{onClick:o[1]||(o[1]=r=>n.$emit("detect")),disabled:t.disabled||t.detecting,class:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[t.detecting?(H(),q("span",g1,g(m(s)("showcase.communityPicker.detectingButton")),1)):(H(),q("span",m1,g(m(s)("showcase.communityPicker.detectButton")),1))],8,p1),Wi(n.$slots,"results",{},void 0,!0)]))}},Qh=Nn(y1,[["__scopeId","data-v-1b411c72"]]),_1={class:"network-analysis"},v1={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 space-y-2 mb-3"},b1={class:"text-sm font-semibold text-primary"},w1={class:"space-y-2"},x1={class:"flex items-center gap-2 text-sm"},k1=["checked"],A1={class:"text-secondary"},C1={class:"flex items-center gap-2 text-sm"},S1=["checked"],E1={class:"text-secondary"},N1={class:"flex items-center gap-2 text-sm"},T1=["checked"],I1={class:"text-secondary"},L1={class:"flex items-center gap-2 text-sm"},R1=["checked"],P1={class:"text-secondary"},D1={key:0,class:"flex items-center gap-2 text-sm"},M1=["checked"],O1={class:"text-secondary"},G1={class:"space-y-2 mb-3"},F1={class:"block text-sm font-medium text-secondary"},V1=["value","disabled"],$1={value:""},B1={key:0,value:"degree"},z1={key:1,value:"betweenness"},j1={key:2,value:"clustering"},U1={key:3,value:"eigenvector"},H1=["disabled"],W1={key:0},X1={key:1},q1={key:0,class:"mt-2"},Z1={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},K1={class:"text-xs text-secondary mt-1 text-center"},J1={__name:"NetworkAnalysis",props:{selectedMetrics:{type:Array,required:!0},sizeMetric:{type:String,default:""},analyzing:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},progress:{type:Number,default:0},showSpectralMetric:{type:Boolean,default:!1}},emits:["update:selectedMetrics","update:sizeMetric","analyze"],setup(t,{emit:e}){const{t:s}=Jt(),n=t,o=e,r=(i,a)=>{let l=[...n.selectedMetrics];a?l.includes(i)||l.push(i):l=l.filter(c=>c!==i),o("update:selectedMetrics",l)};return(i,a)=>(H(),q("div",_1,[h("div",v1,[h("h3",b1,g(m(s)("showcase.networkAnalysis.metricsTitle")),1),h("div",w1,[h("label",x1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("degree"),onChange:a[0]||(a[0]=l=>r("degree",l.target.checked)),class:"rounded"},null,40,k1),h("span",A1,g(m(s)("showcase.networkAnalysis.degreeCentrality")),1)]),h("label",C1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("betweenness"),onChange:a[1]||(a[1]=l=>r("betweenness",l.target.checked)),class:"rounded"},null,40,S1),h("span",E1,g(m(s)("showcase.networkAnalysis.betweennessCentrality")),1)]),h("label",N1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("clustering"),onChange:a[2]||(a[2]=l=>r("clustering",l.target.checked)),class:"rounded"},null,40,T1),h("span",I1,g(m(s)("showcase.networkAnalysis.clusteringCoefficient")),1)]),h("label",L1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector"),onChange:a[3]||(a[3]=l=>r("eigenvector",l.target.checked)),class:"rounded"},null,40,R1),h("span",P1,g(m(s)("showcase.networkAnalysis.eigenvectorCentrality")),1)]),t.showSpectralMetric?(H(),q("label",D1,[h("input",{type:"checkbox",checked:t.selectedMetrics.includes("eigenvector-laplacian"),onChange:a[4]||(a[4]=l=>r("eigenvector-laplacian",l.target.checked)),class:"rounded"},null,40,M1),h("span",O1,g(m(s)("showcase.networkAnalysis.eigenvectorLaplacian")),1)])):Re("",!0)])]),h("div",G1,[h("label",F1,g(m(s)("showcase.networkAnalysis.nodeSizeLabel")),1),h("select",{value:t.sizeMetric,onInput:a[5]||(a[5]=l=>i.$emit("update:sizeMetric",l.target.value)),disabled:t.disabled||t.selectedMetrics.length===0,class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md disabled:opacity-50"},[h("option",$1,g(m(s)("showcase.networkAnalysis.selectMetric")),1),t.selectedMetrics.includes("degree")?(H(),q("option",B1,g(m(s)("showcase.networkAnalysis.degreeName")),1)):Re("",!0),t.selectedMetrics.includes("betweenness")?(H(),q("option",z1,g(m(s)("showcase.networkAnalysis.betweennessName")),1)):Re("",!0),t.selectedMetrics.includes("clustering")?(H(),q("option",j1,g(m(s)("showcase.networkAnalysis.clusteringName")),1)):Re("",!0),t.selectedMetrics.includes("eigenvector")?(H(),q("option",U1,g(m(s)("showcase.networkAnalysis.eigenvectorName")),1)):Re("",!0)],40,V1)]),h("button",{onClick:a[6]||(a[6]=l=>i.$emit("analyze")),disabled:t.disabled||t.analyzing||t.selectedMetrics.length===0,class:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors"},[t.analyzing?(H(),q("span",X1,g(m(s)("showcase.networkAnalysis.analyzingButton")),1)):(H(),q("span",W1,g(m(s)("showcase.networkAnalysis.analyzeButton")),1))],8,H1),t.analyzing&&t.progress>0?(H(),q("div",q1,[h("div",Z1,[h("div",{class:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:Fr({width:`${t.progress*100}%`})},null,4)]),h("p",K1,g(Math.round(t.progress*100))+"% ",1)])):Re("",!0)]))}},rl=Nn(J1,[["__scopeId","data-v-44232eba"]]);function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y1(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ef(t){let e,s,n;t.length!==2?(e=Jo,s=(a,l)=>Jo(t(a),l),n=(a,l)=>t(a)-l):(e=t===Jo||t===Y1?t:Q1,s=t,n=t);function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;s(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function r(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;s(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function i(a,l,c=0,d=a.length){const u=o(a,l,c,d-1);return u>c&&n(a[u-1],l)>-n(a[u],l)?u-1:u}return{left:o,center:i,right:r}}function Q1(){return 0}function ew(t){return t===null?NaN:+t}const tw=ef(Jo),sw=tw.right;ef(ew).center;class ed extends Map{constructor(e,s=rw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[n,o]of e)this.set(n,o)}get(e){return super.get(td(this,e))}has(e){return super.has(td(this,e))}set(e,s){return super.set(nw(this,e),s)}delete(e){return super.delete(ow(this,e))}}function td({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):s}function nw({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):(t.set(n,s),s)}function ow({_intern:t,_key:e},s){const n=e(s);return t.has(n)&&(s=t.get(n),t.delete(n)),s}function rw(t){return t!==null&&typeof t=="object"?t.valueOf():t}const iw=Math.sqrt(50),aw=Math.sqrt(10),lw=Math.sqrt(2);function kr(t,e,s){const n=(e-t)/Math.max(0,s),o=Math.floor(Math.log10(n)),r=n/Math.pow(10,o),i=r>=iw?10:r>=aw?5:r>=lw?2:1;let a,l,c;return o<0?(c=Math.pow(10,-o)/i,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,o)*i,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=s&&s<2?kr(t,e,s*2):[a,l,c]}function cw(t,e,s){if(e=+e,t=+t,s=+s,!(s>0))return[];if(t===e)return[t];const n=e<t,[o,r,i]=n?kr(e,t,s):kr(t,e,s);if(!(r>=o))return[];const a=r-o+1,l=new Array(a);if(n)if(i<0)for(let c=0;c<a;++c)l[c]=(r-c)/-i;else for(let c=0;c<a;++c)l[c]=(r-c)*i;else if(i<0)for(let c=0;c<a;++c)l[c]=(o+c)/-i;else for(let c=0;c<a;++c)l[c]=(o+c)*i;return l}function ya(t,e,s){return e=+e,t=+t,s=+s,kr(t,e,s)[2]}function dw(t,e,s){e=+e,t=+t,s=+s;const n=e<t,o=n?ya(e,t,s):ya(t,e,s);return(n?-1:1)*(o<0?1/-o:o)}var uw={value:()=>{}};function ko(){for(var t=0,e=arguments.length,s={},n;t<e;++t){if(!(n=arguments[t]+"")||n in s||/[\s.]/.test(n))throw new Error("illegal type: "+n);s[n]=[]}return new Yo(s)}function Yo(t){this._=t}function hw(t,e){return t.trim().split(/^|\s+/).map(function(s){var n="",o=s.indexOf(".");if(o>=0&&(n=s.slice(o+1),s=s.slice(0,o)),s&&!e.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:n}})}Yo.prototype=ko.prototype={constructor:Yo,on:function(t,e){var s=this._,n=hw(t+"",s),o,r=-1,i=n.length;if(arguments.length<2){for(;++r<i;)if((o=(t=n[r]).type)&&(o=fw(s[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<i;)if(o=(t=n[r]).type)s[o]=sd(s[o],t.name,e);else if(e==null)for(o in s)s[o]=sd(s[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new Yo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var s=new Array(o),n=0,o,r;n<o;++n)s[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],n=0,o=r.length;n<o;++n)r[n].value.apply(e,s)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,s)}};function fw(t,e){for(var s=0,n=t.length,o;s<n;++s)if((o=t[s]).name===e)return o.value}function sd(t,e,s){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=uw,t=t.slice(0,n).concat(t.slice(n+1));break}return s!=null&&t.push({name:e,value:s}),t}var _a="http://www.w3.org/1999/xhtml";const nd={svg:"http://www.w3.org/2000/svg",xhtml:_a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qr(t){var e=t+="",s=e.indexOf(":");return s>=0&&(e=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),nd.hasOwnProperty(e)?{space:nd[e],local:t}:t}function pw(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===_a&&e.documentElement.namespaceURI===_a?e.createElement(t):e.createElementNS(s,t)}}function mw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tf(t){var e=Qr(t);return(e.local?mw:pw)(e)}function gw(){}function il(t){return t==null?gw:function(){return this.querySelector(t)}}function yw(t){typeof t!="function"&&(t=il(t));for(var e=this._groups,s=e.length,n=new Array(s),o=0;o<s;++o)for(var r=e[o],i=r.length,a=n[o]=new Array(i),l,c,d=0;d<i;++d)(l=r[d])&&(c=t.call(l,l.__data__,d,r))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Et(n,this._parents)}function _w(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vw(){return[]}function sf(t){return t==null?vw:function(){return this.querySelectorAll(t)}}function bw(t){return function(){return _w(t.apply(this,arguments))}}function ww(t){typeof t=="function"?t=bw(t):t=sf(t);for(var e=this._groups,s=e.length,n=[],o=[],r=0;r<s;++r)for(var i=e[r],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(n.push(t.call(l,l.__data__,c,i)),o.push(l));return new Et(n,o)}function nf(t){return function(){return this.matches(t)}}function of(t){return function(e){return e.matches(t)}}var xw=Array.prototype.find;function kw(t){return function(){return xw.call(this.children,t)}}function Aw(){return this.firstElementChild}function Cw(t){return this.select(t==null?Aw:kw(typeof t=="function"?t:of(t)))}var Sw=Array.prototype.filter;function Ew(){return Array.from(this.children)}function Nw(t){return function(){return Sw.call(this.children,t)}}function Tw(t){return this.selectAll(t==null?Ew:Nw(typeof t=="function"?t:of(t)))}function Iw(t){typeof t!="function"&&(t=nf(t));for(var e=this._groups,s=e.length,n=new Array(s),o=0;o<s;++o)for(var r=e[o],i=r.length,a=n[o]=[],l,c=0;c<i;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new Et(n,this._parents)}function rf(t){return new Array(t.length)}function Lw(){return new Et(this._enter||this._groups.map(rf),this._parents)}function Ar(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ar.prototype={constructor:Ar,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rw(t){return function(){return t}}function Pw(t,e,s,n,o,r){for(var i=0,a,l=e.length,c=r.length;i<c;++i)(a=e[i])?(a.__data__=r[i],n[i]=a):s[i]=new Ar(t,r[i]);for(;i<l;++i)(a=e[i])&&(o[i]=a)}function Dw(t,e,s,n,o,r,i){var a,l,c=new Map,d=e.length,u=r.length,f=new Array(d),p;for(a=0;a<d;++a)(l=e[a])&&(f[a]=p=i.call(l,l.__data__,a,e)+"",c.has(p)?o[a]=l:c.set(p,l));for(a=0;a<u;++a)p=i.call(t,r[a],a,r)+"",(l=c.get(p))?(n[a]=l,l.__data__=r[a],c.delete(p)):s[a]=new Ar(t,r[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(f[a])===l&&(o[a]=l)}function Mw(t){return t.__data__}function Ow(t,e){if(!arguments.length)return Array.from(this,Mw);var s=e?Dw:Pw,n=this._parents,o=this._groups;typeof t!="function"&&(t=Rw(t));for(var r=o.length,i=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var d=n[c],u=o[c],f=u.length,p=Gw(t.call(d,d&&d.__data__,c,n)),y=p.length,_=a[c]=new Array(y),w=i[c]=new Array(y),b=l[c]=new Array(f);s(d,u,_,w,b,p,e);for(var x=0,E=0,A,L;x<y;++x)if(A=_[x]){for(x>=E&&(E=x+1);!(L=w[E])&&++E<y;);A._next=L||null}}return i=new Et(i,n),i._enter=a,i._exit=l,i}function Gw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fw(){return new Et(this._exit||this._groups.map(rf),this._parents)}function Vw(t,e,s){var n=this.enter(),o=this,r=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),s==null?r.remove():s(r),n&&o?n.merge(o).order():o}function $w(t){for(var e=t.selection?t.selection():t,s=this._groups,n=e._groups,o=s.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var c=s[l],d=n[l],u=c.length,f=a[l]=new Array(u),p,y=0;y<u;++y)(p=c[y]||d[y])&&(f[y]=p);for(;l<o;++l)a[l]=s[l];return new Et(a,this._parents)}function Bw(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var n=t[e],o=n.length-1,r=n[o],i;--o>=0;)(i=n[o])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function zw(t){t||(t=jw);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var s=this._groups,n=s.length,o=new Array(n),r=0;r<n;++r){for(var i=s[r],a=i.length,l=o[r]=new Array(a),c,d=0;d<a;++d)(c=i[d])&&(l[d]=c);l.sort(e)}return new Et(o,this._parents).order()}function jw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Uw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hw(){return Array.from(this)}function Ww(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var n=t[e],o=0,r=n.length;o<r;++o){var i=n[o];if(i)return i}return null}function Xw(){let t=0;for(const e of this)++t;return t}function qw(){return!this.node()}function Zw(t){for(var e=this._groups,s=0,n=e.length;s<n;++s)for(var o=e[s],r=0,i=o.length,a;r<i;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function Kw(t){return function(){this.removeAttribute(t)}}function Jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yw(t,e){return function(){this.setAttribute(t,e)}}function Qw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ex(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function tx(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function sx(t,e){var s=Qr(t);if(arguments.length<2){var n=this.node();return s.local?n.getAttributeNS(s.space,s.local):n.getAttribute(s)}return this.each((e==null?s.local?Jw:Kw:typeof e=="function"?s.local?tx:ex:s.local?Qw:Yw)(s,e))}function af(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nx(t){return function(){this.style.removeProperty(t)}}function ox(t,e,s){return function(){this.style.setProperty(t,e,s)}}function rx(t,e,s){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,s)}}function ix(t,e,s){return arguments.length>1?this.each((e==null?nx:typeof e=="function"?rx:ox)(t,e,s??"")):xn(this.node(),t)}function xn(t,e){return t.style.getPropertyValue(e)||af(t).getComputedStyle(t,null).getPropertyValue(e)}function ax(t){return function(){delete this[t]}}function lx(t,e){return function(){this[t]=e}}function cx(t,e){return function(){var s=e.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function dx(t,e){return arguments.length>1?this.each((e==null?ax:typeof e=="function"?cx:lx)(t,e)):this.node()[t]}function lf(t){return t.trim().split(/^|\s+/)}function al(t){return t.classList||new cf(t)}function cf(t){this._node=t,this._names=lf(t.getAttribute("class")||"")}cf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function df(t,e){for(var s=al(t),n=-1,o=e.length;++n<o;)s.add(e[n])}function uf(t,e){for(var s=al(t),n=-1,o=e.length;++n<o;)s.remove(e[n])}function ux(t){return function(){df(this,t)}}function hx(t){return function(){uf(this,t)}}function fx(t,e){return function(){(e.apply(this,arguments)?df:uf)(this,t)}}function px(t,e){var s=lf(t+"");if(arguments.length<2){for(var n=al(this.node()),o=-1,r=s.length;++o<r;)if(!n.contains(s[o]))return!1;return!0}return this.each((typeof e=="function"?fx:e?ux:hx)(s,e))}function mx(){this.textContent=""}function gx(t){return function(){this.textContent=t}}function yx(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _x(t){return arguments.length?this.each(t==null?mx:(typeof t=="function"?yx:gx)(t)):this.node().textContent}function vx(){this.innerHTML=""}function bx(t){return function(){this.innerHTML=t}}function wx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xx(t){return arguments.length?this.each(t==null?vx:(typeof t=="function"?wx:bx)(t)):this.node().innerHTML}function kx(){this.nextSibling&&this.parentNode.appendChild(this)}function Ax(){return this.each(kx)}function Cx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sx(){return this.each(Cx)}function Ex(t){var e=typeof t=="function"?t:tf(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nx(){return null}function Tx(t,e){var s=typeof t=="function"?t:tf(t),n=e==null?Nx:typeof e=="function"?e:il(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),n.apply(this,arguments)||null)})}function Ix(){var t=this.parentNode;t&&t.removeChild(this)}function Lx(){return this.each(Ix)}function Rx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Px(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dx(t){return this.select(t?Px:Rx)}function Mx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ox(t){return function(e){t.call(this,e,this.__data__)}}function Gx(t){return t.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");return n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),{type:e,name:s}})}function Fx(t){return function(){var e=this.__on;if(e){for(var s=0,n=-1,o=e.length,r;s<o;++s)r=e[s],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function Vx(t,e,s){return function(){var n=this.__on,o,r=Ox(e);if(n){for(var i=0,a=n.length;i<a;++i)if((o=n[i]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=s),o.value=e;return}}this.addEventListener(t.type,r,s),o={type:t.type,name:t.name,value:e,listener:r,options:s},n?n.push(o):this.__on=[o]}}function $x(t,e,s){var n=Gx(t+""),o,r=n.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(o=0,d=a[l];o<r;++o)if((i=n[o]).type===d.type&&i.name===d.name)return d.value}return}for(a=e?Vx:Fx,o=0;o<r;++o)this.each(a(n[o],e,s));return this}function hf(t,e,s){var n=af(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,s):(o=n.document.createEvent("Event"),s?(o.initEvent(e,s.bubbles,s.cancelable),o.detail=s.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Bx(t,e){return function(){return hf(this,t,e)}}function zx(t,e){return function(){return hf(this,t,e.apply(this,arguments))}}function jx(t,e){return this.each((typeof e=="function"?zx:Bx)(t,e))}function*Ux(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var n=t[e],o=0,r=n.length,i;o<r;++o)(i=n[o])&&(yield i)}var ff=[null];function Et(t,e){this._groups=t,this._parents=e}function Ao(){return new Et([[document.documentElement]],ff)}function Hx(){return this}Et.prototype=Ao.prototype={constructor:Et,select:yw,selectAll:ww,selectChild:Cw,selectChildren:Tw,filter:Iw,data:Ow,enter:Lw,exit:Fw,join:Vw,merge:$w,selection:Hx,order:Bw,sort:zw,call:Uw,nodes:Hw,node:Ww,size:Xw,empty:qw,each:Zw,attr:sx,style:ix,property:dx,classed:px,text:_x,html:xx,raise:Ax,lower:Sx,append:Ex,insert:Tx,remove:Lx,clone:Dx,datum:Mx,on:$x,dispatch:jx,[Symbol.iterator]:Ux};function vt(t){return typeof t=="string"?new Et([[document.querySelector(t)]],[document.documentElement]):new Et([[t]],ff)}function Wx(t){let e;for(;e=t.sourceEvent;)t=e;return t}function is(t,e){if(t=Wx(t),e===void 0&&(e=t.currentTarget),e){var s=e.ownerSVGElement||e;if(s.createSVGPoint){var n=s.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Xx={passive:!1},fo={capture:!0,passive:!1};function Ri(t){t.stopImmediatePropagation()}function pn(t){t.preventDefault(),t.stopImmediatePropagation()}function pf(t){var e=t.document.documentElement,s=vt(t).on("dragstart.drag",pn,fo);"onselectstart"in e?s.on("selectstart.drag",pn,fo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mf(t,e){var s=t.document.documentElement,n=vt(t).on("dragstart.drag",null);e&&(n.on("click.drag",pn,fo),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in s?n.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const Fo=t=>()=>t;function va(t,{sourceEvent:e,subject:s,target:n,identifier:o,active:r,x:i,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}va.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function qx(t){return!t.ctrlKey&&!t.button}function Zx(){return this.parentNode}function Kx(t,e){return e??{x:t.x,y:t.y}}function Jx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yx(){var t=qx,e=Zx,s=Kx,n=Jx,o={},r=ko("start","drag","end"),i=0,a,l,c,d,u=0;function f(A){A.on("mousedown.drag",p).filter(n).on("touchstart.drag",w).on("touchmove.drag",b,Xx).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(A,L){if(!(d||!t.call(this,A,L))){var z=E(this,e.call(this,A,L),A,L,"mouse");z&&(vt(A.view).on("mousemove.drag",y,fo).on("mouseup.drag",_,fo),pf(A.view),Ri(A),c=!1,a=A.clientX,l=A.clientY,z("start",A))}}function y(A){if(pn(A),!c){var L=A.clientX-a,z=A.clientY-l;c=L*L+z*z>u}o.mouse("drag",A)}function _(A){vt(A.view).on("mousemove.drag mouseup.drag",null),mf(A.view,c),pn(A),o.mouse("end",A)}function w(A,L){if(t.call(this,A,L)){var z=A.changedTouches,j=e.call(this,A,L),ee=z.length,W,Z;for(W=0;W<ee;++W)(Z=E(this,j,A,L,z[W].identifier,z[W]))&&(Ri(A),Z("start",A,z[W]))}}function b(A){var L=A.changedTouches,z=L.length,j,ee;for(j=0;j<z;++j)(ee=o[L[j].identifier])&&(pn(A),ee("drag",A,L[j]))}function x(A){var L=A.changedTouches,z=L.length,j,ee;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<z;++j)(ee=o[L[j].identifier])&&(Ri(A),ee("end",A,L[j]))}function E(A,L,z,j,ee,W){var Z=r.copy(),U=is(W||z,L),R,G,S;if((S=s.call(A,new va("beforestart",{sourceEvent:z,target:f,identifier:ee,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:Z}),j))!=null)return R=S.x-U[0]||0,G=S.y-U[1]||0,function M(I,F,X){var re=U,ue;switch(I){case"start":o[ee]=M,ue=i++;break;case"end":delete o[ee],--i;case"drag":U=is(X||F,L),ue=i;break}Z.call(I,A,new va(I,{sourceEvent:F,subject:S,target:f,identifier:ee,active:ue,x:U[0]+R,y:U[1]+G,dx:U[0]-re[0],dy:U[1]-re[1],dispatch:Z}),j)}}return f.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Fo(!!A),f):t},f.container=function(A){return arguments.length?(e=typeof A=="function"?A:Fo(A),f):e},f.subject=function(A){return arguments.length?(s=typeof A=="function"?A:Fo(A),f):s},f.touchable=function(A){return arguments.length?(n=typeof A=="function"?A:Fo(!!A),f):n},f.on=function(){var A=r.on.apply(r,arguments);return A===r?f:A},f.clickDistance=function(A){return arguments.length?(u=(A=+A)*A,f):Math.sqrt(u)},f}function ll(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function gf(t,e){var s=Object.create(t.prototype);for(var n in e)s[n]=e[n];return s}function Co(){}var po=.7,Cr=1/po,mn="\\s*([+-]?\\d+)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qx=/^#([0-9a-f]{3,8})$/,ek=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),tk=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),sk=new RegExp(`^rgba\\(${mn},${mn},${mn},${mo}\\)$`),nk=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${mo}\\)$`),ok=new RegExp(`^hsl\\(${mo},${Kt},${Kt}\\)$`),rk=new RegExp(`^hsla\\(${mo},${Kt},${Kt},${mo}\\)$`),od={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ll(Co,qs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rd,formatHex:rd,formatHex8:ik,formatHsl:ak,formatRgb:id,toString:id});function rd(){return this.rgb().formatHex()}function ik(){return this.rgb().formatHex8()}function ak(){return yf(this).formatHsl()}function id(){return this.rgb().formatRgb()}function qs(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=Qx.exec(t))?(s=e[1].length,e=parseInt(e[1],16),s===6?ad(e):s===3?new wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?Vo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?Vo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ek.exec(t))?new wt(e[1],e[2],e[3],1):(e=tk.exec(t))?new wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sk.exec(t))?Vo(e[1],e[2],e[3],e[4]):(e=nk.exec(t))?Vo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ok.exec(t))?dd(e[1],e[2]/100,e[3]/100,1):(e=rk.exec(t))?dd(e[1],e[2]/100,e[3]/100,e[4]):od.hasOwnProperty(t)?ad(od[t]):t==="transparent"?new wt(NaN,NaN,NaN,0):null}function ad(t){return new wt(t>>16&255,t>>8&255,t&255,1)}function Vo(t,e,s,n){return n<=0&&(t=e=s=NaN),new wt(t,e,s,n)}function lk(t){return t instanceof Co||(t=qs(t)),t?(t=t.rgb(),new wt(t.r,t.g,t.b,t.opacity)):new wt}function ba(t,e,s,n){return arguments.length===1?lk(t):new wt(t,e,s,n??1)}function wt(t,e,s,n){this.r=+t,this.g=+e,this.b=+s,this.opacity=+n}ll(wt,ba,gf(Co,{brighter(t){return t=t==null?Cr:Math.pow(Cr,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?po:Math.pow(po,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wt(Ws(this.r),Ws(this.g),Ws(this.b),Sr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ld,formatHex:ld,formatHex8:ck,formatRgb:cd,toString:cd}));function ld(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function ck(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function cd(){const t=Sr(this.opacity);return`${t===1?"rgb(":"rgba("}${Ws(this.r)}, ${Ws(this.g)}, ${Ws(this.b)}${t===1?")":`, ${t})`}`}function Sr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ws(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Us(t){return t=Ws(t),(t<16?"0":"")+t.toString(16)}function dd(t,e,s,n){return n<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new Pt(t,e,s,n)}function yf(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);if(t instanceof Co||(t=qs(t)),!t)return new Pt;if(t instanceof Pt)return t;t=t.rgb();var e=t.r/255,s=t.g/255,n=t.b/255,o=Math.min(e,s,n),r=Math.max(e,s,n),i=NaN,a=r-o,l=(r+o)/2;return a?(e===r?i=(s-n)/a+(s<n)*6:s===r?i=(n-e)/a+2:i=(e-s)/a+4,a/=l<.5?r+o:2-r-o,i*=60):a=l>0&&l<1?0:i,new Pt(i,a,l,t.opacity)}function dk(t,e,s,n){return arguments.length===1?yf(t):new Pt(t,e,s,n??1)}function Pt(t,e,s,n){this.h=+t,this.s=+e,this.l=+s,this.opacity=+n}ll(Pt,dk,gf(Co,{brighter(t){return t=t==null?Cr:Math.pow(Cr,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?po:Math.pow(po,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*e,o=2*s-n;return new wt(Pi(t>=240?t-240:t+120,o,n),Pi(t,o,n),Pi(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Pt(ud(this.h),$o(this.s),$o(this.l),Sr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sr(this.opacity);return`${t===1?"hsl(":"hsla("}${ud(this.h)}, ${$o(this.s)*100}%, ${$o(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ud(t){return t=(t||0)%360,t<0?t+360:t}function $o(t){return Math.max(0,Math.min(1,t||0))}function Pi(t,e,s){return(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)*255}const cl=t=>()=>t;function uk(t,e){return function(s){return t+s*e}}function hk(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(n){return Math.pow(t+n*e,s)}}function fk(t){return(t=+t)==1?_f:function(e,s){return s-e?hk(e,s,t):cl(isNaN(e)?s:e)}}function _f(t,e){var s=e-t;return s?uk(t,s):cl(isNaN(t)?e:t)}const Er=(function t(e){var s=fk(e);function n(o,r){var i=s((o=ba(o)).r,(r=ba(r)).r),a=s(o.g,r.g),l=s(o.b,r.b),c=_f(o.opacity,r.opacity);return function(d){return o.r=i(d),o.g=a(d),o.b=l(d),o.opacity=c(d),o+""}}return n.gamma=t,n})(1);function pk(t,e){e||(e=[]);var s=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(r){for(o=0;o<s;++o)n[o]=t[o]*(1-r)+e[o]*r;return n}}function mk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gk(t,e){var s=e?e.length:0,n=t?Math.min(s,t.length):0,o=new Array(n),r=new Array(s),i;for(i=0;i<n;++i)o[i]=ei(t[i],e[i]);for(;i<s;++i)r[i]=e[i];return function(a){for(i=0;i<n;++i)r[i]=o[i](a);return r}}function yk(t,e){var s=new Date;return t=+t,e=+e,function(n){return s.setTime(t*(1-n)+e*n),s}}function Rt(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function _k(t,e){var s={},n={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?s[o]=ei(t[o],e[o]):n[o]=e[o];return function(r){for(o in s)n[o]=s[o](r);return n}}var wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Di=new RegExp(wa.source,"g");function vk(t){return function(){return t}}function bk(t){return function(e){return t(e)+""}}function vf(t,e){var s=wa.lastIndex=Di.lastIndex=0,n,o,r,i=-1,a=[],l=[];for(t=t+"",e=e+"";(n=wa.exec(t))&&(o=Di.exec(e));)(r=o.index)>s&&(r=e.slice(s,r),a[i]?a[i]+=r:a[++i]=r),(n=n[0])===(o=o[0])?a[i]?a[i]+=o:a[++i]=o:(a[++i]=null,l.push({i,x:Rt(n,o)})),s=Di.lastIndex;return s<e.length&&(r=e.slice(s),a[i]?a[i]+=r:a[++i]=r),a.length<2?l[0]?bk(l[0].x):vk(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function ei(t,e){var s=typeof e,n;return e==null||s==="boolean"?cl(e):(s==="number"?Rt:s==="string"?(n=qs(e))?(e=n,Er):vf:e instanceof qs?Er:e instanceof Date?yk:mk(e)?pk:Array.isArray(e)?gk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_k:Rt)(t,e)}function bf(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}var hd=180/Math.PI,xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wf(t,e,s,n,o,r){var i,a,l;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(l=t*s+e*n)&&(s-=t*l,n-=e*l),(a=Math.sqrt(s*s+n*n))&&(s/=a,n/=a,l/=a),t*n<e*s&&(t=-t,e=-e,l=-l,i=-i),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*hd,skewX:Math.atan(l)*hd,scaleX:i,scaleY:a}}var Bo;function wk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xa:wf(e.a,e.b,e.c,e.d,e.e,e.f)}function xk(t){return t==null||(Bo||(Bo=document.createElementNS("http://www.w3.org/2000/svg","g")),Bo.setAttribute("transform",t),!(t=Bo.transform.baseVal.consolidate()))?xa:(t=t.matrix,wf(t.a,t.b,t.c,t.d,t.e,t.f))}function xf(t,e,s,n){function o(c){return c.length?c.pop()+" ":""}function r(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push("translate(",null,e,null,s);y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u||f)&&p.push("translate("+u+e+f+s)}function i(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(o(u)+"rotate(",null,n)-2,x:Rt(c,d)})):d&&u.push(o(u)+"rotate("+d+n)}function a(c,d,u,f){c!==d?f.push({i:u.push(o(u)+"skewX(",null,n)-2,x:Rt(c,d)}):d&&u.push(o(u)+"skewX("+d+n)}function l(c,d,u,f,p,y){if(c!==u||d!==f){var _=p.push(o(p)+"scale(",null,",",null,")");y.push({i:_-4,x:Rt(c,u)},{i:_-2,x:Rt(d,f)})}else(u!==1||f!==1)&&p.push(o(p)+"scale("+u+","+f+")")}return function(c,d){var u=[],f=[];return c=t(c),d=t(d),r(c.translateX,c.translateY,d.translateX,d.translateY,u,f),i(c.rotate,d.rotate,u,f),a(c.skewX,d.skewX,u,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(p){for(var y=-1,_=f.length,w;++y<_;)u[(w=f[y]).i]=w.x(p);return u.join("")}}}var kk=xf(wk,"px, ","px)","deg)"),Ak=xf(xk,", ",")",")"),Ck=1e-12;function fd(t){return((t=Math.exp(t))+1/t)/2}function Sk(t){return((t=Math.exp(t))-1/t)/2}function Ek(t){return((t=Math.exp(2*t))-1)/(t+1)}const Nk=(function t(e,s,n){function o(r,i){var a=r[0],l=r[1],c=r[2],d=i[0],u=i[1],f=i[2],p=d-a,y=u-l,_=p*p+y*y,w,b;if(_<Ck)b=Math.log(f/c)/e,w=function(j){return[a+j*p,l+j*y,c*Math.exp(e*j*b)]};else{var x=Math.sqrt(_),E=(f*f-c*c+n*_)/(2*c*s*x),A=(f*f-c*c-n*_)/(2*f*s*x),L=Math.log(Math.sqrt(E*E+1)-E),z=Math.log(Math.sqrt(A*A+1)-A);b=(z-L)/e,w=function(j){var ee=j*b,W=fd(L),Z=c/(s*x)*(W*Ek(e*ee+L)-Sk(L));return[a+Z*p,l+Z*y,c*W/fd(e*ee+L)]}}return w.duration=b*1e3*e/Math.SQRT2,w}return o.rho=function(r){var i=Math.max(.001,+r),a=i*i,l=a*a;return t(i,a,l)},o})(Math.SQRT2,2,4);var kn=0,Bn=0,Gn=0,kf=1e3,Nr,zn,Tr=0,Zs=0,ti=0,go=typeof performance=="object"&&performance.now?performance:Date,Af=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dl(){return Zs||(Af(Tk),Zs=go.now()+ti)}function Tk(){Zs=0}function Ir(){this._call=this._time=this._next=null}Ir.prototype=ul.prototype={constructor:Ir,restart:function(t,e,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?dl():+s)+(e==null?0:+e),!this._next&&zn!==this&&(zn?zn._next=this:Nr=this,zn=this),this._call=t,this._time=s,ka()},stop:function(){this._call&&(this._call=null,this._time=1/0,ka())}};function ul(t,e,s){var n=new Ir;return n.restart(t,e,s),n}function Ik(){dl(),++kn;for(var t=Nr,e;t;)(e=Zs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--kn}function pd(){Zs=(Tr=go.now())+ti,kn=Bn=0;try{Ik()}finally{kn=0,Rk(),Zs=0}}function Lk(){var t=go.now(),e=t-Tr;e>kf&&(ti-=e,Tr=t)}function Rk(){for(var t,e=Nr,s,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(s=e._next,e._next=null,e=t?t._next=s:Nr=s);zn=t,ka(n)}function ka(t){if(!kn){Bn&&(Bn=clearTimeout(Bn));var e=t-Zs;e>24?(t<1/0&&(Bn=setTimeout(pd,t-go.now()-ti)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Tr=go.now(),Gn=setInterval(Lk,kf)),kn=1,Af(pd))}}function md(t,e,s){var n=new Ir;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,s),n}var Pk=ko("start","end","cancel","interrupt"),Dk=[],Cf=0,gd=1,Aa=2,Qo=3,yd=4,Ca=5,er=6;function si(t,e,s,n,o,r){var i=t.__transition;if(!i)t.__transition={};else if(s in i)return;Mk(t,s,{name:e,index:n,group:o,on:Pk,tween:Dk,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Cf})}function hl(t,e){var s=Ft(t,e);if(s.state>Cf)throw new Error("too late; already scheduled");return s}function Yt(t,e){var s=Ft(t,e);if(s.state>Qo)throw new Error("too late; already running");return s}function Ft(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function Mk(t,e,s){var n=t.__transition,o;n[e]=s,s.timer=ul(r,0,s.time);function r(c){s.state=gd,s.timer.restart(i,s.delay,s.time),s.delay<=c&&i(c-s.delay)}function i(c){var d,u,f,p;if(s.state!==gd)return l();for(d in n)if(p=n[d],p.name===s.name){if(p.state===Qo)return md(i);p.state===yd?(p.state=er,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[d]):+d<e&&(p.state=er,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[d])}if(md(function(){s.state===Qo&&(s.state=yd,s.timer.restart(a,s.delay,s.time),a(c))}),s.state=Aa,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Aa){for(s.state=Qo,o=new Array(f=s.tween.length),d=0,u=-1;d<f;++d)(p=s.tween[d].value.call(t,t.__data__,s.index,s.group))&&(o[++u]=p);o.length=u+1}}function a(c){for(var d=c<s.duration?s.ease.call(null,c/s.duration):(s.timer.restart(l),s.state=Ca,1),u=-1,f=o.length;++u<f;)o[u].call(t,d);s.state===Ca&&(s.on.call("end",t,t.__data__,s.index,s.group),l())}function l(){s.state=er,s.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function tr(t,e){var s=t.__transition,n,o,r=!0,i;if(s){e=e==null?null:e+"";for(i in s){if((n=s[i]).name!==e){r=!1;continue}o=n.state>Aa&&n.state<Ca,n.state=er,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]}r&&delete t.__transition}}function Ok(t){return this.each(function(){tr(this,t)})}function Gk(t,e){var s,n;return function(){var o=Yt(this,t),r=o.tween;if(r!==s){n=s=r;for(var i=0,a=n.length;i<a;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function Fk(t,e,s){var n,o;if(typeof s!="function")throw new Error;return function(){var r=Yt(this,t),i=r.tween;if(i!==n){o=(n=i).slice();for(var a={name:e,value:s},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=a;break}l===c&&o.push(a)}r.tween=o}}function Vk(t,e){var s=this._id;if(t+="",arguments.length<2){for(var n=Ft(this.node(),s).tween,o=0,r=n.length,i;o<r;++o)if((i=n[o]).name===t)return i.value;return null}return this.each((e==null?Gk:Fk)(s,t,e))}function fl(t,e,s){var n=t._id;return t.each(function(){var o=Yt(this,n);(o.value||(o.value={}))[e]=s.apply(this,arguments)}),function(o){return Ft(o,n).value[e]}}function Sf(t,e){var s;return(typeof e=="number"?Rt:e instanceof qs?Er:(s=qs(e))?(e=s,Er):vf)(t,e)}function $k(t){return function(){this.removeAttribute(t)}}function Bk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zk(t,e,s){var n,o=s+"",r;return function(){var i=this.getAttribute(t);return i===o?null:i===n?r:r=e(n=i,s)}}function jk(t,e,s){var n,o=s+"",r;return function(){var i=this.getAttributeNS(t.space,t.local);return i===o?null:i===n?r:r=e(n=i,s)}}function Uk(t,e,s){var n,o,r;return function(){var i,a=s(this),l;return a==null?void this.removeAttribute(t):(i=this.getAttribute(t),l=a+"",i===l?null:i===n&&l===o?r:(o=l,r=e(n=i,a)))}}function Hk(t,e,s){var n,o,r;return function(){var i,a=s(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),l=a+"",i===l?null:i===n&&l===o?r:(o=l,r=e(n=i,a)))}}function Wk(t,e){var s=Qr(t),n=s==="transform"?Ak:Sf;return this.attrTween(t,typeof e=="function"?(s.local?Hk:Uk)(s,n,fl(this,"attr."+t,e)):e==null?(s.local?Bk:$k)(s):(s.local?jk:zk)(s,n,e))}function Xk(t,e){return function(s){this.setAttribute(t,e.call(this,s))}}function qk(t,e){return function(s){this.setAttributeNS(t.space,t.local,e.call(this,s))}}function Zk(t,e){var s,n;function o(){var r=e.apply(this,arguments);return r!==n&&(s=(n=r)&&qk(t,r)),s}return o._value=e,o}function Kk(t,e){var s,n;function o(){var r=e.apply(this,arguments);return r!==n&&(s=(n=r)&&Xk(t,r)),s}return o._value=e,o}function Jk(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;var n=Qr(t);return this.tween(s,(n.local?Zk:Kk)(n,e))}function Yk(t,e){return function(){hl(this,t).delay=+e.apply(this,arguments)}}function Qk(t,e){return e=+e,function(){hl(this,t).delay=e}}function eA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yk:Qk)(e,t)):Ft(this.node(),e).delay}function tA(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function sA(t,e){return e=+e,function(){Yt(this,t).duration=e}}function nA(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tA:sA)(e,t)):Ft(this.node(),e).duration}function oA(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function rA(t){var e=this._id;return arguments.length?this.each(oA(e,t)):Ft(this.node(),e).ease}function iA(t,e){return function(){var s=e.apply(this,arguments);if(typeof s!="function")throw new Error;Yt(this,t).ease=s}}function aA(t){if(typeof t!="function")throw new Error;return this.each(iA(this._id,t))}function lA(t){typeof t!="function"&&(t=nf(t));for(var e=this._groups,s=e.length,n=new Array(s),o=0;o<s;++o)for(var r=e[o],i=r.length,a=n[o]=[],l,c=0;c<i;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new ms(n,this._parents,this._name,this._id)}function cA(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,n=e.length,o=s.length,r=Math.min(n,o),i=new Array(n),a=0;a<r;++a)for(var l=e[a],c=s[a],d=l.length,u=i[a]=new Array(d),f,p=0;p<d;++p)(f=l[p]||c[p])&&(u[p]=f);for(;a<n;++a)i[a]=e[a];return new ms(i,this._parents,this._name,this._id)}function dA(t){return(t+"").trim().split(/^|\s+/).every(function(e){var s=e.indexOf(".");return s>=0&&(e=e.slice(0,s)),!e||e==="start"})}function uA(t,e,s){var n,o,r=dA(e)?hl:Yt;return function(){var i=r(this,t),a=i.on;a!==n&&(o=(n=a).copy()).on(e,s),i.on=o}}function hA(t,e){var s=this._id;return arguments.length<2?Ft(this.node(),s).on.on(t):this.each(uA(s,t,e))}function fA(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}function pA(){return this.on("end.remove",fA(this._id))}function mA(t){var e=this._name,s=this._id;typeof t!="function"&&(t=il(t));for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i)for(var a=n[i],l=a.length,c=r[i]=new Array(l),d,u,f=0;f<l;++f)(d=a[f])&&(u=t.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,si(c[f],e,s,f,c,Ft(d,s)));return new ms(r,this._parents,e,s)}function gA(t){var e=this._name,s=this._id;typeof t!="function"&&(t=sf(t));for(var n=this._groups,o=n.length,r=[],i=[],a=0;a<o;++a)for(var l=n[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var f=t.call(d,d.__data__,u,l),p,y=Ft(d,s),_=0,w=f.length;_<w;++_)(p=f[_])&&si(p,e,s,_,f,y);r.push(f),i.push(d)}return new ms(r,i,e,s)}var yA=Ao.prototype.constructor;function _A(){return new yA(this._groups,this._parents)}function vA(t,e){var s,n,o;return function(){var r=xn(this,t),i=(this.style.removeProperty(t),xn(this,t));return r===i?null:r===s&&i===n?o:o=e(s=r,n=i)}}function Ef(t){return function(){this.style.removeProperty(t)}}function bA(t,e,s){var n,o=s+"",r;return function(){var i=xn(this,t);return i===o?null:i===n?r:r=e(n=i,s)}}function wA(t,e,s){var n,o,r;return function(){var i=xn(this,t),a=s(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),xn(this,t))),i===l?null:i===n&&l===o?r:(o=l,r=e(n=i,a))}}function xA(t,e){var s,n,o,r="style."+e,i="end."+r,a;return function(){var l=Yt(this,t),c=l.on,d=l.value[r]==null?a||(a=Ef(e)):void 0;(c!==s||o!==d)&&(n=(s=c).copy()).on(i,o=d),l.on=n}}function kA(t,e,s){var n=(t+="")=="transform"?kk:Sf;return e==null?this.styleTween(t,vA(t,n)).on("end.style."+t,Ef(t)):typeof e=="function"?this.styleTween(t,wA(t,n,fl(this,"style."+t,e))).each(xA(this._id,t)):this.styleTween(t,bA(t,n,e),s).on("end.style."+t,null)}function AA(t,e,s){return function(n){this.style.setProperty(t,e.call(this,n),s)}}function CA(t,e,s){var n,o;function r(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&AA(t,i,s)),n}return r._value=e,r}function SA(t,e,s){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,CA(t,e,s??""))}function EA(t){return function(){this.textContent=t}}function NA(t){return function(){var e=t(this);this.textContent=e??""}}function TA(t){return this.tween("text",typeof t=="function"?NA(fl(this,"text",t)):EA(t==null?"":t+""))}function IA(t){return function(e){this.textContent=t.call(this,e)}}function LA(t){var e,s;function n(){var o=t.apply(this,arguments);return o!==s&&(e=(s=o)&&IA(o)),e}return n._value=t,n}function RA(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,LA(t))}function PA(){for(var t=this._name,e=this._id,s=Nf(),n=this._groups,o=n.length,r=0;r<o;++r)for(var i=n[r],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var d=Ft(l,e);si(l,t,s,c,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ms(n,this._parents,t,s)}function DA(){var t,e,s=this,n=s._id,o=s.size();return new Promise(function(r,i){var a={value:i},l={value:function(){--o===0&&r()}};s.each(function(){var c=Yt(this,n),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),o===0&&r()})}var MA=0;function ms(t,e,s,n){this._groups=t,this._parents=e,this._name=s,this._id=n}function Nf(){return++MA}var ns=Ao.prototype;ms.prototype={constructor:ms,select:mA,selectAll:gA,selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:lA,merge:cA,selection:_A,transition:PA,call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:hA,attr:Wk,attrTween:Jk,style:kA,styleTween:SA,text:TA,textTween:RA,remove:pA,tween:Vk,delay:eA,duration:nA,ease:rA,easeVarying:aA,end:DA,[Symbol.iterator]:ns[Symbol.iterator]};function OA(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var GA={time:null,delay:0,duration:250,ease:OA};function FA(t,e){for(var s;!(s=t.__transition)||!(s=s[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return s}function VA(t){var e,s;t instanceof ms?(e=t._id,t=t._name):(e=Nf(),(s=GA).time=dl(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,r=0;r<o;++r)for(var i=n[r],a=i.length,l,c=0;c<a;++c)(l=i[c])&&si(l,t,e,c,i,s||FA(l,e));return new ms(n,this._parents,t,e)}Ao.prototype.interrupt=Ok;Ao.prototype.transition=VA;function _d(t,e){var s,n=1;t==null&&(t=0),e==null&&(e=0);function o(){var r,i=s.length,a,l=0,c=0;for(r=0;r<i;++r)a=s[r],l+=a.x,c+=a.y;for(l=(l/i-t)*n,c=(c/i-e)*n,r=0;r<i;++r)a=s[r],a.x-=l,a.y-=c}return o.initialize=function(r){s=r},o.x=function(r){return arguments.length?(t=+r,o):t},o.y=function(r){return arguments.length?(e=+r,o):e},o.strength=function(r){return arguments.length?(n=+r,o):n},o}function $A(t){const e=+this._x.call(null,t),s=+this._y.call(null,t);return Tf(this.cover(e,s),e,s,t)}function Tf(t,e,s,n){if(isNaN(e)||isNaN(s))return t;var o,r=t._root,i={data:n},a=t._x0,l=t._y0,c=t._x1,d=t._y1,u,f,p,y,_,w,b,x;if(!r)return t._root=i,t;for(;r.length;)if((_=e>=(u=(a+c)/2))?a=u:c=u,(w=s>=(f=(l+d)/2))?l=f:d=f,o=r,!(r=r[b=w<<1|_]))return o[b]=i,t;if(p=+t._x.call(null,r.data),y=+t._y.call(null,r.data),e===p&&s===y)return i.next=r,o?o[b]=i:t._root=i,t;do o=o?o[b]=new Array(4):t._root=new Array(4),(_=e>=(u=(a+c)/2))?a=u:c=u,(w=s>=(f=(l+d)/2))?l=f:d=f;while((b=w<<1|_)===(x=(y>=f)<<1|p>=u));return o[x]=r,o[b]=i,t}function BA(t){var e,s,n=t.length,o,r,i=new Array(n),a=new Array(n),l=1/0,c=1/0,d=-1/0,u=-1/0;for(s=0;s<n;++s)isNaN(o=+this._x.call(null,e=t[s]))||isNaN(r=+this._y.call(null,e))||(i[s]=o,a[s]=r,o<l&&(l=o),o>d&&(d=o),r<c&&(c=r),r>u&&(u=r));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),s=0;s<n;++s)Tf(this,i[s],a[s],t[s]);return this}function zA(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var s=this._x0,n=this._y0,o=this._x1,r=this._y1;if(isNaN(s))o=(s=Math.floor(t))+1,r=(n=Math.floor(e))+1;else{for(var i=o-s||1,a=this._root,l,c;s>t||t>=o||n>e||e>=r;)switch(c=(e<n)<<1|t<s,l=new Array(4),l[c]=a,a=l,i*=2,c){case 0:o=s+i,r=n+i;break;case 1:s=o-i,r=n+i;break;case 2:o=s+i,n=r-i;break;case 3:s=o-i,n=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=s,this._y0=n,this._x1=o,this._y1=r,this}function jA(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function UA(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function pt(t,e,s,n,o){this.node=t,this.x0=e,this.y0=s,this.x1=n,this.y1=o}function HA(t,e,s){var n,o=this._x0,r=this._y0,i,a,l,c,d=this._x1,u=this._y1,f=[],p=this._root,y,_;for(p&&f.push(new pt(p,o,r,d,u)),s==null?s=1/0:(o=t-s,r=e-s,d=t+s,u=e+s,s*=s);y=f.pop();)if(!(!(p=y.node)||(i=y.x0)>d||(a=y.y0)>u||(l=y.x1)<o||(c=y.y1)<r))if(p.length){var w=(i+l)/2,b=(a+c)/2;f.push(new pt(p[3],w,b,l,c),new pt(p[2],i,b,w,c),new pt(p[1],w,a,l,b),new pt(p[0],i,a,w,b)),(_=(e>=b)<<1|t>=w)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-_],f[f.length-1-_]=y)}else{var x=t-+this._x.call(null,p.data),E=e-+this._y.call(null,p.data),A=x*x+E*E;if(A<s){var L=Math.sqrt(s=A);o=t-L,r=e-L,d=t+L,u=e+L,n=p.data}}return n}function WA(t){if(isNaN(d=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var e,s=this._root,n,o,r,i=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,f,p,y,_,w,b;if(!s)return this;if(s.length)for(;;){if((y=d>=(f=(i+l)/2))?i=f:l=f,(_=u>=(p=(a+c)/2))?a=p:c=p,e=s,!(s=s[w=_<<1|y]))return this;if(!s.length)break;(e[w+1&3]||e[w+2&3]||e[w+3&3])&&(n=e,b=w)}for(;s.data!==t;)if(o=s,!(s=s.next))return this;return(r=s.next)&&delete s.next,o?(r?o.next=r:delete o.next,this):e?(r?e[w]=r:delete e[w],(s=e[0]||e[1]||e[2]||e[3])&&s===(e[3]||e[2]||e[1]||e[0])&&!s.length&&(n?n[b]=s:this._root=s),this):(this._root=r,this)}function XA(t){for(var e=0,s=t.length;e<s;++e)this.remove(t[e]);return this}function qA(){return this._root}function ZA(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function KA(t){var e=[],s,n=this._root,o,r,i,a,l;for(n&&e.push(new pt(n,this._x0,this._y0,this._x1,this._y1));s=e.pop();)if(!t(n=s.node,r=s.x0,i=s.y0,a=s.x1,l=s.y1)&&n.length){var c=(r+a)/2,d=(i+l)/2;(o=n[3])&&e.push(new pt(o,c,d,a,l)),(o=n[2])&&e.push(new pt(o,r,d,c,l)),(o=n[1])&&e.push(new pt(o,c,i,a,d)),(o=n[0])&&e.push(new pt(o,r,i,c,d))}return this}function JA(t){var e=[],s=[],n;for(this._root&&e.push(new pt(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var r,i=n.x0,a=n.y0,l=n.x1,c=n.y1,d=(i+l)/2,u=(a+c)/2;(r=o[0])&&e.push(new pt(r,i,a,d,u)),(r=o[1])&&e.push(new pt(r,d,a,l,u)),(r=o[2])&&e.push(new pt(r,i,u,d,c)),(r=o[3])&&e.push(new pt(r,d,u,l,c))}s.push(n)}for(;n=s.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function YA(t){return t[0]}function QA(t){return arguments.length?(this._x=t,this):this._x}function eC(t){return t[1]}function tC(t){return arguments.length?(this._y=t,this):this._y}function pl(t,e,s){var n=new ml(e??YA,s??eC,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function ml(t,e,s,n,o,r){this._x=t,this._y=e,this._x0=s,this._y0=n,this._x1=o,this._y1=r,this._root=void 0}function vd(t){for(var e={data:t.data},s=e;t=t.next;)s=s.next={data:t.data};return e}var mt=pl.prototype=ml.prototype;mt.copy=function(){var t=new ml(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,s,n;if(!e)return t;if(!e.length)return t._root=vd(e),t;for(s=[{source:e,target:t._root=new Array(4)}];e=s.pop();)for(var o=0;o<4;++o)(n=e.source[o])&&(n.length?s.push({source:n,target:e.target[o]=new Array(4)}):e.target[o]=vd(n));return t};mt.add=$A;mt.addAll=BA;mt.cover=zA;mt.data=jA;mt.extent=UA;mt.find=HA;mt.remove=WA;mt.removeAll=XA;mt.root=qA;mt.size=ZA;mt.visit=KA;mt.visitAfter=JA;mt.x=QA;mt.y=tC;function Xs(t){return function(){return t}}function As(t){return(t()-.5)*1e-6}function sC(t){return t.x+t.vx}function nC(t){return t.y+t.vy}function oC(t){var e,s,n,o=1,r=1;typeof t!="function"&&(t=Xs(t==null?1:+t));function i(){for(var c,d=e.length,u,f,p,y,_,w,b=0;b<r;++b)for(u=pl(e,sC,nC).visitAfter(a),c=0;c<d;++c)f=e[c],_=s[f.index],w=_*_,p=f.x+f.vx,y=f.y+f.vy,u.visit(x);function x(E,A,L,z,j){var ee=E.data,W=E.r,Z=_+W;if(ee){if(ee.index>f.index){var U=p-ee.x-ee.vx,R=y-ee.y-ee.vy,G=U*U+R*R;G<Z*Z&&(U===0&&(U=As(n),G+=U*U),R===0&&(R=As(n),G+=R*R),G=(Z-(G=Math.sqrt(G)))/G*o,f.vx+=(U*=G)*(Z=(W*=W)/(w+W)),f.vy+=(R*=G)*Z,ee.vx-=U*(Z=1-Z),ee.vy-=R*Z)}return}return A>p+Z||z<p-Z||L>y+Z||j<y-Z}}function a(c){if(c.data)return c.r=s[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(e){var c,d=e.length,u;for(s=new Array(d),c=0;c<d;++c)u=e[c],s[u.index]=+t(u,c,e)}}return i.initialize=function(c,d){e=c,n=d,l()},i.iterations=function(c){return arguments.length?(r=+c,i):r},i.strength=function(c){return arguments.length?(o=+c,i):o},i.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Xs(+c),l(),i):t},i}function rC(t){return t.index}function bd(t,e){var s=t.get(e);if(!s)throw new Error("node not found: "+e);return s}function iC(t){var e=rC,s=u,n,o=Xs(30),r,i,a,l,c,d=1;t==null&&(t=[]);function u(w){return 1/Math.min(a[w.source.index],a[w.target.index])}function f(w){for(var b=0,x=t.length;b<d;++b)for(var E=0,A,L,z,j,ee,W,Z;E<x;++E)A=t[E],L=A.source,z=A.target,j=z.x+z.vx-L.x-L.vx||As(c),ee=z.y+z.vy-L.y-L.vy||As(c),W=Math.sqrt(j*j+ee*ee),W=(W-r[E])/W*w*n[E],j*=W,ee*=W,z.vx-=j*(Z=l[E]),z.vy-=ee*Z,L.vx+=j*(Z=1-Z),L.vy+=ee*Z}function p(){if(i){var w,b=i.length,x=t.length,E=new Map(i.map((L,z)=>[e(L,z,i),L])),A;for(w=0,a=new Array(b);w<x;++w)A=t[w],A.index=w,typeof A.source!="object"&&(A.source=bd(E,A.source)),typeof A.target!="object"&&(A.target=bd(E,A.target)),a[A.source.index]=(a[A.source.index]||0)+1,a[A.target.index]=(a[A.target.index]||0)+1;for(w=0,l=new Array(x);w<x;++w)A=t[w],l[w]=a[A.source.index]/(a[A.source.index]+a[A.target.index]);n=new Array(x),y(),r=new Array(x),_()}}function y(){if(i)for(var w=0,b=t.length;w<b;++w)n[w]=+s(t[w],w,t)}function _(){if(i)for(var w=0,b=t.length;w<b;++w)r[w]=+o(t[w],w,t)}return f.initialize=function(w,b){i=w,c=b,p()},f.links=function(w){return arguments.length?(t=w,p(),f):t},f.id=function(w){return arguments.length?(e=w,f):e},f.iterations=function(w){return arguments.length?(d=+w,f):d},f.strength=function(w){return arguments.length?(s=typeof w=="function"?w:Xs(+w),y(),f):s},f.distance=function(w){return arguments.length?(o=typeof w=="function"?w:Xs(+w),_(),f):o},f}const aC=1664525,lC=1013904223,wd=4294967296;function cC(){let t=1;return()=>(t=(aC*t+lC)%wd)/wd}function dC(t){return t.x}function uC(t){return t.y}var hC=10,fC=Math.PI*(3-Math.sqrt(5));function pC(t){var e,s=1,n=.001,o=1-Math.pow(n,1/300),r=0,i=.6,a=new Map,l=ul(u),c=ko("tick","end"),d=cC();t==null&&(t=[]);function u(){f(),c.call("tick",e),s<n&&(l.stop(),c.call("end",e))}function f(_){var w,b=t.length,x;_===void 0&&(_=1);for(var E=0;E<_;++E)for(s+=(r-s)*o,a.forEach(function(A){A(s)}),w=0;w<b;++w)x=t[w],x.fx==null?x.x+=x.vx*=i:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=i:(x.y=x.fy,x.vy=0);return e}function p(){for(var _=0,w=t.length,b;_<w;++_){if(b=t[_],b.index=_,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var x=hC*Math.sqrt(.5+_),E=_*fC;b.x=x*Math.cos(E),b.y=x*Math.sin(E)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function y(_){return _.initialize&&_.initialize(t,d),_}return p(),e={tick:f,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(_){return arguments.length?(t=_,p(),a.forEach(y),e):t},alpha:function(_){return arguments.length?(s=+_,e):s},alphaMin:function(_){return arguments.length?(n=+_,e):n},alphaDecay:function(_){return arguments.length?(o=+_,e):+o},alphaTarget:function(_){return arguments.length?(r=+_,e):r},velocityDecay:function(_){return arguments.length?(i=1-_,e):1-i},randomSource:function(_){return arguments.length?(d=_,a.forEach(y),e):d},force:function(_,w){return arguments.length>1?(w==null?a.delete(_):a.set(_,y(w)),e):a.get(_)},find:function(_,w,b){var x=0,E=t.length,A,L,z,j,ee;for(b==null?b=1/0:b*=b,x=0;x<E;++x)j=t[x],A=_-j.x,L=w-j.y,z=A*A+L*L,z<b&&(ee=j,b=z);return ee},on:function(_,w){return arguments.length>1?(c.on(_,w),e):c.on(_)}}}function mC(){var t,e,s,n,o=Xs(-30),r,i=1,a=1/0,l=.81;function c(p){var y,_=t.length,w=pl(t,dC,uC).visitAfter(u);for(n=p,y=0;y<_;++y)e=t[y],w.visit(f)}function d(){if(t){var p,y=t.length,_;for(r=new Array(y),p=0;p<y;++p)_=t[p],r[_.index]=+o(_,p,t)}}function u(p){var y=0,_,w,b=0,x,E,A;if(p.length){for(x=E=A=0;A<4;++A)(_=p[A])&&(w=Math.abs(_.value))&&(y+=_.value,b+=w,x+=w*_.x,E+=w*_.y);p.x=x/b,p.y=E/b}else{_=p,_.x=_.data.x,_.y=_.data.y;do y+=r[_.data.index];while(_=_.next)}p.value=y}function f(p,y,_,w){if(!p.value)return!0;var b=p.x-e.x,x=p.y-e.y,E=w-y,A=b*b+x*x;if(E*E/l<A)return A<a&&(b===0&&(b=As(s),A+=b*b),x===0&&(x=As(s),A+=x*x),A<i&&(A=Math.sqrt(i*A)),e.vx+=b*p.value*n/A,e.vy+=x*p.value*n/A),!0;if(p.length||A>=a)return;(p.data!==e||p.next)&&(b===0&&(b=As(s),A+=b*b),x===0&&(x=As(s),A+=x*x),A<i&&(A=Math.sqrt(i*A)));do p.data!==e&&(E=r[p.data.index]*n/A,e.vx+=b*E,e.vy+=x*E);while(p=p.next)}return c.initialize=function(p,y){t=p,s=y,d()},c.strength=function(p){return arguments.length?(o=typeof p=="function"?p:Xs(+p),d(),c):o},c.distanceMin=function(p){return arguments.length?(i=p*p,c):Math.sqrt(i)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function gC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lr(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,n=t.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+t.slice(s+1)]}function An(t){return t=Lr(Math.abs(t)),t?t[1]:NaN}function yC(t,e){return function(s,n){for(var o=s.length,r=[],i=0,a=t[0],l=0;o>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),r.push(s.substring(o-=a,o+a)),!((l+=a+1)>n));)a=t[i=(i+1)%t.length];return r.reverse().join(e)}}function _C(t){return function(e){return e.replace(/[0-9]/g,function(s){return t[+s]})}}var vC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rr(t){if(!(e=vC.exec(t)))throw new Error("invalid format: "+t);var e;return new gl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rr.prototype=gl.prototype;function gl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bC(t){e:for(var e=t.length,s=1,n=-1,o;s<e;++s)switch(t[s]){case".":n=o=s;break;case"0":n===0&&(n=s),o=s;break;default:if(!+t[s])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var If;function wC(t,e){var s=Lr(t,e);if(!s)return t+"";var n=s[0],o=s[1],r=o-(If=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return r===i?n:r>i?n+new Array(r-i+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+Lr(t,Math.max(0,e+r-1))[0]}function xd(t,e){var s=Lr(t,e);if(!s)return t+"";var n=s[0],o=s[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const kd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gC,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xd(t*100,e),r:xd,s:wC,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ad(t){return t}var Cd=Array.prototype.map,Sd=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xC(t){var e=t.grouping===void 0||t.thousands===void 0?Ad:yC(Cd.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?Ad:_C(Cd.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Rr(u);var f=u.fill,p=u.align,y=u.sign,_=u.symbol,w=u.zero,b=u.width,x=u.comma,E=u.precision,A=u.trim,L=u.type;L==="n"?(x=!0,L="g"):kd[L]||(E===void 0&&(E=12),A=!0,L="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var z=_==="$"?s:_==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",j=_==="$"?n:/[%p]/.test(L)?i:"",ee=kd[L],W=/[defgprs%]/.test(L);E=E===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function Z(U){var R=z,G=j,S,M,I;if(L==="c")G=ee(U)+G,U="";else{U=+U;var F=U<0||1/U<0;if(U=isNaN(U)?l:ee(Math.abs(U),E),A&&(U=bC(U)),F&&+U==0&&y!=="+"&&(F=!1),R=(F?y==="("?y:a:y==="-"||y==="("?"":y)+R,G=(L==="s"?Sd[8+If/3]:"")+G+(F&&y==="("?")":""),W){for(S=-1,M=U.length;++S<M;)if(I=U.charCodeAt(S),48>I||I>57){G=(I===46?o+U.slice(S+1):U.slice(S))+G,U=U.slice(0,S);break}}}x&&!w&&(U=e(U,1/0));var X=R.length+U.length+G.length,re=X<b?new Array(b-X+1).join(f):"";switch(x&&w&&(U=e(re+U,re.length?b-G.length:1/0),re=""),p){case"<":U=R+U+G+re;break;case"=":U=R+re+U+G;break;case"^":U=re.slice(0,X=re.length>>1)+R+U+G+re.slice(X);break;default:U=re+R+U+G;break}return r(U)}return Z.toString=function(){return u+""},Z}function d(u,f){var p=c((u=Rr(u),u.type="f",u)),y=Math.max(-8,Math.min(8,Math.floor(An(f)/3)))*3,_=Math.pow(10,-y),w=Sd[8+y/3];return function(b){return p(_*b)+w}}return{format:c,formatPrefix:d}}var zo,Lf,Rf;kC({thousands:",",grouping:[3],currency:["$",""]});function kC(t){return zo=xC(t),Lf=zo.format,Rf=zo.formatPrefix,zo}function AC(t){return Math.max(0,-An(Math.abs(t)))}function CC(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(An(e)/3)))*3-An(Math.abs(t)))}function SC(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,An(e)-An(t))+1}function Pf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function EC(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ed=Symbol("implicit");function Df(){var t=new ed,e=[],s=[],n=Ed;function o(r){let i=t.get(r);if(i===void 0){if(n!==Ed)return n;t.set(r,i=e.push(r)-1)}return s[i%s.length]}return o.domain=function(r){if(!arguments.length)return e.slice();e=[],t=new ed;for(const i of r)t.has(i)||t.set(i,e.push(i)-1);return o},o.range=function(r){return arguments.length?(s=Array.from(r),o):s.slice()},o.unknown=function(r){return arguments.length?(n=r,o):n},o.copy=function(){return Df(e,s).unknown(n)},Pf.apply(o,arguments),o}function NC(t){return function(){return t}}function TC(t){return+t}var Nd=[0,1];function Xt(t){return t}function Sa(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:NC(isNaN(e)?NaN:.5)}function IC(t,e){var s;return t>e&&(s=t,t=e,e=s),function(n){return Math.max(t,Math.min(e,n))}}function LC(t,e,s){var n=t[0],o=t[1],r=e[0],i=e[1];return o<n?(n=Sa(o,n),r=s(i,r)):(n=Sa(n,o),r=s(r,i)),function(a){return r(n(a))}}function RC(t,e,s){var n=Math.min(t.length,e.length)-1,o=new Array(n),r=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)o[i]=Sa(t[i],t[i+1]),r[i]=s(e[i],e[i+1]);return function(a){var l=sw(t,a,1,n)-1;return r[l](o[l](a))}}function PC(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function DC(){var t=Nd,e=Nd,s=ei,n,o,r,i=Xt,a,l,c;function d(){var f=Math.min(t.length,e.length);return i!==Xt&&(i=IC(t[0],t[f-1])),a=f>2?RC:LC,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?r:(l||(l=a(t.map(n),e,s)))(n(i(f)))}return u.invert=function(f){return i(o((c||(c=a(e,t.map(n),Rt)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,TC),d()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),s=bf,d()},u.clamp=function(f){return arguments.length?(i=f?!0:Xt,d()):i!==Xt},u.interpolate=function(f){return arguments.length?(s=f,d()):s},u.unknown=function(f){return arguments.length?(r=f,u):r},function(f,p){return n=f,o=p,d()}}function MC(t,e,s,n){var o=dw(t,e,s),r;switch(n=Rr(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=CC(o,i))&&(n.precision=r),Rf(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=SC(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=AC(o))&&(n.precision=r-(n.type==="%")*2);break}}return Lf(n)}function Mf(t){var e=t.domain;return t.ticks=function(s){var n=e();return cw(n[0],n[n.length-1],s??10)},t.tickFormat=function(s,n){var o=e();return MC(o[0],o[o.length-1],s??10,n)},t.nice=function(s){s==null&&(s=10);var n=e(),o=0,r=n.length-1,i=n[o],a=n[r],l,c,d=10;for(a<i&&(c=i,i=a,a=c,c=o,o=r,r=c);d-- >0;){if(c=ya(i,a,s),c===l)return n[o]=i,n[r]=a,e(n);if(c>0)i=Math.floor(i/c)*c,a=Math.ceil(a/c)*c;else if(c<0)i=Math.ceil(i*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Td(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function OC(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GC(t){return t<0?-t*t:t*t}function FC(t){var e=t(Xt,Xt),s=1;function n(){return s===1?t(Xt,Xt):s===.5?t(OC,GC):t(Td(s),Td(1/s))}return e.exponent=function(o){return arguments.length?(s=+o,n()):s},Mf(e)}function Of(){var t=FC(DC());return t.copy=function(){return PC(t,Of()).exponent(t.exponent())},Pf.apply(t,arguments),t}function VC(){return Of.apply(null,arguments).exponent(.5)}function $C(){var t=0,e=1,s,n,o,r,i=Xt,a=!1,l;function c(u){return u==null||isNaN(u=+u)?l:i(o===0?.5:(u=(r(u)-s)*o,a?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,s=r(t=+t),n=r(e=+e),o=s===n?0:1/(n-s),c):[t,e]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(i=u,c):i};function d(u){return function(f){var p,y;return arguments.length?([p,y]=f,i=u(p,y),c):[i(0),i(1)]}}return c.range=d(ei),c.rangeRound=d(bf),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return r=u,s=u(t),n=u(e),o=s===n?0:1/(n-s),c}}function BC(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Gf(){var t=Mf($C()(Xt));return t.copy=function(){return BC(t,Gf())},EC.apply(t,arguments)}function So(t){for(var e=t.length/6|0,s=new Array(e),n=0;n<e;)s[n]="#"+t.slice(n*6,++n*6);return s}const zC=So("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ni(t){var e=t.length;return function(s){return t[Math.max(0,Math.min(e-1,Math.floor(s*e)))]}}const jC=ni(So("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ni(So("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));ni(So("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));ni(So("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const jo=t=>()=>t;function UC(t,{sourceEvent:e,target:s,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function us(t,e,s){this.k=t,this.x=e,this.y=s}us.prototype={constructor:us,scale:function(t){return t===1?this:new us(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new us(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var oi=new us(1,0,0);Ff.prototype=us.prototype;function Ff(t){for(;!t.__zoom;)if(!(t=t.parentNode))return oi;return t.__zoom}function Mi(t){t.stopImmediatePropagation()}function Fn(t){t.preventDefault(),t.stopImmediatePropagation()}function HC(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function WC(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Id(){return this.__zoom||oi}function XC(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function qC(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZC(t,e,s){var n=t.invertX(e[0][0])-s[0][0],o=t.invertX(e[1][0])-s[1][0],r=t.invertY(e[0][1])-s[0][1],i=t.invertY(e[1][1])-s[1][1];return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function KC(){var t=HC,e=WC,s=ZC,n=XC,o=qC,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Nk,c=ko("start","zoom","end"),d,u,f,p=500,y=150,_=0,w=10;function b(S){S.property("__zoom",Id).on("wheel.zoom",ee,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Z).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(S,M,I,F){var X=S.selection?S.selection():S;X.property("__zoom",Id),S!==X?L(S,M,I,F):X.interrupt().each(function(){z(this,arguments).event(F).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},b.scaleBy=function(S,M,I,F){b.scaleTo(S,function(){var X=this.__zoom.k,re=typeof M=="function"?M.apply(this,arguments):M;return X*re},I,F)},b.scaleTo=function(S,M,I,F){b.transform(S,function(){var X=e.apply(this,arguments),re=this.__zoom,ue=I==null?A(X):typeof I=="function"?I.apply(this,arguments):I,K=re.invert(ue),le=typeof M=="function"?M.apply(this,arguments):M;return s(E(x(re,le),ue,K),X,i)},I,F)},b.translateBy=function(S,M,I,F){b.transform(S,function(){return s(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof I=="function"?I.apply(this,arguments):I),e.apply(this,arguments),i)},null,F)},b.translateTo=function(S,M,I,F,X){b.transform(S,function(){var re=e.apply(this,arguments),ue=this.__zoom,K=F==null?A(re):typeof F=="function"?F.apply(this,arguments):F;return s(oi.translate(K[0],K[1]).scale(ue.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof I=="function"?-I.apply(this,arguments):-I),re,i)},F,X)};function x(S,M){return M=Math.max(r[0],Math.min(r[1],M)),M===S.k?S:new us(M,S.x,S.y)}function E(S,M,I){var F=M[0]-I[0]*S.k,X=M[1]-I[1]*S.k;return F===S.x&&X===S.y?S:new us(S.k,F,X)}function A(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function L(S,M,I,F){S.on("start.zoom",function(){z(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(F).end()}).tween("zoom",function(){var X=this,re=arguments,ue=z(X,re).event(F),K=e.apply(X,re),le=I==null?A(K):typeof I=="function"?I.apply(X,re):I,Ie=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),Ae=X.__zoom,ce=typeof M=="function"?M.apply(X,re):M,ge=l(Ae.invert(le).concat(Ie/Ae.k),ce.invert(le).concat(Ie/ce.k));return function(T){if(T===1)T=ce;else{var te=ge(T),se=Ie/te[2];T=new us(se,le[0]-te[0]*se,le[1]-te[1]*se)}ue.zoom(null,T)}})}function z(S,M,I){return!I&&S.__zooming||new j(S,M)}function j(S,M){this.that=S,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,M),this.taps=0}j.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,M){return this.mouse&&S!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var M=vt(this.that).datum();c.call(S,this.that,new UC(S,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),M)}};function ee(S,...M){if(!t.apply(this,arguments))return;var I=z(this,M).event(S),F=this.__zoom,X=Math.max(r[0],Math.min(r[1],F.k*Math.pow(2,n.apply(this,arguments)))),re=is(S);if(I.wheel)(I.mouse[0][0]!==re[0]||I.mouse[0][1]!==re[1])&&(I.mouse[1]=F.invert(I.mouse[0]=re)),clearTimeout(I.wheel);else{if(F.k===X)return;I.mouse=[re,F.invert(re)],tr(this),I.start()}Fn(S),I.wheel=setTimeout(ue,y),I.zoom("mouse",s(E(x(F,X),I.mouse[0],I.mouse[1]),I.extent,i));function ue(){I.wheel=null,I.end()}}function W(S,...M){if(f||!t.apply(this,arguments))return;var I=S.currentTarget,F=z(this,M,!0).event(S),X=vt(S.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",Ie,!0),re=is(S,I),ue=S.clientX,K=S.clientY;pf(S.view),Mi(S),F.mouse=[re,this.__zoom.invert(re)],tr(this),F.start();function le(Ae){if(Fn(Ae),!F.moved){var ce=Ae.clientX-ue,ge=Ae.clientY-K;F.moved=ce*ce+ge*ge>_}F.event(Ae).zoom("mouse",s(E(F.that.__zoom,F.mouse[0]=is(Ae,I),F.mouse[1]),F.extent,i))}function Ie(Ae){X.on("mousemove.zoom mouseup.zoom",null),mf(Ae.view,F.moved),Fn(Ae),F.event(Ae).end()}}function Z(S,...M){if(t.apply(this,arguments)){var I=this.__zoom,F=is(S.changedTouches?S.changedTouches[0]:S,this),X=I.invert(F),re=I.k*(S.shiftKey?.5:2),ue=s(E(x(I,re),F,X),e.apply(this,M),i);Fn(S),a>0?vt(this).transition().duration(a).call(L,ue,F,S):vt(this).call(b.transform,ue,F,S)}}function U(S,...M){if(t.apply(this,arguments)){var I=S.touches,F=I.length,X=z(this,M,S.changedTouches.length===F).event(S),re,ue,K,le;for(Mi(S),ue=0;ue<F;++ue)K=I[ue],le=is(K,this),le=[le,this.__zoom.invert(le),K.identifier],X.touch0?!X.touch1&&X.touch0[2]!==le[2]&&(X.touch1=le,X.taps=0):(X.touch0=le,re=!0,X.taps=1+!!d);d&&(d=clearTimeout(d)),re&&(X.taps<2&&(u=le[0],d=setTimeout(function(){d=null},p)),tr(this),X.start())}}function R(S,...M){if(this.__zooming){var I=z(this,M).event(S),F=S.changedTouches,X=F.length,re,ue,K,le;for(Fn(S),re=0;re<X;++re)ue=F[re],K=is(ue,this),I.touch0&&I.touch0[2]===ue.identifier?I.touch0[0]=K:I.touch1&&I.touch1[2]===ue.identifier&&(I.touch1[0]=K);if(ue=I.that.__zoom,I.touch1){var Ie=I.touch0[0],Ae=I.touch0[1],ce=I.touch1[0],ge=I.touch1[1],T=(T=ce[0]-Ie[0])*T+(T=ce[1]-Ie[1])*T,te=(te=ge[0]-Ae[0])*te+(te=ge[1]-Ae[1])*te;ue=x(ue,Math.sqrt(T/te)),K=[(Ie[0]+ce[0])/2,(Ie[1]+ce[1])/2],le=[(Ae[0]+ge[0])/2,(Ae[1]+ge[1])/2]}else if(I.touch0)K=I.touch0[0],le=I.touch0[1];else return;I.zoom("touch",s(E(ue,K,le),I.extent,i))}}function G(S,...M){if(this.__zooming){var I=z(this,M).event(S),F=S.changedTouches,X=F.length,re,ue;for(Mi(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),re=0;re<X;++re)ue=F[re],I.touch0&&I.touch0[2]===ue.identifier?delete I.touch0:I.touch1&&I.touch1[2]===ue.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(ue=is(ue,this),Math.hypot(u[0]-ue[0],u[1]-ue[1])<w)){var K=vt(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return b.wheelDelta=function(S){return arguments.length?(n=typeof S=="function"?S:jo(+S),b):n},b.filter=function(S){return arguments.length?(t=typeof S=="function"?S:jo(!!S),b):t},b.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:jo(!!S),b):o},b.extent=function(S){return arguments.length?(e=typeof S=="function"?S:jo([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),b):e},b.scaleExtent=function(S){return arguments.length?(r[0]=+S[0],r[1]=+S[1],b):[r[0],r[1]]},b.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(S){return arguments.length?(s=S,b):s},b.duration=function(S){return arguments.length?(a=+S,b):a},b.interpolate=function(S){return arguments.length?(l=S,b):l},b.on=function(){var S=c.on.apply(c,arguments);return S===c?b:S},b.clickDistance=function(S){return arguments.length?(_=(S=+S)*S,b):Math.sqrt(_)},b.tapDistance=function(S){return arguments.length?(w=+S,b):w},b}const Ee={WIDTH:800,HEIGHT:600,NODE_RADIUS:8,LINK_DISTANCE:100,CHARGE_STRENGTH:-300,MIN_RADIUS:4,MAX_RADIUS:20,COLLISION_PADDING:2,COLLISION_STRENGTH:.7,LINK_STRENGTH:.5,ZOOM_MIN:.1,ZOOM_MAX:4,RESIZE_DEBOUNCE_MS:150,TOOLTIP_PADDING:12,TOOLTIP_DURATION:150,TOOLTIP_MAX_WIDTH:280,DRAG_ALPHA_TARGET:.3,SIMULATION_ALPHA:1,SIMULATION_RESTART_ALPHA:.3,LABEL_VISIBILITY_THRESHOLD:.5};function yt(t){return typeof t=="string"?t:t?.id||String(t)}function vs(t){const e=yt(t.source),s=yt(t.target);return e<s?`${e}-${s}`:`${s}-${e}`}function JC(t,e){let s;return function(...o){const r=()=>{clearTimeout(s),t(...o)};clearTimeout(s),s=setTimeout(r,e)}}class YC{constructor(e,s={}){if(this.container=typeof e=="string"?document.querySelector(e):e,!this.container)throw new Error("NetworkGraphD3: Container not found");this.log=Xe({prefix:"NetworkGraphD3",level:"info"}),this.options={width:s.width||Ee.WIDTH,height:s.height||Ee.HEIGHT,nodeRadius:s.nodeRadius||Ee.NODE_RADIUS,linkDistance:s.linkDistance||Ee.LINK_DISTANCE,chargeStrength:s.chargeStrength||Ee.CHARGE_STRENGTH,sizeBy:s.sizeBy||null,minRadius:s.minRadius||Ee.MIN_RADIUS,maxRadius:s.maxRadius||Ee.MAX_RADIUS,colorBy:s.colorBy||"group",colorScheme:s.colorScheme||"categorical",showLabels:s.showLabels!==!1,tooltipBuilder:s.tooltipBuilder||null,renderMode:s.renderMode||"colors",...s},this.options.minRadius>=this.options.maxRadius&&(this.log.warn("minRadius should be less than maxRadius, adjusting..."),this.options.minRadius=Math.min(this.options.minRadius,this.options.maxRadius-1)),this.data={nodes:[],links:[]},this.svg=null,this.simulation=null,this.isDestroyed=!1,this.isReady=!1,this.isRendering=!1,this.selectedNode=null,this.sizeScale=null,this.colorScale=null,this.resizeHandler=null,this.darkModeQuery=null,this.darkModeHandler=null,this.tooltip=null,this.currentTooltipNode=null,this.linkKeyCache=new Map,this.stabilizationCheckFrame=null,this.lastAlpha=1,this.stableTickCount=0,this.requiredStableTicks=10,this.stabilizationThreshold=.01,this.init()}init(){this.log.debug("Initializing graph",{width:this.options.width,height:this.options.height}),this.svg=vt(this.container).append("svg").attr("width",this.options.width).attr("height",this.options.height).attr("viewBox",`0 0 ${this.options.width} ${this.options.height}`).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label","Network graph visualization").style("background","transparent").style("opacity",0).style("visibility","hidden").attr("class","network-graph-svg"),this.g=this.svg.append("g").attr("class","main-group"),this.linkGroup=this.g.append("g").attr("class","links").attr("aria-label","Graph links"),this.nodeGroup=this.g.append("g").attr("class","nodes").attr("aria-label","Graph nodes"),this.options.showLabels&&(this.labelGroup=this.g.append("g").attr("class","labels").attr("aria-label","Node labels")),this.createTooltip(),this.zoomBehavior=KC().scaleExtent([Ee.ZOOM_MIN,Ee.ZOOM_MAX]).on("zoom",e=>{this.g.attr("transform",e.transform),this.currentZoom=e.transform.k,this.updateLabelVisibility()}),this.svg.call(this.zoomBehavior),this.currentZoom=1,this.svg.on("click",e=>{e.target===this.svg.node()&&this.deselectNode()}),this.simulation=pC().force("link",iC().id(e=>e.id).distance(this.options.linkDistance).strength(Ee.LINK_STRENGTH)).force("charge",mC().strength(this.options.chargeStrength)).force("center",_d(this.options.width/2,this.options.height/2)).force("collision",oC().radius(e=>this.getNodeRadius(e)+Ee.COLLISION_PADDING).strength(Ee.COLLISION_STRENGTH)).on("tick",()=>this.onTick()).on("end",()=>this.onSimulationEnd()),this.resizeHandler=JC(()=>this.handleResize(),Ee.RESIZE_DEBOUNCE_MS),window.addEventListener("resize",this.resizeHandler)}setData(e,s){if(this.isDestroyed){this.log.warn("Cannot set data on destroyed instance");return}if(!Array.isArray(e))throw new Error("NetworkGraphD3: nodes must be an array");if(!Array.isArray(s))throw new Error("NetworkGraphD3: links must be an array");const n=e.filter(o=>!o||!o.id);n.length>0&&this.log.warn(`Found ${n.length} nodes without id property`),this.log.debug("Setting graph data",{nodeCount:e.length,linkCount:s.length}),this.data.nodes=e,this.data.links=s.map(o=>({...o,source:yt(o.source),target:yt(o.target)})),this.linkKeyCache.clear(),this.selectedNode=null,this.computeScales(),this.updateGraph()}computeScales(){if(!this.data.nodes||this.data.nodes.length===0)return;if(this.options.sizeBy){const n=this.data.nodes.map(o=>o[this.options.sizeBy]).filter(o=>o!=null);if(n.length>0){const o=Math.min(...n),r=Math.max(...n);this.sizeScale=VC().domain([o,r]).range([this.options.minRadius,this.options.maxRadius]).clamp(!0)}}const e=this.options.colorBy,s=this.data.nodes.map(n=>n[e]).filter(n=>n!=null);if(s.length>0){const n=s.every(o=>typeof o=="number");if(this.options.colorScheme==="sequential"||n){const o=Math.min(...s),r=Math.max(...s);this.colorScale=Gf(jC).domain([o,r])}else{const o=[...new Set(s)];this.colorScale=Df().domain(o).range(zC)}}}updateVisualEncoding(e={}){e.sizeBy!==void 0&&(this.options.sizeBy=e.sizeBy),e.minRadius!==void 0&&(this.options.minRadius=e.minRadius),e.maxRadius!==void 0&&(this.options.maxRadius=e.maxRadius),e.colorBy!==void 0&&(this.options.colorBy=e.colorBy),e.colorScheme!==void 0&&(this.options.colorScheme=e.colorScheme);const s=e.preserveZoom!==!1;let n=null;s&&this.g&&(n=Ff(this.svg.node())),this.computeScales(),this.node&&this.node.attr("r",o=>this.getNodeRadius(o)).attr("fill",o=>this.getNodeColor(o)),this.simulation&&this.simulation.force("collision").radius(o=>this.getNodeRadius(o)+Ee.COLLISION_PADDING),s&&n&&this.zoomBehavior&&this.svg&&(this.svg.call(this.zoomBehavior.transform,n),this.g.attr("transform",n),this.currentZoom=n.k)}setRenderMode(e){if(e!=="colors"&&e!=="avatars"){this.log.warn(`Invalid render mode: ${e}. Must be 'colors' or 'avatars'`);return}this.options.renderMode=e,this.log.debug(`Render mode changed to: ${e}`),this.nodeGroup&&(this.nodeGroup.selectAll("circle").remove(),this.nodeGroup.selectAll("text").remove(),this.node=null),this.labelGroup&&(this.labelGroup.selectAll("text").remove(),this.label=null),this.updateGraph()}updateNodeStatistics(e,s="eigenvector",n=!0){if(!e||!Array.isArray(e)){this.log.warn("updateNodeStatistics: enrichedNodes must be an array");return}const o=new Map;e.forEach(i=>{o.set(i.id,i)});let r=!1;this.data.nodes.forEach(i=>{const a=o.get(i.id);a&&(Object.keys(a).forEach(l=>{l!=="x"&&l!=="y"&&l!=="vx"&&l!=="vy"&&l!=="fx"&&l!=="fy"&&(i[l]=a[l])}),a.eigenvector!==void 0&&(r=!0))}),r&&s==="eigenvector"?this.updateVisualEncoding({sizeBy:"eigenvector",preserveZoom:n}):(this.computeScales(),this.node&&this.node.attr("r",i=>this.getNodeRadius(i)).attr("fill",i=>this.getNodeColor(i)),this.simulation&&this.simulation.force("collision").radius(i=>this.getNodeRadius(i)+Ee.COLLISION_PADDING)),this.log.debug("Node statistics updated",{nodeCount:e.length,sizingBy:r?s:"none"})}updateGraph(){if(!this.data.nodes||!this.data.links)return;this.isReady=!1,this.isRendering=!1,this.stableTickCount=0,this.lastAlpha=1,this.svg&&this.svg.style("opacity",0).style("visibility","hidden"),this.link=this.linkGroup.selectAll("line").data(this.data.links,o=>vs(o)),this.link.exit().remove();const e=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("aria-label",o=>`Link from ${yt(o.source)} to ${yt(o.target)}`);this.link=e.merge(this.link);const s=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(s).data(this.data.nodes,o=>o.id),this.node.exit().remove();const n=this.node.enter().append(s);if(this.options.renderMode==="avatars"?n.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",o=>`${this.getNodeRadius(o)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",o=>`Node ${o.id}`).text(o=>o.avatar||"").attr("stroke",o=>this.getNodeStrokeColor(o)).attr("stroke-width",o=>this.getNodeStrokeWidth(o)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(o,r)=>this.onNodeMouseOver(o,r)).on("mouseout",(o,r)=>this.onNodeMouseOut(o,r)).on("click",(o,r)=>{o.stopPropagation(),this.toggleNodeSelection(r),this.emit("nodeClick",r)}).on("keydown",(o,r)=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.toggleNodeSelection(r),this.emit("nodeClick",r))}):n.attr("r",o=>this.getNodeRadius(o)).attr("fill",o=>this.getNodeColor(o)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",o=>`Node ${o.id}`).call(this.createDragBehavior()).on("mouseover",(o,r)=>this.onNodeMouseOver(o,r)).on("mouseout",(o,r)=>this.onNodeMouseOut(o,r)).on("click",(o,r)=>{o.stopPropagation(),this.toggleNodeSelection(r),this.emit("nodeClick",r)}).on("keydown",(o,r)=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.toggleNodeSelection(r),this.emit("nodeClick",r))}),this.node=n.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",o=>`${this.getNodeRadius(o)*2}px`).text(o=>o.avatar||"").attr("stroke",o=>this.getNodeStrokeColor(o)).attr("stroke-width",o=>this.getNodeStrokeWidth(o)*.5):this.node.attr("r",o=>this.getNodeRadius(o)).attr("fill",o=>this.getNodeColor(o)).attr("stroke",o=>this.getNodeStrokeColor(o)).attr("stroke-width",o=>this.getNodeStrokeWidth(o)),this.simulation.force("collision").radius(o=>this.getNodeRadius(o)+Ee.COLLISION_PADDING),this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,r=>r.id),this.label.exit().remove();const o=this.label.enter().append("text").text(r=>r.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",r=>this.getNodeRadius(r)+15).attr("fill","var(--color-text-primary)").style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=o.merge(this.label),this.label.attr("dy",r=>this.getNodeRadius(r)+15),this.updateLabelVisibility()}this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),requestAnimationFrame(()=>{this.isRendering=!0,this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})}onTick(){this.isDestroyed||!this.isRendering&&!this.isReady||(this.link&&this.link.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),this.node&&(this.options.renderMode==="avatars"?this.node.attr("x",e=>e.x).attr("y",e=>e.y):this.node.attr("cx",e=>e.x).attr("cy",e=>e.y)),this.label&&this.label.attr("x",e=>e.x).attr("y",e=>e.y),!this.isReady&&this.simulation&&this.checkStabilization())}checkStabilization(){if(!this.simulation||this.isDestroyed)return;const e=this.simulation.alpha();e<this.stabilizationThreshold?this.stableTickCount++:this.stableTickCount=0,this.stableTickCount>=this.requiredStableTicks?this.markAsReady():this.stabilizationCheckFrame||(this.stabilizationCheckFrame=requestAnimationFrame(()=>{this.stabilizationCheckFrame=null})),this.lastAlpha=e}onSimulationEnd(){this.isDestroyed||this.markAsReady()}markAsReady(){this.isReady||this.isDestroyed||(this.log.debug("Graph marked as ready"),this.isReady=!0,this.isRendering=!0,this.svg&&this.svg.style("opacity",1).style("visibility","visible"),this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.fitToView(),this.emit("ready")})}))}createDragBehavior(){return Yx().on("start",(e,s)=>{e.active||this.simulation.alphaTarget(Ee.DRAG_ALPHA_TARGET).restart(),s.fx=s.x,s.fy=s.y,this.emit("nodeDragStart",s)}).on("drag",(e,s)=>{s.fx=e.x,s.fy=e.y,this.emit("nodeDrag",s)}).on("end",(e,s)=>{e.active||this.simulation.alphaTarget(0),this.emit("nodeDragEnd",s)})}isDarkMode(){return document.documentElement.classList.contains("dark")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}updateTooltipStyles(e){this.tooltip&&this.tooltip.style("background",e?"rgba(17, 24, 39, 0.95)":"rgba(0, 0, 0, 0.9)").style("color",e?"#f9fafb":"#fff").style("box-shadow",e?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.3)").style("border",e?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.2)")}createTooltip(){this.tooltip&&this.tooltip.remove(),this.darkModeQuery&&this.darkModeHandler&&this.darkModeQuery.removeEventListener("change",this.darkModeHandler);const e=this.isDarkMode();this.tooltip=vt("body").append("div").attr("class","network-graph-tooltip").attr("role","tooltip").attr("aria-hidden","true").style("position","absolute").style("padding","10px 14px").style("border-radius","8px").style("font-size","12px").style("font-family","system-ui, -apple-system, sans-serif").style("pointer-events","none").style("opacity",0).style("visibility","hidden").style("z-index",1e3).style("max-width",`${Ee.TOOLTIP_MAX_WIDTH}px`).style("line-height","1.6").style("backdrop-filter","blur(8px)"),this.updateTooltipStyles(e),window.matchMedia&&(this.darkModeQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeHandler=s=>{!this.isDestroyed&&this.tooltip&&this.updateTooltipStyles(s.matches)},this.darkModeQuery.addEventListener("change",this.darkModeHandler))}showTooltip(e,s){if(!this.tooltip||this.isDestroyed)return;const n=this.options.tooltipBuilder?this.options.tooltipBuilder(s):this.buildTooltipContent(s);this.tooltip.html(n);const o=e.clientX||e.pageX,r=e.clientY||e.pageY;this.tooltip.style("opacity",0).style("visibility","visible").attr("aria-hidden","false");const i=this.tooltip.node();if(!i)return;const a=i.offsetWidth||200,l=i.offsetHeight||100,c=Ee.TOOLTIP_PADDING;let d=o+c,u=r-l-c;const f=window.innerWidth,p=window.innerHeight;d+a>f-c&&(d=o-a-c),d<c&&(d=o+c),u<c&&(u=r+c),u+l>p-c&&(u=r-l-c),this.tooltip.style("left",`${d}px`).style("top",`${u}px`).transition().duration(Ee.TOOLTIP_DURATION).style("opacity",1),this.currentTooltipNode=s}hideTooltip(){this.tooltip&&(this.tooltip.transition().duration(Ee.TOOLTIP_DURATION).style("opacity",0).on("end",function(){vt(this).style("visibility","hidden").attr("aria-hidden","true")}),this.currentTooltipNode=null)}updateLabelVisibility(){if(!this.label||!this.options.showLabels)return;const e=this.currentZoom>=Ee.LABEL_VISIBILITY_THRESHOLD;this.label.style("opacity",e?1:0).style("visibility",e?"visible":"hidden")}buildTooltipContent(e){if(!e)return"";const s=[];s.push(`<div style="font-weight: 600; margin-bottom: 6px; font-size: 13px;"> ${e.id}</div>`);const n=new Set(["id","x","y","fx","fy","vx","vy","index","__data__","__transition__"]),o=["relationship","gender","avatar","group","community"],r=["degree","eigenvector","betweenness","clustering","closeness","centrality"];o.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!n.has(l)){const c=e[l];let d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="relationship")s.push(`<div style="margin-bottom: 3px;"><strong> Relationship:</strong> ${this.escapeHtml(c)}</div>`);else if(l==="gender"){const f={male:{emoji:"",text:"Male"},female:{emoji:"",text:"Female"},other:{emoji:"",text:"Other"}}[c]||{emoji:"",text:c};s.push(`<div style="margin-bottom: 3px;"><strong>Gender:</strong> ${f.emoji} ${f.text}</div>`)}else l==="avatar"?s.push(`<div style="margin-bottom: 3px;"><strong>Avatar:</strong> ${c}</div>`):l==="group"?s.push(`<div style="margin-bottom: 3px;"><strong>Group:</strong> ${c}</div>`):l==="community"?s.push(`<div style="margin-bottom: 3px;"><strong> Community:</strong> ${c}</div>`):s.push(`<div style="margin-bottom: 3px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}}),r.forEach(l=>{if(e[l]!==void 0&&e[l]!==null&&!n.has(l)){const c=e[l],d=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");if(l==="centrality"&&e.eigenvector!==void 0)return;typeof c=="number"?s.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${c.toFixed(4)}</div>`):s.push(`<div style="margin-bottom: 2px;"><strong>${d}:</strong> ${this.escapeHtml(String(c))}</div>`)}});const i=new Set([...o,...r,"x","y"]),a=Object.keys(e).filter(l=>!n.has(l)&&!i.has(l)&&e[l]!==void 0&&e[l]!==null&&typeof e[l]!="function"&&!l.startsWith("__")).sort();return a.length>0&&(s.push(`<div style="margin-top: 6px; padding-top: 6px; border-top: 1px solid ${this.isDarkMode()?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.1)"}; font-size: 11px;">`),s.push(`<div style="margin-bottom: 4px; font-weight: 600; color: ${this.isDarkMode()?"rgba(249,250,251,0.8)":"rgba(0,0,0,0.7)"};">Other Properties:</div>`),a.forEach(l=>{const c=e[l];let d;typeof c=="object"&&c!==null?Array.isArray(c)?d=`[${c.length} items]`:d=`{${Object.keys(c).length} keys}`:d=String(c);const u=l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ");s.push(`<div style="margin-bottom: 2px; font-family: monospace; font-size: 10px;"><strong>${u}:</strong> ${this.escapeHtml(d)}</div>`)}),s.push("</div>")),e.x!==void 0&&e.y,s.join("")}escapeHtml(e){const s=document.createElement("div");return s.textContent=e,s.innerHTML}onNodeMouseOver(e,s){vt(e.currentTarget).attr("stroke-width",4).attr("stroke","#fbbf24"),this.showTooltip(e,s),this.emit("nodeHover",s)}onNodeMouseOut(e,s){vt(e.currentTarget).attr("stroke-width",this.getNodeStrokeWidth(s)).attr("stroke",this.getNodeStrokeColor(s)),this.hideTooltip(),this.emit("nodeLeave",s)}getNodeRadius(e){if(this.options.sizeBy&&this.sizeScale){const s=e[this.options.sizeBy];if(s!=null)return this.sizeScale(s)}return this.options.nodeRadius}getNodeColor(e){if(this.options.customColorFunction){const r=this.options.customColorFunction(e);if(r)return r}const s=this.options.colorBy;if(this.colorScale){const r=e[s];if(r!=null)return this.colorScale(r)}const n=e.group||0,o=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return o[(n-1)%o.length]}getNodeStrokeColor(e){return this.selectedNode&&this.selectedNode.id===e.id?"#fb923c":"#fff"}getNodeStrokeWidth(e){return this.selectedNode&&this.selectedNode.id===e.id?3:2}toggleNodeSelection(e){this.selectedNode&&this.selectedNode.id===e.id?this.deselectNode():this.selectNode(e)}selectNode(e){if(!e)return;const s=this.selectedNode;s&&(s.fx=null,s.fy=null),this.selectedNode=e,this.node&&this.node.attr("stroke",n=>this.getNodeStrokeColor(n)).attr("stroke-width",n=>this.getNodeStrokeWidth(n)),this.log.debug("Node selected",{nodeId:e.id}),this.emit("nodeSelected",{node:e,previousSelection:s})}deselectNode(){if(!this.selectedNode)return;const e=this.selectedNode;e.fx=null,e.fy=null,this.selectedNode=null,this.node&&this.node.attr("stroke",s=>this.getNodeStrokeColor(s)).attr("stroke-width",s=>this.getNodeStrokeWidth(s)),this.simulation&&this.simulation.alpha(.3).restart(),this.log.debug("Node deselected",{nodeId:e.id}),this.emit("nodeDeselected",{previousSelection:e})}getSelectedNode(){return this.selectedNode}handleResize(){if(this.isDestroyed||!this.container)return;const e=this.container.getBoundingClientRect(),s=e.width||this.options.width,n=e.height||this.options.height;s===this.options.width&&n===this.options.height||(this.options.width=s,this.options.height=n,this.svg&&this.svg.attr("width",s).attr("height",n).attr("viewBox",`0 0 ${s} ${n}`),this.simulation&&this.simulation.force("center",_d(s/2,n/2)).alpha(Ee.SIMULATION_RESTART_ALPHA).restart(),this.emit("resize",{width:s,height:n}))}emit(e,s){this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(n=>n(s))}on(e,s){this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(s)}off(e,s){this.eventHandlers&&this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter(n=>n!==s))}addNodeIncremental(e=[],s=null,n=null){const o=s||`Node${this.data.nodes.length+1}`,r=n!==null?n:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const d=this.data.nodes.filter(u=>e.includes(u.id));if(d.length>0){i=d.reduce((p,y)=>p+y.x,0)/d.length,a=d.reduce((p,y)=>p+y.y,0)/d.length;const u=Math.random()*2*Math.PI,f=50+Math.random()*50;i+=Math.cos(u)*f,a+=Math.sin(u)*f}}const l={id:o,group:r,centrality:.5,x:i,y:a,fx:i,fy:a};this.data.nodes.push(l);const c=[];if(e.forEach(d=>{if(this.data.nodes.find(u=>u.id===d)){const u={source:o,target:d};this.data.links.push(u),c.push(u)}}),this.computeScales(),this.nodeGroup){const d=this.options.renderMode==="avatars"?"text":"circle";this.node=this.nodeGroup.selectAll(d).data(this.data.nodes,f=>f.id);const u=this.node.enter().append(d);this.options.renderMode==="avatars"?u.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("x",f=>f.x).attr("y",f=>f.y).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5).attr("paint-order","stroke").call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}):u.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").attr("role","button").attr("tabindex",0).attr("aria-label",f=>`Node ${f.id}`).attr("cx",f=>f.x).attr("cy",f=>f.y).call(this.createDragBehavior()).on("mouseover",(f,p)=>this.onNodeMouseOver(f,p)).on("mouseout",(f,p)=>this.onNodeMouseOut(f,p)).on("click",(f,p)=>{f.stopPropagation(),this.toggleNodeSelection(p),this.emit("nodeClick",p)}).on("keydown",(f,p)=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),this.toggleNodeSelection(p),this.emit("nodeClick",p))}),this.node=u.merge(this.node),this.options.renderMode==="avatars"?this.node.attr("font-size",f=>`${this.getNodeRadius(f)*2}px`).text(f=>f.avatar||"").attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f)*.5):this.node.attr("r",f=>this.getNodeRadius(f)).attr("fill",f=>this.getNodeColor(f)).attr("stroke",f=>this.getNodeStrokeColor(f)).attr("stroke-width",f=>this.getNodeStrokeWidth(f))}if(this.linkGroup&&c.length>0){this.link=this.linkGroup.selectAll("line").data(this.data.links,u=>vs(u));const d=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.x||0).attr("y1",u=>(typeof u.source=="object"?u.source:this.data.nodes.find(p=>p.id===u.source))?.y||0).attr("x2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.x||0).attr("y2",u=>(typeof u.target=="object"?u.target:this.data.nodes.find(p=>p.id===u.target))?.y||0).attr("aria-label",u=>`Link from ${yt(u.source)} to ${yt(u.target)}`);this.link=d.merge(this.link)}if(this.options.showLabels&&this.labelGroup){this.label=this.labelGroup.selectAll("text").data(this.data.nodes,u=>u.id);const d=this.label.enter().append("text").text(u=>u.id).attr("font-size","12px").attr("text-anchor","middle").attr("dx",0).attr("dy",u=>this.getNodeRadius(u)+15).attr("fill","var(--color-text-primary)").attr("x",u=>u.x).attr("y",u=>u.y).style("pointer-events","none").style("user-select","none").attr("aria-hidden","true");this.label=d.merge(this.label),this.label.attr("dy",u=>this.getNodeRadius(u)+15),this.updateLabelVisibility()}return this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(d=>this.getNodeRadius(d)+Ee.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),setTimeout(()=>{const d=this.data.nodes.find(u=>u.id===o);d&&(d.fx=null,d.fy=null,this.simulation.alpha(.3).restart())},1e3),l}addNode(e=[],s=null,n=null){const o=s||`Node${this.data.nodes.length+1}`,r=n!==null?n:this.data.nodes.length>0?this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].group:1;let i=this.options.width/2,a=this.options.height/2;if(e.length>0){const c=this.data.nodes.filter(d=>e.includes(d.id));if(c.length>0){i=c.reduce((f,p)=>f+p.x,0)/c.length,a=c.reduce((f,p)=>f+p.y,0)/c.length;const d=Math.random()*2*Math.PI,u=50+Math.random()*50;i+=Math.cos(d)*u,a+=Math.sin(d)*u}}const l={id:o,group:r,centrality:.5,x:i,y:a,fx:i,fy:a};return this.data.nodes.push(l),e.forEach(c=>{this.data.nodes.find(d=>d.id===c)&&this.data.links.push({source:o,target:c})}),this.updateGraph(),setTimeout(()=>{const c=this.data.nodes.find(d=>d.id===o);c&&(c.fx=null,c.fy=null,this.simulation.alpha(.3).restart())},1e3),l}removeNode(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(n=>n.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(n=>{const o=yt(n.source),r=yt(n.target);return o!==e&&r!==e}),this.linkKeyCache.clear(),this.updateGraph(),this.emit("nodeRemoved",e),!0)}removeNodeIncremental(e){if(!e)if(this.data.nodes.length>0)e=this.data.nodes[Math.floor(Math.random()*this.data.nodes.length)].id;else return!1;const s=this.data.nodes.findIndex(n=>n.id===e);return s===-1?!1:(this.data.nodes.splice(s,1),this.data.links=this.data.links.filter(n=>{const o=yt(n.source),r=yt(n.target);return o!==e&&r!==e}),this.linkKeyCache.clear(),this.computeScales(),this.nodeGroup&&(this.node=this.nodeGroup.selectAll("circle").data(this.data.nodes,n=>n.id),this.node.exit().remove()),this.linkGroup&&(this.link=this.linkGroup.selectAll("line").data(this.data.links,n=>vs(n)),this.link.exit().remove()),this.options.showLabels&&this.labelGroup&&(this.label=this.labelGroup.selectAll("text").data(this.data.nodes,n=>n.id),this.label.exit().remove()),this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.force("collision").radius(n=>this.getNodeRadius(n)+Ee.COLLISION_PADDING),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),this.emit("nodeRemoved",e),!0)}addLinkIncremental(e,s){if(!e||!s)return!1;const n=this.data.nodes.find(l=>l.id===e),o=this.data.nodes.find(l=>l.id===s);if(!n||!o)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const r={source:e,target:s},i=vs(r);if(this.data.links.some(l=>vs(l)===i))return this.log.debug(`Link already exists: ${e} -> ${s}`),!1;if(this.data.links.push(r),this.linkGroup){this.link=this.linkGroup.selectAll("line").data(this.data.links,c=>vs(c));const l=this.link.enter().append("line").attr("stroke","var(--color-border)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("x1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.x||0).attr("y1",c=>(typeof c.source=="object"?c.source:this.data.nodes.find(u=>u.id===c.source))?.y||0).attr("x2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.x||0).attr("y2",c=>(typeof c.target=="object"?c.target:this.data.nodes.find(u=>u.id===c.target))?.y||0).attr("aria-label",c=>`Link from ${yt(c.source)} to ${yt(c.target)}`);this.link=l.merge(this.link)}return this.simulation.force("link").links(this.data.links),this.isReady?this.simulation.alpha(.3).restart():(this.isRendering=!0,requestAnimationFrame(()=>{this.simulation.alpha(Ee.SIMULATION_ALPHA).restart()})),this.emit("linkAdded",{source:e,target:s}),!0}addLink(e,s){if(!e||!s)return!1;const n=this.data.nodes.some(l=>l.id===e),o=this.data.nodes.some(l=>l.id===s);if(!n||!o)return this.log.warn(`Cannot add link: nodes ${e} or ${s} not found`),!1;if(e===s)return this.log.warn("Cannot add self-loop"),!1;const r={source:e,target:s},i=vs(r);return this.data.links.some(l=>vs(l)===i)?(this.log.debug(`Link already exists: ${e} -> ${s}`),!1):(this.data.links.push(r),this.updateGraph(),this.emit("linkAdded",{source:e,target:s}),!0)}getNodeIds(){return this.data.nodes.map(e=>e.id)}hasNode(e){return this.data.nodes.some(s=>s.id===e)}fitToView(){if(!this.data.nodes||this.data.nodes.length===0||!this.svg)return;let e=1/0,s=1/0,n=-1/0,o=-1/0;if(this.data.nodes.forEach(x=>{if(x.x!==void 0&&x.y!==void 0){const E=this.getNodeRadius(x);e=Math.min(e,x.x-E),s=Math.min(s,x.y-E),n=Math.max(n,x.x+E),o=Math.max(o,x.y+E)}}),e===1/0||s===1/0)return;const r=50;e-=r,s-=r,n+=r,o+=r;const i=n-e,a=o-s,l=(e+n)/2,c=(s+o)/2,d=this.options.width,u=this.options.height,f=d/i,p=u/a,y=Math.min(f,p,Ee.ZOOM_MAX)*.9,_=d/2-l*y,w=u/2-c*y,b=oi.translate(_,w).scale(y);this.zoomBehavior&&this.svg&&this.svg.call(this.zoomBehavior.transform,b),this.g.attr("transform",b),this.currentZoom=y,this.updateLabelVisibility(),this.log.debug("Fitted graph to view",{scale:y,translateX:_,translateY:w})}lockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to lock");return}this.data.nodes.forEach(e=>{e.x!==void 0&&e.y!==void 0&&(e.fx=e.x,e.fy=e.y)}),this.simulation&&this.simulation.alpha(0).alphaTarget(0),this.log.debug("Node positions locked"),this.emit("positionsLocked")}unlockPositions(){if(!this.data.nodes||this.data.nodes.length===0){this.log.warn("No nodes to unlock");return}this.data.nodes.forEach(e=>{e.fx=null,e.fy=null}),this.simulation&&this.simulation.alpha(.3).alphaTarget(0).restart(),this.log.debug("Node positions unlocked"),this.emit("positionsUnlocked")}saveAsPNG(e="network-graph.png"){if(!this.svg||this.isDestroyed){this.log.warn("Cannot save PNG - graph not available");return}try{const s=this.svg.node();if(!s){this.log.warn("SVG element not found");return}const n=new XMLSerializer().serializeToString(s),o=new Image,r=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(r);o.onload=()=>{const a=document.createElement("canvas");a.width=this.options.width,a.height=this.options.height;const l=a.getContext("2d");l.fillStyle="white",l.fillRect(0,0,a.width,a.height),l.drawImage(o,0,0),a.toBlob(c=>{if(c){const d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=e,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d),this.log.info("PNG exported successfully",{filename:e})}},"image/png"),URL.revokeObjectURL(i)},o.onerror=()=>{this.log.error("Failed to load SVG for PNG export"),URL.revokeObjectURL(i)},o.src=i}catch(s){this.log.error("Failed to export PNG",{error:s.message,stack:s.stack})}}destroy(){this.isDestroyed||(this.log.debug("Destroying graph instance"),this.isDestroyed=!0,this.stabilizationCheckFrame&&(cancelAnimationFrame(this.stabilizationCheckFrame),this.stabilizationCheckFrame=null),this.simulation&&(this.simulation.stop(),this.simulation=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.darkModeQuery&&this.darkModeHandler&&(this.darkModeQuery.removeEventListener("change",this.darkModeHandler),this.darkModeQuery=null,this.darkModeHandler=null),this.svg&&(this.svg.remove(),this.svg=null),this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this.data={nodes:[],links:[]},this.linkKeyCache.clear(),this.eventHandlers={},this.log.info("Graph destroyed"))}}class yl{constructor(){this.nodes=new Set,this.edges=[],this.adjacencyMap=new Map}addNode(e){return this.nodes.add(e),this}addNodesFrom(e){return e.forEach(s=>this.nodes.add(s)),this}removeNode(e){if(!this.nodes.has(e))throw new Error(`Node '${e}' does not exist in the graph`);return this.nodes.delete(e),this.edges=this.edges.filter(s=>s.u!==e&&s.v!==e),this.adjacencyMap.has(e)&&(Array.from(this.adjacencyMap.get(e).keys()).forEach(s=>{this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e)}),this.adjacencyMap.delete(e)),this}hasNode(e){return this.nodes.has(e)}addEdgesFrom(e){return e.forEach(([s,n,o=1])=>{this.addEdge(s,n,o)}),this}addEdge(e,s,n=1){this.nodes.add(e),this.nodes.add(s);const o={u:e,v:s,weight:n};return this.edges.push(o),this.adjacencyMap.has(e)||this.adjacencyMap.set(e,new Map),this.adjacencyMap.has(s)||this.adjacencyMap.set(s,new Map),this.adjacencyMap.get(e).set(s,n),this.adjacencyMap.get(s).set(e,n),this}getNeighbors(e){return this.adjacencyMap.has(e)?Array.from(this.adjacencyMap.get(e).keys()):[]}getAllEdges(){return this.edges}getNodeList(){return Array.from(this.nodes)}numberOfNodes(){return this.nodes.size}numberOfEdges(){return this.edges.length}removeEdge(e,s){const n=this.edges.findIndex(o=>o.u===e&&o.v===s||o.u===s&&o.v===e);if(n===-1)throw new Error(`Edge between '${e}' and '${s}' does not exist`);return this.edges.splice(n,1),this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).delete(s),this.adjacencyMap.has(s)&&this.adjacencyMap.get(s).delete(e),this}hasEdge(e,s){return this.adjacencyMap.has(e)&&this.adjacencyMap.get(e).has(s)}getEdgeWeight(e,s){return this.hasEdge(e,s)?this.adjacencyMap.get(e).get(s):null}updateEdgeWeight(e,s,n){if(!this.hasEdge(e,s))throw new Error(`Edge between '${e}' and '${s}' does not exist`);this.adjacencyMap.get(e).set(s,n),this.adjacencyMap.get(s).set(e,n);const o=this.edges.find(r=>r.u===e&&r.v===s||r.u===s&&r.v===e);return o&&(o.weight=n),this}degree(e){return this.adjacencyMap.has(e)?this.adjacencyMap.get(e).size:0}clear(){return this.nodes.clear(),this.edges=[],this.adjacencyMap.clear(),this}}class yo{constructor(e){this.workerScript=e,this.worker=null}static create(e){if(typeof Worker<"u")return new _l(e);if(typeof require<"u")try{return require.resolve("worker_threads"),new QC(e)}catch{throw new Error("Worker Threads not available in this Node.js version")}else throw new Error("No worker support available in this environment")}static isSupported(){if(typeof Worker<"u")return!0;if(typeof require<"u")try{return require.resolve("worker_threads"),!0}catch{return!1}return!1}postMessage(e,s=[]){throw new Error("Must implement postMessage")}onMessage(e){throw new Error("Must implement onMessage")}onError(e){throw new Error("Must implement onError")}terminate(){throw new Error("Must implement terminate")}}class _l extends yo{constructor(e){super(e),this.worker=new Worker(e,{type:"module"})}static fromCode(e){const s=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(s);return new _l(n)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.onmessage=s=>e(s.data)}onError(e){this.worker.onerror=s=>{e(new Error(s.message||"Worker error"))}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class QC extends yo{constructor(e){super(e);const{Worker:s}=require("worker_threads");this.worker=new s(e)}postMessage(e,s=[]){this.worker.postMessage(e,s)}onMessage(e){this.worker.on("message",e)}onError(e){this.worker.on("error",s=>{e(s)}),this.worker.on("exit",s=>{s!==0&&e(new Error(`Worker stopped with exit code ${s}`))})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}class eS{constructor(e={}){this.maxWorkers=e.maxWorkers||this.detectCPUCount(),this.workerScript=e.workerScript||this.getDefaultWorkerScript(),this.taskTimeout=e.taskTimeout||6e4,this.verbose=e.verbose||!1,this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.activeTasks=new Map,this.taskIdCounter=0,this.initialized=!1,this.log=Xe({prefix:"WorkerPool",level:this.verbose?"debug":"info"})}detectCPUCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;if(typeof require<"u")try{return require("os").cpus().length}catch{}return 4}getDefaultWorkerScript(){return typeof window<"u"?new URL("data:text/javascript;base64,LyoqCiAqIE5ldHdvcmsgV29ya2VyIC0gRXhlY3V0ZXMgY29tcHV0ZSBmdW5jdGlvbnMgZnJvbSBhbGdvcml0aG0gbW9kdWxlcwogKgogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqCiAqIC0gU3RhdGljYWxseSBpbXBvcnRzIGFsbCBhbGdvcml0aG0gbW9kdWxlcyB1cGZyb250CiAqIC0gQ3JlYXRlcyBhIHJlZ2lzdHJ5IHRoYXQgbWFwcyBtb2R1bGUgcGF0aHMgdG8gdGhlaXIgZXhwb3J0cwogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9CiAqIC0gV29ya2VyIGxvb2tzIHVwIG1vZHVsZSBmcm9tIHJlZ2lzdHJ5IGFuZCBleGVjdXRlcyBmdW5jdGlvbgogKgogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UKICogaW1wb3J0cyBhcmUga25vd24gYXQgYnVpbGQgdGltZS4KICoKICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcgogKi8KCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQpjb25zdCBsb2cgPSBjcmVhdGVMb2dnZXIoewogIHByZWZpeDogJ25ldHdvcmstd29ya2VyJywKICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsCn0pOwoKLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkKaW1wb3J0ICogYXMgbm9kZVN0YXRzQ29tcHV0ZSBmcm9tICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvbm9kZS1zdGF0cy5qcyc7CmltcG9ydCAqIGFzIGdyYXBoU3RhdHNDb21wdXRlIGZyb20gJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc7CgovLyBDb21tdW5pdHkgZGV0ZWN0aW9uIGFsZ29yaXRobXMKaW1wb3J0ICogYXMgbG91dmFpbkNvbXB1dGUgZnJvbSAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc7CgovLyBMYXlvdXQgYWxnb3JpdGhtcwppbXBvcnQgKiBhcyByYW5kb21Db21wdXRlIGZyb20gJy4uL2xheW91dHMvcmFuZG9tLmpzJzsKaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOwppbXBvcnQgKiBhcyBzcGlyYWxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc3BpcmFsLmpzJzsKaW1wb3J0ICogYXMgc2hlbGxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc2hlbGwuanMnOwppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7CmltcG9ydCAqIGFzIGZvcmNlRGlyZWN0ZWRDb21wdXRlIGZyb20gJy4uL2xheW91dHMvZm9yY2UtZGlyZWN0ZWQuanMnOwppbXBvcnQgKiBhcyBrYW1hZGFLYXdhaUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9rYW1hZGEta2F3YWkuanMnOwppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsKaW1wb3J0ICogYXMgbXVsdGlwYXJ0aXRlQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL211bHRpcGFydGl0ZS5qcyc7CmltcG9ydCAqIGFzIGJmc0NvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9iZnMuanMnOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBNT0RVTEUgUkVHSVNUUlkgLSBNYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNvbnN0IE1PRFVMRV9SRUdJU1RSWSA9IHsKICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkKICAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOiBub2RlU3RhdHNDb21wdXRlLAoKICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc6IGdyYXBoU3RhdHNDb21wdXRlLAoKICAvLyBDb21tdW5pdHkKICAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc6IGxvdXZhaW5Db21wdXRlLAoKICAvLyBMYXlvdXRzCiAgJy4uL2xheW91dHMvcmFuZG9tLmpzJzogcmFuZG9tQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9jaXJjdWxhci5qcyc6IGNpcmN1bGFyQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NoZWxsLmpzJzogc2hlbGxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NwZWN0cmFsLmpzJzogc3BlY3RyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsCiAgJy4uL2xheW91dHMva2FtYWRhLWthd2FpLmpzJzoga2FtYWRhS2F3YWlDb21wdXRlLAogICcuLi9sYXlvdXRzL2JpcGFydGl0ZS5qcyc6IGJpcGFydGl0ZUNvbXB1dGUsCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9iZnMuanMnOiBiZnNDb21wdXRlCn07CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIFdPUktFUiBNRVNTQUdFIEhBTkRMRVIKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLyoqCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcwogKi8Kc2VsZi5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihldmVudCkgewogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7CgogIHRyeSB7CiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdAogICAgaWYgKCFtb2R1bGUgfHwgIWZ1bmN0aW9uTmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFzazogbW9kdWxlIGFuZCBmdW5jdGlvbk5hbWUgYXJlIHJlcXVpcmVkJyk7CiAgICB9CgogICAgbG9nLmRlYnVnKCdQcm9jZXNzaW5nIHRhc2snLCB7CiAgICAgIGlkLAogICAgICBtb2R1bGUsCiAgICAgIGZ1bmN0aW9uTmFtZSwKICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDAKICAgIH0pOwoKICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZAogICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IChwcm9ncmVzcykgPT4gewogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBpZCwKICAgICAgICBzdGF0dXM6ICdwcm9ncmVzcycsCiAgICAgICAgcHJvZ3Jlc3M6IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSkgLy8gQ2xhbXAgdG8gWzAsIDFdCiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQogICAgY29uc3QgYWxnb3JpdGhtTW9kdWxlID0gTU9EVUxFX1JFR0lTVFJZW21vZHVsZV07CgogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBNb2R1bGUgJyR7bW9kdWxlfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5LiBgICsKICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWAKICAgICAgKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIGNvbnN0IGNvbXB1dGVGdW5jdGlvbiA9IGFsZ29yaXRobU1vZHVsZVtmdW5jdGlvbk5hbWVdOwoKICAgIGlmICghY29tcHV0ZUZ1bmN0aW9uIHx8IHR5cGVvZiBjb21wdXRlRnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsKICAgICAgICBgQXZhaWxhYmxlIGZ1bmN0aW9uczogJHtPYmplY3Qua2V5cyhhbGdvcml0aG1Nb2R1bGUpLmpvaW4oJywgJyl9YAogICAgICApOwogICAgfQoKICAgIC8vIEV4ZWN1dGUgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXB1dGVGdW5jdGlvbiguLi5hcmdzLCBwcm9ncmVzc0NhbGxiYWNrKTsKCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgaWQsCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywKICAgICAgcmVzdWx0CiAgICB9KTsKCiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vIFNlbmQgZXJyb3IKICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7CiAgICAgIGlkLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrCiAgICB9KTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBpZCwKICAgICAgc3RhdHVzOiAnZXJyb3InLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjawogICAgfSk7CiAgfQp9OwoKLyoqCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzCiAqLwpzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihlcnJvcikgewogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgewogICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ1dvcmtlciBlcnJvciBvY2N1cnJlZCcsCiAgICBzdGFjazogZXJyb3Iuc3RhY2sKICB9KTsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIHN0YXR1czogJ2Vycm9yJywKICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnCiAgfSk7Cn07CgovLyBMb2cgd29ya2VyIGluaXRpYWxpemF0aW9uCmxvZy5pbmZvKCdJbml0aWFsaXplZCcsIHsgbW9kdWxlQ291bnQ6IE9iamVjdC5rZXlzKE1PRFVMRV9SRUdJU1RSWSkubGVuZ3RoIH0pOwo=",import.meta.url).href:typeof require<"u"?require("path").join(__dirname,"network-worker.js"):"./network-worker.js"}async initialize(){if(!this.initialized){if(!yo.isSupported())throw new Error("Workers not supported in this environment");this.log.debug("Initializing worker pool",{maxWorkers:this.maxWorkers});try{for(let e=0;e<this.maxWorkers;e++){const s=await this.createWorker(e);this.workers.push(s),this.availableWorkers.push(s)}this.initialized=!0,this.log.info("Worker pool initialized successfully",{workerCount:this.maxWorkers})}catch(e){throw this.log.error("Failed to initialize worker pool",{error:e.message,stack:e.stack}),await this.terminate(),e}}}async createWorker(e){const s=yo.create(this.workerScript);return s.id=e,s.currentTaskId=null,s.onMessage(n=>{this.handleWorkerMessage(s,n)}),s.onError(n=>{this.handleWorkerError(s,n)}),this.log.debug("Worker created",{workerId:e}),s}async execute(e,s={}){if(!this.initialized)throw new Error("Worker pool not initialized. Call initialize() first.");return new Promise((n,o)=>{const r=`task_${this.taskIdCounter++}`,i={id:r,...e},a=s.timeout||this.taskTimeout,l=setTimeout(()=>{this.handleTaskTimeout(r)},a);if(this.activeTasks.set(r,{resolve:n,reject:o,onProgress:s.onProgress,timeoutId:l,startTime:Date.now()}),this.availableWorkers.length>0){const c=this.availableWorkers.pop();this.assignTask(c,i),this.log.debug("Task assigned to worker",{taskId:r,workerId:c.id})}else this.taskQueue.push(i),this.log.debug("Task queued",{taskId:r,queueLength:this.taskQueue.length})})}assignTask(e,s){e.currentTaskId=s.id,e.postMessage(s)}handleWorkerMessage(e,s){const{id:n,status:o,result:r,progress:i,error:a}=s,l=this.activeTasks.get(n);if(!l){this.log.warn("Received message for unknown task",{taskId:n});return}if(o==="progress")l.onProgress&&l.onProgress(i),this.log.debug("Task progress",{taskId:n,progress:Math.round(i*100)});else if(o==="complete"){const c=Date.now()-l.startTime;this.log.debug("Task completed",{taskId:n,duration:c}),clearTimeout(l.timeoutId),l.resolve(r),this.activeTasks.delete(n),this.freeWorker(e)}else o==="error"&&(this.log.error("Task failed",{taskId:n,error:a}),clearTimeout(l.timeoutId),l.reject(new Error(a)),this.activeTasks.delete(n),this.freeWorker(e))}handleWorkerError(e,s){if(this.log.error("Worker error",{workerId:e.id,error:s.message,stack:s.stack}),e.currentTaskId){const n=this.activeTasks.get(e.currentTaskId);n&&(clearTimeout(n.timeoutId),n.reject(s),this.activeTasks.delete(e.currentTaskId))}this.restartWorker(e)}handleTaskTimeout(e){const s=this.activeTasks.get(e);if(!s)return;this.log.warn("Task timed out",{taskId:e,timeout:this.taskTimeout}),s.reject(new Error(`Task timed out after ${this.taskTimeout}ms`)),this.activeTasks.delete(e);const n=this.workers.find(o=>o.currentTaskId===e);n&&this.restartWorker(n)}freeWorker(e){if(e.currentTaskId=null,this.taskQueue.length>0){const s=this.taskQueue.shift();this.assignTask(e,s),this.log.debug("Task assigned from queue",{taskId:s.id,workerId:e.id})}else this.availableWorkers.push(e)}async restartWorker(e){const s=this.workers.indexOf(e);if(s!==-1){this.log.debug("Restarting worker",{workerId:e.id});try{e.terminate();const n=await this.createWorker(e.id);this.workers[s]=n,this.availableWorkers.push(n),this.log.info("Worker restarted successfully",{workerId:e.id})}catch(n){this.log.error("Failed to restart worker",{workerId:e.id,error:n.message,stack:n.stack}),this.workers.splice(s,1)}}}async waitForActiveTasks(e=5e3){if(this.activeTasks.size!==0)return this.log.debug("Waiting for active tasks",{taskCount:this.activeTasks.size,timeout:e}),new Promise(s=>{const n=Date.now(),o=setInterval(()=>{(this.activeTasks.size===0||Date.now()-n>e)&&(clearInterval(o),this.log.debug("Wait complete",{remainingTasks:this.activeTasks.size}),s())},100)})}async terminate(e=!1){this.initialized&&(this.log.info("Terminating worker pool",{force:e}),e||await this.waitForActiveTasks(5e3),this.activeTasks.forEach((s,n)=>{clearTimeout(s.timeoutId),s.reject(new Error("Worker pool terminated"))}),this.activeTasks.clear(),this.workers.forEach(s=>{try{s.terminate()}catch(n){this.log.error("Error terminating worker",{workerId:s.id,error:n.message})}}),this.workers=[],this.availableWorkers=[],this.taskQueue=[],this.initialized=!1,this.log.info("Worker pool terminated"))}getStatus(){return{initialized:this.initialized,totalWorkers:this.workers.length,availableWorkers:this.availableWorkers.length,busyWorkers:this.workers.length-this.availableWorkers.length,activeTasks:this.activeTasks.size,queuedTasks:this.taskQueue.length}}}class ls{constructor(){if(ls.instance)return ls.instance;this.workerPool=null,this.initialized=!1,this.initPromise=null,this.log=Xe({prefix:"WorkerManager",level:"info"}),ls.instance=this}async initialize(e={}){if(this.initPromise)return this.initPromise;if(this.initialized&&this.workerPool)return Promise.resolve();this.initPromise=this._doInitialize(e);try{await this.initPromise}finally{this.initPromise=null}}async _doInitialize(e){const{maxWorkers:s,workerScript:n,taskTimeout:o=6e4,verbose:r=!1}=e;this.log.setLevel(r?"debug":"info");let i=n;if(!i)try{i=new URL("data:text/javascript;base64,LyoqCiAqIE5ldHdvcmsgV29ya2VyIC0gRXhlY3V0ZXMgY29tcHV0ZSBmdW5jdGlvbnMgZnJvbSBhbGdvcml0aG0gbW9kdWxlcwogKgogKiAqKkJ1bmRsZXItRnJpZW5kbHkgQXJjaGl0ZWN0dXJlOioqCiAqIC0gU3RhdGljYWxseSBpbXBvcnRzIGFsbCBhbGdvcml0aG0gbW9kdWxlcyB1cGZyb250CiAqIC0gQ3JlYXRlcyBhIHJlZ2lzdHJ5IHRoYXQgbWFwcyBtb2R1bGUgcGF0aHMgdG8gdGhlaXIgZXhwb3J0cwogKiAtIE1haW4gdGhyZWFkIHNlbmRzOiB7IGlkLCBtb2R1bGUsIGZ1bmN0aW9uTmFtZSwgYXJncyB9CiAqIC0gV29ya2VyIGxvb2tzIHVwIG1vZHVsZSBmcm9tIHJlZ2lzdHJ5IGFuZCBleGVjdXRlcyBmdW5jdGlvbgogKgogKiBUaGlzIGFwcHJvYWNoIHdvcmtzIHdpdGggYWxsIGJ1bmRsZXJzIChWaXRlLCBXZWJwYWNrLCBSb2xsdXApIGJlY2F1c2UKICogaW1wb3J0cyBhcmUga25vd24gYXQgYnVpbGQgdGltZS4KICoKICogQG1vZHVsZSBuZXR3b3JrLXdvcmtlcgogKi8KCmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0BndWluZXRpay9sb2dnZXInOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBTVEFUSUMgSU1QT1JUUyAtIEFsbCBhbGdvcml0aG0gbW9kdWxlcyBpbXBvcnRlZCB1cGZyb250Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIENyZWF0ZSBsb2dnZXIgZm9yIHdvcmtlciAocnVucyBpbiBzZXBhcmF0ZSBjb250ZXh0LCBubyB3aW5kb3cubG9nRmlsdGVyKQpjb25zdCBsb2cgPSBjcmVhdGVMb2dnZXIoewogIHByZWZpeDogJ25ldHdvcmstd29ya2VyJywKICBsZXZlbDogJ2luZm8nIC8vIFdvcmtlcnMgZGVmYXVsdCB0byBpbmZvIGxldmVsCn0pOwoKLy8gU3RhdGlzdGljcyBhbGdvcml0aG1zIChub2RlLWxldmVsIGFuZCBncmFwaC1sZXZlbCkKaW1wb3J0ICogYXMgbm9kZVN0YXRzQ29tcHV0ZSBmcm9tICcuLi9zdGF0aXN0aWNzL2FsZ29yaXRobXMvbm9kZS1zdGF0cy5qcyc7CmltcG9ydCAqIGFzIGdyYXBoU3RhdHNDb21wdXRlIGZyb20gJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc7CgovLyBDb21tdW5pdHkgZGV0ZWN0aW9uIGFsZ29yaXRobXMKaW1wb3J0ICogYXMgbG91dmFpbkNvbXB1dGUgZnJvbSAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc7CgovLyBMYXlvdXQgYWxnb3JpdGhtcwppbXBvcnQgKiBhcyByYW5kb21Db21wdXRlIGZyb20gJy4uL2xheW91dHMvcmFuZG9tLmpzJzsKaW1wb3J0ICogYXMgY2lyY3VsYXJDb21wdXRlIGZyb20gJy4uL2xheW91dHMvY2lyY3VsYXIuanMnOwppbXBvcnQgKiBhcyBzcGlyYWxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc3BpcmFsLmpzJzsKaW1wb3J0ICogYXMgc2hlbGxDb21wdXRlIGZyb20gJy4uL2xheW91dHMvc2hlbGwuanMnOwppbXBvcnQgKiBhcyBzcGVjdHJhbENvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9zcGVjdHJhbC5qcyc7CmltcG9ydCAqIGFzIGZvcmNlRGlyZWN0ZWRDb21wdXRlIGZyb20gJy4uL2xheW91dHMvZm9yY2UtZGlyZWN0ZWQuanMnOwppbXBvcnQgKiBhcyBrYW1hZGFLYXdhaUNvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9rYW1hZGEta2F3YWkuanMnOwppbXBvcnQgKiBhcyBiaXBhcnRpdGVDb21wdXRlIGZyb20gJy4uL2xheW91dHMvYmlwYXJ0aXRlLmpzJzsKaW1wb3J0ICogYXMgbXVsdGlwYXJ0aXRlQ29tcHV0ZSBmcm9tICcuLi9sYXlvdXRzL211bHRpcGFydGl0ZS5qcyc7CmltcG9ydCAqIGFzIGJmc0NvbXB1dGUgZnJvbSAnLi4vbGF5b3V0cy9iZnMuanMnOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBNT0RVTEUgUkVHSVNUUlkgLSBNYXBzIG1vZHVsZSBwYXRocyB0byB0aGVpciBleHBvcnRzCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNvbnN0IE1PRFVMRV9SRUdJU1RSWSA9IHsKICAvLyBOb2RlLWxldmVsIHN0YXRpc3RpY3MgKGFsbCBpbiBvbmUgZmlsZSkKICAnLi4vc3RhdGlzdGljcy9hbGdvcml0aG1zL25vZGUtc3RhdHMuanMnOiBub2RlU3RhdHNDb21wdXRlLAoKICAvLyBHcmFwaC1sZXZlbCBzdGF0aXN0aWNzCiAgJy4uL3N0YXRpc3RpY3MvYWxnb3JpdGhtcy9ncmFwaC1zdGF0cy5qcyc6IGdyYXBoU3RhdHNDb21wdXRlLAoKICAvLyBDb21tdW5pdHkKICAnLi4vY29tbXVuaXR5L2FsZ29yaXRobXMvbG91dmFpbi5qcyc6IGxvdXZhaW5Db21wdXRlLAoKICAvLyBMYXlvdXRzCiAgJy4uL2xheW91dHMvcmFuZG9tLmpzJzogcmFuZG9tQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9jaXJjdWxhci5qcyc6IGNpcmN1bGFyQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9zcGlyYWwuanMnOiBzcGlyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NoZWxsLmpzJzogc2hlbGxDb21wdXRlLAogICcuLi9sYXlvdXRzL3NwZWN0cmFsLmpzJzogc3BlY3RyYWxDb21wdXRlLAogICcuLi9sYXlvdXRzL2ZvcmNlLWRpcmVjdGVkLmpzJzogZm9yY2VEaXJlY3RlZENvbXB1dGUsCiAgJy4uL2xheW91dHMva2FtYWRhLWthd2FpLmpzJzoga2FtYWRhS2F3YWlDb21wdXRlLAogICcuLi9sYXlvdXRzL2JpcGFydGl0ZS5qcyc6IGJpcGFydGl0ZUNvbXB1dGUsCiAgJy4uL2xheW91dHMvbXVsdGlwYXJ0aXRlLmpzJzogbXVsdGlwYXJ0aXRlQ29tcHV0ZSwKICAnLi4vbGF5b3V0cy9iZnMuanMnOiBiZnNDb21wdXRlCn07CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIFdPUktFUiBNRVNTQUdFIEhBTkRMRVIKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLyoqCiAqIE1haW4gbWVzc2FnZSBoYW5kbGVyIC0gcmVjZWl2ZXMgdGFza3MgYW5kIGRlbGVnYXRlcyB0byBhbGdvcml0aG0gbW9kdWxlcwogKi8Kc2VsZi5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihldmVudCkgewogIGNvbnN0IHsgaWQsIG1vZHVsZSwgZnVuY3Rpb25OYW1lLCBhcmdzID0gW10gfSA9IGV2ZW50LmRhdGE7CgogIHRyeSB7CiAgICAvLyBWYWxpZGF0ZSBtZXNzYWdlIGZvcm1hdAogICAgaWYgKCFtb2R1bGUgfHwgIWZ1bmN0aW9uTmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFzazogbW9kdWxlIGFuZCBmdW5jdGlvbk5hbWUgYXJlIHJlcXVpcmVkJyk7CiAgICB9CgogICAgbG9nLmRlYnVnKCdQcm9jZXNzaW5nIHRhc2snLCB7CiAgICAgIGlkLAogICAgICBtb2R1bGUsCiAgICAgIGZ1bmN0aW9uTmFtZSwKICAgICAgYXJnc0xlbmd0aDogYXJncz8ubGVuZ3RoIHx8IDAKICAgIH0pOwoKICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBjYWxsYmFjayB0aGF0IHJlcG9ydHMgYmFjayB0byBtYWluIHRocmVhZAogICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IChwcm9ncmVzcykgPT4gewogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBpZCwKICAgICAgICBzdGF0dXM6ICdwcm9ncmVzcycsCiAgICAgICAgcHJvZ3Jlc3M6IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSkgLy8gQ2xhbXAgdG8gWzAsIDFdCiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBMb29rIHVwIGFsZ29yaXRobSBtb2R1bGUgZnJvbSByZWdpc3RyeQogICAgY29uc3QgYWxnb3JpdGhtTW9kdWxlID0gTU9EVUxFX1JFR0lTVFJZW21vZHVsZV07CgogICAgaWYgKCFhbGdvcml0aG1Nb2R1bGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBNb2R1bGUgJyR7bW9kdWxlfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5LiBgICsKICAgICAgICBgQXZhaWxhYmxlIG1vZHVsZXM6ICR7T2JqZWN0LmtleXMoTU9EVUxFX1JFR0lTVFJZKS5qb2luKCcsICcpfWAKICAgICAgKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIGNvbnN0IGNvbXB1dGVGdW5jdGlvbiA9IGFsZ29yaXRobU1vZHVsZVtmdW5jdGlvbk5hbWVdOwoKICAgIGlmICghY29tcHV0ZUZ1bmN0aW9uIHx8IHR5cGVvZiBjb21wdXRlRnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgIGBGdW5jdGlvbiAnJHtmdW5jdGlvbk5hbWV9JyBub3QgZm91bmQgaW4gbW9kdWxlICcke21vZHVsZX0nLiBgICsKICAgICAgICBgQXZhaWxhYmxlIGZ1bmN0aW9uczogJHtPYmplY3Qua2V5cyhhbGdvcml0aG1Nb2R1bGUpLmpvaW4oJywgJyl9YAogICAgICApOwogICAgfQoKICAgIC8vIEV4ZWN1dGUgdGhlIGNvbXB1dGUgZnVuY3Rpb24KICAgIC8vIExhc3QgYXJnIGlzIGFsd2F5cyB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2sKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXB1dGVGdW5jdGlvbiguLi5hcmdzLCBwcm9ncmVzc0NhbGxiYWNrKTsKCiAgICAvLyBTZW5kIHN1Y2Nlc3NmdWwgcmVzdWx0CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgaWQsCiAgICAgIHN0YXR1czogJ2NvbXBsZXRlJywKICAgICAgcmVzdWx0CiAgICB9KTsKCiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vIFNlbmQgZXJyb3IKICAgIGxvZy5lcnJvcignVGFzayBmYWlsZWQnLCB7CiAgICAgIGlkLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSwKICAgICAgc3RhY2s6IGVycm9yLnN0YWNrCiAgICB9KTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBpZCwKICAgICAgc3RhdHVzOiAnZXJyb3InLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsCiAgICAgIHN0YWNrOiBlcnJvci5zdGFjawogICAgfSk7CiAgfQp9OwoKLyoqCiAqIEhhbmRsZSB3b3JrZXIgZXJyb3JzCiAqLwpzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbihlcnJvcikgewogIGxvZy5lcnJvcignV29ya2VyIGVycm9yJywgewogICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ1dvcmtlciBlcnJvciBvY2N1cnJlZCcsCiAgICBzdGFjazogZXJyb3Iuc3RhY2sKICB9KTsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIHN0YXR1czogJ2Vycm9yJywKICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdXb3JrZXIgZXJyb3Igb2NjdXJyZWQnCiAgfSk7Cn07CgovLyBMb2cgd29ya2VyIGluaXRpYWxpemF0aW9uCmxvZy5pbmZvKCdJbml0aWFsaXplZCcsIHsgbW9kdWxlQ291bnQ6IE9iamVjdC5rZXlzKE1PRFVMRV9SRUdJU1RSWSkubGVuZ3RoIH0pOwo=",import.meta.url).href}catch{i="/graph-js/src/compute/network-worker.js",this.log.warn("Could not resolve worker path from import.meta.url, using fallback",{workerPath:i})}if(!yo.isSupported())throw new Error("Web Workers are not supported in this environment. This library requires Web Worker support (browser) or Worker Threads (Node.js).");this.workerPool=new eS({maxWorkers:s||this._getDefaultWorkerCount(),workerScript:i,taskTimeout:o,verbose:r}),await this.workerPool.initialize(),this.initialized=!0,this.log.info("Initialized successfully",{workerCount:this.workerPool.maxWorkers})}_getDefaultWorkerCount(){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;try{return require("os").cpus().length}catch{return 4}}async execute(e,s={}){return this.initialized||await this.initialize(),this.workerPool.execute(e,s)}serializeGraph(e){return{nodes:Array.from(e.nodes),edges:e.edges.map(s=>({source:s.u,target:s.v,weight:s.weight}))}}getStatus(){return this.workerPool?this.workerPool.getStatus():null}async terminate(e=!1){this.workerPool&&(await this.workerPool.terminate(e),this.workerPool=null,this.initialized=!1)}static reset(){ls.instance&&(ls.instance.terminate(!0),ls.instance=null)}}ls.instance=null;const Ls=new ls;Xe({prefix:"compute-utils",level:"info"});class lt{constructor(e,s="",n="node",o=null){if(new.target===lt)throw new Error("StatisticAlgorithm is abstract and cannot be instantiated directly");if(n!=="node"&&n!=="graph")throw new Error(`Scope must be 'node' or 'graph', got: ${n}`);if(!o||!o.module||!o.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.scope=n,this.computeConfig=o,this.options={}}async calculate(e,s=null,n={}){const o=Ls.serializeGraph(e),r={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[o,s,this.options]};return await Ls.execute(r,n)}getInfo(){return{name:this.name,description:this.description,scope:this.scope}}isNodeLevel(){return this.scope==="node"}isGraphLevel(){return this.scope==="graph"}}class tS extends lt{constructor(){super("degree","Number of connections per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"degreeCompute"})}}class sS extends lt{constructor(e={}){super("closeness","Average distance to all other nodes (inverted)","node",{module:"../statistics/algorithms/node-stats.js",functionName:"closenessCompute"}),this.options={normalized:e.normalized!==!1}}}class nS extends lt{constructor(e={}){super("ego-density","Density of connections among neighbors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"egoDensityCompute"}),this.options={radius:e.radius||1}}}class oS extends lt{constructor(){super("betweenness","Frequency on shortest paths between other nodes","node",{module:"../statistics/algorithms/node-stats.js",functionName:"betweennessCompute"})}}class rS extends lt{constructor(){super("clustering","Local clustering coefficient","node",{module:"../statistics/algorithms/node-stats.js",functionName:"clusteringCompute"})}}class iS extends lt{constructor(e={}){super("eigenvector","Importance based on neighbor importance","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class aS extends lt{constructor(e={}){super("eigenvector-laplacian","X,Y coordinates from Laplacian eigenvectors","node",{module:"../statistics/algorithms/node-stats.js",functionName:"eigenvectorLaplacianCompute"}),this.options={maxIter:e.maxIter||100,tolerance:e.tolerance||1e-6}}}class lS extends lt{constructor(){super("cliques","Number of maximal cliques per node","node",{module:"../statistics/algorithms/node-stats.js",functionName:"cliquesCompute"})}}class cS extends lt{constructor(){super("density","Ratio of actual edges to possible edges","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"densityCompute"})}}class dS extends lt{constructor(){super("diameter","Longest shortest path in the graph","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"diameterCompute"})}}class uS extends lt{constructor(){super("average_clustering","Mean clustering coefficient across all nodes","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageClusteringCompute"})}}class hS extends lt{constructor(){super("average_shortest_path","Mean distance between all node pairs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageShortestPathCompute"})}}class fS extends lt{constructor(){super("connected_components","Number of disconnected subgraphs","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"connectedComponentsCompute"})}}class pS extends lt{constructor(){super("average_degree","Mean number of connections per node","graph",{module:"../statistics/algorithms/graph-stats.js",functionName:"averageDegreeCompute"})}}class ri{constructor(e,s="",n=null){if(new.target===ri)throw new Error("CommunityAlgorithm is abstract and cannot be instantiated directly");if(!n||!n.module||!n.functionName)throw new Error("computeConfig with module and functionName is required");this.name=e,this.description=s,this.computeConfig=n,this.options={}}async detect(e,s={}){const n=Ls.serializeGraph(e),o={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[n,this.options]};return{...await Ls.execute(o,s),algorithm:this.name}}getInfo(){return{name:this.name,description:this.description}}}class vl extends ri{constructor(e={}){super("louvain","Louvain method for community detection using modularity optimization",{module:"../community/algorithms/louvain.js",functionName:"louvainCompute"}),this.options={resolution:e.resolution||1,maxIterations:e.maxIterations||100}}}class ii{constructor(e=null){this.graph=e}setGraph(e){return this.graph=e,this}async detectCommunities(e="louvain",s={}){if(!this.graph)throw new Error("No graph set. Use setGraph() or provide graph in constructor.");let n;if(e instanceof ri)n=e;else if(typeof e=="string")n=this._createAlgorithmFromName(e,s);else throw new Error("Algorithm must be a CommunityAlgorithm instance or a string name");return await n.detect(this.graph,{onProgress:s.onProgress})}_createAlgorithmFromName(e,s={}){switch(e.toLowerCase()){case"louvain":return new vl(s);default:throw new Error(`Unknown community detection algorithm: ${e}`)}}calculateModularity(e){if(!this.graph)throw new Error("No graph set");const s=this.graph.numberOfEdges();if(s===0)return 0;let n=0;const o=Array.from(this.graph.nodes.keys());for(const r of o)for(const i of o)if(e[r]===e[i]){const a=this.graph.hasEdge(r,i)?this.graph.getEdgeWeight(r,i):0,l=this.graph.degree(r),c=this.graph.degree(i);n+=a-l*c/(2*s)}return n/(2*s)}static getNodesInCommunity(e,s){return Object.keys(e).filter(n=>e[n]===s)}static getCommunityGroups(e){const s={};for(const[n,o]of Object.entries(e))s[o]||(s[o]=[]),s[o].push(n);return s}static graphFromData(e){const s=new yl;for(const n of e.nodes)s.addNode(n.id);for(const n of e.edges)s.addEdge(n.source,n.target,n.weight||1);return s}static async detect(e,s="louvain",n={}){const o=this.graphFromData(e);return await new ii(o).detectCommunities(s,n)}}const Ld={algorithms:[{id:"louvain",name:"Louvain Method",description:"Fast greedy algorithm that optimizes modularity",category:"modularity",complexity:"O(n log n)",bestFor:["General graphs","Large networks","Hierarchical communities"],supportsWeighted:!0,supportsDirected:!1,defaultOptions:{resolution:1,maxIterations:100}}],getAll(){return[...this.algorithms]},get(t){return this.algorithms.find(e=>e.id===t)||null},filter(t){return this.algorithms.filter(t)},getIds(){return this.algorithms.map(t=>t.id)}};class Qt{constructor(e,s={},n=null){if(!e)throw new Error("Graph is required for layout computation");if(!n||!n.module||!n.functionName)throw new Error("computeConfig with module and functionName is required");this.graph=e,this.options=s,this.computeConfig=n,this._positions=null}async computePositions(e={}){const s={...this.options,...e},{onProgress:n,timeout:o,...r}=s,i=Ls.serializeGraph(this.graph),a={module:this.computeConfig.module,functionName:this.computeConfig.functionName,args:[i,r]};return await Ls.execute(a,{onProgress:n,timeout:o})}async getPositions(e={},s=!1){return(!this._positions||s)&&(this._positions=await this.computePositions(e)),this._positions}async updateLayout(e=1){return this.getPositions({},!0)}reset(){this._positions=null}getNodes(){return this.graph.getNodeList()}getNodeCount(){return this.graph.numberOfNodes()}}class mS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},seed:null,...s},{module:"../layouts/random.js",functionName:"randomCompute"})}}class gS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},sortBy:null,...s},{module:"../layouts/circular.js",functionName:"circularCompute"})}}class yS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},resolution:.35,equidistant:!1,...s},{module:"../layouts/spiral.js",functionName:"spiralCompute"})}}class _S extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},nlist:null,rotate:null,nodeProperties:null,...s},{module:"../layouts/shell.js",functionName:"shellCompute"})}}class vS extends Qt{constructor(e,s={}){super(e,{scale:100,center:{x:0,y:0},...s},{module:"../layouts/spectral.js",functionName:"spectralCompute"})}}class bS extends Qt{constructor(e,s={}){super(e,{iterations:50,k:null,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,...s},{module:"../layouts/force-directed.js",functionName:"forceDirectedCompute"})}}class wS extends Qt{constructor(e,s={}){super(e,{iterations:1e3,scale:1,center:{x:0,y:0},initialPositions:null,threshold:1e-4,K:null,...s},{module:"../layouts/kamada-kawai.js",functionName:"kamadaKawaiCompute"})}}class xS extends Qt{constructor(e,s={}){super(e,{partition:null,align:"vertical",scale:1,aspectRatio:4/3,center:{x:0,y:0},...s},{module:"../layouts/bipartite.js",functionName:"bipartiteCompute"})}}class kS extends Qt{constructor(e,s={}){super(e,{subsets:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/multipartite.js",functionName:"multipartiteCompute"})}}class AS extends Qt{constructor(e,s={}){super(e,{startNode:null,align:"vertical",scale:1,center:{x:0,y:0},...s},{module:"../layouts/bfs.js",functionName:"bfsCompute"})}}const CS={layouts:[{id:"none",name:"None (D3 Physics)",description:"D3's built-in force-directed physics simulation",category:"physics",complexity:"O(iterations)",bestFor:["General graphs","Interactive exploration"],requiresStats:!1},{id:"random",name:"Random",description:"Random node positioning",category:"simple",complexity:"O(n)",bestFor:["Testing","Initial visualization"],requiresStats:!1},{id:"circular",name:"Circular",description:"Nodes arranged in a circle",category:"simple",complexity:"O(n)",bestFor:["Symmetric graphs","Ring topologies"],requiresStats:!1},{id:"spiral",name:"Spiral",description:"Archimedean spiral arrangement",category:"simple",complexity:"O(n)",bestFor:["Linear structures","Sequences"],requiresStats:!1},{id:"shell",name:"Shell",description:"Concentric circles by degree",category:"simple",complexity:"O(n)",bestFor:["Star-like graphs","Hub structures"],requiresStats:!0},{id:"spectral",name:"Spectral",description:"Laplacian eigenvector layout",category:"spectral",complexity:"O(n)",bestFor:["Community detection visualization","Graph topology"],requiresStats:!0,requiredStat:"eigenvector-laplacian"},{id:"force-directed",name:"Force-Directed",description:"Spring-electrical model (Fruchterman-Reingold)",category:"physics",complexity:"O(iterations  n)",bestFor:["General graphs","Complex networks"],requiresStats:!1},{id:"kamada-kawai",name:"Kamada-Kawai",description:"Energy minimization based on shortest paths",category:"energy",complexity:"O(n + iterations  n)",bestFor:["Small-medium graphs","Trees","Planar graphs"],requiresStats:!1},{id:"bipartite",name:"Bipartite",description:"Two-line layout for bipartite graphs",category:"hierarchical",complexity:"O(n)",bestFor:["Bipartite graphs","Two-level hierarchies"],requiresStats:!1},{id:"multipartite",name:"Multipartite",description:"Multi-layer layout for hierarchical structures",category:"hierarchical",complexity:"O(n)",bestFor:["DAGs","Organizational hierarchies"],requiresStats:!1},{id:"bfs",name:"BFS Layout",description:"Layer-by-layer breadth-first search",category:"hierarchical",complexity:"O(n + m)",bestFor:["Trees","Network exploration"],requiresStats:!1}],getAll(){return[...this.layouts]},get(t){return this.layouts.find(e=>e.id===t)||null},filter(t){return this.layouts.filter(t)},byCategory(t){return this.layouts.filter(e=>e.category===t)},withoutStatRequirements(){return this.layouts.filter(t=>!t.requiresStats)},exists(t){return this.layouts.some(e=>e.id===t)}},SS=Xe({prefix:"Adapter",level:"info"});class bl{static fromFormat(e,s={}){throw new Error("Adapter.fromFormat() must be implemented by subclass")}static toFormat(e,s={}){throw new Error("Adapter.toFormat() must be implemented by subclass")}static validateGraphData(e){if(!e||typeof e!="object")throw new Error("GraphData must be an object");if(!Array.isArray(e.nodes))throw new Error("GraphData.nodes must be an array");if(!Array.isArray(e.edges))throw new Error("GraphData.edges must be an array");for(const s of e.nodes)if(!s.id&&s.id!==0)throw new Error("All nodes must have an id property");for(const s of e.edges){if(!s.source&&s.source!==0)throw new Error("All edges must have a source property");if(!s.target&&s.target!==0)throw new Error("All edges must have a target property")}return!0}static normalizeIds(e){return{nodes:e.nodes.map(s=>({...s,id:String(s.id)})),edges:e.edges.map(s=>({...s,source:String(s.source),target:String(s.target)}))}}static getNodeIdSet(e){return new Set(e.map(s=>String(s.id)))}static filterInvalidEdges(e,s=!0){const n=this.getNodeIdSet(e.nodes),o=[],r=[];for(const i of e.edges){const a=String(i.source),l=String(i.target);n.has(a)&&n.has(l)?o.push(i):r.push(i)}return s&&r.length>0&&SS.warn("Filtered out edges referencing non-existent nodes",{invalidEdgeCount:r.length,totalEdges:e.edges.length}),{nodes:e.nodes,edges:o}}}const Rd=Xe({prefix:"CSVAdapter",level:"info"});class Vf extends bl{static parseCSV(e,s=","){const n=[],o=e.trim().split(`
`);for(const r of o){const i=[];let a="",l=!1;for(let c=0;c<r.length;c++){const d=r[c];d==='"'?l=!l:d===s&&!l?(i.push(a.trim()),a=""):a+=d}i.push(a.trim()),n.push(i)}return n}static fromEdgeList(e,s={}){const{header:n=!0,delimiter:o=",",weighted:r=!0}=s,i=this.parseCSV(e,o),a=n?i.slice(1):i,l=new Set,c=[];for(const d of a){if(d.length<2)continue;const u=d[0],f=d[1],p=r&&d[2]?parseFloat(d[2]):1;l.add(u),l.add(f),c.push({source:u,target:f,weight:isNaN(p)?1:p})}return{nodes:Array.from(l).map(d=>({id:d,group:1})),edges:c}}static fromNodes(e,s={}){const{header:n=!0,delimiter:o=","}=s,r=this.parseCSV(e,o);if(r.length===0)return[];const i=n?r[0]:["id","group","label"];return(n?r.slice(1):r).map(a=>{const l={};for(let c=0;c<i.length;c++){const d=i[c],u=a[c];d==="group"&&u?l[d]=parseInt(u,10):!isNaN(u)&&u!==""?l[d]=parseFloat(u):l[d]=u}return l})}static fromFormat(e,s=null,n={}){const{nodes:o,edges:r}=this.fromEdgeList(e,n);if(s){const a=this.fromNodes(s,n),l=new Map(a.map(d=>[String(d.id),d])),c={nodes:o.map(d=>{const u=l.get(String(d.id));return u?{...d,...u}:d}),edges:r};return this.filterInvalidEdges(c)}const i={nodes:o,edges:r};return this.filterInvalidEdges(i)}static async loadFromURL(e,s=null,n={}){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch edges: ${o.statusText}`);const r=await o.text();let i=null;if(s){const a=await fetch(s);a.ok&&(i=await a.text())}return this.fromFormat(r,i,n)}catch(o){throw Rd.error("Error loading CSV",{edgeURL:e,nodeURL:s,error:o.message,stack:o.stack}),o}}static async loadFromFiles(e,s=null,n={}){try{const o=await e.text();let r=null;return s&&(r=await s.text()),this.fromFormat(o,r,n)}catch(o){throw Rd.error("Error reading file",{edgeFileName:e?.name,nodeFileName:s?.name,error:o.message,stack:o.stack}),o}}static toEdgeList(e,s={}){const{header:n=!0,delimiter:o=","}=s,r=[];n&&r.push(["source","target","weight"].join(o));for(const i of e.edges){const a=i.source?.id||i.source,l=i.target?.id||i.target,c=i.weight||1;r.push([a,l,c].join(o))}return r.join(`
`)}static toNodes(e,s={}){const{header:n=!0,delimiter:o=","}=s,{nodes:r}=e;if(r.length===0)return"";const i=[],a=new Set;r.forEach(c=>{Object.keys(c).forEach(d=>a.add(d))});const l=Array.from(a);n&&i.push(l.join(o));for(const c of r){const d=l.map(u=>{const f=c[u];return typeof f=="string"&&(f.includes(o)||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f??""});i.push(d.join(o))}return i.join(`
`)}static toFormat(e,s={}){return this.validateGraphData(e),{edges:this.toEdgeList(e,s),nodes:this.toNodes(e,s)}}}const ES=Xe({prefix:"JSONAdapter",level:"info"});class $f extends bl{static fromD3(e){if(!e||!e.nodes)throw new Error("Invalid D3 data: must have nodes array");const s=e.nodes.map(r=>({...r,id:String(r.id)})),n=(e.links||[]).map(r=>({...r,source:String(r.source?.id||r.source),target:String(r.target?.id||r.target),weight:r.weight||r.value||1})),o={nodes:s,edges:n};return this.filterInvalidEdges(o)}static fromCytoscape(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid Cytoscape data: must have nodes array");const s=e.nodes.map(r=>({id:String(r.data.id),...r.data})),n=(e.edges||[]).map(r=>({source:String(r.data.source),target:String(r.data.target),weight:r.data.weight||1,...r.data})),o={nodes:s,edges:n};return this.filterInvalidEdges(o)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid JSON data");if(e.nodes&&e.edges)return this.normalizeIds(e);if(e.nodes&&e.links)return this.fromD3(e);if(Array.isArray(e.nodes)&&e.nodes[0]?.data)return this.fromCytoscape(e);if(e.nodes&&(e.links||e.edges))return this.fromD3({nodes:e.nodes,links:e.links||e.edges});throw new Error("Unknown JSON format - cannot auto-detect")}static toD3(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({...s})),links:e.edges.map(s=>({source:s.source,target:s.target,value:s.weight,...s}))}}static toCytoscape(e){return this.validateGraphData(e),{nodes:e.nodes.map(s=>({data:{...s}})),edges:e.edges.map((s,n)=>({data:{id:`e${n}`,source:s.source,target:s.target,weight:s.weight||1,...s}}))}}static toFormat(e,s={}){const{format:n="standard",pretty:o=!1}=s;let r;switch(n){case"d3":r=this.toD3(e);break;case"cytoscape":r=this.toCytoscape(e);break;case"standard":default:this.validateGraphData(e),r=e}return JSON.stringify(r,null,o?2:0)}static async loadFromURL(e){try{const s=await fetch(e);if(!s.ok)throw new Error(`Failed to fetch: ${s.statusText}`);const n=await s.json();return this.fromFormat(n)}catch(s){throw ES.error("Error loading JSON",{url:e,error:s.message,stack:s.stack}),s}}}class NS extends bl{static fromNodeLink(e){if(!e||!Array.isArray(e.nodes))throw new Error("Invalid NetworkX node-link data: must have nodes array");const s=e.nodes.map(r=>({id:String(r.id),...r})),n=(e.links||[]).map(r=>({source:String(r.source),target:String(r.target),weight:r.weight||1,...r})),o={nodes:s,edges:n};return this.filterInvalidEdges(o)}static fromAdjacency(e){if(!Array.isArray(e))throw new Error("Invalid NetworkX adjacency data: must be array");const s=[],n=[],o=new Set;for(const i of e){const a=String(i.id);if(s.push({id:a,...i}),i.adjacency&&Array.isArray(i.adjacency))for(const l of i.adjacency){const c=String(l.id),d=`${a}-${c}`,u=`${c}-${a}`;!o.has(d)&&!o.has(u)&&(n.push({source:a,target:c,weight:l.weight||1,...l}),o.add(d))}}const r={nodes:s,edges:n};return this.filterInvalidEdges(r)}static fromFormat(e){if(!e||typeof e!="object")throw new Error("Invalid NetworkX data");if(e.nodes&&Array.isArray(e.nodes)&&(e.links||e.edges))return this.fromNodeLink({...e,links:e.links||e.edges});if(Array.isArray(e)&&e[0]?.adjacency)return this.fromAdjacency(e);throw new Error("Unknown NetworkX format")}static toNodeLink(e,s={}){this.validateGraphData(e);const{directed:n=!1,multigraph:o=!1}=s;return{directed:n,multigraph:o,graph:{},nodes:e.nodes.map(r=>({...r})),links:e.edges.map(r=>({source:r.source,target:r.target,weight:r.weight||1,...r}))}}static toAdjacency(e){this.validateGraphData(e);const s=new Map;for(const n of e.nodes)s.set(String(n.id),{...n,adjacency:[]});for(const n of e.edges){const o=String(n.source),r=String(n.target),i=s.get(o);i&&i.adjacency.push({id:r,weight:n.weight||1,...n});const a=s.get(r);a&&o!==r&&a.adjacency.push({id:o,weight:n.weight||1,...n})}return Array.from(s.values())}static toFormat(e,s={}){const{format:n="node-link"}=s;switch(n){case"adjacency":return this.toAdjacency(e);case"node-link":default:return this.toNodeLink(e,s)}}}class ze{static FEATURES={EIGENVECTOR:"eigenvector",EIGENVECTOR_LAPLACIAN:"eigenvector-laplacian",MODULARITY:"modularity",BETWEENNESS:"betweenness",CLUSTERING:"clustering",CLIQUES:"cliques",DEGREE:"degree",CLOSENESS:"closeness",EGO_DENSITY:"ego-density",ALL:["degree","betweenness","clustering","eigenvector","eigenvector-laplacian","cliques","closeness","ego-density"]};static GRAPH_STATS={DENSITY:"density",DIAMETER:"diameter",AVERAGE_CLUSTERING:"average_clustering",AVERAGE_SHORTEST_PATH:"average_shortest_path",CONNECTED_COMPONENTS:"connected_components",AVERAGE_DEGREE:"average_degree",ALL:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]};static COMMUNITY_DETECTION={LOUVAIN:"louvain",ALL:["louvain"]};constructor(e={}){this.options={verbose:e.verbose!==void 0?e.verbose:!0,maxWorkers:e.maxWorkers,taskTimeout:e.taskTimeout||6e4,workerScript:e.workerScript},this.log=Xe({prefix:"NetworkStats",level:this.options.verbose?"debug":"info"}),Ls.initialize({maxWorkers:this.options.maxWorkers,taskTimeout:this.options.taskTimeout,verbose:this.options.verbose,workerScript:this.options.workerScript}).catch(s=>{this.log.error("Failed to initialize workers:",s)}),this.statisticClasses={[ze.FEATURES.DEGREE]:tS,[ze.FEATURES.BETWEENNESS]:oS,[ze.FEATURES.CLUSTERING]:rS,[ze.FEATURES.EIGENVECTOR]:iS,[ze.FEATURES.EIGENVECTOR_LAPLACIAN]:aS,[ze.FEATURES.CLIQUES]:lS,[ze.FEATURES.CLOSENESS]:sS,[ze.FEATURES.EGO_DENSITY]:nS,[ze.FEATURES.MODULARITY]:"modularity"},this.graphStatClasses={[ze.GRAPH_STATS.DENSITY]:cS,[ze.GRAPH_STATS.DIAMETER]:dS,[ze.GRAPH_STATS.AVERAGE_CLUSTERING]:uS,[ze.GRAPH_STATS.AVERAGE_SHORTEST_PATH]:hS,[ze.GRAPH_STATS.CONNECTED_COMPONENTS]:fS,[ze.GRAPH_STATS.AVERAGE_DEGREE]:pS}}async analyze(e,s,n={}){this.log.time("networkAnalysis"),this.log.info(`Analyzing network with ${e.length} edges`),s=s||ze.FEATURES.ALL,typeof s=="string"&&(s=[s]);const{graph:o,nodes:r}=this._prepareNetwork(e);this.log.info(`Graph: ${r.length} nodes, ${o.edges.length} edges`);const i=await this._calculateNodeStats(o,r,s,n);if(n.includeGraphStats){const a=await this._calculateGraphStats(o,n.graphStats,n);return this.log.timeEnd("networkAnalysis"),{nodes:i,graph:a}}return this.log.timeEnd("networkAnalysis"),i}async _calculateNodeStats(e,s,n,o){const r={};for(const i of n)if(i===ze.FEATURES.MODULARITY)r[i]=await this._calculateModularity(e,o);else if(this.statisticClasses[i]){const a=this.statisticClasses[i],l=new a;this.log.debug(`Calculating ${i}...`);const c=await l.calculate(e,null,{onProgress:o.onProgress});r[i]=c}else this.log.warn(`Unknown feature: ${i}`);return this._normalizeNodeStats(r,s)}async _calculateGraphStats(e,s,n={}){const o=s||ze.GRAPH_STATS.ALL,r={};for(const i of o){const a=this.graphStatClasses[i];if(a){this.log.debug(`Calculating graph stat: ${i}...`);const l=new a;r[i]=await l.calculate(e,null,{onProgress:n.onProgress})}else this.log.warn(`Unknown graph stat: ${i}`)}return r}async _calculateModularity(e,s={}){const n=new ii(e),o=new vl;return this.log.debug("Running Louvain community detection..."),(await n.detectCommunities(o,{onProgress:s.onProgress})).communities}_prepareNetwork(e){const s=new Set;for(const r of e)s.add(r.source),s.add(r.target);const n=Array.from(s),o=new yl;for(const r of n)o.addNode(r);for(const r of e){const i=r.weight!==void 0?r.weight:1;o.addEdge(r.source,r.target,i)}return{graph:o,nodes:n}}_normalizeNodeStats(e,s){const n=[];for(const o of s){const r={id:o};for(const[i,a]of Object.entries(e))typeof a=="object"&&a!==null&&(r[i]=a[o]);n.push(r)}return n}async dispose(){await Ls.terminate()}}const TS=async()=>"/assets/network-worker.js";class IS{constructor(){this.analyzer=null,this.initPromise=null,this.lastAnalysisResults=null,this.workerUrl=null,this.log=Xe({prefix:"NetworkAnalyzer",level:"info"})}async _ensureInitialized(){if(!this.analyzer){if(this.initPromise)return this.initPromise;this.initPromise=(async()=>{this.workerUrl=await TS(),this.log.debug("Initializing with worker",{workerUrl:this.workerUrl}),this.analyzer=new ze({verbose:!0,workerScript:this.workerUrl}),await new Promise(e=>setTimeout(e,500)),this.log.info("Initialized successfully")})(),await this.initPromise}}_toEdgeList(e,s){return s.map(n=>({source:typeof n.source=="object"?n.source.id:n.source,target:typeof n.target=="object"?n.target.id:n.target,weight:n.weight||1}))}_buildGraph(e,s){const n=new yl;return e.forEach(o=>{n.addNode(o.id)}),s.forEach(o=>{const r=typeof o.source=="object"?o.source.id:o.source,i=typeof o.target=="object"?o.target.id:o.target;n.addEdge(r,i,o.weight||1)}),n}async analyzeGraph(e,s,n={}){await this._ensureInitialized(),this.log.debug("Starting analysis",{nodeCount:e.length,linkCount:s.length,features:n.features,includeGraphStats:n.includeGraphStats});const o=this._toEdgeList(e,s),r=n.features||["degree","eigenvector"],i={onProgress:n.onProgress};n.includeGraphStats&&(i.includeGraphStats=!0,i.graphStats=n.graphStats||["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]);const a=await this.analyzer.analyze(o,r,i);let l,c=null;Array.isArray(a)?l=a:a.nodes&&a.graph?(l=a.nodes,c=a.graph):l=a,this.log.info("Analysis complete",{resultsCount:l.length,hasGraphStats:c!==null}),this.lastAnalysisResults=l,e.forEach(u=>{const f=l.find(y=>y.id===u.id);if(!f){this.log.warn("No stats found for node",{nodeId:u.id}),u.centrality=.5;return}const p=f.eigenvector!==void 0?f.eigenvector:f.degree!==void 0?f.degree/10:.5;Object.assign(u,f,{centrality:p})}),this.log.debug("Nodes enriched",{sampleNode:e[0]});const d={nodes:e,links:s};return c&&(d.graphStats=c),d}async applyLayout(e,s,n,o={}){await this._ensureInitialized(),this.log.debug("Applying layout",{layoutId:e});const r=o.width||800,i=o.height||600,a=Math.min(r,i)/1.2,l={x:r/2,y:i/2},c=this._buildGraph(s,n);let d;const u={scale:a,center:l};switch(e){case"random":d=new mS(c,u);break;case"circular":d=new gS(c,u);break;case"spiral":d=new yS(c,{...u,resolution:.15});break;case"shell":const p=new Map;s.forEach(E=>{E.degree!==void 0&&p.set(E.id,{degree:E.degree})}),d=new _S(c,{...u,nodeProperties:p.size>0?p:null});break;case"spectral":if(!s.some(E=>{const A=E["eigenvector-laplacian"];return A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0}))throw new Error('Spectral layout requires eigenvector-laplacian analysis. Please run analysis with ["eigenvector-laplacian"] first.');const _=new Map;s.forEach(E=>{const A=E["eigenvector-laplacian"];A&&typeof A=="object"&&A.laplacian_x!==void 0&&A.laplacian_y!==void 0&&_.set(E.id,{laplacian_x:A.laplacian_x,laplacian_y:A.laplacian_y})}),d=new vS(c,{...u,nodeProperties:_});break;case"force-directed":const w=s.length,b=Math.sqrt(1/w)*2.5;d=new bS(c,{iterations:50,k:b,...u});break;case"kamada-kawai":d=new wS(c,{iterations:300,...u});break;case"bipartite":d=new xS(c,{align:"vertical",...u});break;case"multipartite":d=new kS(c,{align:"vertical",...u});break;case"bfs":const x=s[0]?.id||Array.from(c.nodes)[0];d=new AS(c,{startNode:x,align:"vertical",...u});break;default:throw new Error(`Unknown layout: ${e}`)}const f=await d.getPositions({onProgress:o.onProgress});return this.log.info("Layout complete",{positionCount:Object.keys(f).length}),f}getAvailableLayouts(){return CS.getAll()}getAvailableCommunityAlgorithms(){return Ld.getAll()}async detectCommunities(e,s,n,o={}){await this._ensureInitialized(),this.log.debug("Detecting communities",{algorithmId:e});const r=this._buildGraph(s,n),i=Ld.get(e);if(!i)throw new Error(`Unknown community detection algorithm: ${e}`);let a;switch(e){case"louvain":a=new vl(i.defaultOptions);break;default:throw new Error(`Unsupported algorithm: ${e}`)}const c=await new ii(r).detectCommunities(a,{onProgress:o.onProgress});return this.log.info("Community detection complete",{numCommunities:c.numCommunities,modularity:c.modularity}),s.forEach(d=>{const u=c.communities[d.id];u!==void 0&&(d.community=u)}),c}async dispose(){if(this.analyzer)try{await this.analyzer.dispose(),this.analyzer=null}catch(e){this.log.warn("Error disposing analyzer",{error:e.message}),this.analyzer=null}}}const xe=Xe({prefix:"useNetworkGraph",level:"info"});function wl(t={}){const e=ae(null),s=ae(null),n=ae(null),o=ae(!1),r=ae(null),i=ae(null),a=ae(0),l=t.autoComputeCentrality!==!1,c=()=>{if(!e.value){xe.warn("Container ref not ready");return}if(s.value){xe.warn("Graph already initialized");return}try{o.value=!0,xe.debug("Initializing graph",{options:t});const R=e.value.getBoundingClientRect(),G=R.width||t.width||800,S=R.height||t.height||600;s.value=new YC(e.value,{width:G,height:S,...t}),n.value=new IS,s.value.on("nodeHover",M=>{i.value=M}),s.value.on("nodeLeave",()=>{i.value=null}),o.value=!1,xe.info("Graph and analyzer initialized successfully")}catch(R){xe.error("Failed to initialize graph",{error:R.message,stack:R.stack}),r.value=R.message,o.value=!1}},d=(R,G)=>{if(!s.value){xe.warn("Graph not initialized yet");return}try{o.value=!0,xe.debug("Loading data into graph",{nodeCount:R.length,linkCount:G.length});const S=()=>{o.value=!1,s.value.off("ready",S),xe.info("Graph ready and fitted to view"),l&&s.value?.data?.nodes?.length>=2&&requestAnimationFrame(()=>{u()})};s.value.on("ready",S),s.value.setData(R,G)}catch(S){xe.error("Failed to load data",{error:S.message,stack:S.stack}),r.value=S.message,o.value=!1}},u=async()=>{if(!(!l||!s.value||!n.value)&&!(!s.value.data||s.value.data.nodes.length<2))try{xe.debug("Auto-computing eigenvector centrality");const R=s.value.data,G=await n.value.analyzeGraph(R.nodes,R.links,{features:["eigenvector"],onProgress:()=>{}});G&&G.nodes&&s.value.updateNodeStatistics&&(s.value.updateNodeStatistics(G.nodes,"eigenvector",!0),xe.debug("Auto-computed eigenvector centrality and updated node sizes"))}catch(R){xe.debug("Auto-compute eigenvector failed (non-critical)",{error:R.message})}},f=async(R=[],G=null,S=null,M=!1)=>{if(!s.value)return xe.warn("Graph not initialized yet"),null;try{xe.debug("Adding node",{neighborIds:R,nodeId:G,group:S,incremental:M});let I;return M&&s.value.addNodeIncremental?I=s.value.addNodeIncremental(R,G,S):I=s.value.addNode(R,G,S),I&&l&&requestAnimationFrame(()=>{u()}),I}catch(I){return xe.error("Failed to add node",{error:I.message,stack:I.stack}),r.value=I.message,null}},p=(R=null,G=!1)=>{if(!s.value)return xe.warn("Graph not initialized yet"),!1;try{xe.debug("Removing node",{nodeId:R,incremental:G});let S;return G&&s.value.removeNodeIncremental?S=s.value.removeNodeIncremental(R):S=s.value.removeNode(R),S&&l&&requestAnimationFrame(()=>{u()}),S}catch(S){return xe.error("Failed to remove node",{error:S.message,stack:S.stack}),r.value=S.message,!1}},y=async(R,G,S=!1)=>{if(!s.value)return xe.warn("Graph not initialized yet"),!1;try{let M;return S&&s.value.addLinkIncremental?M=s.value.addLinkIncremental(R,G):M=s.value.addLink(R,G),M&&l&&requestAnimationFrame(()=>{u()}),M}catch(M){return xe.error("Failed to add link",{error:M.message,stack:M.stack}),r.value=M.message,!1}},_=()=>s.value?s.value.getNodeIds():[],w=R=>s.value?s.value.hasNode(R):!1,b=async(R=["degree","eigenvector"],G={})=>{if(!s.value||!n.value)return xe.warn("Graph or analyzer not initialized"),null;try{o.value=!0,a.value=0,xe.debug("Starting graph analysis",{features:R,options:G});const S=s.value.data,M=await n.value.analyzeGraph(S.nodes,S.links,{features:R,includeGraphStats:G.includeGraphStats||!1,graphStats:G.graphStats,onProgress:F=>{a.value=F}});return xe.info("Analysis complete, updating visualization",{nodeCount:M.nodes.length,hasGraphStats:!!M.graphStats}),R.includes("eigenvector")&&M.nodes.some(F=>F.eigenvector!==void 0)?(xe.debug("Sizing nodes by eigenvector centrality"),s.value.updateVisualEncoding({sizeBy:"eigenvector",minRadius:4,maxRadius:20})):s.value.updateGraph(),o.value=!1,a.value=0,M}catch(S){return xe.error("Failed to analyze graph",{error:S.message,stack:S.stack,features:R}),r.value=S.message,o.value=!1,a.value=0,null}},x=async R=>{if(!s.value||!n.value)return xe.warn("Graph or analyzer not initialized"),!1;try{o.value=!0,a.value=0,xe.debug("Applying layout",{layoutId:R});const G=s.value.data,S=e.value.getBoundingClientRect(),M=await n.value.applyLayout(R,G.nodes,G.links,{width:S.width||800,height:S.height||600,onProgress:F=>{a.value=F}});G.nodes.forEach(F=>{const X=M[F.id];X&&(F.x=X.x,F.y=X.y,F.fx=X.x,F.fy=X.y)});const I=()=>{o.value=!1,a.value=0,s.value.off("ready",I),xe.info("Layout applied successfully",{layoutId:R})};return s.value.on("ready",I),s.value.updateGraph(),!0}catch(G){return xe.error("Failed to apply layout",{layoutId:R,error:G.message,stack:G.stack}),r.value=G.message,o.value=!1,a.value=0,!1}},E=()=>n.value?n.value.getAvailableLayouts():[],A=()=>n.value?n.value.getAvailableCommunityAlgorithms():[],L=async R=>{if(!s.value||!n.value)return xe.warn("Graph or analyzer not initialized"),null;try{o.value=!0,a.value=0,xe.debug("Detecting communities",{algorithmId:R});const G=s.value.data,S=await n.value.detectCommunities(R,G.nodes,G.links,{onProgress:M=>{a.value=M}});return xe.info("Community detection complete, updating colors",{numCommunities:S.numCommunities,modularity:S.modularity}),s.value.updateVisualEncoding({colorBy:"community",colorScheme:"categorical",preserveZoom:!0}),o.value=!1,a.value=0,S}catch(G){return xe.error("Failed to detect communities",{algorithmId:R,error:G.message,stack:G.stack}),r.value=G.message,o.value=!1,a.value=0,null}},z=(R={})=>{if(!s.value){xe.warn("Cannot update visual encoding - no graph instance");return}s.value.updateVisualEncoding(R)},j=()=>{if(!s.value){xe.warn("Graph not initialized yet");return}s.value.lockPositions()},ee=()=>{if(!s.value){xe.warn("Graph not initialized yet");return}s.value.unlockPositions()},W=(R="network-graph.png")=>{if(!s.value){xe.warn("Graph not initialized yet");return}s.value.saveAsPNG(R)},Z=()=>s.value?s.value.getSelectedNode():(xe.warn("Graph not initialized yet"),null),U=async()=>{if(s.value&&(s.value.destroy(),s.value=null,xe.info("Graph destroyed")),n.value)try{await n.value.dispose(),n.value=null,xe.info("Analyzer disposed")}catch(R){xe.warn("Error disposing analyzer",{error:R.message}),n.value=null}};return Ps(async()=>{await Cn(),e.value&&c()}),Ur(()=>{U()}),{graphContainer:e,graphInstance:s,loading:o,error:r,nodeInfo:i,analysisProgress:a,initGraph:c,loadData:d,destroyGraph:U,addNode:f,removeNode:p,addLink:y,getNodeIds:_,hasNode:w,analyzeGraph:b,applyLayout:x,getAvailableLayouts:E,detectCommunities:L,getAvailableCommunityAlgorithms:A,updateVisualEncoding:z,lockPositions:j,unlockPositions:ee,saveAsPNG:W,getSelectedNode:Z}}class LS{constructor({graphManager:e,onStatusChange:s=null,translate:n=null}){this.graphManager=e,this.onStatusChange=s,this.translate=n||(o=>o),this.log=Xe({prefix:"ShowcaseController",level:"info"}),this.datasets={default:{name:"Default",loader:()=>this._loadDefaultDataset()},karate:{name:"Karate Club",loader:()=>this._loadKarateDataset()},miserables:{name:"Les Misrables",loader:()=>this._loadMiserablesDataset()}}}getInitialDataset(){return{nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]}}async _loadDefaultDataset(){return this.getInitialDataset()}async _loadKarateDataset(){const e=await $f.loadFromURL("/data/karateclub.json");return e.nodes=e.nodes.map(s=>({...s,group:s.club==="Mr. Hi"?1:2})),{nodes:e.nodes,links:e.edges}}async _loadMiserablesDataset(){const e=await Vf.loadFromURL("/data/les_miserables.csv");return e.nodes=e.nodes.map(s=>({...s,group:s.group||1})),{nodes:e.nodes,links:e.edges}}async loadDataset(e){const s=this.datasets[e];if(!s)return{success:!1,error:`Unknown dataset: ${e}`};try{this.log.debug("Loading dataset",{datasetKey:e,datasetName:s.name}),this._updateStatus("Loading dataset...","info");const n=await s.loader();this.graphManager.loadData(n.nodes,n.links);const o=this.translate("showcase.messages.loadedDataset",{name:s.name,nodes:n.nodes.length,edges:n.links.length});return this.log.info("Dataset loaded successfully",{name:s.name,nodeCount:n.nodes.length,edgeCount:n.links.length}),this._updateStatus(o,"success"),{success:!0,data:n,name:s.name,nodeCount:n.nodes.length,edgeCount:n.links.length}}catch(n){const o=this.translate("showcase.messages.failedToLoadDataset",{error:n.message});return this.log.error("Failed to load dataset",{datasetKey:e,error:n.message,stack:n.stack}),this._updateStatus(o,"error"),{success:!1,error:n.message}}}addRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0)return{success:!1,error:"No nodes available to connect to"};const s=e[Math.floor(Math.random()*e.length)],n=this.graphManager.addNode([s],null,null,!0);if(n){const o=this.translate("showcase.messages.addedNode",{nodeId:n.id,connectedTo:s});return this.log.debug("Added random node",{nodeId:n.id,connectedTo:s}),this._updateStatus(o,"success"),{success:!0,node:n,connectedTo:s}}return this.log.warn("Failed to add random node"),{success:!1,error:"Failed to add node"}}addNodeToSelected(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getSelectedNode();if(!e){const o=this.translate("showcase.messages.noNodeSelected");return this.log.warn("No node selected"),this._updateStatus(o,"error"),{success:!1,error:"No node selected"}}const s=e.id,n=this.graphManager.addNode([s],null,null,!0);if(n){const o=this.translate("showcase.messages.addedNode",{nodeId:n.id,connectedTo:s});return this.log.debug("Added node connected to selected",{nodeId:n.id,targetNodeId:s}),this._updateStatus(o,"success"),{success:!0,node:n,connectedTo:s}}return this.log.warn("Failed to add node connected to selected",{targetNodeId:s}),{success:!1,error:"Failed to add node"}}removeRandomNode(){if(!this.graphManager.graphInstance.value)return{success:!1,error:"Graph not initialized"};const e=this.graphManager.getNodeIds();if(e.length===0){const o=this.translate("showcase.messages.noNodesToRemove");return this._updateStatus(o,"error"),{success:!1,error:"No nodes to remove"}}const s=e[Math.floor(Math.random()*e.length)];if(this.graphManager.removeNode(s,!0)){const o=this.translate("showcase.messages.removedNode",{nodeId:s});return this.log.debug("Removed random node",{nodeId:s}),this._updateStatus(o,"info"),{success:!0,removedNodeId:s}}return this.log.warn("Failed to remove random node"),{success:!1,error:"Failed to remove node"}}async analyzeGraph(e=["degree","eigenvector","betweenness"]){try{this.log.debug("Starting graph analysis",{metrics:e}),this._updateStatus("Analyzing network using workers...","info");const s=await this.graphManager.analyzeGraph(e);if(s){const n=this.translate("showcase.messages.analysisComplete",{count:s.nodes.length});return this.log.info("Graph analysis complete",{nodeCount:s.nodes.length,metrics:e}),this._updateStatus(n,"success"),{success:!0,results:s,nodeCount:s.nodes.length,metrics:e}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(s){const n=this.translate("showcase.messages.analysisFailed",{error:s.message});return this.log.error("Graph analysis failed",{error:s.message,stack:s.stack,metrics:e}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("showcase.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(`Applying ${e} layout...`,"info"),await this.graphManager.applyLayout(e)){const n=this.translate("showcase.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=this.translate("showcase.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}isGraphReady(){return this.graphManager.graphInstance.value!==null}getNodeCount(){return this.graphManager.getNodeIds().length}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}async detectCommunities(e){if(!this.isGraphReady())return this._updateStatus(this.translate("showcase.messages.graphNotInitialized"),"error"),null;if(this.getNodeCount()===0)return this._updateStatus(this.translate("showcase.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(`Detecting communities using ${e}...`,"info");const n=await this.graphManager.detectCommunities(e);if(n){const o=this.translate("showcase.messages.foundCommunities",{count:n.numCommunities,modularity:n.modularity.toFixed(3)});return this._updateStatus(o,"success"),n}else return this._updateStatus(this.translate("showcase.messages.communityDetectionFailed"),"error"),null}catch(n){return this.log.error("Community detection failed",{algorithmId:e,error:n.message,stack:n.stack}),this._updateStatus(`Error: ${n.message}`,"error"),null}}getSelectedNode(){return this.graphManager.getSelectedNode()}}const RS={class:"demo-controls-header"},PS={class:"demo-controls-title"},DS={class:"demo-controls-description"},MS={class:"info-box-blue mb-4"},OS={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},GS=["innerHTML"],FS={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 overflow-x-hidden"},VS={class:"demo-controls-section-title mb-3"},$S={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},BS={key:0,class:"text-secondary text-center py-2"},zS={class:"text-xs"},jS={class:"text-xs mt-1 opacity-60"},US={key:1,class:"space-y-2"},HS={class:"flex-shrink-0 mt-0.5"},WS={key:0},XS={key:1},qS={key:2},ZS={class:"flex-1 break-words"},KS={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},JS={class:"demo-controls-section-title"},YS={class:"grid grid-cols-3 gap-2"},QS=["title"],eE=["disabled","title"],tE=["title"],sE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},nE={class:"demo-controls-section-title"},oE={class:"space-y-2"},rE={class:"block text-sm font-medium text-secondary"},iE={value:"default"},aE={value:"karate"},lE={value:"miserables"},cE=["disabled"],dE={key:0},uE={key:1},hE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},fE={class:"demo-controls-section-title"},pE={class:"info-box-green mt-3"},mE=["innerHTML"],gE={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},yE={class:"demo-controls-section-title"},_E={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},vE={class:"demo-controls-section-title"},bE={key:0,class:"info-box-green mt-3"},wE={class:"text-sm text-green-800 dark:text-green-200 space-y-1"},xE={class:"text-xs mt-2"},kE={key:1,class:"info-box-yellow mt-3"},AE={class:"text-xs text-yellow-800 dark:text-yellow-200"},CE={class:"info-box-purple"},SE={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},EE={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},NE=["innerHTML"],TE=["innerHTML"],IE=["innerHTML"],LE=["innerHTML"],RE=["innerHTML"],PE=["innerHTML"],DE={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},ME={class:"text-center"},OE={class:"text-secondary"},GE={__name:"ShowcasePage",setup(t){const e=Xe({prefix:"ShowcasePage",level:"info"}),{t:s}=Jt(),n=wl(),{graphContainer:o,graphInstance:r,loading:i,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analysisProgress:f,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:w,getAvailableCommunityAlgorithms:b,getSelectedNode:x,unlockPositions:E}=n,A=ae("default"),L=ae("none"),z=ae([]),j=ae("louvain"),ee=ae([]),W=ae(null),Z=ae(["degree","eigenvector","betweenness"]),U=ae(""),R=ae(""),G=ae("info"),S=ae("");let M=null;const I=(ce,ge)=>{R.value=ce,G.value=ge},F=()=>{const ce={graphInstance:r,loadData:a,addNode:l,removeNode:c,hasNode:d,getNodeIds:u,analyzeGraph:p,applyLayout:y,getAvailableLayouts:_,detectCommunities:w,getAvailableCommunityAlgorithms:b,getSelectedNode:x,unlockPositions:E};M=new LS({graphManager:ce,onStatusChange:I,translate:(T,te)=>s(T,te)});const ge=M.getInitialDataset();S.value=s("showcase.messages.loadingGraph"),a(ge.nodes,ge.links),z.value=M.getAvailableLayouts(),ee.value=M.getAvailableCommunityAlgorithms(),e.info("Initial data loaded",{layouts:z.value.length,communityAlgorithms:ee.value.length,nodes:ge.nodes.length})},X=()=>{M&&M.addRandomNode()},re=()=>{M&&M.addNodeToSelected()},ue=()=>{M&&M.removeRandomNode()},K=async()=>{if(M)try{S.value=s("showcase.messages.loadingDataset").replace("{dataset}",A.value);const ce=await M.loadDataset(A.value);ce.success&&(S.value=s("showcase.messages.loadingDatasetName").replace("{name}",ce.name))}catch(ce){e.error("Failed to load dataset",{error:ce.message,stack:ce.stack}),i.value=!1}},le=async()=>{if(M)try{S.value=s("showcase.messages.analyzing"),await M.analyzeGraph(Z.value)}catch(ce){e.error("Analysis error",{error:ce.message,stack:ce.stack})}},Ie=async()=>{if(M)try{S.value=s("showcase.messages.applyingLayout").replace("{layout}",L.value),await M.applyLayout(L.value)}catch(ce){e.error("Layout error",{error:ce.message,stack:ce.stack})}},Ae=async()=>{if(M)try{S.value=s("showcase.messages.detectingCommunities").replace("{algorithm}",j.value);const ce=await M.detectCommunities(j.value);ce&&(W.value=ce)}catch(ce){e.error("Community detection error",{error:ce.message,stack:ce.stack})}};return St(r,ce=>{ce&&!M&&F()},{immediate:!0}),(ce,ge)=>(H(),Ts(nl,null,{controls:Be(()=>[h("div",RS,[h("h1",PS,g(m(s)("showcase.header.title")),1),h("p",DS,g(m(s)("showcase.header.subtitle")),1)]),h("div",MS,[h("h2",OS,g(m(s)("showcase.whatIs.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200",innerHTML:m(s)("showcase.whatIs.description")},null,8,GS)]),h("div",FS,[h("h2",VS,g(m(s)("showcase.status.title")),1),h("div",$S,[R.value?(H(),q("div",US,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":G.value==="success","text-red-600 dark:text-red-400":G.value==="error","text-blue-600 dark:text-blue-400":G.value==="info"})},[h("div",HS,[G.value==="success"?(H(),q("span",WS,"")):G.value==="error"?(H(),q("span",XS,"")):(H(),q("span",qS,""))]),h("div",ZS,g(R.value),1)],2)])):(H(),q("div",BS,[h("div",zS,g(m(s)("showcase.status.ready")),1),h("div",jS,g(m(s)("showcase.status.hover")),1)]))])]),h("div",KS,[h("h2",JS,g(m(s)("showcase.controls.title")),1),h("div",YS,[h("button",{onClick:X,class:"btn-primary text-sm px-2 py-2 whitespace-nowrap",title:m(s)("showcase.controls.addRandom")},"  "+g(m(s)("showcase.buttons.add")),9,QS),h("button",{onClick:re,class:"btn-secondary text-sm px-2 py-2 whitespace-nowrap",disabled:!m(x)(),title:m(x)()?m(s)("showcase.controls.addToSelected").replace("{name}",m(x)().id):m(s)("showcase.controls.selectNodeFirst")},"  "+g(m(s)("showcase.buttons.toSelected")),9,eE),h("button",{onClick:ue,class:"btn-primary bg-red-600 hover:bg-red-700 text-sm px-2 py-2 whitespace-nowrap",title:m(s)("showcase.controls.removeRandom")},"  "+g(m(s)("showcase.buttons.remove")),9,tE)])]),h("div",sE,[h("h2",nE,g(m(s)("showcase.dataLoading.title")),1),h("div",oE,[h("label",rE,g(m(s)("showcase.dataLoading.choose")),1),ft(h("select",{"onUpdate:modelValue":ge[0]||(ge[0]=T=>A.value=T),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",iE,g(m(s)("showcase.dataLoading.default")),1),h("option",aE,g(m(s)("showcase.dataLoading.karate")),1),h("option",lE,g(m(s)("showcase.dataLoading.miserables")),1)],512),[[_n,A.value]])]),h("button",{onClick:K,disabled:m(i),class:"w-full btn-primary mt-3"},[m(i)?(H(),q("span",uE,g(m(s)("showcase.dataLoading.loading")),1)):(H(),q("span",dE,g(m(s)("showcase.dataLoading.loadButton")),1))],8,cE)]),h("div",hE,[h("h2",fE,g(m(s)("showcase.networkAnalysis.title")),1),_e(rl,{"selected-metrics":Z.value,"onUpdate:selectedMetrics":ge[1]||(ge[1]=T=>Z.value=T),"size-metric":U.value,"onUpdate:sizeMetric":ge[2]||(ge[2]=T=>U.value=T),analyzing:m(i),progress:m(f),onAnalyze:le},null,8,["selected-metrics","size-metric","analyzing","progress"]),h("div",pE,[h("p",{class:"text-xs text-green-800 dark:text-green-200",innerHTML:m(s)("showcase.networkAnalysis.description")},null,8,mE)])]),h("div",gE,[h("h2",yE,g(m(s)("showcase.layoutAlgorithm.title")),1),_e(ol,{modelValue:L.value,"onUpdate:modelValue":ge[3]||(ge[3]=T=>L.value=T),"available-layouts":z.value,loading:m(i),onApply:Ie},null,8,["modelValue","available-layouts","loading"])]),h("div",_E,[h("h2",vE,g(m(s)("showcase.communityDetection.title")),1),_e(Qh,{modelValue:j.value,"onUpdate:modelValue":ge[4]||(ge[4]=T=>j.value=T),"available-algorithms":ee.value,detecting:m(i),onDetect:Ae},{results:Be(()=>[W.value?(H(),q("div",bE,[h("p",wE,[h("div",null,[h("strong",null,g(m(s)("showcase.communityDetection.communitiesFound")),1),we(" "+g(W.value.numCommunities),1)]),h("div",null,[h("strong",null,g(m(s)("showcase.communityDetection.modularity")),1),we(" "+g(W.value.modularity.toFixed(3)),1)]),h("div",xE,g(m(s)("showcase.communityDetection.nodeColorsAssignments")),1)])])):Re("",!0),ee.value.length>0&&!W.value?(H(),q("div",kE,[h("p",AE,[h("strong",null,g(ee.value.find(T=>T.id===j.value)?.name)+":",1),we(" "+g(ee.value.find(T=>T.id===j.value)?.description),1)])])):Re("",!0)]),_:1},8,["modelValue","available-algorithms","detecting"])]),h("div",CE,[h("h3",SE,g(m(s)("showcase.instructions.title")),1),h("ul",EE,[h("li",{innerHTML:m(s)("showcase.instructions.dragNodes")},null,8,NE),h("li",{innerHTML:m(s)("showcase.instructions.scroll")},null,8,TE),h("li",{innerHTML:m(s)("showcase.instructions.dragBackground")},null,8,IE),h("li",{innerHTML:m(s)("showcase.instructions.hoverNodes")},null,8,LE),h("li",{innerHTML:m(s)("showcase.instructions.nodeSize")},null,8,RE),h("li",{innerHTML:m(s)("showcase.instructions.color")},null,8,PE)])])]),graph:Be(()=>[m(i)?(H(),q("div",DE,[h("div",ME,[ge[5]||(ge[5]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",OE,g(S.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:o,class:"w-full h-full"},null,512)]),_:1}))}};class FE{constructor({graphManager:e,onStatusChange:s=null,translate:n=null}){this.graphManager=e,this.onStatusChange=s,this.translate=n||(o=>o),this.log=Xe({prefix:"ExplorerController",level:"info"}),this.sampleNetworks={caruaru:{name:"Caruaru",file:"/data/network_caruaru.json",description:"Small network (~130 edges)"},rj:{name:"Rio de Janeiro",file:"/data/network_rj.json",description:"Medium network (~1,900 edges)"},niteroi:{name:"Niteri",file:"/data/network_niteroi.json",description:"Large network (~18,500 edges)"}},this.workersSupported=typeof Worker<"u",this.workerCount=navigator.hardwareConcurrency||4}async loadSampleNetwork(e){const s=this.sampleNetworks[e];if(!s)return{success:!1,error:`Unknown network: ${e}`};try{this.log.debug("Loading sample network",{networkKey:e,networkName:s.name}),this._updateStatus(this.translate("explorer.messages.loadingNetworkData"),"info");const n=await fetch(s.file);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const o=await n.json(),r=new Set,i=[];o.forEach(d=>{r.add(d.source),r.add(d.target),i.push({source:String(d.source),target:String(d.target),weight:d.weight||1})});const a=Array.from(r).map(d=>({id:String(d),group:1})),l={nodes:a,links:i.map(d=>({source:d.source,target:d.target,weight:d.weight}))};this.graphManager.loadData(l.nodes,l.links);const c=this.translate("explorer.messages.loadedNetwork",{name:s.name,nodes:a.length,edges:i.length});return this.log.info("Sample network loaded successfully",{name:s.name,nodeCount:a.length,edgeCount:i.length}),this._updateStatus(c,"success"),{success:!0,data:l,name:s.name,nodeCount:a.length,edgeCount:i.length,description:s.description,useWorkers:a.length>=500&&this.workersSupported}}catch(n){const o=this.translate("explorer.messages.failedToLoadNetwork",{error:n.message});return this.log.error("Failed to load sample network",{networkKey:e,error:n.message,stack:n.stack}),this._updateStatus(o,"error"),{success:!1,error:n.message}}}async loadUploadedNetwork(e,s,n,o){try{this.log.debug("Loading uploaded network",{format:e}),this._updateStatus(this.translate("explorer.messages.loadingUploadedFile"),"info");let r;if(e==="csv"){if(!s)throw new Error("Edges CSV file is required");this.log.debug("Loading CSV files",{edgeFile:s.name,nodeFile:n?.name}),r=await Vf.loadFromFiles(s,n||null)}else if(e==="json"){if(!o)throw new Error("JSON file is required");this.log.debug("Loading JSON file",{fileName:o.name});const d=await o.text(),u=JSON.parse(d);if(Array.isArray(u)&&u.length>0&&u[0].source&&u[0].target){this.log.debug("Detected raw edge list array format");const f=new Set;u.forEach(p=>{f.add(p.source),f.add(p.target)}),r={nodes:Array.from(f).map(p=>({id:String(p),group:1})),edges:u.map(p=>({source:String(p.source),target:String(p.target),weight:p.weight||1}))}}else r=$f.fromFormat(u)}else if(e==="networkx"){if(!o)throw new Error("NetworkX JSON file is required");this.log.debug("Loading NetworkX file",{fileName:o.name});const d=await o.text(),u=JSON.parse(d);r=NS.fromFormat(u)}else throw new Error(`Unknown format: ${e}`);this.log.info("Parsed graph data",{nodes:r.nodes.length,edges:r.edges.length});const i=r.nodes.map(d=>({...d,id:String(d.id),group:d.group||1})),a=r.edges.map(d=>({source:String(d.source),target:String(d.target),weight:d.weight||1}));this.graphManager.loadData(i,a);const l=o?.name||s?.name||"uploaded file",c=this.translate("explorer.messages.loadedFile",{fileName:l,nodes:i.length,edges:a.length});return this.log.info("Uploaded network loaded successfully",{fileName:l,nodeCount:i.length,edgeCount:a.length}),this._updateStatus(c,"success"),{success:!0,data:{nodes:i,links:a},name:l,nodeCount:i.length,edgeCount:a.length,description:`Uploaded ${e.toUpperCase()} file`,useWorkers:i.length>=500&&this.workersSupported}}catch(r){const i=this.translate("explorer.messages.failedToLoadFile",{error:r.message});return this.log.error("Failed to load uploaded network",{format:e,error:r.message,stack:r.stack}),this._updateStatus(i,"error"),{success:!1,error:r.message}}}async analyzeGraph(e=["degree","eigenvector"],s=null){try{this.log.debug("Starting graph analysis",{metrics:e,sizeMetric:s}),this._updateStatus(this.translate("explorer.messages.analyzingNetwork"),"info");const n=await this.graphManager.analyzeGraph(e,{includeGraphStats:!0,graphStats:["density","diameter","average_clustering","average_shortest_path","connected_components","average_degree"]});if(n){const o=n.nodes.length,r=n.links.length,i=(2*r/o).toFixed(2);s&&n.nodes.some(l=>l[s]!==void 0)&&this.graphManager.updateVisualEncoding({sizeBy:s,minRadius:4,maxRadius:20});const a=this.translate("explorer.messages.analysisComplete",{count:o});return this.log.info("Graph analysis complete",{nodeCount:o,metrics:e,hasGraphStats:!!n.graphStats}),this._updateStatus(a,"success"),{success:!0,results:n,nodeCount:o,linkCount:r,avgDegree:i,metrics:e,graphStats:n.graphStats||{average_degree:parseFloat(i)}}}return this.log.warn("Analysis returned no results"),{success:!1,error:"Analysis returned no results"}}catch(n){const o=this.translate("explorer.messages.analysisFailed",{error:n.message});return this.log.error("Graph analysis failed",{error:n.message,stack:n.stack,metrics:e}),this._updateStatus(o,"error"),{success:!1,error:n.message}}}async applyLayout(e){if(e==="none"){const s=this.translate("explorer.messages.usingD3Physics");return this.log.debug("Using default D3 physics simulation"),this._updateStatus(s,"info"),this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this._updateStatus(this.translate("explorer.messages.applyingLayout",{layout:e}),"info"),await this.graphManager.applyLayout(e)){const n=this.translate("explorer.messages.appliedLayout",{layout:e});return this.log.info("Layout applied successfully",{layoutId:e}),this._updateStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=this.translate("explorer.messages.layoutFailed",{error:s.message});return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this._updateStatus(n,"error"),{success:!1,error:s.message}}}async detectCommunities(e){if(!this.graphManager.graphInstance.value)return this._updateStatus(this.translate("explorer.messages.graphNotInitialized"),"error"),null;if(this.graphManager.getNodeIds().length===0)return this._updateStatus(this.translate("explorer.messages.graphIsEmpty"),"error"),null;try{this._updateStatus(this.translate("explorer.messages.detectingCommunities",{algorithm:e}),"info");const n=await this.graphManager.detectCommunities(e);if(n){const o=this.translate("explorer.messages.foundCommunities",{count:n.numCommunities,modularity:n.modularity.toFixed(3)});return this._updateStatus(o,"success"),n}else return this._updateStatus(this.translate("explorer.messages.communityDetectionFailed"),"error"),null}catch(n){return this.log.error("Community detection failed",{algorithmId:e,error:n.message,stack:n.stack}),this._updateStatus(this.translate("explorer.messages.analysisFailed",{error:n.message}),"error"),null}}getAvailableLayouts(){return this.graphManager.getAvailableLayouts()}getAvailableCommunityAlgorithms(){return this.graphManager.getAvailableCommunityAlgorithms()}getWorkerInfo(){return{supported:this.workersSupported,count:this.workerCount}}_updateStatus(e,s){this.onStatusChange&&this.onStatusChange(e,s)}}const VE={class:"demo-controls-header"},$E={class:"demo-controls-title"},BE={class:"demo-controls-description"},zE={class:"info-box-blue mb-4"},jE={class:"text-lg font-semibold text-blue-900 dark:text-blue-300 mb-2"},UE=["innerHTML"],HE={class:"flex items-center gap-2 text-xs"},WE={key:0},XE={key:1},qE={key:0,class:"badge badge-yellow"},ZE={class:"sticky top-0 z-20 bg-white/98 dark:bg-gray-800/98 backdrop-blur-md border-b border-[var(--color-border)] pb-4 mb-4 -mx-6 px-6 pt-4 -mt-2 shadow-sm"},KE={class:"demo-controls-section-title mb-3"},JE={class:"bg-[var(--color-bg-secondary)] rounded-md p-4 text-sm shadow-sm border border-[var(--color-border)]"},YE={key:0,class:"text-secondary text-center py-2"},QE={class:"text-xs"},eN={class:"text-xs mt-1 opacity-60"},tN={key:1,class:"space-y-2"},sN={class:"flex-shrink-0 mt-0.5"},nN={key:0},oN={key:1},rN={key:2},iN={class:"flex-1 break-words"},aN={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},lN={class:"demo-controls-section-title"},cN={class:"flex gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-4"},dN={class:"space-y-2"},uN={class:"block text-sm font-medium text-secondary"},hN={value:""},fN={value:"caruaru"},pN={value:"rj"},mN={value:"niteroi"},gN=["disabled"],yN={key:0},_N={key:1},vN={class:"space-y-3"},bN={class:"space-y-2"},wN={class:"block text-sm font-medium text-secondary"},xN={value:"json"},kN={value:"csv"},AN={value:"networkx"},CN={class:"space-y-2"},SN={class:"block text-sm font-medium text-secondary"},EN={class:"block text-sm font-medium text-secondary mt-2"},NN=["innerHTML"],TN={class:"space-y-2"},IN={class:"block text-sm font-medium text-secondary"},LN={key:0},RN={key:1},PN={key:0,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},DN={key:1,class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2"},MN=["disabled"],ON={key:0},GN={key:1},FN={key:0,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},VN={class:"demo-controls-section-title"},$N={class:"metrics-grid-row mb-3"},BN={class:"metric-card"},zN={class:"text-xs text-secondary"},jN={class:"text-xl font-bold text-purple-600 dark:text-purple-400"},UN={class:"metric-card"},HN={class:"text-xs text-secondary"},WN={class:"text-xl font-bold text-pink-600 dark:text-pink-400"},XN={class:"metric-card"},qN={class:"text-xs text-secondary"},ZN={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},KN={class:"metric-card"},JN={class:"text-xs text-secondary"},YN={class:"text-xl font-bold text-green-600 dark:text-green-400"},QN={key:0,class:"metric-card"},eT={class:"text-xs text-secondary"},tT={class:"text-xl font-bold text-orange-600 dark:text-orange-400"},sT={key:1,class:"metric-card"},nT={class:"text-xs text-secondary"},oT={class:"text-xl font-bold text-cyan-600 dark:text-cyan-400"},rT={key:0,class:"info-box-green text-xs"},iT={class:"font-semibold text-green-800 dark:text-green-300"},aT={class:"text-green-700 dark:text-green-400"},lT={key:1,class:"info-box-yellow text-xs"},cT={class:"font-semibold text-yellow-800 dark:text-yellow-300"},dT={class:"text-yellow-700 dark:text-yellow-400"},uT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},hT={class:"demo-controls-section-title"},fT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},pT={class:"demo-controls-section-title"},mT={class:"info-box-yellow mt-3"},gT={class:"text-xs text-yellow-800 dark:text-yellow-200"},yT={key:0,class:"italic"},_T={key:1,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},vT={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-700"},bT={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-2"},wT={class:"space-y-2"},xT={class:"flex justify-between items-center"},kT={class:"text-sm text-blue-800 dark:text-blue-200"},AT={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},CT={class:"flex justify-between items-center"},ST={class:"text-sm text-blue-800 dark:text-blue-200"},ET={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},NT={class:"flex justify-between items-center"},TT={class:"text-sm text-blue-800 dark:text-blue-200"},IT={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},LT={class:"flex justify-between items-center"},RT={class:"text-sm text-blue-800 dark:text-blue-200"},PT={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},DT={class:"flex justify-between items-center"},MT={class:"text-sm text-blue-800 dark:text-blue-200"},OT={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},GT={class:"flex justify-between items-center"},FT={class:"text-sm text-blue-800 dark:text-blue-200"},VT={class:"text-sm font-mono text-blue-600 dark:text-blue-400"},$T={class:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700"},BT={class:"text-xs text-blue-700 dark:text-blue-300"},zT={class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},jT={class:"demo-controls-section-title"},UT={key:2,class:"demo-controls-section border-t border-[var(--color-border)] pt-4"},HT={class:"bg-gradient-to-br from-orange-50 to-pink-50 dark:from-orange-900/30 dark:to-pink-900/30 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-700"},WT={class:"text-sm font-semibold text-orange-900 dark:text-orange-300 mb-3 flex items-center gap-2"},XT={class:"space-y-2"},qT={class:"flex justify-between items-center"},ZT={class:"text-sm text-orange-800 dark:text-orange-200"},KT={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},JT={class:"flex justify-between items-center"},YT={class:"text-sm text-orange-800 dark:text-orange-200"},QT={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},eI={class:"flex justify-between items-center"},tI={class:"text-sm text-orange-800 dark:text-orange-200"},sI={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},nI={class:"flex justify-between items-center"},oI={class:"text-sm text-orange-800 dark:text-orange-200"},rI={class:"text-sm font-semibold text-orange-600 dark:text-orange-400"},iI={class:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-700"},aI={class:"text-xs text-orange-700 dark:text-orange-300"},lI={class:"info-box-purple"},cI={class:"text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2"},dI={class:"text-sm text-purple-800 dark:text-purple-200 space-y-1"},uI=["innerHTML"],hI=["innerHTML"],fI=["innerHTML"],pI=["innerHTML"],mI=["innerHTML"],gI=["innerHTML"],yI={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 z-10"},_I={class:"text-center"},vI={class:"text-secondary"},bI={__name:"ExplorerPage",setup(t){const e=Xe({prefix:"ExplorerPage",level:"info"}),{t:s}=Jt(),n=wl(),{graphContainer:o,graphInstance:r,loading:i,loadData:a,analysisProgress:l,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:w}=n,b=ae("sample"),x=ae(""),E=ae("json"),A=ae(null),L=ae(null),z=ae(null),j=ae("none"),ee=ae([]),W=ae([]),Z=ae(""),U=ae("louvain"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),I=ae(""),F=ae("info"),X=ae("Loading graph..."),re=ae(null),ue=ae("-"),K=ae(!1),le=ae(null),Ie=ae(!1),Ae=ae(!1),ce=ae({nodes:0,edges:0,avgDegree:0,analysisTime:"-",communities:null,modularity:null}),ge=ae({type:"default",message:"Select a network to begin...",details:null});let T=null;const te=ae({supported:typeof Worker<"u",count:navigator.hardwareConcurrency||4}),se=it(()=>E.value==="csv"?A.value!==null:z.value!==null),fe=(P,D)=>{I.value=P,F.value=D},he=(P,D,O=null)=>{ge.value={type:P,message:D,details:O}},k=()=>{const P={graphInstance:r,loadData:a,analyzeGraph:c,applyLayout:d,getAvailableLayouts:u,detectCommunities:f,getAvailableCommunityAlgorithms:p,updateVisualEncoding:y,getNodeIds:_,unlockPositions:w};T=new FE({graphManager:P,onStatusChange:fe,translate:(D,O)=>s(D,O)}),ee.value=T.getAvailableLayouts(),R.value=T.getAvailableCommunityAlgorithms(),r.value&&(r.value.on("nodeHover",D=>{he("node-hover",`Node: ${D.id}`,{id:D.id,group:D.group||1,community:K.value?D.community:null,centrality:D.centrality?.toFixed(4)||"N/A",degree:D.degree||"N/A",betweenness:D.betweenness?.toFixed(4),clustering:D.clustering?.toFixed(3),eigenvector:D.eigenvector?.toFixed(4),closeness:D.closeness?.toFixed(4),egoDensity:D["ego-density"]?.toFixed(3),cliques:D.cliques})}),r.value.on("nodeLeave",()=>{G.value?he("default","Hover over a node to see details..."):he("default","Select a network to begin...")})),C()},C=()=>{const P={nodes:[{id:"Alice",group:1},{id:"Bob",group:1},{id:"Charlie",group:2},{id:"David",group:2},{id:"Eve",group:3},{id:"Frank",group:3},{id:"Grace",group:1},{id:"Henry",group:2},{id:"Isabel",group:4},{id:"John",group:4},{id:"Kate",group:5},{id:"Luke",group:5},{id:"Mary",group:6},{id:"Nick",group:6},{id:"Oliver",group:7}],links:[{source:"Alice",target:"Bob"},{source:"Alice",target:"Charlie"},{source:"Bob",target:"Charlie"},{source:"Charlie",target:"David"},{source:"Eve",target:"Frank"},{source:"Eve",target:"Alice"},{source:"Grace",target:"Alice"},{source:"Henry",target:"Bob"},{source:"Henry",target:"Eve"},{source:"Isabel",target:"John"},{source:"Isabel",target:"Kate"},{source:"John",target:"Luke"},{source:"Kate",target:"Mary"},{source:"Luke",target:"Nick"},{source:"Mary",target:"Oliver"},{source:"Nick",target:"Oliver"},{source:"Oliver",target:"Alice"},{source:"Frank",target:"Mary"},{source:"David",target:"Isabel"},{source:"Grace",target:"Kate"}]};a(P.nodes,P.links),G.value=!0,ce.value={nodes:P.nodes.length,edges:P.links.length,avgDegree:(2*P.links.length/P.nodes.length).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("default","Default network loaded. Hover over a node to see details...")},N=async()=>{if(!(!T||!x.value))try{i.value=!0,X.value=`Loading ${x.value} network...`,he("loading","Loading network data...");const P=await T.loadSampleNetwork(x.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load network: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load sample network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load network: ${P.message}`)}},$=async()=>{if(!(!T||!se.value))try{i.value=!0,X.value="Loading uploaded file...",he("loading","Loading uploaded file...");const P=await T.loadUploadedNetwork(E.value,A.value,L.value,z.value);P.success?(G.value=!0,Ae.value=P.useWorkers||!1,ce.value={nodes:P.nodeCount,edges:P.edgeCount,avgDegree:(2*P.edgeCount/P.nodeCount).toFixed(2),analysisTime:"-",communities:null,modularity:null},he("success",`Loaded: ${P.name}`,{nodes:P.nodeCount,edges:P.edgeCount,description:P.description})):(i.value=!1,he("error",`Failed to load file: ${P.error||"Unknown error"}`))}catch(P){e.error("Failed to load uploaded network",{error:P.message,stack:P.stack}),i.value=!1,he("error",`Failed to load file: ${P.message}`)}},B=async()=>{if(!(!T||!G.value))try{S.value=!0,X.value="Analyzing network using workers...",he("loading","Running network analysis...");const P=performance.now(),D=await T.analyzeGraph(W.value,Z.value),O=performance.now()-P;D.success&&(ce.value.analysisTime=`${(O/1e3).toFixed(2)}s`,D.graphStats&&(le.value=D.graphStats,Ie.value=!0),he("success","Analysis complete",{nodes:D.nodeCount,edges:D.linkCount,time:ce.value.analysisTime,metric:Z.value||W.value[0]}))}catch(P){e.error("Analysis error",{error:P.message,stack:P.stack}),he("error",`Analysis failed: ${P.message}`)}finally{S.value=!1}},V=async()=>{if(!(!T||!G.value))try{X.value=`Applying ${j.value} layout...`,I.value=`Applying ${j.value} layout...`,F.value="info";const P=await T.applyLayout(j.value);if(P.success)I.value=` Applied ${j.value} layout`,F.value="success",he("layout-applied",`Layout Applied: ${j.value}`,{description:j.value==="none"?"Using D3's built-in force simulation":"Nodes fixed in position (D3 physics disabled)"});else{const D=P.error||"Layout application failed";I.value=` ${D}`,F.value="error",he("error",`Layout failed: ${D}`)}}catch(P){e.error("Layout error",{error:P.message,stack:P.stack});const D=P.message||"Layout failed";I.value=` ${D}`,F.value="error",he("error",`Layout failed: ${D}`)}},oe=async()=>{if(!(!T||!G.value))try{M.value=!0,X.value=`Detecting communities using ${U.value}...`,he("loading","Detecting communities...");const P=performance.now(),D=await T.detectCommunities(U.value),O=performance.now()-P;D&&(re.value=D,ue.value=`${(O/1e3).toFixed(2)}s`,K.value=!0,ce.value.communities=D.numCommunities,ce.value.modularity=D.modularity.toFixed(3),he("default","Hover over a node to see details..."))}catch(P){e.error("Community detection error",{error:P.message,stack:P.stack}),he("error",`Community detection failed: ${P.message}`)}finally{M.value=!1}};return St(r,P=>{P&&!T&&k()},{immediate:!0}),(P,D)=>(H(),Ts(nl,null,{controls:Be(()=>[h("div",VE,[h("h1",$E,g(m(s)("explorer.header.title")),1),h("p",BE,g(m(s)("explorer.header.subtitle")),1)]),h("div",zE,[h("h2",jE,g(m(s)("explorer.parallelComputation.title")),1),h("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-3",innerHTML:m(s)("explorer.parallelComputation.description")},null,8,UE),h("div",HE,[h("span",{class:bt(te.value.supported?"badge badge-green":"badge badge-red")},[te.value.supported?(H(),q("span",WE,g(m(s)("explorer.parallelComputation.workersSupported")),1)):(H(),q("span",XE,g(m(s)("explorer.parallelComputation.workersNotSupported")),1))],2),te.value.supported?(H(),q("span",qE,g(te.value.count)+" "+g(m(s)("explorer.parallelComputation.cores")),1)):Re("",!0)])]),h("div",ZE,[h("h2",KE,g(m(s)("explorer.status.title")),1),h("div",JE,[I.value?(H(),q("div",tN,[h("div",{class:bt({"flex items-start space-x-2":!0,"text-green-600 dark:text-green-400":F.value==="success","text-red-600 dark:text-red-400":F.value==="error","text-blue-600 dark:text-blue-400":F.value==="info"})},[h("div",sN,[F.value==="success"?(H(),q("span",nN,"")):F.value==="error"?(H(),q("span",oN,"")):(H(),q("span",rN,""))]),h("div",iN,g(I.value),1)],2)])):(H(),q("div",YE,[h("div",QE,g(m(s)("explorer.status.ready")),1),h("div",eN,g(m(s)("explorer.status.loadNetwork")),1)]))])]),h("div",aN,[h("h2",lN,g(m(s)("explorer.dataLoading.title")),1),h("div",cN,[h("button",{onClick:D[0]||(D[0]=O=>b.value="sample"),class:bt([b.value==="sample"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(s)("explorer.dataLoading.sampleNetworks")),3),h("button",{onClick:D[1]||(D[1]=O=>b.value="upload"),class:bt([b.value==="upload"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700","flex-1 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors"])},g(m(s)("explorer.dataLoading.uploadFile")),3)]),ft(h("div",dN,[h("label",uN,g(m(s)("explorer.dataLoading.chooseNetwork")),1),ft(h("select",{"onUpdate:modelValue":D[2]||(D[2]=O=>x.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",hN,g(m(s)("explorer.dataLoading.chooseCity")),1),h("option",fN,g(m(s)("explorer.dataLoading.caruaru")),1),h("option",pN,g(m(s)("explorer.dataLoading.rj")),1),h("option",mN,g(m(s)("explorer.dataLoading.niteroi")),1)],512),[[_n,x.value]]),h("button",{onClick:N,disabled:!x.value||m(i),class:"w-full btn-primary mt-3"},[m(i)?(H(),q("span",_N,g(m(s)("explorer.dataLoading.loading")),1)):(H(),q("span",yN,g(m(s)("explorer.dataLoading.loadNetwork")),1))],8,gN)],512),[[Ro,b.value==="sample"]]),ft(h("div",vN,[h("div",bN,[h("label",wN,g(m(s)("explorer.dataLoading.fileFormat")),1),ft(h("select",{"onUpdate:modelValue":D[3]||(D[3]=O=>E.value=O),class:"w-full bg-secondary text-primary border border-color px-3 py-2 rounded-md"},[h("option",xN,g(m(s)("explorer.dataLoading.formatJSON")),1),h("option",kN,g(m(s)("explorer.dataLoading.formatCSV")),1),h("option",AN,g(m(s)("explorer.dataLoading.formatNetworkX")),1)],512),[[_n,E.value]])]),ft(h("div",CN,[h("label",SN,g(m(s)("explorer.dataLoading.edgesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[4]||(D[4]=O=>A.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("label",EN,g(m(s)("explorer.dataLoading.nodesCSV")),1),h("input",{type:"file",accept:".csv",onChange:D[5]||(D[5]=O=>L.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),h("div",{class:"text-xs text-secondary bg-[var(--color-bg-secondary)] rounded p-2",innerHTML:m(s)("explorer.dataLoading.edgeCSVFormat")},null,8,NN)],512),[[Ro,E.value==="csv"]]),ft(h("div",TN,[h("label",IN,[E.value==="json"?(H(),q("span",LN,g(m(s)("explorer.dataLoading.jsonFile")),1)):(H(),q("span",RN,g(m(s)("explorer.dataLoading.networkxFile")),1))]),h("input",{type:"file",accept:".json",onChange:D[6]||(D[6]=O=>z.value=O.target.files[0]),class:"w-full text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/30 dark:file:text-purple-300"},null,32),E.value==="json"?(H(),q("div",PN,g(m(s)("explorer.dataLoading.jsonSupports")),1)):(H(),q("div",DN,g(m(s)("explorer.dataLoading.networkxSupports")),1))],512),[[Ro,E.value==="json"||E.value==="networkx"]]),h("button",{onClick:$,disabled:!se.value||m(i),class:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-md font-semibold transition-colors mt-3"},[m(i)?(H(),q("span",GN,g(m(s)("explorer.dataLoading.loading")),1)):(H(),q("span",ON,g(m(s)("explorer.dataLoading.loadUploadedFile")),1))],8,MN)],512),[[Ro,b.value==="upload"]])]),G.value?(H(),q("div",FN,[h("h2",VN,g(m(s)("explorer.networkStats.title")),1),h("div",$N,[h("div",BN,[h("div",zN,g(m(s)("explorer.networkStats.nodes")),1),h("div",jN,g(ce.value.nodes),1)]),h("div",UN,[h("div",HN,g(m(s)("explorer.networkStats.edges")),1),h("div",WN,g(ce.value.edges),1)]),h("div",XN,[h("div",qN,g(m(s)("explorer.networkStats.avgDegree")),1),h("div",ZN,g(ce.value.avgDegree),1)]),h("div",KN,[h("div",JN,g(m(s)("explorer.networkStats.analysisTime")),1),h("div",YN,g(ce.value.analysisTime),1)]),ce.value.communities?(H(),q("div",QN,[h("div",eT,g(m(s)("explorer.networkStats.communities")),1),h("div",tT,g(ce.value.communities),1)])):Re("",!0),ce.value.modularity?(H(),q("div",sT,[h("div",nT,g(m(s)("explorer.networkStats.modularity")),1),h("div",oT,g(ce.value.modularity),1)])):Re("",!0)]),Ae.value?(H(),q("div",rT,[h("span",iT,g(m(s)("explorer.networkStats.usingParallel")),1),h("span",aT," - "+g(te.value.count)+" "+g(m(s)("explorer.networkStats.workersActive")),1)])):Re("",!0),!Ae.value&&G.value?(H(),q("div",lT,[h("span",cT,g(m(s)("explorer.networkStats.singleThreaded")),1),h("span",dT," - "+g(m(s)("explorer.networkStats.networkTooSmall")),1)])):Re("",!0)])):Re("",!0),h("div",uT,[h("h2",hT,g(m(s)("explorer.networkAnalysis.title")),1),_e(rl,{"selected-metrics":W.value,"onUpdate:selectedMetrics":D[7]||(D[7]=O=>W.value=O),"size-metric":Z.value,"onUpdate:sizeMetric":D[8]||(D[8]=O=>Z.value=O),analyzing:S.value,disabled:!G.value,progress:m(l),"show-spectral-metric":!0,onAnalyze:B},null,8,["selected-metrics","size-metric","analyzing","disabled","progress"])]),h("div",fT,[h("h2",pT,g(m(s)("explorer.layoutAlgorithm.title")),1),_e(ol,{modelValue:j.value,"onUpdate:modelValue":D[9]||(D[9]=O=>j.value=O),"available-layouts":ee.value,loading:m(i),disabled:!G.value,onApply:V},null,8,["modelValue","available-layouts","loading","disabled"]),h("div",mT,[h("p",gT,[(H(!0),q(Ve,null,Ss(ee.value,O=>(H(),q("div",{key:O.id},[h("strong",null,g(O.name)+":",1),we(" "+g(O.description)+" ",1),O.requiresStats?(H(),q("span",yT," ("+g(m(s)("explorer.layoutAlgorithm.requiresAnalysis"))+")",1)):Re("",!0),D[11]||(D[11]=h("br",null,null,-1))]))),128))])])]),Ie.value?(H(),q("div",_T,[h("div",vT,[h("h3",bT,g(m(s)("explorer.graphStats.title")),1),h("div",wT,[h("div",xT,[h("span",kT,g(m(s)("explorer.graphStats.density")),1),h("span",AT,g(le.value?.density?.toFixed(4)||"-"),1)]),h("div",CT,[h("span",ST,g(m(s)("explorer.graphStats.diameter")),1),h("span",ET,g(le.value?.diameter===1/0?"":le.value?.diameter||"-"),1)]),h("div",NT,[h("span",TT,g(m(s)("explorer.graphStats.avgClustering")),1),h("span",IT,g(le.value?.average_clustering?.toFixed(4)||"-"),1)]),h("div",LT,[h("span",RT,g(m(s)("explorer.graphStats.avgPathLength")),1),h("span",PT,g(le.value?.average_shortest_path===1/0?"":le.value?.average_shortest_path?.toFixed(2)||"-"),1)]),h("div",DT,[h("span",MT,g(m(s)("explorer.graphStats.components")),1),h("span",OT,g(le.value?.connected_components||"-"),1)]),h("div",GT,[h("span",FT,g(m(s)("explorer.graphStats.avgDegree")),1),h("span",VT,g(le.value?.average_degree?.toFixed(2)||"-"),1)])]),h("div",$T,[h("p",BT,g(m(s)("explorer.graphStats.calculated")),1)])])])):Re("",!0),h("div",zT,[h("h2",jT,g(m(s)("explorer.communityDetection.title")),1),_e(Qh,{modelValue:U.value,"onUpdate:modelValue":D[10]||(D[10]=O=>U.value=O),"available-algorithms":R.value,detecting:M.value,disabled:!G.value,label:m(s)("explorer.communityDetection.algorithm"),onDetect:oe},null,8,["modelValue","available-algorithms","detecting","disabled","label"])]),K.value?(H(),q("div",UT,[h("div",HT,[h("h3",WT,g(m(s)("explorer.communityResults.title")),1),h("div",XT,[h("div",qT,[h("span",ZT,g(m(s)("explorer.communityResults.communitiesFound")),1),h("span",KT,g(re.value?.numCommunities||"-"),1)]),h("div",JT,[h("span",YT,g(m(s)("explorer.communityResults.modularityScore")),1),h("span",QT,g(re.value?.modularity?.toFixed(3)||"-"),1)]),h("div",eI,[h("span",tI,g(m(s)("explorer.communityResults.computationTime")),1),h("span",sI,g(ue.value||"-"),1)]),h("div",nI,[h("span",oI,g(m(s)("explorer.communityResults.algorithm")),1),h("span",rI,g(U.value),1)])]),h("div",iI,[h("p",aI,g(m(s)("explorer.communityResults.nodeColorsRepresent")),1)])])])):Re("",!0),h("div",lI,[h("h3",cI,g(m(s)("explorer.instructions.title")),1),h("ul",dI,[h("li",{innerHTML:m(s)("explorer.instructions.dragNodes")},null,8,uI),h("li",{innerHTML:m(s)("explorer.instructions.scroll")},null,8,hI),h("li",{innerHTML:m(s)("explorer.instructions.dragBackground")},null,8,fI),h("li",{innerHTML:m(s)("explorer.instructions.hoverNodes")},null,8,pI),h("li",{innerHTML:m(s)("explorer.instructions.nodeSize")},null,8,mI),h("li",{innerHTML:m(s)("explorer.instructions.color")},null,8,gI)])])]),graph:Be(()=>[m(i)?(H(),q("div",yI,[h("div",_I,[D[12]||(D[12]=h("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent mb-4"},null,-1)),h("p",vI,g(X.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:o,class:"w-full h-full"},null,512)]),_:1}))}},wI=Nn(bI,[["__scopeId","data-v-790b5b0e"]]),xI=["aria-labelledby"],kI={class:"px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-700"},AI=["id"],CI={class:"px-6 py-4"},SI={class:"space-y-4"},EI=["for"],NI={key:0,class:"text-red-500"},TI=["id","onUpdate:modelValue","required"],II=["id","onUpdate:modelValue","required"],LI={value:"",disabled:""},RI=["value"],PI=["aria-labelledby"],DI=["name","value","onUpdate:modelValue","required"],MI={class:"text-2xl"},OI={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},GI=["id","onUpdate:modelValue","placeholder","required"],FI={__name:"DialogForm",props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},fields:{type:Array,required:!0,default:()=>[]}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=t,n=e,{t:o}=Jt(),r=`dialog-${Math.random().toString(36).substr(2,9)}`,i=ae([]),a=()=>{i.value=s.fields.map(()=>"")},l=()=>{if(!s.fields.every((u,f)=>!(u.required&&!i.value[f]?.trim()))){alert("Please fill in all required fields");return}n("confirm",[...i.value])},c=()=>{a(),n("cancel")};return St(()=>s.visible,d=>{d&&(a(),Cn(()=>{const u=document.querySelector("#field-0");u&&(u.focus(),u.tagName==="INPUT"&&u.select())}))}),Ps(()=>{a()}),(d,u)=>(H(),Ts(Dp,{to:"body"},[t.visible?(H(),q("div",{key:0,class:"dialog-overlay fixed inset-0 z-[9999] flex items-center justify-center",style:{"z-index":"9999 !important",position:"fixed !important"},onClick:Ju(c,["self"])},[u[0]||(u[0]=h("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",style:{"z-index":"9998"}},null,-1)),h("div",{class:"dialog-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",style:{"z-index":"10000 !important",position:"relative !important"},role:"dialog","aria-modal":"true","aria-labelledby":`dialog-title-${r}`},[h("div",kI,[h("h3",{id:`dialog-title-${r}`,class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},g(t.title),9,AI)]),h("div",CI,[h("div",SI,[(H(!0),q(Ve,null,Ss(t.fields,(f,p)=>(H(),q("div",{key:p,class:"space-y-2"},[h("label",{for:`field-${p}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[we(g(f.label)+" ",1),f.required?(H(),q("span",NI,"*")):Re("",!0)],8,EI),f.type==="text"||!f.type?ft((H(),q("input",{key:0,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:[Pn(l,["enter"]),Pn(c,["esc"])]},null,40,TI)),[[dc,i.value[p]]]):f.type==="select"?ft((H(),q("select",{key:1,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,required:f.required,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyup:Pn(c,["esc"])},[h("option",LI,g(m(o)("family.dialogs.selectOption")),1),(H(!0),q(Ve,null,Ss(f.options,y=>(H(),q("option",{key:y.value,value:y.value},g(y.text),9,RI))),128))],40,II)),[[_n,i.value[p]]]):f.type==="radio"?(H(),q("div",{key:2,class:"flex flex-wrap gap-2",role:"radiogroup","aria-labelledby":`field-${p}-label`},[(H(!0),q(Ve,null,Ss(f.options,y=>(H(),q("label",{key:y.value,class:bt(["flex items-center gap-2 cursor-pointer px-3 py-2 border-2 rounded-lg transition-all flex-1 min-w-[120px]",{"border-green-500 bg-green-50 dark:bg-green-900/20":i.value[p]===y.value,"border-gray-300 dark:border-gray-600 hover:border-green-300":i.value[p]!==y.value}])},[ft(h("input",{type:"radio",name:`field-${p}`,value:y.value,"onUpdate:modelValue":_=>i.value[p]=_,required:f.required,class:"text-green-600 focus:ring-green-500"},null,8,DI),[[Qi,i.value[p]]]),h("span",MI,g(y.emoji),1),h("span",OI,g(y.text),1)],2))),128))],8,PI)):f.type==="emoji"?ft((H(),q("input",{key:3,id:`field-${p}`,"onUpdate:modelValue":y=>i.value[p]=y,type:"text",placeholder:f.placeholder||"Type an emoji ",required:f.required,maxlength:"10",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-2xl text-center",onKeyup:[Pn(l,["enter"]),Pn(c,["esc"])]},null,40,GI)),[[dc,i.value[p]]]):Re("",!0)]))),128))])]),h("div",{class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3"},[h("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors"}," Cancel "),h("button",{type:"button",onClick:l,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"}," OK ")])],8,xI)])):Re("",!0)]))}},VI=Nn(FI,[["__scopeId","data-v-8db90550"]]),ne={YOU:1,PARENT:2,SIBLING:3,UNCLE_AUNT:4,COUSIN:5,GRANDPARENT:6,NIECE_NEPHEW:7,CHILD:8,PARTNER:9},nt={MALE:"male",FEMALE:"female",OTHER:"other"},Oi={[nt.MALE]:"",[nt.FEMALE]:"",[nt.OTHER]:""},$I={[ne.YOU]:"#6366f1",[ne.PARENT]:"#ec4899",[ne.SIBLING]:"#3b82f6",[ne.UNCLE_AUNT]:"#f97316",[ne.COUSIN]:"#a855f7",[ne.GRANDPARENT]:"#b45309",[ne.NIECE_NEPHEW]:"#06b6d4",[ne.CHILD]:"#14b8a6",[ne.PARTNER]:"#f43f5e"};function nn(t,e=null){const s=e===nt.FEMALE,n=e===nt.MALE||e===nt.OTHER;switch(t){case ne.YOU:return"You";case ne.PARENT:return s?"Mother":n?"Father":"Parent";case ne.SIBLING:return s?"Sister":n?"Brother":"Sibling";case ne.UNCLE_AUNT:return s?"Aunt":n?"Uncle":"Uncle/Aunt";case ne.COUSIN:return"Cousin";case ne.GRANDPARENT:return s?"Grandmother":n?"Grandfather":"Grandparent";case ne.NIECE_NEPHEW:return s?"Niece":n?"Nephew":"Niece/Nephew";case ne.CHILD:return s?"Daughter":n?"Son":"Child";case ne.PARTNER:return s?"Wife":n?"Husband":"Partner/Spouse";default:return"Relative"}}const BI={nodes:[{id:"YOU",group:ne.YOU,relationship:"You"}],links:[]},Gi="familyTree";function Pd(t){return typeof t=="string"?t:t?.id||String(t)}class zI{constructor(e,s=n=>n){this.getGraphInstance=e,this.t=s}canAddParents(){const e=this.getGraphInstance();if(!e?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const s=e.data.nodes.filter(n=>n.group===ne.PARENT);return s.length>=2?{canAdd:!1,existingCount:s.length,message:this.t("family.operations.validation.maxParents")}:{canAdd:!0,existingCount:s.length,remainingSlots:2-s.length}}canAddGrandparents(e){const s=this.getGraphInstance();if(!s?.data)return{canAdd:!1,existingCount:0,message:"Graph not initialized"};const o=s.data.links.filter(r=>Pd(r.target)===e).map(r=>{const i=Pd(r.source);return s.data.nodes.find(a=>a.id===i)}).filter(r=>r&&r.group===ne.GRANDPARENT);return o.length>=2?{canAdd:!1,existingCount:o.length,message:`${e} already has 2 grandparents. Cannot add more.`}:{canAdd:!0,existingCount:o.length,remainingSlots:2-o.length}}hasPartner(e){const s=this.getGraphInstance();return s?.data?s.data.nodes.filter(o=>o.group===ne.PARTNER&&o.partnerOf===e).length>0:!1}getEligibleParents(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const n=s.group;return n!==ne.GRANDPARENT&&n!==ne.UNCLE_AUNT&&n!==ne.PARENT}):[]}getEligibleForPartner(){const e=this.getGraphInstance();return e?.data?e.data.nodes.filter(s=>{const n=s.group;return(n===ne.YOU||n===ne.SIBLING||n===ne.COUSIN||n===ne.UNCLE_AUNT||n===ne.NIECE_NEPHEW||n===ne.CHILD)&&!this.hasPartner(s.id)}):[]}}function $e(t){return typeof t=="string"?t:t?.id||String(t)}class jI{constructor(e,s,n,o){this.graphManager=e,this.getGraphInstance=s,this.validation=n,this.saveFamily=o}addNodeWithRelationship(e,s,n,o=null,r=null,i=null){const a=i||nn(n,o),l=this.getGraphInstance(),c=this.graphManager.addNode(e,s,n,!0);if(c&&typeof c.then=="function")return c.then(u=>(this._setNodeProperties(u,a,o,r,l),u));const d=c;return this._setNodeProperties(d,a,o,r,l),d}_setNodeProperties(e,s,n,o,r){this._setNodeProperty(e,"relationship",s,r),n&&this._setNodeProperty(e,"gender",n,r),o&&this._setNodeProperty(e,"avatar",o,r),requestAnimationFrame(()=>{if(r?.data){const i=r.data.nodes.find(a=>a.id===e.id);i&&(i.relationship||(i.relationship=s),n&&!i.gender&&(i.gender=n),o&&!i.avatar&&(i.avatar=o),o&&r.options?.renderMode==="avatars"&&this._updateNodeAvatarElement(e.id,o,r))}})}_updateNodeAvatarElement(e,s,n){n?.nodeGroup&&n.nodeGroup.selectAll("text").filter(o=>o.id===e).text(s)}_setNodeProperty(e,s,n,o){if(e&&(e[s]=n,o?.data)){let r=o.data.nodes.find(i=>i.id===e.id);r?(r[s]=n,r!==e&&(e[s]=n)):requestAnimationFrame(()=>{if(o?.data){const i=o.data.nodes.find(a=>a.id===e.id);i&&(i[s]=n)}})}}_setRelationshipOnNode(e,s,n){this._setNodeProperty(e,"relationship",s,n),requestAnimationFrame(()=>{if(n?.data){const o=n.data.nodes.find(r=>r.id===e.id);o&&!o.relationship&&(o.relationship=s)}})}addParents(e,s,n=null,o=null){const r=this.validation.canAddParents();if(!r.canAdd)return{success:!1,message:r.message};if(!e?.trim()&&!s?.trim())return{success:!1,message:"At least one parent name is required"};const i=r.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let l=null;e?.trim()&&i>=1&&(l=this.addNodeWithRelationship(["YOU"],e.trim(),ne.PARENT,nt.FEMALE,n?.trim()||null)?.id||e.trim());let c=null;const d=l?i>=2:i>=1;if(s?.trim()&&d)c=this.addNodeWithRelationship(["YOU"],s.trim(),ne.PARENT,nt.MALE,o?.trim()||null)?.id||s.trim();else if(s?.trim()&&!d)return{success:!0,message:"Only one parent slot available. Added only the mother."};return l&&c&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(l,c)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addSibling(e,s,n=null){if(!e?.trim())return{success:!1,message:"Sibling name is required"};if(!s)return{success:!1,message:"Gender is required"};const o=this.getGraphInstance();if(!o?.data)return{success:!1,message:"Graph not initialized"};const i=o.data.links.filter(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"||p==="YOU"}).map(u=>{const f=$e(u.source),p=$e(u.target);return f==="YOU"?p:f}).map(u=>{const f=o.data.nodes.find(p=>p.id===u);return f&&f.group===ne.PARENT?u:null}).filter(u=>u!==null),a=o.data.nodes.filter(u=>u.group===ne.SIBLING||u.id==="YOU").map(u=>u.id),l=[];i.length>0?l.push(...i):l.push("YOU"),a.forEach(u=>{l.includes(u)||l.push(u)});const c=this.addNodeWithRelationship(l,e.trim(),ne.SIBLING,s,n?.trim()||null);if(!c)return{success:!1,message:"Failed to add sibling"};const d=c.id||e.trim();return this.graphManager.addLink&&a.forEach(u=>{u!==d&&requestAnimationFrame(()=>{this.graphManager.addLink(d,u,!0)})}),this.saveFamily(),{success:!0}}addGrandparents(e,s,n,o=null,r=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};const i=this.validation.canAddGrandparents(e);if(!i.canAdd)return{success:!1,message:i.message};if(!s?.trim()&&!n?.trim())return{success:!1,message:"At least one grandparent name is required"};const a=i.remainingSlots;if(!this.getGraphInstance())return{success:!1,message:"Graph not initialized"};let c=null;s?.trim()&&a>=1&&(c=this.addNodeWithRelationship([e],s.trim(),ne.GRANDPARENT,nt.FEMALE,o?.trim()||null)?.id||s.trim());let d=null;const u=c?a>=2:a>=1;if(n?.trim()&&u)d=this.addNodeWithRelationship([e],n.trim(),ne.GRANDPARENT,nt.MALE,r?.trim()||null)?.id||n.trim();else if(n?.trim()&&!u)return{success:!0,message:"Only one grandparent slot available for this parent. Added only the grandmother."};return c&&d&&this.graphManager.addLink?requestAnimationFrame(()=>{this.graphManager.addLink(c,d)&&this.saveFamily()}):this.saveFamily(),{success:!0}}addUncleAunt(e,s,n,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Uncle/aunt name is required"};if(!n)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.links,a=i.filter(p=>($e(p.source),$e(p.target)===e)).map(p=>{const y=$e(p.source);return r.data.nodes.find(_=>_.id===y)}).filter(p=>p&&p.group===ne.GRANDPARENT).map(p=>p.id),l=[];if(a.length>0){const p=i.filter(y=>{const _=$e(y.source);return a.includes(_)}).map(y=>{const _=$e(y.target);return r.data.nodes.find(w=>w.id===_)}).filter(y=>y&&(y.group===ne.PARENT||y.group===ne.UNCLE_AUNT)).map(y=>y.id);l.push(...p)}else l.push(e);const c=[...new Set(l)],d=[...a,...c],u=this.addNodeWithRelationship(d,s.trim(),ne.UNCLE_AUNT,n,o?.trim()||null);if(!u)return{success:!1,message:"Failed to add uncle/aunt"};const f=u.id||s.trim();return this.graphManager.addLink&&c.forEach(p=>{p!==f&&requestAnimationFrame(()=>{this.graphManager.addLink(f,p,!0)})}),this.saveFamily(),{success:!0}}addCousin(e,s,n,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Uncle/aunt not found"};if(!n)return{success:!1,message:"Gender is required"};if(!s?.trim())return{success:!1,message:"Cousin name is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(f=>f.group===ne.PARTNER&&f.partnerOf===e),a=r.data.links,l=r.data.nodes.filter(f=>{if(f.group!==ne.COUSIN)return!1;const p=a.some(y=>{const _=$e(y.source),w=$e(y.target);return _===f.id&&w===e||w===f.id&&_===e});if(i){const y=a.some(_=>{const w=$e(_.source),b=$e(_.target);return w===f.id&&b===i.id||b===f.id&&w===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,s.trim(),ne.COUSIN,n,o?.trim()||null);if(!d)return{success:!1,message:"Failed to add cousin"};const u=d.id||s.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addChild(e,s,n,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Parent not found"};if(!s?.trim())return{success:!1,message:"Child name is required"};if(!n)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(y=>y.id===e);if(!i)return{success:!1,message:"Parent not found"};let a=ne.CHILD;i.group===ne.YOU||i.group===ne.PARTNER?a=ne.CHILD:i.group===ne.SIBLING?a=ne.NIECE_NEPHEW:a=ne.CHILD;const l=r.data.nodes.find(y=>y.group===ne.PARTNER&&y.partnerOf===e),c=r.data.links,d=r.data.nodes.filter(y=>{if(y.group!==a)return!1;const _=c.some(w=>{const b=$e(w.source),x=$e(w.target);return b===y.id&&x===e||x===y.id&&b===e});if(l){const w=c.some(b=>{const x=$e(b.source),E=$e(b.target);return x===y.id&&E===l.id||E===y.id&&x===l.id});return _||w}return _}).map(y=>y.id),u=[e];l&&u.push(l.id),d.forEach(y=>{u.includes(y)||u.push(y)});const f=this.addNodeWithRelationship(u,s.trim(),a,n,o?.trim()||null);if(!f)return{success:!1,message:"Failed to add child"};const p=f.id||s.trim();return this.graphManager.addLink&&d.forEach(y=>{y!==p&&requestAnimationFrame(()=>{this.graphManager.addLink(p,y,!0)})}),this.saveFamily(),{success:!0}}addNieceNephew(e,s,n,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Sibling not found"};if(!s?.trim())return{success:!1,message:"Niece/nephew name is required"};if(!n)return{success:!1,message:"Gender is required"};const r=this.getGraphInstance();if(!r?.data)return{success:!1,message:"Graph not initialized"};const i=r.data.nodes.find(f=>f.group===ne.PARTNER&&f.partnerOf===e),a=r.data.links,l=r.data.nodes.filter(f=>{if(f.group!==ne.NIECE_NEPHEW)return!1;const p=a.some(y=>{const _=$e(y.source),w=$e(y.target);return _===f.id&&w===e||w===f.id&&_===e});if(i){const y=a.some(_=>{const w=$e(_.source),b=$e(_.target);return w===f.id&&b===i.id||b===f.id&&w===i.id});return p||y}return p}).map(f=>f.id),c=[e];i&&c.push(i.id),l.forEach(f=>{c.includes(f)||c.push(f)});const d=this.addNodeWithRelationship(c,s.trim(),ne.NIECE_NEPHEW,n,o?.trim()||null);if(!d)return{success:!1,message:"Failed to add niece/nephew"};const u=d.id||s.trim();return this.graphManager.addLink&&l.forEach(f=>{f!==u&&requestAnimationFrame(()=>{this.graphManager.addLink(u,f,!0)})}),this.saveFamily(),{success:!0}}addPartner(e,s,n,o=null){if(!this.graphManager?.hasNode||!this.graphManager.hasNode(e))return{success:!1,message:"Person not found"};if(!s?.trim())return{success:!1,message:"Partner name is required"};if(!n)return{success:!1,message:"Gender is required"};if(this.validation.hasPartner(e))return{success:!1,message:`${e} already has a partner!`};const r=this.getGraphInstance();let i=null;if(r?.data){const c=r.data.nodes.find(d=>d.id===e);if(c){const d=c.relationship||nn(c.group);d==="You"?i="Your Partner/Spouse":i=`${d}'s Partner`}}const a=this.addNodeWithRelationship([e],s.trim(),ne.PARTNER,n,o?.trim()||null,i),l=c=>{this._setNodeProperty(c,"partnerOf",e,r),requestAnimationFrame(()=>{if(r?.data){const d=r.data.nodes.find(u=>u.id===c.id);d&&(d.partnerOf=e)}this.saveFamily()})};return a&&typeof a.then=="function"?a.then(c=>{l(c)}):l(a),{success:!0}}}function os(t){return typeof t=="string"?t:t?.id||String(t)}class UI{constructor(e,s,n,o=r=>r){this.getGraphInstance=e,this.onStatusChange=s,this.log=n,this.t=o,this.autoSaveInterval=null,this.autoSaveIntervalMs=3e4}getInitialDataset(){return{...BI}}loadFamily(){try{const e=localStorage.getItem(Gi);if(e){const s=JSON.parse(e);return s.links&&Array.isArray(s.links)&&(s.links=s.links.map(n=>({...n,source:os(n.source),target:os(n.target)}))),s.nodes&&Array.isArray(s.nodes)&&(s.nodes=s.nodes.filter(n=>n&&n.id),s.nodes.forEach(n=>{if(!n.relationship&&n.group!==void 0)if(n.group===ne.PARTNER){const r=(s.links||[]).filter(i=>{const a=os(i.source),l=os(i.target);return a===n.id||l===n.id});if(r.length>0){const i=r[0],a=os(i.source)===n.id?os(i.target):os(i.source),l=s.nodes.find(c=>c.id===a);if(l){const c=l.relationship||nn(l.group);c==="You"?n.relationship="Your Partner/Spouse":n.relationship=`${c}'s Partner`}else n.relationship=nn(n.group)}else n.relationship=nn(n.group)}else n.relationship=nn(n.group)})),this.log.debug("Loaded family tree from storage",{nodeCount:s.nodes?.length||0,linkCount:s.links?.length||0}),s}}catch(e){this.log.error("Failed to load family tree",{error:e.message})}return null}saveFamily(){const e=this.getGraphInstance();if(!e?.data){this.log.warn("Cannot save - graph not initialized");return}try{const s=e.data.links.map(r=>({source:os(r.source),target:os(r.target)})),o={nodes:e.data.nodes.map(r=>{const{id:i,group:a,relationship:l,...c}=r,d={id:i,group:a};return l!==void 0&&(d.relationship=l),c.gender!==void 0&&(d.gender=c.gender),c.avatar!==void 0&&(d.avatar=c.avatar),c.partnerOf!==void 0&&(d.partnerOf=c.partnerOf),c.centrality!==void 0&&(d.centrality=c.centrality),c.community!==void 0&&(d.community=c.community),c.degree!==void 0&&(d.degree=c.degree),c.eigenvector!==void 0&&(d.eigenvector=c.eigenvector),c.betweenness!==void 0&&(d.betweenness=c.betweenness),d}),links:s};localStorage.setItem(Gi,JSON.stringify(o)),this.log.debug("Family tree saved",{nodeCount:o.nodes.length,linkCount:o.links.length}),this.showStatus(this.t("family.storage.saved"),"success")}catch(s){this.log.error("Failed to save family tree",{error:s.message}),this.showStatus(this.t("family.storage.error"),"error")}}resetFamily(e,s){const n=!!this.autoSaveInterval;n&&this.stopAutoSave(),localStorage.removeItem(Gi);const o=this.getInitialDataset(),r=s.value||s;if(r){const i=()=>{r.off("ready",i),n&&this.startAutoSave(),this.saveFamily()};r.on("ready",i)}e(o.nodes,o.links),this.log.info("Family tree reset"),this.showStatus(this.t("family.storage.reset"),"success")}startAutoSave(){this.autoSaveInterval||(this.autoSaveInterval=setInterval(()=>{document.visibilityState==="visible"&&this.saveFamily()},this.autoSaveIntervalMs),this.log.debug("Auto-save started",{intervalMs:this.autoSaveIntervalMs}))}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null,this.log.debug("Auto-save stopped"))}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}}function Qs(t){return[{value:nt.MALE,emoji:Oi[nt.MALE],text:t("family.dialogs.genderOptions.male")},{value:nt.FEMALE,emoji:Oi[nt.FEMALE],text:t("family.dialogs.genderOptions.female")},{value:nt.OTHER,emoji:Oi[nt.OTHER],text:t("family.dialogs.genderOptions.other")}]}const Ce={ADD_PARENTS:"addParents",ADD_SIBLING:"addSibling",ADD_GRANDPARENTS:"addGrandparents",ADD_UNCLE_AUNT:"addUncleAunt",ADD_COUSIN:"addCousin",ADD_CHILD:"addChild",ADD_NIECE_NEPHEW:"addNieceNephew",ADD_PARTNER:"addPartner"};class Bf{constructor(e,s,n=o=>o){this.getGraphInstance=e,this.validation=s,this.t=n}getAddParentsDialog(){const e=this.validation.canAddParents();return e&&!e.canAdd?null:{title:this.t("family.dialogs.addParents"),fields:[{label:this.t("family.dialogs.fields.motherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.motherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.mother")},{label:this.t("family.dialogs.fields.fatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.fatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.father")}],action:Ce.ADD_PARENTS}}getAddSiblingDialog(){return{title:this.t("family.dialogs.addSibling"),fields:[{label:this.t("family.dialogs.fields.siblingName"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_SIBLING}}getAddGrandparentsDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(o=>o.group===ne.PARENT);if(s.length===0)return null;const n=s.map(o=>({value:o.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",o.id)}));return{title:this.t("family.dialogs.addGrandparents"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.grandmotherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandmotherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandmother")},{label:this.t("family.dialogs.fields.grandfatherName"),type:"text",required:!1},{label:this.t("family.dialogs.fields.grandfatherAvatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.grandfather")}],action:Ce.ADD_GRANDPARENTS}}getAddUncleAuntDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(o=>o.group===ne.PARENT);if(s.length===0)return null;const n=s.map(o=>({value:o.id,text:this.t("family.dropdownOptions.parentSideTemplate").replace("{name}",o.id)}));return{title:this.t("family.dialogs.addUncleAunt"),fields:[{label:this.t("family.dialogs.fields.parentsSide"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_UNCLE_AUNT}}getAddCousinDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(o=>o.group===ne.UNCLE_AUNT);if(s.length===0)return null;const n=s.map(o=>({value:o.id,text:this.t("family.dropdownOptions.uncleAuntChildTemplate").replace("{name}",o.id)}));return{title:this.t("family.dialogs.addCousin"),fields:[{label:this.t("family.dialogs.fields.uncleAuntField"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_COUSIN}}getAddChildDialog(){const e=this.validation.getEligibleParents();if(e.length===0)return null;const s=e.map(n=>{let o="";switch(n.group){case ne.YOU:o=this.t("family.dropdownOptions.yourChild");break;case ne.SIBLING:o=this.t("family.dropdownOptions.nieceNephewTemplate").replace("{name}",n.id);break;case ne.COUSIN:o=this.t("family.dropdownOptions.cousinChildTemplate").replace("{name}",n.id);break;case ne.CHILD:o=this.t("family.dropdownOptions.grandchildTemplate").replace("{name}",n.id);break;case ne.NIECE_NEPHEW:o=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id);break;case ne.PARTNER:o=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id);break;default:o=this.t("family.dropdownOptions.childTemplate").replace("{name}",n.id)}return{value:n.id,text:o}});return{title:this.t("family.dialogs.addChild"),fields:[{label:this.t("family.dialogs.fields.parent"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_CHILD}}getAddNieceNephewDialog(){const e=this.getGraphInstance();if(!e?.data)return null;const s=e.data.nodes.filter(o=>o.group===ne.SIBLING);if(s.length===0)return null;const n=s.map(o=>({value:o.id,text:this.t("family.dropdownOptions.siblingChildTemplate").replace("{name}",o.id)}));return{title:this.t("family.dialogs.addNieceNephew"),fields:[{label:this.t("family.dialogs.fields.sibling"),type:"select",options:n,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_NIECE_NEPHEW}}getAddPartnerDialog(){const e=this.validation.getEligibleForPartner();if(e.length===0)return null;const s=e.map(n=>{let o="";switch(n.group){case ne.YOU:o=this.t("family.operations.relationships.yourPartner");break;case ne.SIBLING:o=this.t("family.dropdownOptions.siblingPartnerTemplate").replace("{name}",n.id);break;case ne.COUSIN:o=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.UNCLE_AUNT:o=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.NIECE_NEPHEW:o=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id);break;case ne.CHILD:o=this.t("family.dropdownOptions.childPartnerTemplate").replace("{name}",n.id);break;default:o=this.t("family.dropdownOptions.partnerTemplate").replace("{name}",n.id)}return{value:n.id,text:o}});return{title:this.t("family.dialogs.addPartner"),fields:[{label:this.t("family.dialogs.fields.partnerOf"),type:"select",options:s,required:!0},{label:this.t("family.dialogs.fields.name"),type:"text",required:!0},{label:this.t("family.dialogs.fields.gender"),type:"radio",options:Qs(this.t),required:!0},{label:this.t("family.dialogs.fields.avatar"),type:"emoji",required:!1,placeholder:this.t("family.dialogs.placeholders.avatar")}],action:Ce.ADD_PARTNER}}getValidationMessage(e){const s=this.getGraphInstance();switch(e){case Ce.ADD_PARENTS:return this.validation.canAddParents()?.message||"Cannot add more parents (maximum 2)";case Ce.ADD_GRANDPARENTS:return s?.data?.nodes.filter(o=>o.group===ne.PARENT)?.length===0?"You must add parents first before adding grandparents":"No parents available";case Ce.ADD_UNCLE_AUNT:return s?.data?.nodes.filter(o=>o.group===ne.PARENT)?.length===0?"You must add parents first before adding uncles/aunts":"No parents available";case Ce.ADD_COUSIN:return s?.data?.nodes.filter(o=>o.group===ne.UNCLE_AUNT)?.length===0?"You must add uncles/aunts first before adding cousins":"No uncles/aunts available";case Ce.ADD_CHILD:return"No eligible parents available to have children";case Ce.ADD_NIECE_NEPHEW:return s?.data?.nodes.filter(o=>o.group===ne.SIBLING)?.length===0?"You must add siblings first before adding nieces/nephews":"No siblings available";case Ce.ADD_PARTNER:return"No eligible people available for partners (they may already have partners)";default:return"Operation cannot be performed"}}executeAction(e,s,n){switch(e){case Ce.ADD_PARENTS:return n.addParents(s[0],s[2],s[1],s[3]);case Ce.ADD_SIBLING:return n.addSibling(s[0],s[1],s[2]);case Ce.ADD_GRANDPARENTS:return n.addGrandparents(s[0],s[1],s[3],s[2],s[4]);case Ce.ADD_UNCLE_AUNT:return n.addUncleAunt(s[0],s[1],s[2],s[3]);case Ce.ADD_COUSIN:return n.addCousin(s[0],s[1],s[2],s[3]);case Ce.ADD_CHILD:return n.addChild(s[0],s[1],s[2],s[3]);case Ce.ADD_NIECE_NEPHEW:return n.addNieceNephew(s[0],s[1],s[2],s[3]);case Ce.ADD_PARTNER:return n.addPartner(s[0],s[1],s[2],s[3]);default:return{success:!1,message:`Unknown action: ${e}`}}}}class HI{constructor(e,s,n=""){this.nodes=JSON.parse(JSON.stringify(e)),this.links=s.map(o=>({source:typeof o.source=="string"?o.source:o.source.id,target:typeof o.target=="string"?o.target:o.target.id})),this.description=n,this.timestamp=Date.now()}getNodes(){return JSON.parse(JSON.stringify(this.nodes))}getLinks(){return JSON.parse(JSON.stringify(this.links))}getDescription(){return this.description}getTimestamp(){return this.timestamp}getSummary(){return{nodeCount:this.nodes.length,linkCount:this.links.length,description:this.description,timestamp:new Date(this.timestamp).toLocaleString()}}}class WI{constructor(e={}){this.undoStack=[],this.redoStack=[],this.maxHistorySize=e.maxHistorySize||10}saveState(e){this.undoStack.push(e),this.undoStack.length>this.maxHistorySize&&this.undoStack.shift(),this.redoStack=[]}undo(){if(this.undoStack.length===0)return null;const e=this.undoStack.pop();return this.redoStack.push(e),e}redo(){if(this.redoStack.length===0)return null;const e=this.redoStack.pop();return this.undoStack.push(e),e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}getUndoCount(){return this.undoStack.length}getRedoCount(){return this.redoStack.length}getUndoDescription(){return this.undoStack.length===0?null:this.undoStack[this.undoStack.length-1].getDescription()}getRedoDescription(){return this.redoStack.length===0?null:this.redoStack[this.redoStack.length-1].getDescription()}clear(){this.undoStack=[],this.redoStack=[]}getHistorySummary(){return{undoCount:this.undoStack.length,redoCount:this.redoStack.length,canUndo:this.canUndo(),canRedo:this.canRedo(),nextUndo:this.getUndoDescription(),nextRedo:this.getRedoDescription()}}}class XI{constructor({graphManager:e,onStatusChange:s=null,lang:n="en"}){this.graphManager=e,this.onStatusChange=s,this.lang=n,this.log=Xe({prefix:"FamilyController",level:"info"});const o=()=>this.getGraphInstance(),r=i=>hh(this.lang,i);this.validation=new zI(o,r),this.storage=new UI(o,s,this.log,r),this.operations=new jI(e,o,this.validation,()=>this.storage.saveFamily()),this.dialogService=new Bf(o,this.validation,r),this.mementoHistory=new WI({maxHistorySize:10}),this.storage.startAutoSave()}getInitialDataset(){return this.storage.getInitialDataset()}loadFamily(){return this.storage.loadFamily()}getGraphInstance(){return this.graphManager?.graphInstance?this.graphManager.graphInstance.value||this.graphManager.graphInstance:null}saveFamily(){this.storage.saveFamily()}resetFamily(){this.storage.resetFamily(this.graphManager.loadData,this.graphManager.graphInstance)}lockGraph(){if(!this.graphManager?.lockPositions){this.log.warn("lockPositions not available");return}this.graphManager.lockPositions(),this.showStatus("Graph locked","success")}unlockGraph(){if(!this.graphManager?.unlockPositions){this.log.warn("unlockPositions not available");return}this.graphManager.unlockPositions(),this.showStatus("Graph unlocked","success")}saveAsPNG(e="family-tree.png"){if(!this.graphManager?.saveAsPNG){this.log.warn("saveAsPNG not available");return}this.graphManager.saveAsPNG(e),this.showStatus("Image saved!","success")}canAddParents(){return this.validation.canAddParents()}getEligibleParents(){return this.validation.getEligibleParents()}getEligibleForPartner(){return this.validation.getEligibleForPartner()}addParents(e,s=null){return this.operations.addParents(e,s)}addSibling(e){return this.operations.addSibling(e)}addGrandparents(e,s,n=null){return this.operations.addGrandparents(e,s,n)}addUncleAunt(e,s){return this.operations.addUncleAunt(e,s)}addCousin(e,s){return this.operations.addCousin(e,s)}addChild(e,s){return this.operations.addChild(e,s)}addNieceNephew(e,s){return this.operations.addNieceNephew(e,s)}addPartner(e,s){return this.operations.addPartner(e,s)}getDialogService(){return this.dialogService}getOperations(){return this.operations}async applyLayout(e){if(e==="none"){const s=" Using D3 physics simulation (no layout algorithm)";return this.log.debug("Using default D3 physics simulation"),this.showStatus(s,"info"),this.graphManager?.unlockPositions&&this.graphManager.unlockPositions(),{success:!0,layoutId:"none",message:"Using default D3 physics simulation"}}try{if(this.log.debug("Applying layout algorithm",{layoutId:e}),this.showStatus(`Applying ${e} layout...`,"info"),!this.graphManager?.applyLayout)return{success:!1,error:"Layout functionality not available"};if(await this.graphManager.applyLayout(e)){const n=` Applied ${e} layout algorithm`;return this.log.info("Layout applied successfully",{layoutId:e}),this.showStatus(n,"success"),{success:!0,layoutId:e}}return this.log.warn("Layout application failed",{layoutId:e}),{success:!1,error:"Layout application failed"}}catch(s){const n=` Layout failed: ${s.message}`;return this.log.error("Layout application failed",{layoutId:e,error:s.message,stack:s.stack}),this.showStatus(n,"error"),{success:!1,error:s.message}}}getAvailableLayouts(){return this.graphManager?.getAvailableLayouts?this.graphManager.getAvailableLayouts():[]}showStatus(e,s="info"){this.onStatusChange&&this.onStatusChange(e,s)}saveStateBeforeOperation(e){const s=this.getGraphInstance();if(!s||!s.data){this.log.warn("Cannot save state: graph not available");return}const n=new HI(s.data.nodes,s.data.links,e);this.mementoHistory.saveState(n),this.log.debug("State saved",{description:e,summary:n.getSummary()})}undo(){if(!this.mementoHistory.canUndo())return{success:!1,message:"Nothing to undo"};const e=this.mementoHistory.undo();if(!e)return{success:!1,message:"Failed to undo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const n=e.getNodes(),o=e.getLinks();this.graphManager.loadData(n,o);const r=`Undid: ${e.getDescription()}`;return this.log.info("Undo successful",{description:e.getDescription()}),this.showStatus(r,"info"),{success:!0,message:r}}redo(){if(!this.mementoHistory.canRedo())return{success:!1,message:"Nothing to redo"};const e=this.mementoHistory.redo();if(!e)return{success:!1,message:"Failed to redo"};if(!this.getGraphInstance())return{success:!1,message:"Graph not available"};const n=e.getNodes(),o=e.getLinks();this.graphManager.loadData(n,o);const r=`Redid: ${e.getDescription()}`;return this.log.info("Redo successful",{description:e.getDescription()}),this.showStatus(r,"info"),{success:!0,message:r}}canUndo(){return this.mementoHistory.canUndo()}canRedo(){return this.mementoHistory.canRedo()}getHistorySummary(){return this.mementoHistory.getHistorySummary()}dispose(){this.storage.stopAutoSave(),this.log.info("FamilyController disposed")}}const qI={class:"family-page"},ZI={class:"demo-controls-header"},KI={class:"demo-controls-title"},JI={class:"demo-controls-description"},YI={class:"info-box-green mb-4"},QI={class:"info-box-title-green"},e2={class:"info-box-text-green"},t2={class:"status-section"},s2={class:"demo-controls-section-title mb-3"},n2={class:"status-box"},o2={key:0,class:"status-empty"},r2={class:"text-xs"},i2={class:"text-xs mt-1 opacity-60"},a2={key:1,class:"space-y-2"},l2={class:"status-icon"},c2={key:0},d2={key:1},u2={key:2},h2={class:"status-text"},f2={class:"controls-section-bordered"},p2={class:"demo-controls-section-title"},m2={class:"btn-grid"},g2={class:"controls-section-bordered"},y2={class:"demo-controls-section-title"},_2={class:"btn-grid"},v2=["disabled"],b2=["disabled"],w2={class:"controls-section-bordered"},x2={class:"demo-controls-section-title"},k2={class:"render-mode-container"},A2={class:"render-mode-text"},C2={class:"render-mode-text"},S2={class:"info-box-blue"},E2={class:"info-box-text-yellow"},N2={class:"controls-section-bordered"},T2={class:"demo-controls-section-title"},I2={class:"controls-section-bordered"},L2={class:"legend-title"},R2={class:"legend-list"},P2={class:"legend-item"},D2={class:"legend-text"},M2={class:"legend-item"},O2={class:"legend-text"},G2={class:"legend-item"},F2={class:"legend-text"},V2={class:"legend-item"},$2={class:"legend-text"},B2={class:"legend-item"},z2={class:"legend-text"},j2={class:"legend-item"},U2={class:"legend-text"},H2={class:"legend-item"},W2={class:"legend-text"},X2={class:"legend-item"},q2={class:"legend-text"},Z2={class:"legend-item"},K2={class:"legend-text"},J2={class:"controls-section-bordered"},Y2={class:"demo-controls-section-title"},Q2={class:"info-box-yellow mt-3"},eL={class:"info-box-text-yellow"},tL={key:0,class:"italic"},sL={class:"info-box-blue"},nL={class:"info-box-title-blue text-sm"},oL={class:"info-box-text-blue space-y-1"},rL=["innerHTML"],iL=["innerHTML"],aL=["innerHTML"],lL=["innerHTML"],cL=["innerHTML"],dL=["innerHTML"],uL=["innerHTML"],hL={key:0,class:"loading-overlay"},fL={class:"text-center"},pL={class:"text-secondary"},mL={__name:"FamilyPage",setup(t){const e=Xe({prefix:"FamilyPage",level:"info"}),{t:s,lang:n}=Jt(),o=wl({colorBy:"group",colorScheme:"categorical",showLabels:!0,autoComputeCentrality:!1,customColorFunction:Y=>{const Q=Y.group||0;return $I[Q]||null}}),{graphContainer:r,graphInstance:i,loading:a,loadData:l,addNode:c,addLink:d,hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:w,getAvailableLayouts:b,analyzeGraph:x,analysisProgress:E}=o,A=ae(""),L=ae("info"),z=ae("Loading graph..."),j=ae(!1),ee=ae(""),W=ae([]),Z=ae(null),U=ae("none"),R=ae([]),G=ae(!1),S=ae(!1),M=ae(!1),I=ae(["eigenvector"]),F=ae("eigenvector"),X=ae(!1),re=ae("colors"),ue=ae(!1);let K=null;const le=(Y,Q)=>{A.value=Y,L.value=Q},Ie=()=>{K&&(S.value=K.canUndo(),M.value=K.canRedo())},Ae=Y=>{(Y.ctrlKey||Y.metaKey)&&Y.key==="z"&&!Y.shiftKey?(Y.preventDefault(),me()):((Y.ctrlKey||Y.metaKey)&&Y.key==="y"||(Y.ctrlKey||Y.metaKey)&&Y.shiftKey&&Y.key==="z")&&(Y.preventDefault(),ie())},ce=()=>{const Y={graphInstance:i,loadData:l,addNode:(de,Oe,Ze)=>c(de,Oe,Ze,!0),addLink:(de,Oe)=>d(de,Oe,!0),hasNode:u,getNodeIds:f,lockPositions:p,unlockPositions:y,saveAsPNG:_,applyLayout:w,getAvailableLayouts:b};K=new XI({graphManager:Y,onStatusChange:le,lang:n.value}),R.value=K.getAvailableLayouts();const Q=K.loadFamily();if(Q)l(Q.nodes,Q.links);else{const de=K.getInitialDataset();l(de.nodes,de.links)}},ge=async(Y,Q)=>{if(!K){le("Graph is still loading. Please wait...","error");return}const de=K.getDialogService(),Oe=Q();if(!Oe){const Ze=de.getValidationMessage(Y);le(Ze,"error");return}ee.value=Oe.title,W.value=Oe.fields,Z.value=Oe.action,await Cn(),j.value=!0},T=()=>ge(Ce.ADD_PARENTS,()=>K?.getDialogService().getAddParentsDialog()),te=()=>ge(Ce.ADD_SIBLING,()=>K?.getDialogService().getAddSiblingDialog()),se=()=>ge(Ce.ADD_GRANDPARENTS,()=>K?.getDialogService().getAddGrandparentsDialog()),fe=()=>ge(Ce.ADD_UNCLE_AUNT,()=>K?.getDialogService().getAddUncleAuntDialog()),he=()=>ge(Ce.ADD_COUSIN,()=>K?.getDialogService().getAddCousinDialog()),k=()=>ge(Ce.ADD_CHILD,()=>K?.getDialogService().getAddChildDialog()),C=()=>ge(Ce.ADD_NIECE_NEPHEW,()=>K?.getDialogService().getAddNieceNephewDialog()),N=()=>ge(Ce.ADD_PARTNER,()=>K?.getDialogService().getAddPartnerDialog()),$=Y=>{if(!K||!Z.value)return;j.value=!1,K.saveStateBeforeOperation(ee.value);const de=K.getDialogService().executeAction(Z.value,Y,K.getOperations());de.success?(de.message&&le(de.message,"info"),Ie()):le(de.message||"Failed to add relative","error"),Z.value=null},B=()=>{j.value=!1,Z.value=null},V=()=>{K&&K.saveFamily()},oe=()=>{K&&K.saveAsPNG("family-tree.png")},P=()=>{K&&K.lockGraph()},D=()=>{K&&K.unlockGraph()},O=()=>{K&&confirm("Are you sure you want to reset your family tree?")&&(K.resetFamily(),Ie())},me=()=>{if(!K)return;const Y=K.undo();Y.success?le(Y.message,"info"):le(Y.message||"Nothing to undo","error"),Ie()},ie=()=>{if(!K)return;const Y=K.redo();Y.success?le(Y.message,"info"):le(Y.message||"Nothing to redo","error"),Ie()},pe=async()=>{if(!(!x||I.value.length===0))try{if(X.value=!0,le("Analyzing network...","info"),await x(I.value,{includeGraphStats:!1})){const Q=F.value||I.value[0];i.value?.updateVisualEncoding&&i.value.updateVisualEncoding({sizeBy:Q,preserveZoom:!0}),le(` Analysis complete - sizing by ${Q}`,"success")}}catch(Y){e.error("Analysis error",{error:Y.message,stack:Y.stack}),le(`Analysis failed: ${Y.message}`,"error")}finally{X.value=!1}},ve=async()=>{if(!(!K||!U.value))try{G.value=!0;const Y=await K.applyLayout(U.value);Y.success||le(Y.error||"Failed to apply layout","error")}catch(Y){e.error("Layout error",{error:Y.message,stack:Y.stack}),le(`Layout failed: ${Y.message}`,"error")}finally{G.value=!1}};return St(i,Y=>{Y&&!K&&(ce(),Ie())},{immediate:!0}),St(n,Y=>{if(K){K.lang=Y;const Q=de=>hh(Y,de);K.dialogService=new Bf(()=>K.getGraphInstance(),K.validation,Q),K.validation.t=Q,K.storage.t=Q}}),St(re,Y=>{if(i.value){ue.value=!0;const Q=()=>{ue.value=!1,i.value.off("ready",Q)};i.value.on("ready",Q),i.value.setRenderMode(Y)}}),Ps(()=>{window.addEventListener("keydown",Ae)}),Ur(()=>{window.removeEventListener("keydown",Ae),K&&K.dispose()}),(Y,Q)=>(H(),q("div",qI,[_e(nl,null,{controls:Be(()=>[h("div",ZI,[h("h1",KI,g(m(s)("family.header.title")),1),h("p",JI,g(m(s)("family.header.subtitle")),1)]),h("div",YI,[h("h2",QI,g(m(s)("family.whatIs.title")),1),h("p",e2,g(m(s)("family.whatIs.description")),1)]),h("div",t2,[h("h2",s2,g(m(s)("family.status.title")),1),h("div",n2,[A.value?(H(),q("div",a2,[h("div",{class:bt({"status-message-success":L.value==="success","status-message-error":L.value==="error","status-message-info":L.value==="info"})},[h("div",l2,[L.value==="success"?(H(),q("span",c2,"")):L.value==="error"?(H(),q("span",d2,"")):(H(),q("span",u2,""))]),h("div",h2,g(A.value),1)],2)])):(H(),q("div",o2,[h("div",r2,g(m(s)("family.status.ready")),1),h("div",i2,g(m(s)("family.status.clickToAdd")),1)]))])]),h("div",f2,[h("h2",p2,g(m(s)("family.addRelatives.title")),1),h("div",m2,[h("button",{onClick:T,class:"action-btn-pink",type:"button"},g(m(s)("family.addRelatives.parents")),1),h("button",{onClick:se,class:"action-btn-amber"},g(m(s)("family.addRelatives.grandparents")),1),h("button",{onClick:te,class:"action-btn-blue"},g(m(s)("family.addRelatives.sibling")),1),h("button",{onClick:C,class:"action-btn-cyan"},g(m(s)("family.addRelatives.nieceNephew")),1),h("button",{onClick:fe,class:"action-btn-orange"},g(m(s)("family.addRelatives.uncleAunt")),1),h("button",{onClick:he,class:"action-btn-purple"},g(m(s)("family.addRelatives.cousin")),1),h("button",{onClick:N,class:"action-btn-rose"},g(m(s)("family.addRelatives.partner")),1),h("button",{onClick:k,class:"action-btn-teal"},g(m(s)("family.addRelatives.child")),1)])]),h("div",g2,[h("h2",y2,g(m(s)("family.actions.title")),1),h("div",_2,[h("button",{onClick:V,class:"action-btn-gray"},g(m(s)("family.actions.saveFamily")),1),h("button",{onClick:oe,class:"action-btn-emerald"},g(m(s)("family.actions.saveImage")),1),h("button",{onClick:P,class:"action-btn-indigo"},g(m(s)("family.actions.lockGraph")),1),h("button",{onClick:D,class:"action-btn-amber"},g(m(s)("family.actions.unlockGraph")),1),h("button",{onClick:me,disabled:!S.value,class:"action-btn-violet action-btn-disabled"},g(m(s)("family.actions.undo")),9,v2),h("button",{onClick:ie,disabled:!M.value,class:"action-btn-fuchsia action-btn-disabled"},g(m(s)("family.actions.redo")),9,b2),h("button",{onClick:O,class:"action-btn-red col-span-2"},g(m(s)("family.actions.resetTree")),1)])]),h("div",w2,[h("h2",x2,g(m(s)("family.renderNodes.title")),1),h("div",k2,[h("label",{class:bt(["render-mode-label",re.value==="colors"?"render-mode-label-active":"render-mode-label-inactive"])},[ft(h("input",{type:"radio",name:"renderMode",value:"colors","onUpdate:modelValue":Q[0]||(Q[0]=de=>re.value=de),class:"render-mode-radio"},null,512),[[Qi,re.value]]),Q[5]||(Q[5]=h("span",{class:"render-mode-icon"},"",-1)),h("span",A2,g(m(s)("family.renderNodes.colors")),1)],2),h("label",{class:bt(["render-mode-label",re.value==="avatars"?"render-mode-label-active":"render-mode-label-inactive"])},[ft(h("input",{type:"radio",name:"renderMode",value:"avatars","onUpdate:modelValue":Q[1]||(Q[1]=de=>re.value=de),class:"render-mode-radio"},null,512),[[Qi,re.value]]),Q[6]||(Q[6]=h("span",{class:"render-mode-icon"},"",-1)),h("span",C2,g(m(s)("family.renderNodes.avatars")),1)],2)]),h("div",S2,[h("p",E2,[h("strong",null,g(m(s)("family.renderNodes.colors"))+":",1),we(" "+g(m(s)("family.renderNodes.colorsDesc")),1),Q[7]||(Q[7]=h("br",null,null,-1)),h("strong",null,g(m(s)("family.renderNodes.avatars"))+":",1),we(" "+g(m(s)("family.renderNodes.avatarsDesc")),1)])])]),h("div",N2,[h("h2",T2,g(m(s)("family.networkAnalysis.title")),1),_e(rl,{"selected-metrics":I.value,"onUpdate:selectedMetrics":Q[2]||(Q[2]=de=>I.value=de),"size-metric":F.value,"onUpdate:sizeMetric":Q[3]||(Q[3]=de=>F.value=de),analyzing:X.value,progress:m(E),onAnalyze:pe},null,8,["selected-metrics","size-metric","analyzing","progress"])]),h("div",I2,[h("h3",L2,g(m(s)("family.relationshipColors.title")),1),h("div",R2,[h("div",P2,[Q[8]||(Q[8]=h("div",{class:"legend-dot bg-indigo-500"},null,-1)),h("span",D2,g(m(s)("family.relationshipColors.you")),1)]),h("div",M2,[Q[9]||(Q[9]=h("div",{class:"legend-dot bg-pink-500"},null,-1)),h("span",O2,g(m(s)("family.relationshipColors.parents")),1)]),h("div",G2,[Q[10]||(Q[10]=h("div",{class:"legend-dot bg-blue-500"},null,-1)),h("span",F2,g(m(s)("family.relationshipColors.siblings")),1)]),h("div",V2,[Q[11]||(Q[11]=h("div",{class:"legend-dot bg-orange-500"},null,-1)),h("span",$2,g(m(s)("family.relationshipColors.unclesAunts")),1)]),h("div",B2,[Q[12]||(Q[12]=h("div",{class:"legend-dot bg-purple-500"},null,-1)),h("span",z2,g(m(s)("family.relationshipColors.cousins")),1)]),h("div",j2,[Q[13]||(Q[13]=h("div",{class:"legend-dot bg-amber-700"},null,-1)),h("span",U2,g(m(s)("family.relationshipColors.grandparents")),1)]),h("div",H2,[Q[14]||(Q[14]=h("div",{class:"legend-dot bg-cyan-500"},null,-1)),h("span",W2,g(m(s)("family.relationshipColors.nieces")),1)]),h("div",X2,[Q[15]||(Q[15]=h("div",{class:"legend-dot bg-rose-500"},null,-1)),h("span",q2,g(m(s)("family.relationshipColors.partners")),1)]),h("div",Z2,[Q[16]||(Q[16]=h("div",{class:"legend-dot bg-teal-500"},null,-1)),h("span",K2,g(m(s)("family.relationshipColors.children")),1)])])]),h("div",J2,[h("h2",Y2,g(m(s)("family.layoutAlgorithm.title")),1),_e(ol,{modelValue:U.value,"onUpdate:modelValue":Q[4]||(Q[4]=de=>U.value=de),"available-layouts":R.value,loading:m(a)||G.value,onApply:ve},null,8,["modelValue","available-layouts","loading"]),h("div",Q2,[h("p",eL,[(H(!0),q(Ve,null,Ss(R.value,de=>(H(),q("div",{key:de.id},[h("strong",null,g(de.name)+":",1),we(" "+g(de.description)+" ",1),de.requiresStats?(H(),q("span",tL," (requires analysis)")):Re("",!0),Q[17]||(Q[17]=h("br",null,null,-1))]))),128))])])]),h("div",sL,[h("h3",nL,g(m(s)("family.instructions.title")),1),h("ul",oL,[h("li",{innerHTML:m(s)("family.instructions.dragNodes")},null,8,rL),h("li",{innerHTML:m(s)("family.instructions.autoSaves")},null,8,iL),h("li",{innerHTML:m(s)("family.instructions.lock")},null,8,aL),h("li",{innerHTML:m(s)("family.instructions.download")},null,8,lL),h("li",{innerHTML:m(s)("family.instructions.analyze")},null,8,cL),h("li",{innerHTML:m(s)("family.instructions.layouts")},null,8,dL),h("li",{innerHTML:m(s)("family.instructions.undoRedo")},null,8,uL)])])]),graph:Be(()=>[m(a)||ue.value?(H(),q("div",hL,[h("div",fL,[Q[18]||(Q[18]=h("div",{class:"loading-spinner"},null,-1)),h("p",pL,g(ue.value?"Switching render mode...":z.value),1)])])):Re("",!0),h("div",{ref_key:"graphContainer",ref:r,class:"w-full h-full"},null,512)]),_:1}),(H(),Ts(VI,{key:`dialog-${Z.value||"default"}`,visible:j.value,title:ee.value,fields:W.value,onConfirm:$,onCancel:B},null,8,["visible","title","fields"]))]))}},gL={class:"page-content"},yL={class:"docs-page-header"},_L={class:"docs-page-title"},vL={class:"section-description"},bL={class:"docs-toc"},wL={class:"docs-toc-grid"},xL={href:"#quick-start",class:"docs-toc-link"},kL={href:"#core-classes",class:"docs-toc-link"},AL={href:"#adapters",class:"docs-toc-link"},CL={href:"#layouts",class:"docs-toc-link"},SL={href:"#community",class:"docs-toc-link"},EL={href:"#examples",class:"docs-toc-link"},NL={id:"quick-start",class:"docs-section"},TL={class:"docs-section-header"},IL={class:"docs-card"},LL={class:"docs-card-description"},RL={class:"docs-subsection-title-accent"},PL={class:"docs-code-block"},DL={class:"docs-code-block-green"},ML={class:"docs-subsection-title-accent"},OL={id:"core-classes",class:"docs-section"},GL={class:"docs-section-header"},FL={class:"docs-card"},VL={class:"docs-card-title"},$L={class:"docs-card-description"},BL={class:"docs-subsection-title"},zL={class:"docs-method-list"},jL={class:"docs-method-item"},UL={class:"docs-method-name"},HL={class:"docs-method-description"},WL={class:"docs-method-item"},XL={class:"docs-method-name"},qL={class:"docs-method-description"},ZL={class:"docs-method-item"},KL={class:"docs-method-name"},JL={class:"docs-method-description"},YL={class:"docs-method-item"},QL={class:"docs-method-name"},eR={class:"docs-method-description"},tR={class:"docs-method-item"},sR={class:"docs-method-name"},nR={class:"docs-method-description"},oR={class:"docs-method-item"},rR={class:"docs-method-name"},iR={class:"docs-method-description"},aR={class:"docs-method-item"},lR={class:"docs-method-name"},cR={class:"docs-method-description"},dR={class:"docs-card"},uR={class:"docs-card-title"},hR={class:"docs-card-description"},fR={class:"docs-subsection-title"},pR={class:"list-disc pl-6 space-y-2 text-secondary mb-6"},mR={class:"docs-subsection-title"},gR={class:"text-secondary mb-3"},yR={class:"docs-subsection-title"},_R={class:"docs-feature-grid-item"},vR={class:"docs-feature-item"},bR={class:"docs-feature-description"},wR={class:"docs-feature-item"},xR={class:"docs-feature-description"},kR={class:"docs-feature-item"},AR={class:"docs-feature-description"},CR={class:"docs-feature-item"},SR={class:"docs-feature-description"},ER={class:"docs-feature-item"},NR={class:"docs-feature-description"},TR={class:"docs-feature-item"},IR={class:"docs-feature-description"},LR={class:"docs-feature-item"},RR={class:"docs-feature-description"},PR={class:"docs-feature-item"},DR={class:"docs-feature-description"},MR={class:"docs-feature-item"},OR={class:"docs-feature-description"},GR={id:"adapters",class:"docs-section"},FR={class:"docs-section-header"},VR={class:"docs-section-intro"},$R={class:"docs-card"},BR={class:"docs-card-title-blue"},zR={class:"docs-card-description"},jR={class:"docs-subsection-title"},UR={class:"docs-method-list"},HR={class:"docs-method-item-blue"},WR={class:"docs-method-name"},XR={class:"docs-method-description"},qR={class:"docs-method-returns"},ZR={class:"docs-method-item-blue"},KR={class:"docs-method-name"},JR={class:"docs-method-description"},YR={class:"docs-method-returns"},QR={class:"docs-method-item-blue"},eP={class:"docs-method-name"},tP={class:"docs-method-description"},sP={class:"docs-method-returns"},nP={class:"docs-method-item-blue"},oP={class:"docs-method-name"},rP={class:"docs-method-description"},iP={class:"docs-method-returns"},aP={class:"docs-method-item-blue"},lP={class:"docs-method-name"},cP={class:"docs-method-description"},dP={class:"docs-method-returns"},uP={class:"docs-card"},hP={class:"docs-card-title-green"},fP={class:"docs-card-description"},pP={class:"docs-subsection-title"},mP={class:"docs-method-list"},gP={class:"docs-method-item-green"},yP={class:"docs-method-name"},_P={class:"docs-method-description"},vP={class:"docs-method-returns"},bP={class:"docs-method-item-green"},wP={class:"docs-method-name"},xP={class:"docs-method-description"},kP={class:"docs-method-returns"},AP={class:"docs-method-item-green"},CP={class:"docs-method-name"},SP={class:"docs-method-description"},EP={class:"docs-method-returns"},NP={class:"docs-method-item-green"},TP={class:"docs-method-name"},IP={class:"docs-method-description"},LP={class:"docs-method-returns"},RP={class:"docs-method-item-green"},PP={class:"docs-method-name"},DP={class:"docs-method-description"},MP={class:"docs-method-returns"},OP={class:"docs-method-item-green"},GP={class:"docs-method-name"},FP={class:"docs-method-description"},VP={class:"docs-method-returns"},$P={class:"docs-card"},BP={class:"docs-card-title-yellow"},zP={class:"docs-card-description"},jP={class:"docs-subsection-title"},UP={class:"docs-method-list"},HP={class:"docs-method-item-yellow"},WP={class:"docs-method-name"},XP={class:"docs-method-description"},qP={class:"docs-method-returns"},ZP={class:"docs-method-item-yellow"},KP={class:"docs-method-name"},JP={class:"docs-method-description"},YP={class:"docs-method-returns"},QP={class:"docs-method-item-yellow"},e3={class:"docs-method-name"},t3={class:"docs-method-description"},s3={class:"docs-method-returns"},n3={class:"docs-method-item-yellow"},o3={class:"docs-method-name"},r3={class:"docs-method-description"},i3={class:"docs-method-returns"},a3={id:"layouts",class:"docs-section"},l3={class:"docs-section-header"},c3={class:"docs-section-intro"},d3={class:"docs-note"},u3={class:"docs-card"},h3={class:"docs-card-title-purple"},f3={class:"text-secondary mb-2"},p3={class:"docs-complexity"},m3={class:"docs-best-for"},g3={class:"docs-subsection-title-lg"},y3={class:"docs-options-box"},_3={class:"docs-options-list"},v3={class:"docs-card"},b3={class:"docs-card-title-indigo"},w3={class:"text-secondary mb-2"},x3={class:"docs-complexity"},k3={class:"docs-best-for"},A3={class:"docs-subsection-title-lg"},C3={class:"docs-options-box"},S3={class:"docs-options-list"},E3={class:"docs-card"},N3={class:"docs-card-title-pink"},T3={class:"text-secondary mb-2"},I3={class:"docs-complexity"},L3={class:"text-sm text-accent mb-2"},R3={class:"docs-warning"},P3={class:"docs-feature-grid"},D3={class:"docs-card-compact"},M3={class:"docs-card-title-sm text-blue-600 dark:text-blue-400"},O3={class:"docs-feature-description mb-2"},G3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},F3={class:"text-xs text-accent"},V3={class:"docs-card-compact"},$3={class:"docs-card-title-sm text-green-600 dark:text-green-400"},B3={class:"docs-feature-description mb-2"},z3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},j3={class:"text-xs text-accent mb-1"},U3={class:"text-xs text-red-600 dark:text-red-400"},H3={class:"docs-card-compact"},W3={class:"docs-card-title-sm text-yellow-600 dark:text-yellow-400"},X3={class:"docs-feature-description mb-2"},q3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},Z3={class:"text-xs text-accent"},K3={class:"docs-card-compact"},J3={class:"docs-card-title-sm text-red-600 dark:text-red-400"},Y3={class:"docs-feature-description mb-2"},Q3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},eD={class:"text-xs text-accent"},tD={class:"docs-card-compact"},sD={class:"docs-card-title-sm text-teal-600 dark:text-teal-400"},nD={class:"docs-feature-description mb-2"},oD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},rD={class:"text-xs text-accent"},iD={class:"docs-card-compact"},aD={class:"docs-card-title-sm text-gray-600 dark:text-gray-400"},lD={class:"docs-feature-description mb-2"},cD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},dD={class:"text-xs text-accent"},uD={class:"docs-tip-box"},hD={class:"docs-subsection-title-lg"},fD={class:"text-sm text-secondary mb-3"},pD={id:"community",class:"docs-section"},mD={class:"docs-section-header"},gD={class:"docs-section-intro"},yD={class:"docs-card"},_D={class:"docs-card-title"},vD={class:"docs-card-description"},bD={class:"docs-subsection-title"},wD={class:"docs-method-list"},xD={class:"docs-method-item"},kD={class:"docs-method-name"},AD={class:"docs-method-description"},CD={class:"docs-method-returns"},SD={class:"docs-method-item"},ED={class:"docs-method-name"},ND={class:"docs-method-description"},TD={class:"docs-method-returns"},ID={class:"docs-method-list"},LD={class:"docs-method-item-purple"},RD={class:"docs-method-name"},PD={class:"docs-method-description"},DD={class:"docs-method-returns"},MD={class:"docs-method-item-purple"},OD={class:"docs-method-name"},GD={class:"docs-method-description"},FD={class:"docs-method-item-purple"},VD={class:"docs-method-name"},$D={class:"docs-method-description"},BD={class:"docs-card"},zD={class:"docs-card-title-orange"},jD={class:"text-secondary mb-2"},UD={class:"docs-complexity"},HD={class:"docs-card-description"},WD={class:"docs-subsection-title-lg"},XD={class:"docs-options-box"},qD={class:"docs-options-list"},ZD={class:"docs-card"},KD={class:"docs-card-title-green"},JD={class:"docs-card-description"},YD={class:"docs-options-box"},QD={class:"docs-options-list space-y-2"},eM={id:"examples",class:"docs-section"},tM={class:"docs-section-header"},sM={class:"docs-section-intro"},nM={class:"docs-card"},oM={class:"docs-card-title"},rM={class:"text-secondary mb-4"},iM={class:"docs-card"},aM={class:"docs-card-title-blue"},lM={class:"text-secondary mb-4"},cM={class:"docs-card"},dM={class:"docs-card-title-purple"},uM={class:"text-secondary mb-4"},hM=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob' },
  { source: 'Bob', target: 'Charlie' },
  { source: 'Charlie', target: 'Alice' }
];

const analyzer = new NetworkStats({ verbose: false });
const results = await analyzer.analyze(network, ['degree', 'eigenvector']);

console.log(results);
// [
//   { id: 'Alice', degree: 2, eigenvector: 0.577 },
//   { id: 'Bob', degree: 2, eigenvector: 0.577 },
//   { id: 'Charlie', degree: 2, eigenvector: 0.577 }
// ]`,fM=`import { Graph } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B', 1);
graph.addEdge('B', 'C', 2);

console.log(graph.getNeighbors('B')); // ['A', 'C']
console.log(graph.numberOfNodes());    // 3
console.log(graph.numberOfEdges());    // 2`,pM=`import { CSVAdapter } from '@guinetik/graph-js';

// Load from URLs
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Export to CSV
const edgesCSV = CSVAdapter.toEdgeList(graphData);
const nodesCSV = CSVAdapter.toNodes(graphData);`,mM=`import { JSONAdapter } from '@guinetik/graph-js';

// Convert D3 format to GraphData
const graphData = JSONAdapter.fromD3(d3Data);

// Convert to Cytoscape format
const cytoData = JSONAdapter.toCytoscape(graphData);

// Auto-detect format
const data = JSONAdapter.fromFormat(unknownJSON);`,gM=`import { NetworkXAdapter } from '@guinetik/graph-js';

// From Python: nx.node_link_data(G)
const graphData = NetworkXAdapter.fromNodeLink(nxData);

// To Python: G = nx.node_link_graph(nxData)
const nxData = NetworkXAdapter.toNodeLink(graphData, {
  directed: false,
  multigraph: false
});`,yM=`import { Graph, ForceDirectedLayout } from '@guinetik/graph-js';

const graph = new Graph();
graph.addNodesFrom(['A', 'B', 'C']);
graph.addEdge('A', 'B');
graph.addEdge('B', 'C');

const layout = new ForceDirectedLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();
// { 'A': {x: 120, y: 45}, 'B': {x: -30, y: 90}, ... }`,_M=`import { KamadaKawaiLayout } from '@guinetik/graph-js';

const layout = new KamadaKawaiLayout(graph, {
  iterations: 100,
  scale: 200
});
const positions = await layout.getPositions();`,vM=`import { NetworkStats, Graph, SpectralLayout } from '@guinetik/graph-js';

// First compute eigenvector-laplacian
const analyzer = new NetworkStats();
await analyzer.analyze(edges, ['eigenvector-laplacian']);

// Then apply layout
const layout = new SpectralLayout(graph, { scale: 200 });
const positions = await layout.getPositions();`,bM=`// All layouts follow this pattern
const layout = new SomeLayout(graph, options);
const positions = await layout.getPositions({
  onProgress: (progress) => console.log(\`\${progress * 100}%\`)
});`,wM=`import { CommunityDetection, LouvainAlgorithm } from '@guinetik/graph-js';

// Method 1: Direct detection from GraphData
const result = await CommunityDetection.detect(graphData, 'louvain', {
  resolution: 1.0,
  onProgress: (p) => console.log(\`\${Math.round(p * 100)}%\`)
});

// Method 2: Using algorithm instance
const detector = new CommunityDetection(graph);
const algorithm = new LouvainAlgorithm({ resolution: 1.0 });
const result = await detector.detectCommunities(algorithm);

console.log(result.communities);     // { 'A': 0, 'B': 0, 'C': 1 }
console.log(result.modularity);      // 0.42
console.log(result.numCommunities);  // 2`,xM=`import NetworkStats from '@guinetik/graph-js';

const network = [
  { source: 'Alice', target: 'Bob', weight: 1 },
  { source: 'Bob', target: 'Carol', weight: 2 },
  { source: 'Carol', target: 'Dave', weight: 1 }
];

const analyzer = new NetworkStats({ verbose: true });
const results = await analyzer.analyze(network, ['degree', 'eigenvector', 'betweenness']);

console.log(results);
// [
//   { id: 'Alice', degree: 1, eigenvector: 0.34, betweenness: 0 },
//   { id: 'Bob', degree: 2, eigenvector: 0.58, betweenness: 0.67 },
//   ...
// ]

await analyzer.dispose(); // Cleanup workers`,kM=`import { CSVAdapter } from '@guinetik/graph-js';
import NetworkStats from '@guinetik/graph-js';

// Load CSV data
const graphData = await CSVAdapter.loadFromURL(
  '../data/edges.csv',
  '../data/nodes.csv'
);

// Convert to edge list for analysis
const network = graphData.edges;

// Analyze
const analyzer = new NetworkStats();
const results = await analyzer.analyze(network, ['degree', 'clustering']);
await analyzer.dispose();`,AM=`import NetworkStats, {
  CSVAdapter,
  Graph,
  KamadaKawaiLayout,
  CommunityDetection
} from '@guinetik/graph-js';

// 1. Load data
const graphData = await CSVAdapter.loadFromURL('../data/edges.csv');

// 2. Analyze network
const analyzer = new NetworkStats();
const nodeMetrics = await analyzer.analyze(graphData.edges, [
  'degree',
  'eigenvector',
  'betweenness'
]);

// 3. Apply layout
const graph = new Graph();
graphData.edges.forEach(e => {
  graph.addNode(e.source);
  graph.addNode(e.target);
  graph.addEdge(e.source, e.target, e.weight || 1);
});

const layout = new KamadaKawaiLayout(graph, { scale: 200 });
const positions = await layout.getPositions();

// 4. Detect communities
const communityResult = await CommunityDetection.detect(
  graphData,
  'louvain'
);

// 5. Combine results
const finalData = nodeMetrics.map(node => ({
  ...node,
  x: positions[node.id].x,
  y: positions[node.id].y,
  community: communityResult.communities[node.id]
}));

console.log('Analysis complete!', finalData);
console.log('Modularity:', communityResult.modularity);

await analyzer.dispose();`,CM={__name:"DocsPage",setup(t){const{t:e}=Jt();return(s,n)=>(H(),q("div",gL,[h("div",yL,[h("h1",_L,g(m(e)("docs.title")),1),h("p",vL,g(m(e)("docs.subtitle")),1)]),h("div",bL,[n[6]||(n[6]=h("h2",{class:"docs-toc-title"}," Contents",-1)),h("div",wL,[h("a",xL,[n[0]||(n[0]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.quickStart")),1)]),h("a",kL,[n[1]||(n[1]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("a",AL,[n[2]||(n[2]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.adapters")),1)]),h("a",CL,[n[3]||(n[3]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.layouts")),1)]),h("a",SL,[n[4]||(n[4]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.community")),1)]),h("a",EL,[n[5]||(n[5]=h("span",{class:"docs-toc-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.examples")),1)])])]),h("section",NL,[h("h2",TL,[n[7]||(n[7]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.quickStart.title")),1)]),h("div",IL,[h("p",LL,g(m(e)("docs.quickStart.description")),1),h("h3",RL,g(m(e)("docs.quickStart.install")),1),h("div",PL,[h("code",DL,g(m(e)("docs.quickStart.installCmd")),1)]),h("h3",ML,g(m(e)("docs.quickStart.basicUsage")),1),_e(gt,{code:hM,language:"javascript"})])]),h("section",OL,[h("h2",GL,[n[8]||(n[8]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.sections.coreClasses")),1)]),h("div",FL,[h("h3",VL,g(m(e)("docs.graph.title")),1),h("p",$L,g(m(e)("docs.graph.description")),1),n[9]||(n[9]=h("div",{class:"docs-code-block"},[h("code",{class:"docs-code-block-text"},"const graph = new Graph();")],-1)),h("h4",BL,g(m(e)("docs.graph.methods")),1),h("div",zL,[h("div",jL,[h("code",UL,g(m(e)("docs.graph.methodsList.addNode.name")),1),h("p",HL,g(m(e)("docs.graph.methodsList.addNode.description")),1)]),h("div",WL,[h("code",XL,g(m(e)("docs.graph.methodsList.addNodesFrom.name")),1),h("p",qL,g(m(e)("docs.graph.methodsList.addNodesFrom.description")),1)]),h("div",ZL,[h("code",KL,g(m(e)("docs.graph.methodsList.addEdge.name")),1),h("p",JL,g(m(e)("docs.graph.methodsList.addEdge.description")),1)]),h("div",YL,[h("code",QL,g(m(e)("docs.graph.methodsList.removeNode.name")),1),h("p",eR,g(m(e)("docs.graph.methodsList.removeNode.description")),1)]),h("div",tR,[h("code",sR,g(m(e)("docs.graph.methodsList.getNeighbors.name")),1),h("p",nR,g(m(e)("docs.graph.methodsList.getNeighbors.description")),1)]),h("div",oR,[h("code",rR,g(m(e)("docs.graph.methodsList.hasEdge.name")),1),h("p",iR,g(m(e)("docs.graph.methodsList.hasEdge.description")),1)]),h("div",aR,[h("code",lR,g(m(e)("docs.graph.methodsList.numberOfNodes.name")),1),h("p",cR,g(m(e)("docs.graph.methodsList.numberOfNodes.description")),1)])]),_e(gt,{code:fM,language:"javascript"})]),h("div",dR,[h("h3",uR,g(m(e)("docs.networkStats.title")),1),h("p",hR,g(m(e)("docs.networkStats.description")),1),h("h4",fR,g(m(e)("docs.networkStats.constructor")),1),n[21]||(n[21]=h("div",{class:"docs-code-block"},[h("code",{class:"docs-code-block-text"},"new NetworkStats(options?)")],-1)),h("ul",pR,[h("li",null,[n[10]||(n[10]=h("code",{class:"docs-code-inline-xs"},"maxIter:",-1)),we(" "+g(m(e)("docs.networkStats.constructorParams.maxIter")),1)]),h("li",null,[n[11]||(n[11]=h("code",{class:"docs-code-inline-xs"},"verbose:",-1)),we(" "+g(m(e)("docs.networkStats.constructorParams.verbose")),1)])]),h("h4",mR,g(m(e)("docs.networkStats.analyze.title")),1),h("p",gR,g(m(e)("docs.networkStats.analyze.description")),1),n[22]||(n[22]=h("div",{class:"docs-code-block"},[h("code",{class:"docs-code-block-text"},"analyzer.analyze(network, features?)")],-1)),h("h4",yR,g(m(e)("docs.networkStats.features.title")),1),h("div",_R,[h("div",vR,[n[12]||(n[12]=h("span",{class:"docs-feature-badge"},"degree",-1)),h("span",bR,g(m(e)("docs.networkStats.features.degree")),1)]),h("div",wR,[n[13]||(n[13]=h("span",{class:"docs-feature-badge"},"eigenvector",-1)),h("span",xR,g(m(e)("docs.networkStats.features.eigenvector")),1)]),h("div",kR,[n[14]||(n[14]=h("span",{class:"docs-feature-badge"},"eigenvector-laplacian",-1)),h("span",AR,g(m(e)("docs.networkStats.features.eigenvectorLaplacian")),1)]),h("div",CR,[n[15]||(n[15]=h("span",{class:"docs-feature-badge"},"betweenness",-1)),h("span",SR,g(m(e)("docs.networkStats.features.betweenness")),1)]),h("div",ER,[n[16]||(n[16]=h("span",{class:"docs-feature-badge"},"clustering",-1)),h("span",NR,g(m(e)("docs.networkStats.features.clustering")),1)]),h("div",TR,[n[17]||(n[17]=h("span",{class:"docs-feature-badge"},"closeness",-1)),h("span",IR,g(m(e)("docs.networkStats.features.closeness")),1)]),h("div",LR,[n[18]||(n[18]=h("span",{class:"docs-feature-badge"},"cliques",-1)),h("span",RR,g(m(e)("docs.networkStats.features.cliques")),1)]),h("div",PR,[n[19]||(n[19]=h("span",{class:"docs-feature-badge"},"ego-density",-1)),h("span",DR,g(m(e)("docs.networkStats.features.egoDensity")),1)]),h("div",MR,[n[20]||(n[20]=h("span",{class:"docs-feature-badge"},"modularity",-1)),h("span",OR,g(m(e)("docs.networkStats.features.modularity")),1)])])])]),h("section",GR,[h("h2",FR,[n[23]||(n[23]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.adapters.title")),1)]),h("p",VR,g(m(e)("docs.adapters.description")),1),h("div",$R,[h("h3",BR,g(m(e)("docs.adapters.csv.title")),1),h("p",zR,g(m(e)("docs.adapters.csv.description")),1),h("h4",jR,g(m(e)("docs.adapters.csv.methods")),1),h("div",UR,[h("div",HR,[h("code",WR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.name")),1),h("p",XR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.description")),1),h("p",qR,g(m(e)("docs.adapters.csv.methodsList.fromEdgeList.returns")),1)]),h("div",ZR,[h("code",KR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.name")),1),h("p",JR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.description")),1),h("p",YR,g(m(e)("docs.adapters.csv.methodsList.fromNodes.returns")),1)]),h("div",QR,[h("code",eP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.name")),1),h("p",tP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.description")),1),h("p",sP,g(m(e)("docs.adapters.csv.methodsList.loadFromURL.returns")),1)]),h("div",nP,[h("code",oP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.name")),1),h("p",rP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.description")),1),h("p",iP,g(m(e)("docs.adapters.csv.methodsList.toEdgeList.returns")),1)]),h("div",aP,[h("code",lP,g(m(e)("docs.adapters.csv.methodsList.toNodes.name")),1),h("p",cP,g(m(e)("docs.adapters.csv.methodsList.toNodes.description")),1),h("p",dP,g(m(e)("docs.adapters.csv.methodsList.toNodes.returns")),1)])]),_e(gt,{code:pM,language:"javascript"})]),h("div",uP,[h("h3",hP,g(m(e)("docs.adapters.json.title")),1),h("p",fP,g(m(e)("docs.adapters.json.description")),1),h("h4",pP,g(m(e)("docs.adapters.json.methods")),1),h("div",mP,[h("div",gP,[h("code",yP,g(m(e)("docs.adapters.json.methodsList.fromD3.name")),1),h("p",_P,g(m(e)("docs.adapters.json.methodsList.fromD3.description")),1),h("p",vP,g(m(e)("docs.adapters.json.methodsList.fromD3.returns")),1)]),h("div",bP,[h("code",wP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.name")),1),h("p",xP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.description")),1),h("p",kP,g(m(e)("docs.adapters.json.methodsList.fromCytoscape.returns")),1)]),h("div",AP,[h("code",CP,g(m(e)("docs.adapters.json.methodsList.fromFormat.name")),1),h("p",SP,g(m(e)("docs.adapters.json.methodsList.fromFormat.description")),1),h("p",EP,g(m(e)("docs.adapters.json.methodsList.fromFormat.returns")),1)]),h("div",NP,[h("code",TP,g(m(e)("docs.adapters.json.methodsList.toD3.name")),1),h("p",IP,g(m(e)("docs.adapters.json.methodsList.toD3.description")),1),h("p",LP,g(m(e)("docs.adapters.json.methodsList.toD3.returns")),1)]),h("div",RP,[h("code",PP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.name")),1),h("p",DP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.description")),1),h("p",MP,g(m(e)("docs.adapters.json.methodsList.toCytoscape.returns")),1)]),h("div",OP,[h("code",GP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.name")),1),h("p",FP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.description")),1),h("p",VP,g(m(e)("docs.adapters.json.methodsList.loadFromURL.returns")),1)])]),_e(gt,{code:mM,language:"javascript"})]),h("div",$P,[h("h3",BP,g(m(e)("docs.adapters.networkx.title")),1),h("p",zP,g(m(e)("docs.adapters.networkx.description")),1),h("h4",jP,g(m(e)("docs.adapters.networkx.methods")),1),h("div",UP,[h("div",HP,[h("code",WP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.name")),1),h("p",XP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.description")),1),h("p",qP,g(m(e)("docs.adapters.networkx.methodsList.fromNodeLink.returns")),1)]),h("div",ZP,[h("code",KP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.name")),1),h("p",JP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.description")),1),h("p",YP,g(m(e)("docs.adapters.networkx.methodsList.fromAdjacency.returns")),1)]),h("div",QP,[h("code",e3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.name")),1),h("p",t3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.description")),1),h("p",s3,g(m(e)("docs.adapters.networkx.methodsList.toNodeLink.returns")),1)]),h("div",n3,[h("code",o3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.name")),1),h("p",r3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.description")),1),h("p",i3,g(m(e)("docs.adapters.networkx.methodsList.toAdjacency.returns")),1)])]),_e(gt,{code:gM,language:"javascript"})])]),h("section",a3,[h("h2",l3,[n[24]||(n[24]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.layouts.title")),1)]),h("p",c3,g(m(e)("docs.layouts.description")),1),h("p",d3," "+g(m(e)("docs.layouts.note")),1),h("div",u3,[h("h3",h3,g(m(e)("docs.layouts.forceDirected.title")),1),h("p",f3,g(m(e)("docs.layouts.forceDirected.description")),1),h("p",p3,g(m(e)("docs.layouts.forceDirected.complexity")),1),h("p",m3,g(m(e)("docs.layouts.forceDirected.bestFor")),1),h("h4",g3,g(m(e)("docs.layouts.forceDirected.constructor")),1),h("div",y3,[n[31]||(n[31]=h("h5",{class:"docs-options-title"},"Options:",-1)),h("ul",_3,[h("li",null,[n[25]||(n[25]=h("code",{class:"docs-options-code"},"iterations:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.iterations")),1)]),h("li",null,[n[26]||(n[26]=h("code",{class:"docs-options-code"},"k:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.k")),1)]),h("li",null,[n[27]||(n[27]=h("code",{class:"docs-options-code"},"scale:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.scale")),1)]),h("li",null,[n[28]||(n[28]=h("code",{class:"docs-options-code"},"center:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.center")),1)]),h("li",null,[n[29]||(n[29]=h("code",{class:"docs-options-code"},"initialPositions:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.initialPositions")),1)]),h("li",null,[n[30]||(n[30]=h("code",{class:"docs-options-code"},"threshold:",-1)),we(" "+g(m(e)("docs.layouts.forceDirected.options.threshold")),1)])])]),_e(gt,{code:yM,language:"javascript"})]),h("div",v3,[h("h3",b3,g(m(e)("docs.layouts.kamadaKawai.title")),1),h("p",w3,g(m(e)("docs.layouts.kamadaKawai.description")),1),h("p",x3,g(m(e)("docs.layouts.kamadaKawai.complexity")),1),h("p",k3,g(m(e)("docs.layouts.kamadaKawai.bestFor")),1),h("h4",A3,g(m(e)("docs.layouts.kamadaKawai.constructor")),1),h("div",C3,[n[38]||(n[38]=h("h5",{class:"docs-options-title"},"Options:",-1)),h("ul",S3,[h("li",null,[n[32]||(n[32]=h("code",{class:"docs-options-code"},"iterations:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.iterations")),1)]),h("li",null,[n[33]||(n[33]=h("code",{class:"docs-options-code"},"scale:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.scale")),1)]),h("li",null,[n[34]||(n[34]=h("code",{class:"docs-options-code"},"center:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.center")),1)]),h("li",null,[n[35]||(n[35]=h("code",{class:"docs-options-code"},"initialPositions:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.initialPositions")),1)]),h("li",null,[n[36]||(n[36]=h("code",{class:"docs-options-code"},"threshold:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.threshold")),1)]),h("li",null,[n[37]||(n[37]=h("code",{class:"docs-options-code"},"K:",-1)),we(" "+g(m(e)("docs.layouts.kamadaKawai.options.K")),1)])])]),_e(gt,{code:_M,language:"javascript"})]),h("div",E3,[h("h3",N3,g(m(e)("docs.layouts.spectral.title")),1),h("p",T3,g(m(e)("docs.layouts.spectral.description")),1),h("p",I3,g(m(e)("docs.layouts.spectral.complexity")),1),h("p",L3,g(m(e)("docs.layouts.spectral.bestFor")),1),h("p",R3," "+g(m(e)("docs.layouts.spectral.requires")),1),_e(gt,{code:vM,language:"javascript"})]),h("div",P3,[h("div",D3,[h("h3",M3,g(m(e)("docs.layouts.circular.title")),1),h("p",O3,g(m(e)("docs.layouts.circular.description")),1),h("p",G3,g(m(e)("docs.layouts.circular.complexity")),1),h("p",F3,g(m(e)("docs.layouts.circular.bestFor")),1)]),h("div",V3,[h("h3",$3,g(m(e)("docs.layouts.shell.title")),1),h("p",B3,g(m(e)("docs.layouts.shell.description")),1),h("p",z3,g(m(e)("docs.layouts.shell.complexity")),1),h("p",j3,g(m(e)("docs.layouts.shell.bestFor")),1),h("p",U3," "+g(m(e)("docs.layouts.shell.requires")),1)]),h("div",H3,[h("h3",W3,g(m(e)("docs.layouts.spiral.title")),1),h("p",X3,g(m(e)("docs.layouts.spiral.description")),1),h("p",q3,g(m(e)("docs.layouts.spiral.complexity")),1),h("p",Z3,g(m(e)("docs.layouts.spiral.bestFor")),1)]),h("div",K3,[h("h3",J3,g(m(e)("docs.layouts.bfs.title")),1),h("p",Y3,g(m(e)("docs.layouts.bfs.description")),1),h("p",Q3,g(m(e)("docs.layouts.bfs.complexity")),1),h("p",eD,g(m(e)("docs.layouts.bfs.bestFor")),1)]),h("div",tD,[h("h3",sD,g(m(e)("docs.layouts.bipartite.title")),1),h("p",nD,g(m(e)("docs.layouts.bipartite.description")),1),h("p",oD,g(m(e)("docs.layouts.bipartite.complexity")),1),h("p",rD,g(m(e)("docs.layouts.bipartite.bestFor")),1)]),h("div",iD,[h("h3",aD,g(m(e)("docs.layouts.random.title")),1),h("p",lD,g(m(e)("docs.layouts.random.description")),1),h("p",cD,g(m(e)("docs.layouts.random.complexity")),1),h("p",dD,g(m(e)("docs.layouts.random.bestFor")),1)])]),h("div",uD,[h("h4",hD,g(m(e)("docs.layouts.usage")),1),h("p",fD,g(m(e)("docs.layouts.usageDescription")),1),_e(gt,{code:bM,language:"javascript"})])]),h("section",pD,[h("h2",mD,[n[39]||(n[39]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.community.title")),1)]),h("p",gD,g(m(e)("docs.community.description")),1),h("div",yD,[h("h3",_D,g(m(e)("docs.community.mainClass.title")),1),h("p",vD,g(m(e)("docs.community.mainClass.description")),1),h("h4",bD,g(m(e)("docs.community.mainClass.constructor")),1),n[40]||(n[40]=h("div",{class:"docs-code-block"},[h("code",{class:"docs-code-block-text"},"new CommunityDetection(graph)")],-1)),n[41]||(n[41]=h("h4",{class:"docs-subsection-title"},"Methods",-1)),h("div",wD,[h("div",xD,[h("code",kD,g(m(e)("docs.community.mainClass.methods.detectCommunities.name")),1),h("p",AD,g(m(e)("docs.community.mainClass.methods.detectCommunities.description")),1),h("p",CD,g(m(e)("docs.community.mainClass.methods.detectCommunities.returns")),1)]),h("div",SD,[h("code",ED,g(m(e)("docs.community.mainClass.methods.calculateModularity.name")),1),h("p",ND,g(m(e)("docs.community.mainClass.methods.calculateModularity.description")),1),h("p",TD,g(m(e)("docs.community.mainClass.methods.calculateModularity.returns")),1)])]),n[42]||(n[42]=h("h4",{class:"docs-subsection-title"},"Static Methods",-1)),h("div",ID,[h("div",LD,[h("code",RD,g(m(e)("docs.community.mainClass.staticMethods.detect.name")),1),h("p",PD,g(m(e)("docs.community.mainClass.staticMethods.detect.description")),1),h("p",DD,g(m(e)("docs.community.mainClass.staticMethods.detect.returns")),1)]),h("div",MD,[h("code",OD,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.name")),1),h("p",GD,g(m(e)("docs.community.mainClass.staticMethods.getNodesInCommunity.description")),1)]),h("div",FD,[h("code",VD,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.name")),1),h("p",$D,g(m(e)("docs.community.mainClass.staticMethods.getCommunityGroups.description")),1)])])]),h("div",BD,[h("h3",zD,g(m(e)("docs.community.louvain.title")),1),h("p",jD,g(m(e)("docs.community.louvain.description")),1),h("p",UD,g(m(e)("docs.community.louvain.complexity")),1),h("p",HD,g(m(e)("docs.community.louvain.bestFor")),1),h("h4",WD,g(m(e)("docs.community.louvain.constructor")),1),h("div",XD,[n[45]||(n[45]=h("h5",{class:"docs-options-title"},"Options:",-1)),h("ul",qD,[h("li",null,[n[43]||(n[43]=h("code",{class:"docs-options-code"},"resolution:",-1)),we(" "+g(m(e)("docs.community.louvain.options.resolution")),1)]),h("li",null,[n[44]||(n[44]=h("code",{class:"docs-options-code"},"maxIterations:",-1)),we(" "+g(m(e)("docs.community.louvain.options.maxIterations")),1)])])]),_e(gt,{code:wM,language:"javascript"})]),h("div",ZD,[h("h3",KD,g(m(e)("docs.community.result.title")),1),h("p",JD,g(m(e)("docs.community.result.description")),1),h("div",YD,[n[51]||(n[51]=h("h5",{class:"docs-options-title"},"Properties:",-1)),h("ul",QD,[h("li",null,[n[46]||(n[46]=h("code",{class:"docs-options-code"},"communities:",-1)),we(" "+g(m(e)("docs.community.result.properties.communities")),1)]),h("li",null,[n[47]||(n[47]=h("code",{class:"docs-options-code"},"modularity:",-1)),we(" "+g(m(e)("docs.community.result.properties.modularity")),1)]),h("li",null,[n[48]||(n[48]=h("code",{class:"docs-options-code"},"numCommunities:",-1)),we(" "+g(m(e)("docs.community.result.properties.numCommunities")),1)]),h("li",null,[n[49]||(n[49]=h("code",{class:"docs-options-code"},"algorithm:",-1)),we(" "+g(m(e)("docs.community.result.properties.algorithm")),1)]),h("li",null,[n[50]||(n[50]=h("code",{class:"docs-options-code"},"metadata:",-1)),we(" "+g(m(e)("docs.community.result.properties.metadata")),1)])])])])]),h("section",eM,[h("h2",tM,[n[52]||(n[52]=h("span",{class:"docs-section-header-icon"},"",-1)),h("span",null,g(m(e)("docs.examples.title")),1)]),h("p",sM,g(m(e)("docs.examples.description")),1),h("div",nM,[h("h3",oM,g(m(e)("docs.examples.basic.title")),1),h("p",rM,g(m(e)("docs.examples.basic.description")),1),_e(gt,{code:xM,language:"javascript"})]),h("div",iM,[h("h3",aM,g(m(e)("docs.examples.csv.title")),1),h("p",lM,g(m(e)("docs.examples.csv.description")),1),_e(gt,{code:kM,language:"javascript"})]),h("div",cM,[h("h3",dM,g(m(e)("docs.examples.complete.title")),1),h("p",uM,g(m(e)("docs.examples.complete.description")),1),_e(gt,{code:AM,language:"javascript"})])]),n[53]||(n[53]=h("div",{class:"docs-footer"},[h("p",{class:"text-secondary"},[we("  For more details, check out the "),h("a",{href:"https://github.com/guinetik/graph-js",class:"docs-footer-link",target:"_blank"}," GitHub repository ")])],-1))]))}},SM=[{path:"/",name:"home",component:Hb},{path:"/showcase",name:"showcase",component:GE},{path:"/explorer",name:"explorer",component:wI},{path:"/family",name:"family",component:mL},{path:"/docs",name:"docs",component:CM}],EM=wy({history:Qg(),routes:SM}),NM=Xe({prefix:"App",level:"info"}),zf=fg(i_);zf.use(EM);zf.mount("#app");NM.info("Vue app started");
